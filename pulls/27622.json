{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622",
    "id": 1346100303,
    "node_id": "PR_kwDOABII585QO9xP",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27622",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27622.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27622.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
    "number": 27622,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Fee estimation: avoid serving stale fee estimate",
    "user": {
      "login": "ismaelsadeeq",
      "id": 48946461,
      "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ismaelsadeeq",
      "html_url": "https://github.com/ismaelsadeeq",
      "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
      "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
      "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
      "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
      "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixes #27555\r\n\r\nThe issue arises when an old `fee_estimates.dat` file is sometimes read during initialization.\r\nOr after an unclean shutdown, the latest fee estimates are not flushed to `fee_estimates.dat`.\r\nIf the fee estimates in the old file are old, they can cause transactions to become stuck in the mempool. \r\nThis  PR ensures that nodes do not use stale estimates from the old file during initialization. If  `fee_estimates.dat` \r\nhas not been updated for 60 hours or more, it is considered stale and will not be read during initialization. To avoid \r\nhaving old estimates, the `fee_estimates.dat` file will be flushed periodically every hour. As mentioned #27555\r\n\r\n> \"The immediate improvement would be to store fee estimates to disk once an hour or so to reduce the chance of having an old file. From there, this case could probably be detected, and refuse to serve estimates until we sync.\"\r\n\r\nIn addition, I will follow-up PR to persist the `mempoolminfee` across restarts.",
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2023-05-10T22:16:59Z",
    "updated_at": "2023-07-26T07:49:01Z",
    "closed_at": "2023-06-20T15:48:49Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-06-20T15:48:49Z",
    "merge_commit_sha": "f80db62b2d05223b0cd5d3507dd01db7b4378d48",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "ismaelsadeeq:05-2023-avoid-serving-stale-fee-estimate",
      "ref": "05-2023-avoid-serving-stale-fee-estimate",
      "sha": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 577730599,
        "node_id": "R_kgDOIm94Jw",
        "name": "bitcoin",
        "full_name": "ismaelsadeeq/bitcoin",
        "owner": {
          "login": "ismaelsadeeq",
          "id": 48946461,
          "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
          "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ismaelsadeeq",
          "html_url": "https://github.com/ismaelsadeeq",
          "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
          "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
          "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
          "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
          "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/ismaelsadeeq/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ismaelsadeeq/bitcoin",
        "archive_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ismaelsadeeq/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ismaelsadeeq/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ismaelsadeeq/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/hooks",
        "svn_url": "https://github.com/ismaelsadeeq/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 233123,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T13:42:24Z",
        "created_at": "2022-12-13T11:54:34Z",
        "updated_at": "2023-03-10T09:46:26Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "681ecac5c2d462920cd32636eec15599a9bcf424",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 673,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-03T00:03:27Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 168,
    "deletions": 8,
    "changed_files": 7,
    "commits": 4,
    "review_comments": 72,
    "comments": 16
  },
  "events": [
    {
      "event": "commented",
      "id": 1542881490,
      "node_id": "IC_kwDOABII585b9oDS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542881490",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-10T22:17:01Z",
      "updated_at": "2023-06-20T14:09:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1488054498), [instagibbs](https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1488162113), [glozow](https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1485956137) |\n| Concept ACK | [RandyMcMillan](https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1593496143) |\n| Stale ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1477862322) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25380](https://github.com/bitcoin/bitcoin/pull/25380) (Detect and ignore transactions that were CPFP'd in the fee estimator by darosior)\n* [#10443](https://github.com/bitcoin/bitcoin/pull/10443) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1542881490",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T08:58:47Z",
      "updated_at": "2023-05-11T08:58:47Z",
      "source": {
        "issue": {
          "id": 1272376740,
          "node_id": "PR_kwDOABII5845tyRG",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25380",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25380/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25380/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25380/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25380",
          "number": 25380,
          "state": "open",
          "state_reason": null,
          "title": "Detect and ignore transactions that were CPFP'd in the fee estimator",
          "body": "The fee estimator currently considers the fee of a transaction in isolation (and doesn't consider transactions with unconfirmed parents). This could hold well when it was just a few outliers. But as CPFP is becoming common practice whether it is among wallets (#23074 has a few instances) or protocols (for instance the LN with anchor outputs), i'm afraid that if fees rise this can lead to significantly *underestimated* results.\r\nSee the first commit's message for details and #23074 for history.\r\n\r\nThis PR is a much simpler alternative to #23074. The point is to fix the issue before we come up with a reasonable way to track package feerates in the fee estimator.\r\n\r\nThe functional test is in a separate commit so reviewers can more easily cherry-pick it on master and see the fee estimator would return the wrong estimate.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25380",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25380",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25380.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25380.patch"
          },
          "created_at": "2022-06-15T15:07:12Z",
          "updated_at": "2023-08-01T13:05:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1543653619,
      "node_id": "IC_kwDOABII585cAkjz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1543653619",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T09:27:25Z",
      "updated_at": "2023-05-11T09:27:25Z",
      "author_association": "MEMBER",
      "body": "cc @instagibbs @TheBlueMatt ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1543653619",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "mentioned",
      "id": 9220101282,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAIlj5Si",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9220101282",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T09:27:25Z"
    },
    {
      "event": "subscribed",
      "id": 9220101293,
      "node_id": "SE_lADOABII585lm6OPzwAAAAIlj5St",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9220101293",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T09:27:25Z"
    },
    {
      "event": "mentioned",
      "id": 9220101310,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAIlj5S-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9220101310",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T09:27:25Z"
    },
    {
      "event": "subscribed",
      "id": 9220101319,
      "node_id": "SE_lADOABII585lm6OPzwAAAAIlj5TH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9220101319",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T09:27:25Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T10:20:06Z",
      "updated_at": "2023-05-11T10:20:06Z",
      "source": {
        "issue": {
          "id": 230539233,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxODgwMDE0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
          "number": 10443,
          "state": "open",
          "state_reason": null,
          "title": "Add fee_est tool for debugging fee estimation code",
          "body": "This PR adds an `-estlog` option for saving live fee estimation data from a bitcoin node, and a `fee_est` command line tool for processing the data and testing fee estimation code.\r\n\r\nThe idea is to make it easier to test improvements to fee estimation like https://github.com/bitcoin/bitcoin/pull/10199 in a more systematic and reproducible way.\r\n\r\nSome documentation is in [`src/test/fee_est/README.md`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/README.md)\r\n\r\nSample log file: [`est.log.xz`](https://storage.googleapis.com/ryanofsky/est.log.xz) (65M)\r\n\r\nSample [`fee_est.cpp`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/fee_est.cpp)  graph output: \r\n\r\n![graph](https://cloud.githubusercontent.com/assets/7133040/26331057/f2de8d0c-3f1c-11e7-99ea-de1801d13b05.png)\r\n\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10443",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/10443.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/10443.patch"
          },
          "created_at": "2017-05-22T22:40:55Z",
          "updated_at": "2023-06-20T17:24:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1422800079,
      "node_id": "PRR_kwDOABII585UzjTP",
      "url": null,
      "actor": null,
      "commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1422800079",
      "submitted_at": "2023-05-11T14:52:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "labeled",
      "id": 9223412542,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIlwhs-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9223412542",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T14:52:12Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 1422877741,
      "node_id": "PRR_kwDOABII585Uz2Qt",
      "url": null,
      "actor": null,
      "commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm. Left some nits",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1422877741",
      "submitted_at": "2023-05-11T15:32:37Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9225665790,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIl5Hz-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9225665790",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T18:43:05Z"
    },
    {
      "event": "reviewed",
      "id": 1423253142,
      "node_id": "PRR_kwDOABII585U1R6W",
      "url": null,
      "actor": null,
      "commit_id": "0d2329aecaa39f328fec84f63f0bebf31e49b070",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1423253142",
      "submitted_at": "2023-05-11T18:59:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9227030424,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIl-U-Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9227030424",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T21:39:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9227573416,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAImAZio",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9227573416",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T23:09:18Z"
    },
    {
      "event": "reviewed",
      "id": 1431475355,
      "node_id": "PRR_kwDOABII585VUpSb",
      "url": null,
      "actor": null,
      "commit_id": "aecd92e8e1ca8be8c76cc9621058614c893c47fc",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1431475355",
      "submitted_at": "2023-05-17T20:00:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9278517721,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpCvHZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9278517721",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T11:01:31Z"
    },
    {
      "event": "labeled",
      "id": 9279122680,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIpFCz4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9279122680",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T12:10:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9279696004,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpHOyE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9279696004",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T13:14:43Z"
    },
    {
      "event": "unlabeled",
      "id": 9280377093,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAIpJ1EF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9280377093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T14:19:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1433103480,
      "node_id": "PRR_kwDOABII585Va2x4",
      "url": null,
      "actor": null,
      "commit_id": "b02e3fc91f4214c486da0ff46e187fab017e11bb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "concept ACK\r\n\r\nThis should solve the stale fee issue, the test is clever and effective. I ensured the test fails without the patch and also checked the test failed when the mtime was set < 12 hours. Reviewed code and left some notes / questions",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1433103480",
      "submitted_at": "2023-05-18T18:15:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "unsubscribed",
      "id": 9282796922,
      "node_id": "UE_lADOABII585lm6OPzwAAAAIpTD16",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282796922",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T18:46:45Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9284167239,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpYSZH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9284167239",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T22:13:14Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9284375800,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpZFT4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9284375800",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T23:02:14Z"
    },
    {
      "event": "labeled",
      "id": 9284376175,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIpZFZv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9284376175",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T23:02:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9284622376,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAIpaBgo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9284622376",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T00:02:36Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1434616046,
      "node_id": "PRR_kwDOABII585VgoDu",
      "url": null,
      "actor": null,
      "commit_id": "473946b05e911fca96a1ec077db19910819e8aed",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1434616046",
      "submitted_at": "2023-05-19T15:20:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9291094305,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpytkh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9291094305",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T16:49:34Z"
    },
    {
      "event": "labeled",
      "id": 9291169269,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIpy_31",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9291169269",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T17:00:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9291173679,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIpzA8v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9291173679",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T17:00:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9291536835,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIp0ZnD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9291536835",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T17:48:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9294105715,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIp-Mxz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294105715",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T08:54:35Z"
    },
    {
      "event": "unlabeled",
      "id": 9294252811,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAIp-wsL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294252811",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T10:04:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9350968533,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAItXHTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9350968533",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T13:38:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9351028623,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAItXV-P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9351028623",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-26T13:44:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9408404100,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIwyNqE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9408404100",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T22:08:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9408514721,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIwyoqh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9408514721",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T22:27:55Z"
    },
    {
      "event": "labeled",
      "id": 9408515120,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIwyoww",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9408515120",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T22:28:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9408840458,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAIwz4MK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9408840458",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T23:40:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T13:46:14Z",
      "updated_at": "2023-06-02T13:46:14Z",
      "source": {
        "issue": {
          "id": 1652986972,
          "node_id": "I_kwDOABII585ihpRc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27415",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27415/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27415/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27415/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27415",
          "number": 27415,
          "state": "closed",
          "state_reason": "not_planned",
          "title": "-fallbackfee should apply to estimatesmartfee",
          "body": "### Please describe the feature you'd like to see added.\r\n\r\n`-fallback` fee is used by `sendtoaddress` to provide a fallback fee when sending transactions. However, this does not apply to `estimatesmartfee`, which still returns the error.\r\n\r\n### Is your feature related to a problem, if so please describe it.\r\n\r\nThe reason for this is because it's difficult to test client applications on regtest, that would use `estimatesmartfee` on mainnet, but because it requires a lot of transactions before `estimatesmartfee` to work, it's difficult. This related stack exchange question has had a bit of interest:\r\nhttps://bitcoin.stackexchange.com/questions/89607/how-can-i-force-estimatesmartfee-to-return-estimates-on-regtest\r\n\r\n### Describe the solution you'd like\r\n\r\nSee above.\r\n\r\n### Describe any alternatives you've considered\r\n\r\n- A separate flag would also work, like `fallbackestimatefee`\r\n\r\n### Please leave any additional context\r\n\r\n_No response_",
          "user": {
            "login": "kylezs",
            "id": 8342557,
            "node_id": "MDQ6VXNlcjgzNDI1NTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8342557?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kylezs",
            "html_url": "https://github.com/kylezs",
            "followers_url": "https://api.github.com/users/kylezs/followers",
            "following_url": "https://api.github.com/users/kylezs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kylezs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kylezs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kylezs/subscriptions",
            "organizations_url": "https://api.github.com/users/kylezs/orgs",
            "repos_url": "https://api.github.com/users/kylezs/repos",
            "events_url": "https://api.github.com/users/kylezs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kylezs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 477890092,
              "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
              "name": "Questions and Help",
              "color": "006688",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 11,
          "closed_at": "2023-06-02T14:32:33Z",
          "created_at": "2023-04-04T00:50:19Z",
          "updated_at": "2023-06-02T14:36:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1457521354,
      "node_id": "PRR_kwDOABII585W4ALK",
      "url": null,
      "actor": null,
      "commit_id": "8c51cd00fb08143638f6f94b2e05b43f737bc072",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looking good, just a couple of test suggestions.\r\n\r\nAlso wondering if we should include a hidden argument to allow older files for testing reasons, re: https://github.com/bitcoin/bitcoin/issues/27415 \r\n\r\nI've used it for systems I've built for integration testing, and not having to touch a file during testing to refresh it would be a simplification.\r\n\r\n> For testing, they could mock the time right?\r\n\r\nDepends on your test setup, really. It might interfere during integration tests which require a realistic clock?",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1457521354",
      "submitted_at": "2023-06-02T13:58:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "commented",
      "id": 1573845849,
      "node_id": "IC_kwDOABII585dzvtZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1573845849",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T14:38:03Z",
      "updated_at": "2023-06-02T14:38:03Z",
      "author_association": "MEMBER",
      "body": "> Also wondering if we should include a hidden argument to allow older files for testing reasons, re: #27415\r\n> \r\n> I've used it for systems I've built for integration testing, and not having to touch a file during testing to refresh it would be a simplification.\r\n> \r\n> > For testing, they could mock the time right?\r\n> \r\n> Depends on your test setup, really. It might interfere during integration tests which require a realistic clock?\r\n\r\nMakes sense, seems fine as a regtest-only option for testing.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1573845849",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9418672836,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIxZYrE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9418672836",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T22:59:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9418864422,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIxaHcm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9418864422",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T23:55:26Z"
    },
    {
      "event": "reviewed",
      "id": 1464599043,
      "node_id": "PRR_kwDOABII585XTAID",
      "url": null,
      "actor": null,
      "commit_id": "451ab8b513f88f2bf21a96ff1cf98d17fa82362f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 451ab8b513\r\n\r\nLeft a few comments on the test in case you touch that file again, but nothing blocking.\r\n\r\nNot loading very old fee estimates makes good sense to me to further avoid creating stuck transactions.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1464599043",
      "submitted_at": "2023-06-06T08:39:54Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9445904096,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIzBQ7g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9445904096",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T12:50:10Z"
    },
    {
      "event": "reviewed",
      "id": 1465157911,
      "node_id": "PRR_kwDOABII585XVIkX",
      "url": null,
      "actor": null,
      "commit_id": "6d36f3edbe7549cfaadc48b43c09dd3e581e92ff",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "code review ACK 6d36f3edbe7549cfaadc48b43c09dd3e581e92ff\r\n\r\nI'd really prefer we have a regtest-only option to skip the check to impact integration tests the least.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1465157911",
      "submitted_at": "2023-06-06T13:04:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "review_requested",
      "id": 9446063268,
      "node_id": "RRE_lADOABII585lm6OPzwAAAAIzB3yk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9446063268",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T13:04:20Z",
      "requested_reviewer": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 9446800052,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIzErq0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9446800052",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T14:03:16Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9448555473,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAIzLYPR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9448555473",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T16:42:41Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9460987348,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIz6zXU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9460987348",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T15:33:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9461219056,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAIz7r7w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9461219056",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T15:51:23Z"
    },
    {
      "event": "labeled",
      "id": 9461219928,
      "node_id": "LE_lADOABII585lm6OPzwAAAAIz7sJY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9461219928",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T15:51:28Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1582165674,
      "node_id": "IC_kwDOABII585eTe6q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1582165674",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T08:52:06Z",
      "updated_at": "2023-06-08T08:52:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "\r\n> I'd really prefer we have a regtest-only option to skip the check to impact integration tests the least.\r\n\r\nI added a support for skipping the check only on regtest in 2fec7f362d8540cda5ff7e3e4dfb2cb751364e06 by passing -acceptstaleestimates option and it's tested in dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1582165674",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "reviewed",
      "id": 1469429394,
      "node_id": "PRR_kwDOABII585XlbaS",
      "url": null,
      "actor": null,
      "commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looks pretty good, thanks for adding the option.\r\nPlease clean up the commit messages. dea3accb1f2eeef74f293262c168d68c0ec444cb claims to add the regtest option, but that is done in 2fec7f362d8540cda5ff7e3e4dfb2cb751364e06.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1469429394",
      "submitted_at": "2023-06-08T09:56:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9472105290,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAI0lNtK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9472105290",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T12:43:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9472123528,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAI0lSKI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9472123528",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T12:45:12Z"
    },
    {
      "event": "commented",
      "id": 1582565180,
      "node_id": "IC_kwDOABII585eVAc8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1582565180",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T13:16:11Z",
      "updated_at": "2023-06-08T13:16:11Z",
      "author_association": "MEMBER",
      "body": "tsan failure looks unrelated: https://cirrus-ci.com/task/5970681108627456",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1582565180",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "reviewed",
      "id": 1469928526,
      "node_id": "PRR_kwDOABII585XnVRO",
      "url": null,
      "actor": null,
      "commit_id": "f91d089a7613c8ff43a73c692ee0432c82354ef3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1469928526",
      "submitted_at": "2023-06-08T13:32:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "unlabeled",
      "id": 9472822118,
      "node_id": "UNLE_lADOABII585lm6OPzwAAAAI0n8tm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9472822118",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T13:49:37Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9477556190,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAI06Afe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9477556190",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T22:17:09Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T03:57:31Z",
      "updated_at": "2023-06-09T03:57:31Z",
      "source": {
        "issue": {
          "id": 1556671710,
          "node_id": "PR_kwDOABII585Ig7Js",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26966",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26966/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26966/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26966/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26966",
          "number": 26966,
          "state": "open",
          "state_reason": null,
          "title": "index: blockfilter initial sync speedup, parallelize process",
          "body": "The current procedure for building the block filter index involves processing filters one at a time;\r\nReading blocks, undo data, and previous headers from disk sequentially.\r\n\r\nThis PR introduces a new mechanism that employs concurrent processing. Dividing the\r\nfilters generation workload among a pool of workers that can be configured by the user,\r\nsignificantly increasing the speed of the index construction process.\r\n\r\nThe same concurrent processing model has been applied to the transactions index as well.\r\n\r\nThe newly introduced init flag `-indexworkers=<n>` enables the concurrent sync\r\nbehavior.\r\nWhere \"n\" is the number of worker threads that will be spawned at startup to create ranges\r\nof block filters during the initial sync process. Destroying the workers pool once the\r\ninitial sync completes.\r\nNote: by default, the parallelized sync process is not enabled.\r\n\r\nNow the juicy part:\r\nIn my computer, with the node in debug mode and on IBD, with `-indexworkers=4`, the\r\nblock filter index generation took less than an hour. While, in master, the sync took more than 7 hours.\r\n\r\nImportant Note:\r\nAs the access to the block data on disk is protected by `cs_main`, this new feature runs substantially\r\nfaster when the node is not in IBD.\r\n\r\nFootnote:\r\nThis is part of a larger project :).",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26966",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26966",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26966.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26966.patch"
          },
          "created_at": "2023-01-25T13:36:23Z",
          "updated_at": "2023-07-06T22:10:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1471390869,
      "node_id": "PRR_kwDOABII585Xs6SV",
      "url": null,
      "actor": null,
      "commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK efe5f373e1\r\n\r\nChanges look good. Left a nit not to be addressed unless you re-touch :)\r\n\r\nI also checked how much time the new tests were adding to feature_fee_estimation.py, as this is often one of the longest-running tests on my machine. It looks like it's <=1second, so that seems fine.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1471390869",
      "submitted_at": "2023-06-09T07:44:33Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "review_requested",
      "id": 9481420800,
      "node_id": "RRE_lADOABII585lm6OPzwAAAAI1IwAA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9481420800",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T07:44:38Z",
      "requested_reviewer": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1584534491,
      "node_id": "IC_kwDOABII585echPb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1584534491",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T12:56:46Z",
      "updated_at": "2023-06-09T12:56:46Z",
      "author_association": "MEMBER",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/27622/commits/efe5f373e12329104f1c706145eee75c2d2079a7",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1584534491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "review_request_removed",
      "id": 9484158107,
      "node_id": "RRRE_lADOABII585lm6OPzwAAAAI1TMSb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9484158107",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T12:56:50Z",
      "requested_reviewer": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-12T09:33:02Z",
      "updated_at": "2023-06-12T09:33:02Z",
      "source": {
        "issue": {
          "id": 1752324095,
          "node_id": "PR_kwDOABII585SwAoi",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27859",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27859/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27859/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27859/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27859",
          "number": 27859,
          "state": "open",
          "state_reason": null,
          "title": "Mempool: persist mempoolminfee accross restarts",
          "body": "Follow-up [#27622](https://github.com/bitcoin/bitcoin/pull/27622)\r\nSee â€“> [Comment](https://github.com/bitcoin/bitcoin/issues/27555#issuecomment-1538504504) \r\nCurrently, there is no persistence of mempoolminfee\r\nAs mentioned in the comment\r\n\r\n> persist `mempoolminfee` across restarts to at least tell user a plausible value to stay in the mempool for a bit\r\n\r\nThe suggestions outlined in the comment are implemented in this pull request. The `mempoolminfee` will now be persisted on shutdown and periodically in the event of an unclean shutdown.\r\nUpon restart, the previous `mempoolminfee` value will be remembered, and any transactions with fees below the persisted mempoolminfee will be rejected from entering the mempool.\r\n\r\nIf a user passes the `-minrelaytxfee`, it will be utilized as the `mempoolminfee`, just as it was prior to this pull request. \r\nWhen reading the persisted mempoolminfee, we take the max of the persisted value and the default minimum fee of 1000 satoshis, ensuring that the remembered `mempoolminfee` value will not be less than 1000 satoshis.",
          "user": {
            "login": "ismaelsadeeq",
            "id": 48946461,
            "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaelsadeeq",
            "html_url": "https://github.com/ismaelsadeeq",
            "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
            "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
            "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
            "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27859",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27859",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27859.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27859.patch"
          },
          "created_at": "2023-06-12T09:33:02Z",
          "updated_at": "2023-07-26T03:06:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1477862322,
      "node_id": "PRR_kwDOABII585YFmOy",
      "url": null,
      "actor": null,
      "commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK efe5f373e12329104f1c706145eee75c2d2079a7\r\n\r\nGreat work on this! A few non-breaking questions below.\r\nRan all tests locally, ensured all 3 new tests fail on `master`.\r\nReviewed each commit, confirmed regtest-only argument is only accepted on regtest!\r\n\r\n<details><summary>Show Signature</summary>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA256\r\n\r\nACK efe5f373e12329104f1c706145eee75c2d2079a7\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCAAdFiEE5hdzzW4BBA4vG9eM5+KYS2KJyToFAmSIvz0ACgkQ5+KYS2KJ\r\nyTrL8w//coGfk9oOwTpePMIqxFQxlhxZP9hX6wur36aKPLtR7e07DYelDAvdQnZn\r\nU3zLpMVDhoaWoAysQUinMyblQ06JCaNmPhDtu9b3gs6kPMGIhmhqM1SgcHtosvUe\r\nr05sZGVZVlhz3lsHQ4ebXqzQwq6LuAxvXniKeTj7Afu2IhAsycJCFoXTSzTbMWlG\r\n2GyJdkA1PQnaEMV5uZVFI7/oosG0ifNsoH9jeRYbqRoZjXQC3rAtP4a+T07IiNgv\r\nK4lI1HrekW3M0+JpvoV38cYGuIehpKEoMS9ISTxa3o3zTNn8KjxpXZTOXq9o6IAv\r\n5p7VpMHFVWXYBD+V21Jk2zni/BS6x2KtPLWhMNlTUoxnsw28R8pRbyeUEYBjIXEX\r\nZ19BgwMOsZqWaz8DU0SedRC1ngpbidOrbgYQZaTXXP0BZX1YZDjTMH/ojV/gVWqo\r\nVDhpT8RG/PetW6xvOAp9pAfDdNENvSCOIQVjCg04kxmqlrAvbNS9UHX+dvuCHEGB\r\nnjArT/p1TjCD3Pq6hO3YSH8ANVRnrb4Vg3qoB0WzT7DcHfySmLiydDnvmOut2HEC\r\nG2D4vor14YXr5/NNipImX0IO0aTMXr5drswhwfXPoBjSExG4UQ6f4Lev2/AHkibH\r\n5tSMfX40NagvSx9+xNqKjpZrKk+89rFhddfA9iB+XZidAzYSoVc=\r\n=49Ly\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\npinheadmz's public key is [on keybase](https://keybase.io/pinheadmz/pgp_keys.asc?fingerprint=e61773cd6e01040e2f1bd78ce7e2984b6289c93a)\r\n</details>\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1477862322",
      "submitted_at": "2023-06-13T19:13:21Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "reviewed",
      "id": 1473820940,
      "node_id": "PRR_kwDOABII585X2LkM",
      "url": null,
      "actor": null,
      "commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1473820940",
      "submitted_at": "2023-06-13T20:10:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "commented",
      "id": 1591863442,
      "node_id": "IC_kwDOABII585e4eiS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591863442",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T19:33:27Z",
      "updated_at": "2023-06-14T19:33:27Z",
      "author_association": "MEMBER",
      "body": "@ismaelsadeeq Are you planning on making any further changes here?",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1591863442",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "mentioned",
      "id": 9532565538,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAI4L2gi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9532565538",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T19:33:28Z"
    },
    {
      "event": "subscribed",
      "id": 9532565549,
      "node_id": "SE_lADOABII585lm6OPzwAAAAI4L2gt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9532565549",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T19:33:28Z"
    },
    {
      "event": "commented",
      "id": 1591941957,
      "node_id": "IC_kwDOABII585e4xtF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591941957",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T20:34:44Z",
      "updated_at": "2023-06-14T20:34:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @ismaelsadeeq Are you planning on making any further changes here?\r\n\r\nYes I will add all recent feedbacks in next push.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1591941957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "mentioned",
      "id": 9533068270,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAI4NxPu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9533068270",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T20:34:45Z"
    },
    {
      "event": "subscribed",
      "id": 9533068282,
      "node_id": "SE_lADOABII585lm6OPzwAAAAI4NxP6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9533068282",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T20:34:45Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViODg2ZjJiNDM2ZWFhOGMyYjdkZTU4ZGM0NjQ0ZGM2MjIzMDQwZGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b886f2b436eaa8c2b7de58dc4644dc6223040da",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5b886f2b436eaa8c2b7de58dc4644dc6223040da",
      "tree": {
        "sha": "d90cd994354e574e296cd110a066fce18728a4cb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d90cd994354e574e296cd110a066fce18728a4cb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/681ecac5c2d462920cd32636eec15599a9bcf424",
          "sha": "681ecac5c2d462920cd32636eec15599a9bcf424",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/681ecac5c2d462920cd32636eec15599a9bcf424"
        }
      ],
      "message": "tx fees, policy: periodically flush fee estimates to fee_estimates.dat\n\nThis reduces chances of having old estimates in fee_estimates.dat.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T20:42:41Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-08T12:14:11Z"
      },
      "sha": "5b886f2b436eaa8c2b7de58dc4644dc6223040da"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNlYjI0MWExNDFkZWZhNTY0Yzk0Y2I5NWM1YmJhZjRjNWJkOTY4MmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "tree": {
        "sha": "26400572a296470d7df1c9e55397a31115ec7846",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26400572a296470d7df1c9e55397a31115ec7846"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b886f2b436eaa8c2b7de58dc4644dc6223040da",
          "sha": "5b886f2b436eaa8c2b7de58dc4644dc6223040da",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5b886f2b436eaa8c2b7de58dc4644dc6223040da"
        }
      ],
      "message": "tx fees, policy: do not read estimates of old fee_estimates.dat\n\nOld fee estimates could cause transactions to become stuck in the\nmempool. This commit prevents the node from using stale estimates\nfrom an old file.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:32:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:32:27Z"
      },
      "sha": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmMjE5ZjI5ZjNjNWI0MTA3MGVhYWI5YTU0OWE0NzZmMDE5OTBmM2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf219f29f3c5b41070eaab9a549a476f01990f3a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf219f29f3c5b41070eaab9a549a476f01990f3a",
      "tree": {
        "sha": "ac5367737ca406fcb404261118542cd5565a315a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac5367737ca406fcb404261118542cd5565a315a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
          "sha": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3eb241a141defa564c94cb95c5bbaf4c5bd9682e"
        }
      ],
      "message": "tx fees, policy: read stale fee estimates with a regtest-only option\n\nIf -acceptstalefeeestimates option is passed stale fee estimates can now\nbe read when operating in regtest environments.\n\nAdditionally, this commit updates all declarations of the CBlockPolicyEstimator\nclass to include a the second constructor variable.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:39:26Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:39:26Z"
      },
      "sha": "cf219f29f3c5b41070eaab9a549a476f01990f3a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQyYjM5ZTA5YmM2YTU5ODJmYzVjZjRiNTM4YjdmZGIwZTNjYWU1NzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "tree": {
        "sha": "18d256daef2fa30ecbf0c346f4fbf73b8f12ff1c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/18d256daef2fa30ecbf0c346f4fbf73b8f12ff1c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf219f29f3c5b41070eaab9a549a476f01990f3a",
          "sha": "cf219f29f3c5b41070eaab9a549a476f01990f3a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf219f29f3c5b41070eaab9a549a476f01990f3a"
        }
      ],
      "message": "test: ensure old fee_estimate.dat not read on restart and flushed\n\nThis commit adds tests to ensure that old fee_estimates.dat files\nare not read and that fee_estimates are periodically flushed to the\nfee_estimates.dat file.\n\nAdditionaly it tests the -regtestonly option -acceptstalefeeestimates.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:40:20Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2023-06-14T21:40:20Z"
      },
      "sha": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9533645622,
      "node_id": "HRFPE_lADOABII585lm6OPzwAAAAI4P-M2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9533645622",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T21:55:48Z"
    },
    {
      "event": "commented",
      "id": 1592790354,
      "node_id": "IC_kwDOABII585e8A1S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1592790354",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:33:39Z",
      "updated_at": "2023-06-15T10:33:39Z",
      "author_association": "MEMBER",
      "body": "@ismaelsadeeq just FYI if you don't have to rebase on master due to a conflict, don't. It's extra review burden and makes getting re-ACKs harder.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1592790354",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "mentioned",
      "id": 9538690919,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAI4jN9n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9538690919",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:33:39Z"
    },
    {
      "event": "subscribed",
      "id": 9538690945,
      "node_id": "SE_lADOABII585lm6OPzwAAAAI4jN-B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9538690945",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:33:39Z"
    },
    {
      "event": "commented",
      "id": 1592814535,
      "node_id": "IC_kwDOABII585e8GvH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1592814535",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:53:11Z",
      "updated_at": "2023-06-15T10:53:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @ismaelsadeeq just FYI if you don't have to rebase on master due to a conflict, don't. It's extra review burden and makes getting re-ACKs harder.\r\n\r\nOhh Sorry, Thank you for pointing this out.\r\nIts okay now I think and any further nit changes I would address in a follow-up.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1592814535",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "mentioned",
      "id": 9538872464,
      "node_id": "MEE_lADOABII585lm6OPzwAAAAI4j6SQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9538872464",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:53:11Z"
    },
    {
      "event": "subscribed",
      "id": 9538872490,
      "node_id": "SE_lADOABII585lm6OPzwAAAAI4j6Sq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9538872490",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T10:53:11Z"
    },
    {
      "event": "commented",
      "id": 1592855916,
      "node_id": "IC_kwDOABII585e8Q1s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1592855916",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T11:18:44Z",
      "updated_at": "2023-06-15T11:18:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Just noting my understanding of this and the followup [pull](https://github.com/bitcoin/bitcoin/pull/27859) and how they work together.\r\n\r\nIn this PR we will regularly persist fee estimations to _fee_estimates.dat_, providing more protection in an unclean shutdown scenario. We then reload these on startup, under then new condition that they are less than 2.5 days old.\r\n\r\n1. In the case where the restart is instant/very fast this let's us keep accurate fee estimation after a crash.\r\n2. In the case where the restart is > 60 hours then we are improved in that we don't serve known stale data.\r\n3. In the case where fees start high (or low), and remain high (or low), this will help us with more accurate fee estimation after restart.\r\n4. If fees start high and descrease then we may have too-high fee estimation, which still helps us avoid unwated stuck transactions.\r\n5. If fees start low and increased then our fee estimation may report too-low. Although this pull doesn't help directly in this case, it's not worse than current behaviour and the expiry should make it strictly better.\r\n\r\nIn the followup pull, persisting mempool_min_fee to disk is much more sensitive than fee estimation data. If we used outdated rates here we may start rejecting valid tx from the p2p network from our mempool which may be undesirable. Therefore IMO it makes sense there to be much more strict about the lifetime of mempool_min_fee rates read from disk at startup; perhaps something more in the order of 1 hour?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1592855916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "commented",
      "id": 1593496143,
      "node_id": "IC_kwDOABII585e-tJP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1593496143",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T17:49:56Z",
      "updated_at": "2023-06-15T18:08:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK\r\n",
      "user": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1593496143",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "commented",
      "id": 1593580088,
      "node_id": "IC_kwDOABII585e_Bo4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1593580088",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T19:02:27Z",
      "updated_at": "2023-06-15T19:02:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "In this scenario - the node is going to have to sync - whether it was shut down for 1 hour or 60+ hours. IMO it would be ideal to not have **one more thing** dependent upon system time when booting up the node (*There are other issues related to system time when booting up the node). Since we know that the node must connect and sync - I think the ideal is to delay the file age check later into the life cycle of the node.\r\n\r\n*In the scenario where system time has been skewed - off by many hours - there is a possibility that the file age is \"in the future\". You may want to use absolute value in the file age check... this will remove the possibility of a negative value for file age.",
      "user": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1593580088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "commented",
      "id": 1593585369,
      "node_id": "IC_kwDOABII585e_C7Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1593585369",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-15T19:06:51Z",
      "updated_at": "2023-06-15T19:06:51Z",
      "author_association": "MEMBER",
      "body": "> Since we know that the node must connect and sync - I think the ideal is to delay the file age check later into the life cycle of the node.\r\n\r\nNot sure what the suggestion is. Can you be specific?",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1593585369",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "commented",
      "id": 1597103914,
      "node_id": "IC_kwDOABII585fMd8q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597103914",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-19T12:31:04Z",
      "updated_at": "2023-06-19T14:40:47Z",
      "author_association": "MEMBER",
      "body": "> In this scenario - the node is going to have to sync - whether it was shut down for 1 hour or 60+ hours. IMO it would be ideal to not have **one more thing** dependent upon system time when booting up the node\r\n\r\nI don't see how this is very problematic - we are checking the timestamp we put on our own file, which is only used for fee estimation. The data in that file isn't really concerned with what the current time is, it's tracking based on a relative number of blocks.\r\n\r\n> *In the scenario where system time has been skewed - off by many hours - there is a possibility that the file age is \"in the future\". You may want to use absolute value in the file age check... this will remove the possibility of a negative value for file age.\r\n\r\nIf you manage to be off by more than 60 hours, your node will have much worse problems. We reject blocks if they are `MAX_FUTURE_BLOCK_TIME` i.e. 2 hours into the future. Clocks don't need to be completely synced, but they're not supposed to be wildly off.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1597103914",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "reviewed",
      "id": 1488054498,
      "node_id": "PRR_kwDOABII585Yseji",
      "url": null,
      "actor": null,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK d2b39e09bc\r\n\r\nLooks good to me now.\r\n\r\nUsing stale fee estimates is a good way to get your transaction stuck in the mempool, and therefore not using those makes sense. I also agree with flushing the data periodically and not just on shutdown, which can help us have access to current estimates even after an unclean shutdown.\r\n\r\nLeft a few nits which don't need addressing",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1488054498",
      "submitted_at": "2023-06-20T12:55:35Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "review_requested",
      "id": 9579330363,
      "node_id": "RRE_lADOABII585lm6OPzwAAAAI6-Ps7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9579330363",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T12:55:41Z",
      "requested_reviewer": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 9579330381,
      "node_id": "RRE_lADOABII585lm6OPzwAAAAI6-PtN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9579330381",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T12:55:41Z",
      "requested_reviewer": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1488162113,
      "node_id": "PRR_kwDOABII585Ys41B",
      "url": null,
      "actor": null,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/27622/commits/d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1488162113",
      "submitted_at": "2023-06-20T13:30:39Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "reviewed",
      "id": 1485956137,
      "node_id": "PRR_kwDOABII585YkeQp",
      "url": null,
      "actor": null,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576. One nit if you follow up.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#pullrequestreview-1485956137",
      "submitted_at": "2023-06-20T14:09:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
    },
    {
      "event": "merged",
      "id": 9581386768,
      "node_id": "ME_lADOABII585lm6OPzwAAAAI7GFwQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9581386768",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f80db62b2d05223b0cd5d3507dd01db7b4378d48",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f80db62b2d05223b0cd5d3507dd01db7b4378d48",
      "created_at": "2023-06-20T15:48:49Z"
    },
    {
      "event": "closed",
      "id": 9581386810,
      "node_id": "CE_lADOABII585lm6OPzwAAAAI7GFw6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9581386810",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T15:48:49Z"
    },
    {
      "event": "commented",
      "id": 1599060754,
      "node_id": "IC_kwDOABII585fT7sS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1599060754",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T15:51:03Z",
      "updated_at": "2023-06-20T15:51:03Z",
      "author_association": "MEMBER",
      "body": "This should probably be backported.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#issuecomment-1599060754",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27622"
    },
    {
      "event": "referenced",
      "id": 9587092616,
      "node_id": "REFE_lADOABII585lm6OPzwAAAAI7b2yI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9587092616",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5d0a2094887c13cfff098b283685ddc3d930f225",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/5d0a2094887c13cfff098b283685ddc3d930f225",
      "created_at": "2023-06-21T02:46:33Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-25T22:15:49Z",
      "updated_at": "2023-07-25T22:15:49Z",
      "source": {
        "issue": {
          "id": 1821246589,
          "node_id": "PR_kwDOABII585WYc8z",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28157",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28157/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28157/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28157/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28157",
          "number": 28157,
          "state": "open",
          "state_reason": null,
          "title": "test doc: tests `acceptstalefeeestimates` option is only supported on regtest chain",
          "body": "This PR Follow up comments from [#27622](https://github.com/bitcoin/bitcoin/pull/27622) \r\n\r\nIt test that the new `regtest-only` option `acceptstalefeeestimates` is not supported on [main, signet and test chains](https://github.com/bitcoin/bitcoin/pull/27622/files#r1235218268), removes an unnecessary [comment](https://github.com/bitcoin/bitcoin/pull/27622/files#r1235204323), and update fee estimator  `MAXFILEAGE` [description comment](https://github.com/bitcoin/bitcoin/pull/27622/files#r1233887314).",
          "user": {
            "login": "ismaelsadeeq",
            "id": 48946461,
            "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaelsadeeq",
            "html_url": "https://github.com/ismaelsadeeq",
            "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
            "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
            "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
            "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28157",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28157",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28157.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28157.patch"
          },
          "created_at": "2023-07-25T22:15:48Z",
          "updated_at": "2023-08-01T15:48:22Z"
        },
        "type": "issue"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191301314",
      "pull_request_review_id": 1422800079,
      "id": 1191301314,
      "node_id": "PRRC_kwDOABII585HAdDC",
      "diff_hunk": "@@ -12,6 +12,7 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n+#include <scheduler.h>",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it's a bit strange for policy/fees to have a dependency on scheduler. Maybe register `FlushFeeEstimates()` with the scheduler within `AppInitMain()` instead?",
      "created_at": "2023-05-11T14:51:02Z",
      "updated_at": "2023-05-11T14:52:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191301314",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191301314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191350003",
      "pull_request_review_id": 1422877741,
      "id": 1191350003,
      "node_id": "PRRC_kwDOABII585HAo7z",
      "diff_hunk": "@@ -53,6 +53,7 @@ constexpr auto TicksSinceEpoch(Timepoint t)\n {\n     return Ticks<Duration>(t.time_since_epoch());\n }\n+constexpr int64_t count_hours(std::chrono::hours t) { return t.count(); }",
      "path": "src/util/time.h",
      "position": null,
      "original_position": 4,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit (feel free to ignore): An alternative to adding a function here would be to call the already existing `Ticks<std::chrono::hours>(a)` over `count_hours(a)`, but either seems fine.",
      "created_at": "2023-05-11T15:24:51Z",
      "updated_at": "2023-05-11T15:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191350003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191350003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 56,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191352778",
      "pull_request_review_id": 1422877741,
      "id": 1191352778,
      "node_id": "PRRC_kwDOABII585HApnK",
      "diff_hunk": "@@ -290,6 +291,38 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = os.path.join(self.nodes[0].datadir, self.chain, \"fee_estimates.dat\")",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 21,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: \r\n\r\n```suggestion\r\n        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\r\n```",
      "created_at": "2023-05-11T15:26:52Z",
      "updated_at": "2023-05-11T15:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191352778",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191352778"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 303,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191357213",
      "pull_request_review_id": 1422877741,
      "id": 1191357213,
      "node_id": "PRRC_kwDOABII585HAqsd",
      "diff_hunk": "@@ -290,6 +291,38 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = os.path.join(self.nodes[0].datadir, self.chain, \"fee_estimates.dat\")\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 13 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 13 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"]):\n+                # Mock the scheduler for an hour, sleep for a short period to allow the flush to finish\n+                hour = 3600\n+                self.nodes[0].mockscheduler(hour)\n+                time.sleep(1)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 41,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I am not a fan of uninterruptible sleep in tests. `assert_debug_log` can be used to wait, if you supply a timeout argument (or rely on the default timeout)",
      "created_at": "2023-05-11T15:30:12Z",
      "updated_at": "2023-05-11T15:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191357213",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191357213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191566131",
      "pull_request_review_id": 1423228771,
      "id": 1191566131,
      "node_id": "PRRC_kwDOABII585HBdsz",
      "diff_hunk": "@@ -290,6 +291,38 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = os.path.join(self.nodes[0].datadir, self.chain, \"fee_estimates.dat\")\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 13 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 13 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"]):\n+                # Mock the scheduler for an hour, sleep for a short period to allow the flush to finish\n+                hour = 3600\n+                self.nodes[0].mockscheduler(hour)\n+                time.sleep(1)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 41,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": 1191357213,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you forgot to remove the sleep?",
      "created_at": "2023-05-11T18:48:12Z",
      "updated_at": "2023-05-11T18:48:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191566131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191566131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191573164",
      "pull_request_review_id": 1423241416,
      "id": 1191573164,
      "node_id": "PRRC_kwDOABII585HBfas",
      "diff_hunk": "@@ -290,6 +291,38 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = os.path.join(self.nodes[0].datadir, self.chain, \"fee_estimates.dat\")\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 13 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 13 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"]):\n+                # Mock the scheduler for an hour, sleep for a short period to allow the flush to finish\n+                hour = 3600\n+                self.nodes[0].mockscheduler(hour)\n+                time.sleep(1)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 41,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": 1191357213,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "My bad, thanks.",
      "created_at": "2023-05-11T18:53:27Z",
      "updated_at": "2023-05-11T18:53:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191573164",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191573164"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191578999",
      "pull_request_review_id": 1423253142,
      "id": 1191578999,
      "node_id": "PRRC_kwDOABII585HBg13",
      "diff_hunk": "@@ -14,12 +14,17 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::milliseconds FLUSH_INTERVAL{std::chrono::hours{1}};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 13,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "0d2329aecaa39f328fec84f63f0bebf31e49b070",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/FLUSH_INTERVAL/FEE_FLUSH_INTERVAL/ ?",
      "created_at": "2023-05-11T18:59:16Z",
      "updated_at": "2023-05-11T18:59:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191578999",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191578999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191584552",
      "pull_request_review_id": 1423262115,
      "id": 1191584552,
      "node_id": "PRRC_kwDOABII585HBiMo",
      "diff_hunk": "@@ -14,12 +14,17 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::milliseconds FLUSH_INTERVAL{std::chrono::hours{1}};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 13,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "0d2329aecaa39f328fec84f63f0bebf31e49b070",
      "in_reply_to_id": 1191578999,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "FEE_FLUSH_INTERVAL is better.\r\nI think.\r\n",
      "created_at": "2023-05-11T19:05:37Z",
      "updated_at": "2023-05-11T19:05:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191584552",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191584552"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191715247",
      "pull_request_review_id": 1423475651,
      "id": 1191715247,
      "node_id": "PRRC_kwDOABII585HCCGv",
      "diff_hunk": "@@ -12,6 +12,7 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n+#include <scheduler.h>",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "a2ad5e475f318552c50bcc8bb966c4841d7ef8b4",
      "in_reply_to_id": 1191301314,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure :+1: , fixed. ",
      "created_at": "2023-05-11T21:42:02Z",
      "updated_at": "2023-05-11T21:42:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1191715247",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191715247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196990851",
      "pull_request_review_id": 1431475355,
      "id": 1196990851,
      "node_id": "PRRC_kwDOABII585HWKGD",
      "diff_hunk": "@@ -903,11 +904,15 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n     }\n+    LogPrintf(\"Flushed fee estimates to fee_estimates.dat.\\n\");",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "bbb0750bd8bd9dcc8f169f0df7e1351c9da698c9",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this log line fires even if it actually failed?",
      "created_at": "2023-05-17T19:55:26Z",
      "updated_at": "2023-05-17T20:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1196990851",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196990851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 929,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196993686",
      "pull_request_review_id": 1431475355,
      "id": 1196993686,
      "node_id": "PRRC_kwDOABII585HWKyW",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems ok, but would have to think about this more. I'd be ok with longer too, to start.",
      "created_at": "2023-05-17T19:58:40Z",
      "updated_at": "2023-05-17T20:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1196993686",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196993686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196995104",
      "pull_request_review_id": 1431475355,
      "id": 1196995104,
      "node_id": "PRRC_kwDOABII585HWLIg",
      "diff_hunk": "@@ -290,6 +291,37 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 13 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 13 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 37,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "aecd92e8e1ca8be8c76cc9621058614c893c47fc",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "checking for log is good, but checking it was actually written is better in case there's a bug in the logging logic",
      "created_at": "2023-05-17T20:00:19Z",
      "updated_at": "2023-05-17T20:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1196995104",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196995104"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197686957",
      "pull_request_review_id": 1432491514,
      "id": 1197686957,
      "node_id": "PRRC_kwDOABII585HY0Ct",
      "diff_hunk": "@@ -903,11 +904,15 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n     }\n+    LogPrintf(\"Flushed fee estimates to fee_estimates.dat.\\n\");",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "bbb0750bd8bd9dcc8f169f0df7e1351c9da698c9",
      "in_reply_to_id": 1196990851,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, fixed thank you.",
      "created_at": "2023-05-18T11:02:44Z",
      "updated_at": "2023-05-18T11:10:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1197686957",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197686957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 929,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197688535",
      "pull_request_review_id": 1432491514,
      "id": 1197688535,
      "node_id": "PRRC_kwDOABII585HY0bX",
      "diff_hunk": "@@ -290,6 +291,37 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 13 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 13 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 37,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "aecd92e8e1ca8be8c76cc9621058614c893c47fc",
      "in_reply_to_id": 1196995104,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes thanks for pointing this out, I added the check.",
      "created_at": "2023-05-18T11:04:48Z",
      "updated_at": "2023-05-18T13:16:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1197688535",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197688535"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 323,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197693333",
      "pull_request_review_id": 1432491514,
      "id": 1197693333,
      "node_id": "PRRC_kwDOABII585HY1mV",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, to enhance flexibility, I can create a follow-up PR to introduce a configuration variable for MAX_FILE_AGE,  This way users can specify the maximum age of estimates they do not want to accept?",
      "created_at": "2023-05-18T11:10:33Z",
      "updated_at": "2023-05-18T11:10:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1197693333",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197693333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198071636",
      "pull_request_review_id": 1433103480,
      "id": 1198071636,
      "node_id": "PRRC_kwDOABII585HaR9U",
      "diff_hunk": "@@ -903,11 +904,15 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n     }\n+    LogPrintf(\"Flushed fee estimates to fee_estimates.dat.\\n\");",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "bbb0750bd8bd9dcc8f169f0df7e1351c9da698c9",
      "in_reply_to_id": 1196990851,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mine as well use this constant here for the filename?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/6cc136bbd36f859a16e469bb5c016d06c19bcd50/src/policy/fees_args.cpp#L10",
      "created_at": "2023-05-18T17:09:37Z",
      "updated_at": "2023-05-18T18:15:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198071636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198071636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 929,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198122182",
      "pull_request_review_id": 1433103480,
      "id": 1198122182,
      "node_id": "PRRC_kwDOABII585HaeTG",
      "diff_hunk": "@@ -903,11 +904,16 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n+        return;",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "could also simplify a bit:\r\n\r\n```cpp\r\n    if (est_file.IsNull() || !Write(est_file))\r\n        LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\r\n    else\r\n        LogPrintf(\"Flushed fee estimates to fee_estimates.dat.\\n\");\r\n```",
      "created_at": "2023-05-18T17:59:26Z",
      "updated_at": "2023-05-18T18:15:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198122182",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198122182"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 914,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198123417",
      "pull_request_review_id": 1433103480,
      "id": 1198123417,
      "node_id": "PRRC_kwDOABII585HaemZ",
      "diff_hunk": "@@ -14,12 +14,17 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::milliseconds FEE_FLUSH_INTERVAL{std::chrono::hours{1}};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 13,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't actually know for sure but couldn't this just be ...?\r\n\r\n```cpp\r\nstatic constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\r\n```",
      "created_at": "2023-05-18T18:00:48Z",
      "updated_at": "2023-05-18T18:15:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198123417",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198123417"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198131760",
      "pull_request_review_id": 1433103480,
      "id": 1198131760,
      "node_id": "PRRC_kwDOABII585Hagow",
      "diff_hunk": "@@ -290,6 +291,45 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 18,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "b02e3fc91f4214c486da0ff46e187fab017e11bb",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you can use `self.restart_node(0)` here",
      "created_at": "2023-05-18T18:09:46Z",
      "updated_at": "2023-05-18T18:15:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198131760",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198131760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": 299,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 300,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198150716",
      "pull_request_review_id": 1433238480,
      "id": 1198150716,
      "node_id": "PRRC_kwDOABII585HalQ8",
      "diff_hunk": "@@ -14,12 +14,17 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::milliseconds FEE_FLUSH_INTERVAL{std::chrono::hours{1}};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 13,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198123417,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It could also be `constexpr auto FEE_FLUSH_INTERVAL{1h};`",
      "created_at": "2023-05-18T18:26:07Z",
      "updated_at": "2023-05-18T18:26:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198150716",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198150716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198355535",
      "pull_request_review_id": 1433525905,
      "id": 1198355535,
      "node_id": "PRRC_kwDOABII585HbXRP",
      "diff_hunk": "@@ -903,11 +904,16 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n+        return;",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198122182,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for your review, I have fixed it.",
      "created_at": "2023-05-18T22:16:00Z",
      "updated_at": "2023-05-18T22:16:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198355535",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198355535"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 914,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198379250",
      "pull_request_review_id": 1433560975,
      "id": 1198379250,
      "node_id": "PRRC_kwDOABII585HbdDy",
      "diff_hunk": "@@ -14,12 +14,17 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::milliseconds FEE_FLUSH_INTERVAL{std::chrono::hours{1}};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 13,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198123417,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Still a nub on cpp,\r\n `constexpr auto FEE_FLUSH_INTERVAL{1h};`  does not compile\r\nI added instead `static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};`",
      "created_at": "2023-05-18T23:02:36Z",
      "updated_at": "2023-05-18T23:02:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198379250",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198379250"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198379499",
      "pull_request_review_id": 1433561764,
      "id": 1198379499,
      "node_id": "PRRC_kwDOABII585HbdHr",
      "diff_hunk": "@@ -290,6 +291,45 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.stop_node(0)\n+        self.start_node(0)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 18,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "b02e3fc91f4214c486da0ff46e187fab017e11bb",
      "in_reply_to_id": 1198131760,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks fixed",
      "created_at": "2023-05-18T23:03:07Z",
      "updated_at": "2023-05-18T23:03:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198379499",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198379499"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": 299,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 300,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198388360",
      "pull_request_review_id": 1433575587,
      "id": 1198388360,
      "node_id": "PRRC_kwDOABII585HbfSI",
      "diff_hunk": "@@ -903,11 +904,16 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n+        return;",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198122182,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ">Mine as well use this constant here for the filename?\r\n\r\n:thinking: it is an anon namespace, not defined in policy/fees_args.h, \r\nI think it is okay as is,  or else\r\n\r\npolicy/fees_args.h\r\n ```\r\nconst char* GetFeeEstimatesFilename();\r\n```\r\npolicy/fees.args.cpp\r\n```\r\nconst char* GetFeeEstimatesFilename() {\r\n    return FEE_ESTIMATES_FILENAME;\r\n}\r\n```\r\npolicy/fees.cpp\r\n```\r\nLogPrintf(\"Flushed fee estimates to %s.\\n\", GetFeeEstimatesFilename());\r\n```\r\nbut if it's possible another way I will be glad to learn how.",
      "created_at": "2023-05-18T23:22:05Z",
      "updated_at": "2023-05-18T23:22:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1198388360",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198388360"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 914,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199014871",
      "pull_request_review_id": 1434514052,
      "id": 1199014871,
      "node_id": "PRRC_kwDOABII585Hd4PX",
      "diff_hunk": "@@ -903,11 +904,16 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n+        return;",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198122182,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok good point I see, well maybe just then...\r\n\r\n\r\n```diff\r\ndiff --git a/src/policy/fees.cpp b/src/policy/fees.cpp\r\nindex 085f938f80..adb0ebc383 100644\r\n--- a/src/policy/fees.cpp\r\n+++ b/src/policy/fees.cpp\r\n@@ -925,7 +925,7 @@ void CBlockPolicyEstimator::FlushFeeEstimates() {\r\n     if (est_file.IsNull() || !Write(est_file)) {\r\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\r\n     } else {\r\n-        LogPrintf(\"Flushed fee estimates to fee_estimates.dat.\\n\");\r\n+        LogPrintf(\"Flushed fee estimates to %s.\", fs::PathToString(m_estimation_filepath));\r\n     }\r\n }\r\n \r\n\r\n```",
      "created_at": "2023-05-19T14:15:18Z",
      "updated_at": "2023-05-19T14:15:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199014871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199014871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 914,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199078486",
      "pull_request_review_id": 1434616046,
      "id": 1199078486,
      "node_id": "PRRC_kwDOABII585HeHxW",
      "diff_hunk": "@@ -546,9 +546,22 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath\n     shortStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, SHORT_BLOCK_PERIODS, SHORT_DECAY, SHORT_SCALE));\n     longStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, LONG_BLOCK_PERIODS, LONG_DECAY, LONG_SCALE));\n \n-    // If the fee estimation file is present, read recorded estimations\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"rb\")};\n-    if (est_file.IsNull() || !Read(est_file)) {\n+\n+    // Whenever the fee estimation file is not present return early\n+    if (est_file.IsNull()) {\n+        LogPrintf(\"Failed to read fee estimates from %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "accf995cf095d7ff3d10c0403e70bdbc1273e852",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in accf995cf095d7ff3d10c0403e70bdbc1273e852\r\n\r\nSeems like the error message here should be something like \"there is no fee estimates file\" instead of \"failed to read\" ?",
      "created_at": "2023-05-19T15:11:58Z",
      "updated_at": "2023-05-19T15:20:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199078486",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199078486"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 553,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199085331",
      "pull_request_review_id": 1434616046,
      "id": 1199085331,
      "node_id": "PRRC_kwDOABII585HeJcT",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What is the use case for being able to configure the maximum file age?",
      "created_at": "2023-05-19T15:18:38Z",
      "updated_at": "2023-05-19T15:20:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199085331",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199085331"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199176025",
      "pull_request_review_id": 1434774754,
      "id": 1199176025,
      "node_id": "PRRC_kwDOABII585HeflZ",
      "diff_hunk": "@@ -903,11 +904,16 @@ CFeeRate CBlockPolicyEstimator::estimateSmartFee(int confTarget, FeeCalculation\n \n void CBlockPolicyEstimator::Flush() {\n     FlushUnconfirmed();\n+    FlushFeeEstimates();\n+}\n \n+void CBlockPolicyEstimator::FlushFeeEstimates() {\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"wb\")};\n     if (est_file.IsNull() || !Write(est_file)) {\n         LogPrintf(\"Failed to write fee estimates to %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));\n+        return;",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "4614a64bbffd5333cfd9fb78c6530d81c3856901",
      "in_reply_to_id": 1198122182,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "thanks fixed with\r\n ```\r\nLogPrintf(\"Flushed fee estimates to %s.\", fs::PathToString(m_estimation_filepath.filename()));\r\n```\r\nso as to get the filename only not the dir",
      "created_at": "2023-05-19T16:52:48Z",
      "updated_at": "2023-05-19T16:52:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199176025",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199176025"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 914,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199183106",
      "pull_request_review_id": 1434785724,
      "id": 1199183106,
      "node_id": "PRRC_kwDOABII585HehUC",
      "diff_hunk": "@@ -546,9 +546,22 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath\n     shortStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, SHORT_BLOCK_PERIODS, SHORT_DECAY, SHORT_SCALE));\n     longStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, LONG_BLOCK_PERIODS, LONG_DECAY, LONG_SCALE));\n \n-    // If the fee estimation file is present, read recorded estimations\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"rb\")};\n-    if (est_file.IsNull() || !Read(est_file)) {\n+\n+    // Whenever the fee estimation file is not present return early\n+    if (est_file.IsNull()) {\n+        LogPrintf(\"Failed to read fee estimates from %s. Continue anyway.\\n\", fs::PathToString(m_estimation_filepath));",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "accf995cf095d7ff3d10c0403e70bdbc1273e852",
      "in_reply_to_id": 1199078486,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks fixed",
      "created_at": "2023-05-19T17:01:46Z",
      "updated_at": "2023-05-19T17:01:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199183106",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199183106"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 553,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199199343",
      "pull_request_review_id": 1434810895,
      "id": 1199199343,
      "node_id": "PRRC_kwDOABII585HelRv",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was thinking that introducing flexibility would enable users to define their preferred threshold for considering fee estimates as stale. As @instagibbs suggested extending the default 12 hours further. what is your view on it?",
      "created_at": "2023-05-19T17:19:51Z",
      "updated_at": "2023-05-19T17:19:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1199199343",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199199343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210099908",
      "pull_request_review_id": 1450663037,
      "id": 1210099908,
      "node_id": "PRRC_kwDOABII585IIKjE",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Another use case could be so that testers can purposefully load (very) old fee estimate files to populate `estimatesmartfee`? https://github.com/bitcoin/bitcoin/issues/27415#issuecomment-1531711091",
      "created_at": "2023-05-30T10:56:12Z",
      "updated_at": "2023-05-30T10:56:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1210099908",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210099908"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213443871",
      "pull_request_review_id": 1455935701,
      "id": 1213443871,
      "node_id": "PRRC_kwDOABII585IU68f",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure if we should load old (i.e. potentially bad) data as it can skew the fee estimates both at startup and after more data has been collected. For testing, they could mock the time right? Just worried about adding a config option that's a bit footgunny.",
      "created_at": "2023-06-01T17:03:41Z",
      "updated_at": "2023-06-01T17:03:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1213443871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213443871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213739677",
      "pull_request_review_id": 1456398245,
      "id": 1213739677,
      "node_id": "PRRC_kwDOABII585IWDKd",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I agree with you. stale estimates should not be read. I have updated the MAX_FILE_AGE to 60 hours, 2.5 days, as @instagibbs suggested that longer would be okay",
      "created_at": "2023-06-01T22:24:35Z",
      "updated_at": "2023-06-01T22:28:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1213739677",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213739677"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214180938",
      "pull_request_review_id": 1457049916,
      "id": 1214180938,
      "node_id": "PRRC_kwDOABII585IXu5K",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can you explain the rationale behind the 60 hours chosen? Also perhaps you can update OP as it still mentions 12 hours :)",
      "created_at": "2023-06-02T10:05:54Z",
      "updated_at": "2023-06-02T10:05:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214180938",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214180938"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214368208",
      "pull_request_review_id": 1457431731,
      "id": 1214368208,
      "node_id": "PRRC_kwDOABII585IYcnQ",
      "diff_hunk": "@@ -186,6 +186,10 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    /** Fee estimate.dat must not be more than 12 hours old. */\n+    static constexpr std::chrono::hours MAX_FILE_AGE{12};",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "5a41661a118dc526780c006bdf09abcce92e24e5",
      "in_reply_to_id": 1196993686,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Estimates that are 2.5 days old have nearly half the decay weight of the most recent block.\r\nThank you I updated the PR description.",
      "created_at": "2023-06-02T13:21:54Z",
      "updated_at": "2023-06-02T13:22:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214368208",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214368208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214407758",
      "pull_request_review_id": 1457521354,
      "id": 1214407758,
      "node_id": "PRRC_kwDOABII585IYmRO",
      "diff_hunk": "@@ -290,6 +291,44 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+            # Verify that fee_estimates.dat does not exist\n+            assert_equal(os.path.isfile(fee_dat), False)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 37,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "8c51cd00fb08143638f6f94b2e05b43f737bc072",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "to make this test less order-dependent, you can attempt to delete the file, then run the test",
      "created_at": "2023-06-02T13:49:46Z",
      "updated_at": "2023-06-02T13:58:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214407758",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214407758"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 319,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214415612",
      "pull_request_review_id": 1457521354,
      "id": 1214415612,
      "node_id": "PRRC_kwDOABII585IYoL8",
      "diff_hunk": "@@ -290,6 +291,44 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+            # Verify that fee_estimates.dat does not exist\n+            assert_equal(os.path.isfile(fee_dat), False)\n+\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+                # Mock the scheduler for an hour, fee estimates will be flushed to fee_estimate.dat\n+                hour = 3600\n+                self.nodes[0].mockscheduler(hour)\n+\n+            # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+            assert_equal(os.path.isfile(fee_dat), True)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 47,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "8c51cd00fb08143638f6f94b2e05b43f737bc072",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "might be good to test that it does it *every hour*, and that the output files should be matching provided we don't see blocks in the interim, also, check that what is written on node shutdown also matches?\r\n\r\nThat way we can have higher assurance on the timing of the flushing and the contents matching what we already do.",
      "created_at": "2023-06-02T13:56:09Z",
      "updated_at": "2023-06-02T13:58:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214415612",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214415612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 329,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214935160",
      "pull_request_review_id": 1458574145,
      "id": 1214935160,
      "node_id": "PRRC_kwDOABII585IanB4",
      "diff_hunk": "@@ -290,6 +291,44 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+            # Verify that fee_estimates.dat does not exist\n+            assert_equal(os.path.isfile(fee_dat), False)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 37,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "8c51cd00fb08143638f6f94b2e05b43f737bc072",
      "in_reply_to_id": 1214407758,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you, I added the delete attempt",
      "created_at": "2023-06-02T23:02:53Z",
      "updated_at": "2023-06-02T23:02:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214935160",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214935160"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 319,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214936512",
      "pull_request_review_id": 1458575525,
      "id": 1214936512,
      "node_id": "PRRC_kwDOABII585IanXA",
      "diff_hunk": "@@ -290,6 +291,44 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+            fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+            # Verify that fee_estimates.dat does not exist\n+            assert_equal(os.path.isfile(fee_dat), False)\n+\n+            # Check if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+            # If it is, it indicates that fee estimates have been successfully flushed to disk.\n+            with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+                # Mock the scheduler for an hour, fee estimates will be flushed to fee_estimate.dat\n+                hour = 3600\n+                self.nodes[0].mockscheduler(hour)\n+\n+            # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+            assert_equal(os.path.isfile(fee_dat), True)",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 47,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "8c51cd00fb08143638f6f94b2e05b43f737bc072",
      "in_reply_to_id": 1214415612,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, thank you, I updated the test.",
      "created_at": "2023-06-02T23:03:40Z",
      "updated_at": "2023-06-02T23:03:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1214936512",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214936512"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 329,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219177648",
      "pull_request_review_id": 1464599043,
      "id": 1219177648,
      "node_id": "PRRC_kwDOABII585Iqyyw",
      "diff_hunk": "@@ -290,6 +291,77 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 25,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "451ab8b513f88f2bf21a96ff1cf98d17fa82362f",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I know we only use it once in the test, but if you re-touch this file it could be nice to use a named variable for the 60 hours, to make it clear where it comes from? (e.g. `MAX_FILE_AGE` would shadow the name used in _fees.h_)",
      "created_at": "2023-06-06T08:33:06Z",
      "updated_at": "2023-06-06T08:39:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1219177648",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219177648"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219184270",
      "pull_request_review_id": 1464599043,
      "id": 1219184270,
      "node_id": "PRRC_kwDOABII585Iq0aO",
      "diff_hunk": "@@ -290,6 +291,77 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        hour = 3600\n+\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval\n+        fee_dat_initial_content = open(fee_dat, \"rb\").read()\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates remain the same after shutdown with no blocks before shutdown\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates are not the same if there are no blocks in the flush interval",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 65,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "451ab8b513f88f2bf21a96ff1cf98d17fa82362f",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        # Verify that the estimates are not the same if new blocks were produced in the flush interval\r\n```",
      "created_at": "2023-06-06T08:37:50Z",
      "updated_at": "2023-06-06T08:39:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1219184270",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219184270"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219595571",
      "pull_request_review_id": 1465135361,
      "id": 1219595571,
      "node_id": "PRRC_kwDOABII585IsY0z",
      "diff_hunk": "@@ -290,6 +291,77 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 25,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "451ab8b513f88f2bf21a96ff1cf98d17fa82362f",
      "in_reply_to_id": 1219177648,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree it's better than the magic number, I have updated it.",
      "created_at": "2023-06-06T12:53:33Z",
      "updated_at": "2023-06-06T12:53:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1219595571",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219595571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219596235",
      "pull_request_review_id": 1465136578,
      "id": 1219596235,
      "node_id": "PRRC_kwDOABII585IsY_L",
      "diff_hunk": "@@ -290,6 +291,77 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file for 61 hours\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - 61 * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        hour = 3600\n+\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval\n+        fee_dat_initial_content = open(fee_dat, \"rb\").read()\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates remain the same after shutdown with no blocks before shutdown\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates are not the same if there are no blocks in the flush interval",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 65,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "451ab8b513f88f2bf21a96ff1cf98d17fa82362f",
      "in_reply_to_id": 1219184270,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed Thank you.",
      "created_at": "2023-06-06T12:54:00Z",
      "updated_at": "2023-06-06T12:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1219596235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219596235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222723313",
      "pull_request_review_id": 1469429394,
      "id": 1222723313,
      "node_id": "PRRC_kwDOABII585I4Ubx",
      "diff_hunk": "@@ -25,6 +25,9 @@\n // How often to flush fee estimates to fee_estimates.dat.\n static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n \n+// Stale fee estimates are not going to be read on mainnet\n+static constexpr bool ACCEPT_STALE_FEE_ESTIMATES = false;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 5,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "2fec7f362d8540cda5ff7e3e4dfb2cb751364e06",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 2fec7f362d8540cda5ff7e3e4dfb2cb751364e06:\r\n\r\nprefix with `DEFAULT_`, make doxygen compatible, use braced initialization. Documentation about where the option can be used belongs where that code lives, not here.\r\n\r\n```suggestion\r\n/** Whether we allow importing a fee_estimates file older than MAX_FILE_AGE. */\r\nstatic constexpr bool DEFAULT_ACCEPT_STALE_FEE_ESTIMATES{false};\r\n```",
      "created_at": "2023-06-08T09:36:52Z",
      "updated_at": "2023-06-08T09:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222723313",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222723313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222736738",
      "pull_request_review_id": 1469429394,
      "id": 1222736738,
      "node_id": "PRRC_kwDOABII585I4Xti",
      "diff_hunk": "@@ -586,6 +586,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-acceptnonstdtxn\", strprintf(\"Relay and mine \\\"non-standard\\\" transactions (%sdefault: %u)\", \"testnet/regtest only; \", !testnetChainParams->RequireStandard()), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n     argsman.AddArg(\"-incrementalrelayfee=<amt>\", strprintf(\"Fee rate (in %s/kvB) used to define cost of relay, used for mempool limiting and replacement policy. (default: %s)\", CURRENCY_UNIT, FormatMoney(DEFAULT_INCREMENTAL_RELAY_FEE)), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n     argsman.AddArg(\"-dustrelayfee=<amt>\", strprintf(\"Fee rate (in %s/kvB) used to define dust, the value of an output such that it will cost more than its value in fees at this fee rate to spend it. (default: %s)\", CURRENCY_UNIT, FormatMoney(DUST_RELAY_TX_FEE)), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n+    argsman.AddArg(\"-acceptstalefeeestimates\", \"Read fee estimates even if they are stale supported only in regtest\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 2fec7f362d8540cda5ff7e3e4dfb2cb751364e06\r\nPlease also include here (1) the default value (2) how old \"stale\" is specifically, using the constants.",
      "created_at": "2023-06-08T09:49:15Z",
      "updated_at": "2023-06-08T09:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222736738",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222736738"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 589,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222738052",
      "pull_request_review_id": 1469429394,
      "id": 1222738052,
      "node_id": "PRRC_kwDOABII585I4YCE",
      "diff_hunk": "@@ -192,9 +195,11 @@ class CBlockPolicyEstimator\n      */\n     static constexpr std::chrono::hours MAX_FILE_AGE{60};\n \n+    bool m_read_stale_estimates;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 14,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "2fec7f362d8540cda5ff7e3e4dfb2cb751364e06",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2fec7f362d8540cda5ff7e3e4dfb2cb751364e06\r\n\r\nthis should be const",
      "created_at": "2023-06-08T09:50:27Z",
      "updated_at": "2023-06-08T09:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222738052",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222738052"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222741414",
      "pull_request_review_id": 1469429394,
      "id": 1222741414,
      "node_id": "PRRC_kwDOABII585I4Y2m",
      "diff_hunk": "@@ -290,6 +292,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        hour = 3600",
      "path": "test/functional/feature_fee_estimation.py",
      "position": null,
      "original_position": 43,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in dea3accb1f2eeef74f293262c168d68c0ec444cb\r\n\r\nmaybe replace this `hour` and the one in the other tests with a constant at the top of the file, `SECONDS_PER_HOUR`",
      "created_at": "2023-06-08T09:53:39Z",
      "updated_at": "2023-06-08T09:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222741414",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222741414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 318,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222742962",
      "pull_request_review_id": 1469429394,
      "id": 1222742962,
      "node_id": "PRRC_kwDOABII585I4ZOy",
      "diff_hunk": "@@ -290,6 +292,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        hour = 3600\n+\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 57,
      "original_position": 59,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in dea3accb1f2eeef74f293262c168d68c0ec444cb\r\n\r\nGiven that you comment \"there are no blocks\" you should probably also assert that is true, e.g. `assert_equal` the result from `getbestblockhash` before and after",
      "created_at": "2023-06-08T09:55:07Z",
      "updated_at": "2023-06-08T09:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222742962",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222742962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 332,
      "original_line": 332,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222989539",
      "pull_request_review_id": 1469839674,
      "id": 1222989539,
      "node_id": "PRRC_kwDOABII585I5Vbj",
      "diff_hunk": "@@ -25,6 +25,9 @@\n // How often to flush fee estimates to fee_estimates.dat.\n static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n \n+// Stale fee estimates are not going to be read on mainnet\n+static constexpr bool ACCEPT_STALE_FEE_ESTIMATES = false;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 5,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "2fec7f362d8540cda5ff7e3e4dfb2cb751364e06",
      "in_reply_to_id": 1222723313,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you, I updated it.",
      "created_at": "2023-06-08T12:46:20Z",
      "updated_at": "2023-06-08T12:46:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222989539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222989539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991211",
      "pull_request_review_id": 1469843114,
      "id": 1222991211,
      "node_id": "PRRC_kwDOABII585I5V1r",
      "diff_hunk": "@@ -586,6 +586,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-acceptnonstdtxn\", strprintf(\"Relay and mine \\\"non-standard\\\" transactions (%sdefault: %u)\", \"testnet/regtest only; \", !testnetChainParams->RequireStandard()), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n     argsman.AddArg(\"-incrementalrelayfee=<amt>\", strprintf(\"Fee rate (in %s/kvB) used to define cost of relay, used for mempool limiting and replacement policy. (default: %s)\", CURRENCY_UNIT, FormatMoney(DEFAULT_INCREMENTAL_RELAY_FEE)), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n     argsman.AddArg(\"-dustrelayfee=<amt>\", strprintf(\"Fee rate (in %s/kvB) used to define dust, the value of an output such that it will cost more than its value in fees at this fee rate to spend it. (default: %s)\", CURRENCY_UNIT, FormatMoney(DUST_RELAY_TX_FEE)), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::NODE_RELAY);\n+    argsman.AddArg(\"-acceptstalefeeestimates\", \"Read fee estimates even if they are stale supported only in regtest\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "in_reply_to_id": 1222736738,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I modify as you suggested ðŸ‘ðŸ¾ ",
      "created_at": "2023-06-08T12:47:41Z",
      "updated_at": "2023-06-08T12:47:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222991211",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 589,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991573",
      "pull_request_review_id": 1469843935,
      "id": 1222991573,
      "node_id": "PRRC_kwDOABII585I5V7V",
      "diff_hunk": "@@ -192,9 +195,11 @@ class CBlockPolicyEstimator\n      */\n     static constexpr std::chrono::hours MAX_FILE_AGE{60};\n \n+    bool m_read_stale_estimates;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 14,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "2fec7f362d8540cda5ff7e3e4dfb2cb751364e06",
      "in_reply_to_id": 1222738052,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you",
      "created_at": "2023-06-08T12:48:00Z",
      "updated_at": "2023-06-08T12:48:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222991573",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991937",
      "pull_request_review_id": 1469844723,
      "id": 1222991937,
      "node_id": "PRRC_kwDOABII585I5WBB",
      "diff_hunk": "@@ -290,6 +292,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        hour = 60 * 60\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * hour\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        hour = 3600\n+\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(hour)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 57,
      "original_position": 59,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "dea3accb1f2eeef74f293262c168d68c0ec444cb",
      "in_reply_to_id": 1222742962,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sure fixed",
      "created_at": "2023-06-08T12:48:19Z",
      "updated_at": "2023-06-08T12:48:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1222991937",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1222991937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 332,
      "original_line": 332,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223049862",
      "pull_request_review_id": 1469928526,
      "id": 1223049862,
      "node_id": "PRRC_kwDOABII585I5kKG",
      "diff_hunk": "@@ -1253,7 +1255,18 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(FeeestPath(args));\n+    if (!ignores_incoming_txs) {\n+        bool read_stale_estimates = args.GetBoolArg(\"-acceptstalefeeestimates\", DEFAULT_ACCEPT_STALE_FEE_ESTIMATES);\n+        if (read_stale_estimates && (chainparams.GetChainType() != ChainType::REGTEST)) {\n+            LogPrintf(\"Reading stale fee estimates is only supported in regtest \\n\");",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "f91d089a7613c8ff43a73c692ee0432c82354ef3",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this should fail rather than being ignored?",
      "created_at": "2023-06-08T13:32:18Z",
      "updated_at": "2023-06-08T13:32:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1223049862",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223049862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223602575",
      "pull_request_review_id": 1470846487,
      "id": 1223602575,
      "node_id": "PRRC_kwDOABII585I7rGP",
      "diff_hunk": "@@ -1253,7 +1255,18 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(FeeestPath(args));\n+    if (!ignores_incoming_txs) {\n+        bool read_stale_estimates = args.GetBoolArg(\"-acceptstalefeeestimates\", DEFAULT_ACCEPT_STALE_FEE_ESTIMATES);\n+        if (read_stale_estimates && (chainparams.GetChainType() != ChainType::REGTEST)) {\n+            LogPrintf(\"Reading stale fee estimates is only supported in regtest \\n\");",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "f91d089a7613c8ff43a73c692ee0432c82354ef3",
      "in_reply_to_id": 1223049862,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree, fixed it.",
      "created_at": "2023-06-08T22:18:27Z",
      "updated_at": "2023-06-08T22:18:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1223602575",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223602575"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223942269",
      "pull_request_review_id": 1471390869,
      "id": 1223942269,
      "node_id": "PRRC_kwDOABII585I8-B9",
      "diff_hunk": "@@ -14,12 +14,25 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n+\n+/** fee_estimates.dat that are more than 60 hours old, 2 and half days will not be read,",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 15,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "clarity nit:\r\n\r\n```suggestion\r\n/** fee_estimates.dat that are more than 60 hours (2.5 days) will not be read,\r\n```",
      "created_at": "2023-06-09T07:24:10Z",
      "updated_at": "2023-06-09T07:44:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1223942269",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223942269"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1225923606",
      "pull_request_review_id": 1473820940,
      "id": 1225923606,
      "node_id": "PRRC_kwDOABII585JEhwW",
      "diff_hunk": "@@ -191,9 +194,12 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    const bool m_read_stale_estimates;\n+\n public:\n     /** Create new BlockPolicyEstimator and initialize stats tracking classes with default values */\n-    CBlockPolicyEstimator(const fs::path& estimation_filepath);\n+    CBlockPolicyEstimator(const fs::path& estimation_filepath, const bool& read_stale_estimates);",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 29814149f29ce1858ee3f6ea2fbd37ec411070d6: for primitive types like bools, it makes more sense to pass by value",
      "created_at": "2023-06-11T20:56:25Z",
      "updated_at": "2023-06-13T20:10:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1225923606",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1225923606"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 202,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1225926128",
      "pull_request_review_id": 1473820940,
      "id": 1225926128,
      "node_id": "PRRC_kwDOABII585JEiXw",
      "diff_hunk": "@@ -290,6 +293,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * SECONDS_PER_HOUR",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 33,
      "original_position": 33,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in efe5f373e12329104f1c706145eee75c2d2079a7\r\n\r\nIs this 61 hours? Or 1 second past the 60hour mark?",
      "created_at": "2023-06-11T21:13:43Z",
      "updated_at": "2023-06-13T20:10:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1225926128",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1225926128"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 308,
      "original_line": 308,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228568682",
      "pull_request_review_id": 1477862322,
      "id": 1228568682,
      "node_id": "PRRC_kwDOABII585JOnhq",
      "diff_hunk": "@@ -14,12 +14,25 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n+\n+/** fee_estimates.dat that are more than 60 hours old, 2 and half days will not be read,",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 15,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "in_reply_to_id": 1223942269,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think if you retouch there is some style nit too:\r\n\r\n```diff\r\n- /** fee_estimates.dat that are more than 60 hours (2.5 days) will not be read,\r\n+ /**\r\n+  * fee_estimates.dat that are more than 60 hours (2.5 days) will not be read,\r\n```",
      "created_at": "2023-06-13T18:51:53Z",
      "updated_at": "2023-06-13T19:13:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1228568682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228568682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228571577",
      "pull_request_review_id": 1477862322,
      "id": 1228571577,
      "node_id": "PRRC_kwDOABII585JOoO5",
      "diff_hunk": "@@ -528,8 +528,9 @@ bool CBlockPolicyEstimator::_removeTx(const uint256& hash, bool inBlock)\n     }\n }\n \n-CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath)\n-    : m_estimation_filepath{estimation_filepath}\n+CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath, const bool& read_stale_estimates)",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Question: isn't `bool` small enough to pass by value instead of reference? (i.e. remove the `&` ?)",
      "created_at": "2023-06-13T18:54:36Z",
      "updated_at": "2023-06-13T19:13:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1228571577",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228571577"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 531,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228573519",
      "pull_request_review_id": 1477862322,
      "id": 1228573519,
      "node_id": "PRRC_kwDOABII585JOotP",
      "diff_hunk": "@@ -191,9 +194,12 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    const bool m_read_stale_estimates;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 15,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this need to be a class property since we only use it one time, during object construction?",
      "created_at": "2023-06-13T18:56:44Z",
      "updated_at": "2023-06-13T19:13:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1228573519",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228573519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1229463323",
      "pull_request_review_id": 1479206611,
      "id": 1229463323,
      "node_id": "PRRC_kwDOABII585JSB8b",
      "diff_hunk": "@@ -290,6 +293,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * SECONDS_PER_HOUR",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 33,
      "original_position": 33,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "in_reply_to_id": 1225926128,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "61 hours.",
      "created_at": "2023-06-14T11:45:58Z",
      "updated_at": "2023-06-14T11:45:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1229463323",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1229463323"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 308,
      "original_line": 308,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230672585",
      "pull_request_review_id": 1481047373,
      "id": 1230672585,
      "node_id": "PRRC_kwDOABII585JWpLJ",
      "diff_hunk": "@@ -14,12 +14,25 @@\n #include <util/fs.h>\n \n #include <array>\n+#include <chrono>\n #include <map>\n #include <memory>\n #include <set>\n #include <string>\n #include <vector>\n \n+\n+// How often to flush fee estimates to fee_estimates.dat.\n+static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n+\n+/** fee_estimates.dat that are more than 60 hours old, 2 and half days will not be read,",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 15,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "efe5f373e12329104f1c706145eee75c2d2079a7",
      "in_reply_to_id": 1223942269,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated, thank you @willcl-ark ",
      "created_at": "2023-06-15T08:51:59Z",
      "updated_at": "2023-06-15T08:52:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1230672585",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230672585"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230673519",
      "pull_request_review_id": 1481048663,
      "id": 1230673519,
      "node_id": "PRRC_kwDOABII585JWpZv",
      "diff_hunk": "@@ -528,8 +528,9 @@ bool CBlockPolicyEstimator::_removeTx(const uint256& hash, bool inBlock)\n     }\n }\n \n-CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath)\n-    : m_estimation_filepath{estimation_filepath}\n+CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath, const bool& read_stale_estimates)",
      "path": "src/policy/fees.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": 1228571577,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, thank you. I updated it",
      "created_at": "2023-06-15T08:52:41Z",
      "updated_at": "2023-06-15T08:52:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1230673519",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230673519"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 531,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230674245",
      "pull_request_review_id": 1481049724,
      "id": 1230674245,
      "node_id": "PRRC_kwDOABII585JWplF",
      "diff_hunk": "@@ -191,9 +194,12 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    const bool m_read_stale_estimates;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 15,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": 1228573519,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, It does not thank you.",
      "created_at": "2023-06-15T08:53:14Z",
      "updated_at": "2023-06-15T08:53:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1230674245",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230674245"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230675133",
      "pull_request_review_id": 1481051017,
      "id": 1230675133,
      "node_id": "PRRC_kwDOABII585JWpy9",
      "diff_hunk": "@@ -191,9 +194,12 @@ class CBlockPolicyEstimator\n     static constexpr double FEE_SPACING = 1.05;\n \n     const fs::path m_estimation_filepath;\n+\n+    const bool m_read_stale_estimates;\n+\n public:\n     /** Create new BlockPolicyEstimator and initialize stats tracking classes with default values */\n-    CBlockPolicyEstimator(const fs::path& estimation_filepath);\n+    CBlockPolicyEstimator(const fs::path& estimation_filepath, const bool& read_stale_estimates);",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "29814149f29ce1858ee3f6ea2fbd37ec411070d6",
      "in_reply_to_id": 1225923606,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated ðŸ’¯ ",
      "created_at": "2023-06-15T08:53:56Z",
      "updated_at": "2023-06-15T08:53:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1230675133",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1230675133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 202,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1233887314",
      "pull_request_review_id": 1485956137,
      "id": 1233887314,
      "node_id": "PRRC_kwDOABII585Ji6BS",
      "diff_hunk": "@@ -25,6 +25,11 @@\n // How often to flush fee estimates to fee_estimates.dat.\n static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n \n+/** fee_estimates.dat that are more than 60 hours (2.5 days) will not be read,\n+ * as the estimates in the file are stale.",
      "path": "src/policy/fees.h",
      "position": 16,
      "original_position": 5,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 3eb241a141defa564c94cb95c5bbaf4c5bd9682e:\r\nI think the word \"old\" may be missing. Also could elaborate a tiny bit on why stale is bad.\r\n```suggestion\r\n/** fee_estimates.dat that are more than 60 hours (2.5 days) old will not be read,\r\n * as fee estimates are based on historical data and may be inaccurate if\r\n * network activity has changed.\r\n```",
      "created_at": "2023-06-19T10:54:18Z",
      "updated_at": "2023-06-20T14:09:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1233887314",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1233887314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": 28,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235204323",
      "pull_request_review_id": 1488054498,
      "id": 1235204323,
      "node_id": "PRRC_kwDOABII585Jn7jj",
      "diff_hunk": "@@ -545,9 +546,22 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath\n     shortStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, SHORT_BLOCK_PERIODS, SHORT_DECAY, SHORT_SCALE));\n     longStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, LONG_BLOCK_PERIODS, LONG_DECAY, LONG_SCALE));\n \n-    // If the fee estimation file is present, read recorded estimations\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"rb\")};\n-    if (est_file.IsNull() || !Read(est_file)) {\n+\n+    // Whenever the fee estimation file is not present return early",
      "path": "src/policy/fees.cpp",
      "position": 25,
      "original_position": 16,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Personally I don't think comments like this are particularly needed/useful, as they are just describing exactly the code below. I ususally try and save them for when something reads as unexpected or I want to add a reason _why_ I am doing something.\r\n\r\nIn the comment 7 lines below it could be a useful comment (in my opinion) if it read something like: \"serving stale fee estimates can cause transactions to become stuck in the bottom of the mempool in the worst case. Don't do that.\" As this explains _why_ we expire fee estimates.",
      "created_at": "2023-06-20T12:37:50Z",
      "updated_at": "2023-06-20T12:55:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1235204323",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235204323"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 551,
      "original_line": 551,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235218268",
      "pull_request_review_id": 1488054498,
      "id": 1235218268,
      "node_id": "PRRC_kwDOABII585Jn-9c",
      "diff_hunk": "@@ -290,6 +293,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * SECONDS_PER_HOUR\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval\n+        block_hash_before = self.nodes[0].getbestblockhash()\n+        fee_dat_initial_content = open(fee_dat, \"rb\").read()\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        # Verify that there were no blocks in between the flush interval\n+        assert_equal(block_hash_before, self.nodes[0].getbestblockhash())\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates remain the same after shutdown with no blocks before shutdown\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates are not the same if new blocks were produced in the flush interval\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.generate(self.nodes[0], 5, sync_fun=self.no_op)\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert fee_dat_current_content != fee_dat_initial_content\n+\n+        fee_dat_initial_content = fee_dat_current_content\n+\n+        # Generate blocks before shutdown and verify that the fee estimates are not the same\n+        self.generate(self.nodes[0], 5, sync_fun=self.no_op)\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert fee_dat_current_content != fee_dat_initial_content\n+\n+\n+    def test_acceptstalefeeestimates_option(self):",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 93,
      "original_position": 93,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: There's no test to ensure that stale estimates _aren't_ accepted on non-regtest networks, and I'm not sure there particularly needs to be. But I verified manually that this was the case:\r\n\r\n```log\r\n$./src/bitcoind -testnet -acceptstalefeeestimates\r\n2023-06-20T12:47:07Z Error: acceptstalefeeestimates is not supported on test chain.\r\n2023-06-20T12:47:07Z Shutdown: In progress...\r\n2023-06-20T12:47:07Z scheduler thread exit\r\n2023-06-20T12:47:07Z Shutdown: done\r\n```",
      "created_at": "2023-06-20T12:49:01Z",
      "updated_at": "2023-06-20T12:55:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1235218268",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235218268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 368,
      "original_line": 368,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235266409",
      "pull_request_review_id": 1488151061,
      "id": 1235266409,
      "node_id": "PRRC_kwDOABII585JoKtp",
      "diff_hunk": "@@ -545,9 +546,22 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath\n     shortStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, SHORT_BLOCK_PERIODS, SHORT_DECAY, SHORT_SCALE));\n     longStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, LONG_BLOCK_PERIODS, LONG_DECAY, LONG_SCALE));\n \n-    // If the fee estimation file is present, read recorded estimations\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"rb\")};\n-    if (est_file.IsNull() || !Read(est_file)) {\n+\n+    // Whenever the fee estimation file is not present return early",
      "path": "src/policy/fees.cpp",
      "position": 25,
      "original_position": 16,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "in_reply_to_id": 1235204323,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not blocking, but I agree. Comments are generally required when the code fails to self-document. This whole section is self-explanatory, which is good, meaning comments aren't really required.",
      "created_at": "2023-06-20T13:25:40Z",
      "updated_at": "2023-06-20T13:25:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1235266409",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235266409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 551,
      "original_line": 551,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274514091",
      "pull_request_review_id": 1547039402,
      "id": 1274514091,
      "node_id": "PRRC_kwDOABII585L94qr",
      "diff_hunk": "@@ -290,6 +293,95 @@ def sanity_check_rbf_estimates(self, utxos):\n         est_feerate = node.estimatesmartfee(2)[\"feerate\"]\n         assert_equal(est_feerate, high_feerate_kvb)\n \n+    def test_old_fee_estimate_file(self):\n+        # Get the initial fee rate while node is running\n+        fee_rate = self.nodes[0].estimatesmartfee(1)[\"feerate\"]\n+\n+        # Restart node to ensure fee_estimate.dat file is read\n+        self.restart_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"feerate\"], fee_rate)\n+\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+\n+        # Stop the node and backdate the fee_estimates.dat file more than MAX_FILE_AGE\n+        self.stop_node(0)\n+        last_modified_time = time.time() - (MAX_FILE_AGE + 1) * SECONDS_PER_HOUR\n+        os.utime(fee_dat, (last_modified_time, last_modified_time))\n+\n+        # Start node and ensure the fee_estimates.dat file was not read\n+        self.start_node(0)\n+        assert_equal(self.nodes[0].estimatesmartfee(1)[\"errors\"], [\"Insufficient data or no feerate found\"])\n+\n+\n+    def test_estimate_dat_is_flushed_periodically(self):\n+        fee_dat = self.nodes[0].chain_path / \"fee_estimates.dat\"\n+        os.remove(fee_dat) if os.path.exists(fee_dat) else None\n+\n+        # Verify that fee_estimates.dat does not exist\n+        assert_equal(os.path.isfile(fee_dat), False)\n+\n+        # Verify if the string \"Flushed fee estimates to fee_estimates.dat.\" is present in the debug log file.\n+        # If present, it indicates that fee estimates have been successfully flushed to disk.\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        # Verify that fee estimates were flushed and fee_estimates.dat file is created\n+        assert_equal(os.path.isfile(fee_dat), True)\n+\n+        # Verify that the estimates remain the same if there are no blocks in the flush interval\n+        block_hash_before = self.nodes[0].getbestblockhash()\n+        fee_dat_initial_content = open(fee_dat, \"rb\").read()\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        # Verify that there were no blocks in between the flush interval\n+        assert_equal(block_hash_before, self.nodes[0].getbestblockhash())\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates remain the same after shutdown with no blocks before shutdown\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert_equal(fee_dat_current_content, fee_dat_initial_content)\n+\n+        # Verify that the estimates are not the same if new blocks were produced in the flush interval\n+        with self.nodes[0].assert_debug_log(expected_msgs=[\"Flushed fee estimates to fee_estimates.dat.\"], timeout=1):\n+            # Mock the scheduler for an hour to flush fee estimates to fee_estimates.dat\n+            self.generate(self.nodes[0], 5, sync_fun=self.no_op)\n+            self.nodes[0].mockscheduler(SECONDS_PER_HOUR)\n+\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert fee_dat_current_content != fee_dat_initial_content\n+\n+        fee_dat_initial_content = fee_dat_current_content\n+\n+        # Generate blocks before shutdown and verify that the fee estimates are not the same\n+        self.generate(self.nodes[0], 5, sync_fun=self.no_op)\n+        self.restart_node(0)\n+        fee_dat_current_content = open(fee_dat, \"rb\").read()\n+        assert fee_dat_current_content != fee_dat_initial_content\n+\n+\n+    def test_acceptstalefeeestimates_option(self):",
      "path": "test/functional/feature_fee_estimation.py",
      "position": 93,
      "original_position": 93,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "in_reply_to_id": 1235218268,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in #28157",
      "created_at": "2023-07-26T07:47:58Z",
      "updated_at": "2023-07-26T07:47:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1274514091",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274514091"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 368,
      "original_line": 368,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274514642",
      "pull_request_review_id": 1547040276,
      "id": 1274514642,
      "node_id": "PRRC_kwDOABII585L94zS",
      "diff_hunk": "@@ -25,6 +25,11 @@\n // How often to flush fee estimates to fee_estimates.dat.\n static constexpr std::chrono::hours FEE_FLUSH_INTERVAL{1};\n \n+/** fee_estimates.dat that are more than 60 hours (2.5 days) will not be read,\n+ * as the estimates in the file are stale.",
      "path": "src/policy/fees.h",
      "position": 16,
      "original_position": 5,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "in_reply_to_id": 1233887314,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in #28157",
      "created_at": "2023-07-26T07:48:29Z",
      "updated_at": "2023-07-26T07:48:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1274514642",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274514642"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": 28,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274515246",
      "pull_request_review_id": 1547041145,
      "id": 1274515246,
      "node_id": "PRRC_kwDOABII585L948u",
      "diff_hunk": "@@ -545,9 +546,22 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(const fs::path& estimation_filepath\n     shortStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, SHORT_BLOCK_PERIODS, SHORT_DECAY, SHORT_SCALE));\n     longStats = std::unique_ptr<TxConfirmStats>(new TxConfirmStats(buckets, bucketMap, LONG_BLOCK_PERIODS, LONG_DECAY, LONG_SCALE));\n \n-    // If the fee estimation file is present, read recorded estimations\n     AutoFile est_file{fsbridge::fopen(m_estimation_filepath, \"rb\")};\n-    if (est_file.IsNull() || !Read(est_file)) {\n+\n+    // Whenever the fee estimation file is not present return early",
      "path": "src/policy/fees.cpp",
      "position": 25,
      "original_position": 16,
      "commit_id": "d2b39e09bc6a5982fc5cf4b538b7fdb0e3cae576",
      "original_commit_id": "3eb241a141defa564c94cb95c5bbaf4c5bd9682e",
      "in_reply_to_id": 1235204323,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in #28157",
      "created_at": "2023-07-26T07:49:01Z",
      "updated_at": "2023-07-26T07:49:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27622#discussion_r1274515246",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274515246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 551,
      "original_line": 551,
      "side": "RIGHT"
    }
  ]
}