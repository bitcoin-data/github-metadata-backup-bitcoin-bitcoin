{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604",
    "id": 2540887489,
    "node_id": "PR_kwDOABII586Xct3B",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32604",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32604.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32604.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
    "number": 32604,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "log: Mitigate disk filling attacks by rate limiting LogPrintf, LogInfo, LogWarning, LogError",
    "user": {
      "login": "Crypt-iQ",
      "id": 15145615,
      "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Crypt-iQ",
      "html_url": "https://github.com/Crypt-iQ",
      "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
      "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
      "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
      "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
      "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This revives the work done by dergoegge in https://github.com/bitcoin/bitcoin/pull/21603. The approach is largely the same except that `std::source_location` is used under-the-hood now that we can use c++20 features. The logging functions have also changed slightly since that PR was opened, so work has been done to preserve the intent of the original rate limiting change. I have tried to give commit attribution where possible (unfortunately I was not able to figure out how to type Ã¶ in vim).\r\n\r\n**Approach:**\r\nEach source code location is given an hourly logging quota of 1MiB of logging per hour. Logging is only dropped from source locations that exceed the quota.\r\n- Only logging to disk is rate limited. Logging to console is not rate limited.\r\n- Printing with the category argument is not rate limited.\r\n- `UpdateTip: new best=[â€¦]` is logged with the new `UNCONDITIONAL_ALWAYS` category to avoid rate limiting. High log volume is expected for that source location during IBD.\r\n- When logging is restarted a tally of how many messages/bytes were dropped is printed.\r\n- Log rate limiting can be disabled with the -ratelimitlogging config option.\r\n- All logs will be prefixed with [*] if there is at least one source location that is currently being suppressed.\r\n\r\nFor some reason, the CI is failing on a Windows build and I can't figure out why. I believe it's because the file name returned by `std::source_location` isn't standardized.",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-05-23T20:48:49Z",
    "updated_at": "2025-06-03T13:32:35Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "0d8fc78160712576946d7d30f8bdc13383252fd6",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Crypt-iQ:log_ratelimiting_05192025",
      "ref": "log_ratelimiting_05192025",
      "sha": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 79155174,
        "node_id": "MDEwOlJlcG9zaXRvcnk3OTE1NTE3NA==",
        "name": "bitcoin",
        "full_name": "Crypt-iQ/bitcoin",
        "owner": {
          "login": "Crypt-iQ",
          "id": 15145615,
          "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
          "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Crypt-iQ",
          "html_url": "https://github.com/Crypt-iQ",
          "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
          "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
          "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
          "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
          "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Crypt-iQ/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Crypt-iQ/bitcoin",
        "archive_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Crypt-iQ/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Crypt-iQ/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Crypt-iQ/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/hooks",
        "svn_url": "https://github.com/Crypt-iQ/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 253942,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-28T14:38:12Z",
        "created_at": "2017-01-16T20:09:01Z",
        "updated_at": "2025-05-22T21:56:23Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "88b22acc3d6faeb2c0860695783a2a082d4c8098",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37307,
        "stargazers_count": 83946,
        "watchers_count": 83946,
        "size": 283269,
        "default_branch": "master",
        "open_issues_count": 745,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-03T08:10:52Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-03T13:05:39Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 367,
    "deletions": 86,
    "changed_files": 7,
    "commits": 11,
    "review_comments": 24,
    "comments": 13
  },
  "events": [
    {
      "event": "mentioned",
      "id": 17796220658,
      "node_id": "MEE_lADOABII5864B5OdzwAAAAQkvMby",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17796220658",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T20:48:50Z"
    },
    {
      "event": "subscribed",
      "id": 17796220669,
      "node_id": "SE_lADOABII5864B5OdzwAAAAQkvMb9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17796220669",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T20:48:50Z"
    },
    {
      "event": "commented",
      "id": 2905779417,
      "node_id": "IC_kwDOABII586tMqzZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2905779417",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T20:48:51Z",
      "updated_at": "2025-06-03T10:09:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32604.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [davidgumberg](https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2905800955), [dergoegge](https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2909514124), [brunoerg](https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2910538498), [stickies-v](https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2880741415), [l0rinc](https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2934495128) |\n| Stale ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2868443828) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30595](https://github.com/bitcoin/bitcoin/pull/30595) (kernel: Introduce initial C header API by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n* [#29256](https://github.com/bitcoin/bitcoin/pull/29256) (log, refactor: Allow log macros to accept context arguments by ryanofsky)\n* [#26812](https://github.com/bitcoin/bitcoin/pull/26812) (test: add end-to-end tests for CConnman and PeerManager by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2905779417",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "labeled",
      "id": 17796225522,
      "node_id": "LE_lADOABII5864B5OdzwAAAAQkvNny",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17796225522",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T20:49:22Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 2905800955,
      "node_id": "IC_kwDOABII586tMwD7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2905800955",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T21:00:08Z",
      "updated_at": "2025-05-23T21:00:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2905800955",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "commented",
      "id": 2905866738,
      "node_id": "IC_kwDOABII586tNAHy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2905866738",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T21:34:45Z",
      "updated_at": "2025-05-23T21:34:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Any thoughts about adding some kind of dying gasp so that if a node crashes or hits some fatal error the most recent unfiltered log can be saved?",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2905866738",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "labeled",
      "id": 17796736612,
      "node_id": "LE_lADOABII5864B5OdzwAAAAQkxKZk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17796736612",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T21:47:17Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2905884570,
      "node_id": "IC_kwDOABII586tNEea",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2905884570",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-23T21:47:18Z",
      "updated_at": "2025-05-23T21:47:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/42810774045</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is due to linting errors related to `std::filesystem` and locale dependence.\n</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2905884570",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "commented",
      "id": 2907015832,
      "node_id": "IC_kwDOABII586tRYqY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2907015832",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-24T20:49:35Z",
      "updated_at": "2025-05-24T20:49:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "> if a node crashes or hits some fatal error the most recent unfiltered log can be saved?\r\n\r\nDoes unfiltered here mean a log line that was rate limited or does it mean something else in this context? I think that we would need to know ahead of time if we were going to crash to save the most recent unfiltered log unless we somehow always cache it?",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2907015832",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "commented",
      "id": 2909514124,
      "node_id": "IC_kwDOABII586ta6mM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2909514124",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T12:07:55Z",
      "updated_at": "2025-05-26T12:07:55Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\n\nThanks for picking this up!",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2909514124",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "reviewed",
      "id": 2868443828,
      "node_id": "PRR_kwDOABII586q-Pq0",
      "url": null,
      "actor": null,
      "commit_id": "0bc6ed61cfab6d97e74103efd41c46faf5941ff6",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 0bc6ed61cfab6d97e74103efd41c46faf5941ff6\r\n\r\nRatelimits loging to disk if loggin exceeds 1 MiB  in  1 hour (WINDOW_MAX_BYTES const & WINDOW_SIZE const)\r\n \r\n- code review \r\n- build & tested ",
      "user": {
        "login": "janb84",
        "id": 608446,
        "node_id": "MDQ6VXNlcjYwODQ0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/608446?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janb84",
        "html_url": "https://github.com/janb84",
        "followers_url": "https://api.github.com/users/janb84/followers",
        "following_url": "https://api.github.com/users/janb84/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janb84/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janb84/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janb84/subscriptions",
        "organizations_url": "https://api.github.com/users/janb84/orgs",
        "repos_url": "https://api.github.com/users/janb84/repos",
        "events_url": "https://api.github.com/users/janb84/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janb84/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2868443828",
      "submitted_at": "2025-05-26T13:41:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
    },
    {
      "event": "review_requested",
      "id": 17815097347,
      "node_id": "RRE_lADOABII5864B5OdzwAAAAQl3NAD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17815097347",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T13:41:26Z",
      "requested_reviewer": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 17815097535,
      "node_id": "RRE_lADOABII5864B5OdzwAAAAQl3NC_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17815097535",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T13:41:27Z",
      "requested_reviewer": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2910538498,
      "node_id": "IC_kwDOABII586te0sC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2910538498",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T19:47:41Z",
      "updated_at": "2025-05-26T19:47:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2910538498",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5OGM4ODY0ZDg2OTAyN2E3YjZmMzFjYTJkMGQ0M2EzMGU1YTVhYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d98c8864d869027a7b6f31ca2d0d43a30e5a5aab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d98c8864d869027a7b6f31ca2d0d43a30e5a5aab",
      "tree": {
        "sha": "5fdf11837a1b27f25175d0597f6f30409f1a624a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5fdf11837a1b27f25175d0597f6f30409f1a624a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5fdf11837a1b27f25175d0597f6f30409f1a624a\nparent f7cc7f6468afeb20b01ee86575c7b6329ed2faf9\nauthor Eugene Siegel <elzeigel@gmail.com> 1747756043 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443012 -0400\n\nlog: Introduce LogRateLimiter class\n\nThe LogRateLimiter class implements a fixed window rate limiter. The\nrate limiter allows a fixed amount of bytes to be consumed within a\nfixed time window.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4QACgkQEYdZ6DQ5\nqbFxqgf6ArQjapItMK1o7fdD6OMHL5Xw7vkXUIUbxuHiXVACswriB80TXxjaiVbN\nh5WrSQsW6SFAljY9ZaYsgUpqh5tDmaMSrP8fXYqxP9G2VTJIX+ZSwUx69NkZpiJ/\nLXhT8MxUgUFYuKkSb5Kb634qC7vYINlD8cdhRCkkK3WWK78XiPfjxcsF+wV+FLbw\nlYOJTJ0zFz7oTnfgrGKaZZFDMUIdAQa5ITnhpFj0hkzPC9sB2+qK3Isu0xJHWg56\nOHzdwi4PZEZezK+yqRzZZFVAnEn9OXxD5OGg5w1L6DnfG4a+c/QQGUpdzOlqWDD0\nkccEDm9+a/XHJMeD5kZ/ybosNgfpzw==\n=T1io\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f7cc7f6468afeb20b01ee86575c7b6329ed2faf9",
          "sha": "f7cc7f6468afeb20b01ee86575c7b6329ed2faf9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f7cc7f6468afeb20b01ee86575c7b6329ed2faf9"
        }
      ],
      "message": "log: Introduce LogRateLimiter class\n\nThe LogRateLimiter class implements a fixed window rate limiter. The\nrate limiter allows a fixed amount of bytes to be consumed within a\nfixed time window.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:52Z"
      },
      "author": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-20T15:47:23Z"
      },
      "sha": "d98c8864d869027a7b6f31ca2d0d43a30e5a5aab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRmYmMzZTQ2Yjg2NjFiMTEyYTkxYzVmMDBhNGRjZTQzOWY0ZjU5MTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfbc3e46b8661b112a91c5f00a4dce439f4f5914",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dfbc3e46b8661b112a91c5f00a4dce439f4f5914",
      "tree": {
        "sha": "2b2a7e2eecef6c3ad928b24c01be2d168ced3cfb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b2a7e2eecef6c3ad928b24c01be2d168ced3cfb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2b2a7e2eecef6c3ad928b24c01be2d168ced3cfb\nparent d98c8864d869027a7b6f31ca2d0d43a30e5a5aab\nauthor Eugene Siegel <elzeigel@gmail.com> 1748009717 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443012 -0400\n\nlog: use std::source_location instead of __FILE__, __LINE__ macros\n\nThe std::source_location type stores, among other things, the file\nname and line number of a source code location. We get rid of the\nmacro usage and use std::source_location::current() where applicable.\nIn a later commit, we use this type as the key type in both an\nunordered_map and unordered_set to keep track of rate limiters for\neach location.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4QACgkQEYdZ6DQ5\nqbH4nwf/Z2YLqgfRitr7DCi5vuJUULmiFvSCdyalVn3rVERCsvMY32YSut9n+zwW\nc753L/iAQ59/r7ZMTQEZ2BjNOuxVUcE3uEhnOtWECVCeDi7i3xziZCD15oeEfEE/\nt2s90LXKHk0vYVnskCxPNKlzUH0P+Qnzf/nTpEDUsyDO5Jo+Ac6gyXUXZLMP3bSI\niOwMnFjKwwqhM7nVGMYFBA6rB9Z7IvpuGe/o3QyZqD7w8a++I+X4NCegT5pR9Q40\noy1xwyPdMcCUEh6f68I5o0LxV/PxuP1XB2Gd8pDSSRPYVvEFr49hRcdghYpe67u0\nMMQGBC8KiLaFRIPf9yWtlXVucjIP4g==\n=8mab\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d98c8864d869027a7b6f31ca2d0d43a30e5a5aab",
          "sha": "d98c8864d869027a7b6f31ca2d0d43a30e5a5aab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d98c8864d869027a7b6f31ca2d0d43a30e5a5aab"
        }
      ],
      "message": "log: use std::source_location instead of __FILE__, __LINE__ macros\n\nThe std::source_location type stores, among other things, the file\nname and line number of a source code location. We get rid of the\nmacro usage and use std::source_location::current() where applicable.\nIn a later commit, we use this type as the key type in both an\nunordered_map and unordered_set to keep track of rate limiters for\neach location.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:52Z"
      },
      "author": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-23T14:15:17Z"
      },
      "sha": "dfbc3e46b8661b112a91c5f00a4dce439f4f5914"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcyYjhjODcyZWY2NGM4YTIzMzA4ZGQxNThjZWQyMjgzNGUzZDk3ZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72b8c872ef64c8a23308dd158ced22834e3d97fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/72b8c872ef64c8a23308dd158ced22834e3d97fb",
      "tree": {
        "sha": "6349f0c30cda851930b2102903e58ef06a1665a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6349f0c30cda851930b2102903e58ef06a1665a6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6349f0c30cda851930b2102903e58ef06a1665a6\nparent dfbc3e46b8661b112a91c5f00a4dce439f4f5914\nauthor Niklas Gogge <n.goeggi@gmail.com> 1748019549 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443013 -0400\n\nconfig: add -ratelimitlogging config option\n\nThe -ratelimitlogging can be used to enable/disable the rate limiting to\ndisk. Rate limiting is enabled by default.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4UACgkQEYdZ6DQ5\nqbHeygf/XHp3E14HH44WsEs4J+ZvZ9x5rzTqh2X/9DQULDuLYzOG1XJdhlq5XAtV\nxT/TGY55bmA253uguytk6fZHZMUETKvVeuz1b2BqXEsMW73itCCPH3pOcZE6jCzh\nEUPyJg7s52DpKiKtUS6V8zoTz030NFpV8lR9AxkUUTaLC0TkR3sisvZnyUKfvEJi\n2eGq5jusdfKfeiG/+/jF0+koyMf5iX888nSUHtUYggS9j4L5kDC17JMd5pSrAaCT\nKEzHsP5S7kCWLdYCWiQwLvfgrkEV/rqLUgYuKSuGMq++7mqC89WUdhr6txIaWt5v\njLMyRuIk7D9dgh43vPZZvof+5gRe6Q==\n=FFTf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfbc3e46b8661b112a91c5f00a4dce439f4f5914",
          "sha": "dfbc3e46b8661b112a91c5f00a4dce439f4f5914",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dfbc3e46b8661b112a91c5f00a4dce439f4f5914"
        }
      ],
      "message": "config: add -ratelimitlogging config option\n\nThe -ratelimitlogging can be used to enable/disable the rate limiting to\ndisk. Rate limiting is enabled by default.",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:53Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-23T16:59:09Z"
      },
      "sha": "72b8c872ef64c8a23308dd158ced22834e3d97fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY3MTI0NDhhNzFkYzk5YTUwYzM4ZDlmYjk3MGVmMjkzMjRmOTVlOTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6712448a71dc99a50c38d9fb970ef29324f95e95",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6712448a71dc99a50c38d9fb970ef29324f95e95",
      "tree": {
        "sha": "25c0f4334af3b281df0842268e2725095f93bccd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/25c0f4334af3b281df0842268e2725095f93bccd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 25c0f4334af3b281df0842268e2725095f93bccd\nparent 72b8c872ef64c8a23308dd158ced22834e3d97fb\nauthor Eugene Siegel <elzeigel@gmail.com> 1748020144 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443013 -0400\n\nlog: Add two new categories for unconditional logging\n\nWe create two new categories `UNCONDITIONAL_ALWAYS` and\n`UNCONDITIONAL_RATE_LIMITED` that are always enabled by default.\n\nLogInfo, LogWarning, and LogError now log using the\n`UNCONDITIONAL_RATE_LIMITED` category which will start to apply\nrate limiting in a later commit.\n\nFor some log locations, it might be safe to allow more frequent\nlogging without rate limiting. These locations should use the\n`UNCONDITIONAL_ALWAYS` category.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4UACgkQEYdZ6DQ5\nqbEMCwgAmvYoFonhhuWFGoIr+sekCoMAvtd0dgQYwVUpEKOshzzkD0hXNVfvCMTS\n6pBNH4rN7bvXh+pgUCW18IWi1VNrJ0nUqYGn0ioLK+klkRZLc3Xwf7H4xWADtJCg\nEQwYbtXjQ2Lbna61v9kwkqgQkuwTanaoBx5cVpzybNOSNoKfxzKUdQmLegef/bRk\noJR8Cc4LN7UsQ0gs5zUp9Rurb7Tt+A08nbYVGTiSk45PjCa6fg8Tp9Ofnw34ydrP\nq1ih+KiezIiRF5B/tjz6C2E6X7ncTru/4PvM2pLzDLtEGhU3UxRTI16+xKt/bwQY\nYDPBx0EOMq40prZFPzrl186VXk+2Fw==\n=OsiN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72b8c872ef64c8a23308dd158ced22834e3d97fb",
          "sha": "72b8c872ef64c8a23308dd158ced22834e3d97fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/72b8c872ef64c8a23308dd158ced22834e3d97fb"
        }
      ],
      "message": "log: Add two new categories for unconditional logging\n\nWe create two new categories `UNCONDITIONAL_ALWAYS` and\n`UNCONDITIONAL_RATE_LIMITED` that are always enabled by default.\n\nLogInfo, LogWarning, and LogError now log using the\n`UNCONDITIONAL_RATE_LIMITED` category which will start to apply\nrate limiting in a later commit.\n\nFor some log locations, it might be safe to allow more frequent\nlogging without rate limiting. These locations should use the\n`UNCONDITIONAL_ALWAYS` category.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:53Z"
      },
      "author": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-23T17:09:04Z"
      },
      "sha": "6712448a71dc99a50c38d9fb970ef29324f95e95"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3NjdlZWY5M2YwYmJjMGRlMTIxYjE3OTdkN2E2ZmQyMTYzMTc0MGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c767eef93f0bbc0de121b1797d7a6fd21631740c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c767eef93f0bbc0de121b1797d7a6fd21631740c",
      "tree": {
        "sha": "ea5640f7803089337043933515363be7901bf805",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea5640f7803089337043933515363be7901bf805"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ea5640f7803089337043933515363be7901bf805\nparent 6712448a71dc99a50c38d9fb970ef29324f95e95\nauthor Niklas Gogge <n.goeggi@gmail.com> 1748020304 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443013 -0400\n\nvalidation: exempt UpdateTipLog from rate limiting\n\nUpdateTipLog logs every time a new tip is activated. This occurs at\nan increased frequency during IBD and should therefore be exempt\nfrom rate limiting.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4UACgkQEYdZ6DQ5\nqbH2awf/RwimGRQSh2IndgLfmi2Rqjnf102QJJ6R0flSheidmT858J4x4S6iG9py\nv1vCHyLxDXr+aw3PlPmlhcfeca606aNMAnKE6pSsxVL0vYGt262r7cBgEJRGtO2y\nxQvSZzWrvw87RQTFyXDVQ51HO/Khfsvxwco5T8vFs1Ocxwo8WrUS79UaIKdjgXC7\nAYAZBbO1YqGkFw4FqXsMGNBa3zwySHQKUGrrz3NfNIDfBhG5T2RmeSzulZdg1Uxf\nqNOw/nYUpqI5PwClhwWQ92g2yyseMqDvGKqBFEPtK7F1NWBjUukJrgdsvdFw1tkd\nrAm3jLeRp4gv4OcBAVfOF+SN2MLq3A==\n=/dnz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6712448a71dc99a50c38d9fb970ef29324f95e95",
          "sha": "6712448a71dc99a50c38d9fb970ef29324f95e95",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6712448a71dc99a50c38d9fb970ef29324f95e95"
        }
      ],
      "message": "validation: exempt UpdateTipLog from rate limiting\n\nUpdateTipLog logs every time a new tip is activated. This occurs at\nan increased frequency during IBD and should therefore be exempt\nfrom rate limiting.",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:53Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-23T17:11:44Z"
      },
      "sha": "c767eef93f0bbc0de121b1797d7a6fd21631740c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZiNTQzNjJjMTljYTliYWY5ZGZhOWJlOTI4MWY2ZmFlZGExNjk0MjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6b54362c19ca9baf9dfa9be9281f6faeda169420",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6b54362c19ca9baf9dfa9be9281f6faeda169420",
      "tree": {
        "sha": "62dd4be1e5ec5a0ae53c8c8012134499bed5a896",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/62dd4be1e5ec5a0ae53c8c8012134499bed5a896"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 62dd4be1e5ec5a0ae53c8c8012134499bed5a896\nparent c767eef93f0bbc0de121b1797d7a6fd21631740c\nauthor Eugene Siegel <elzeigel@gmail.com> 1748021015 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443013 -0400\n\nlog: Add rate limiting to LogPrintf, LogInfo, LogWarning, and LogError\n\nTo mitigate disk-filling attacks caused by unsafe usages of LogPrintf and\nfriends, we rate-limit them by used the fixed window rate limiter\n(BCLog::LogRateLimiter) introduced in an earlier commit.\n\nThe rate limiting logic is applied per source location instead of\nglobally. A source location is allowed to log up to 1MiB per hour.\nSource locations that violate the limit will have their logs suppressed\nfor up to one hour.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4UACgkQEYdZ6DQ5\nqbE0ZAgAmfhLND6Si5ZyXfMg2ex5FgFJIJHmawAWXikuFabAbXYvx1dUKVvUfqlV\n59JO6eNq3b+QkYvcN4f9PQhoPT0MBTNMvpqjaVtO8fpYUXgexJ/hyut2DCySdLAt\nfI7kmPIn+Rx6RSV03hnWeubZoeJGLTBQZ2YM8YH57l9auXORW35l3igPiqkmmhrT\nrsJQ+n7ykgdMiZq9LeJ6XQ2EjwwT+IluuuimRImtZXdfvGRnPfZAhVB1hTiXR3uZ\nI1EgUSCQIj7RCyHQacZ3cFMmgLPeBAECvDWkd9gCOgJ2gEU5jcrfb1Iu7WjgvcSU\njaxUjvVc5r023FsYlsIAOCkS/wKX6A==\n=oUbw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c767eef93f0bbc0de121b1797d7a6fd21631740c",
          "sha": "c767eef93f0bbc0de121b1797d7a6fd21631740c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c767eef93f0bbc0de121b1797d7a6fd21631740c"
        }
      ],
      "message": "log: Add rate limiting to LogPrintf, LogInfo, LogWarning, and LogError\n\nTo mitigate disk-filling attacks caused by unsafe usages of LogPrintf and\nfriends, we rate-limit them by used the fixed window rate limiter\n(BCLog::LogRateLimiter) introduced in an earlier commit.\n\nThe rate limiting logic is applied per source location instead of\nglobally. A source location is allowed to log up to 1MiB per hour.\nSource locations that violate the limit will have their logs suppressed\nfor up to one hour.\n\nCo-Authored-By: Niklas Gogge <n.goeggi@gmail.com>",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:53Z"
      },
      "author": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-23T17:23:35Z"
      },
      "sha": "6b54362c19ca9baf9dfa9be9281f6faeda169420"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxYmYwZmQ3NDc4NWIwOTIwZjE5OTYxOGViYjRlZDBlMWUzYzI4Yzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01bf0fd74785b0920f199618ebb4ed0e1e3c28c9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01bf0fd74785b0920f199618ebb4ed0e1e3c28c9",
      "tree": {
        "sha": "be8866787bfcc3ee9070ddc3cab8f638ea3adf90",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/be8866787bfcc3ee9070ddc3cab8f638ea3adf90"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree be8866787bfcc3ee9070ddc3cab8f638ea3adf90\nparent 6b54362c19ca9baf9dfa9be9281f6faeda169420\nauthor Niklas Gogge <n.goeggi@gmail.com> 1747839574 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443013 -0400\n\ntest: Mark ~DebugLogHelper as noexcept(false)\n\nWe mark ~DebugLogHelper as noexcept(false) to be able to catch the\nexception it throws. This lets us use it in test in combination with\nBOOST_CHECK_THROW and BOOST_CHECK_NO_THROW to check that certain log\nmessages are (not) logged.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4UACgkQEYdZ6DQ5\nqbHrMgf/cfLS2vWKUOajxqGPpnsuD0YNWGXxbBqSLmZYmp7zSxVN3CkXGSBdwJQp\nFJwkPiJCIz4AhVn28aAAJXt65+8mhveYdyDI2h3u7ELdIBs/7b8sL7+BJgZNjc3z\nBa9kNReHv7bvMjcCwwr8cJjPl3rpimx2tEYfRjkg7w1MVW6acfNILCa11n/zN6n5\n0fEHbmGIWZbFfIkBoPYKusUq2WhEpZtVOs04AQBXM4UpG9+/YLQd0XvARO75vXJT\nExiJgFfKShmyH3GZSbf+2XZIugNi5fm3xnLPotzHcKT/1Y2YnGKplPsGX4/L/xjC\ng6lwh11X7VQaIlrbFpkMQfvPRj76kA==\n=pYRN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6b54362c19ca9baf9dfa9be9281f6faeda169420",
          "sha": "6b54362c19ca9baf9dfa9be9281f6faeda169420",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6b54362c19ca9baf9dfa9be9281f6faeda169420"
        }
      ],
      "message": "test: Mark ~DebugLogHelper as noexcept(false)\n\nWe mark ~DebugLogHelper as noexcept(false) to be able to catch the\nexception it throws. This lets us use it in test in combination with\nBOOST_CHECK_THROW and BOOST_CHECK_NO_THROW to check that certain log\nmessages are (not) logged.",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:53Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-21T14:59:34Z"
      },
      "sha": "01bf0fd74785b0920f199618ebb4ed0e1e3c28c9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExOGRlNzg0MzlmOTE3MGM3ZjcxYmFlNzc4YTkzN2RlNzBmNzI3ZjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/118de78439f9170c7f71bae778a937de70f727f3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/118de78439f9170c7f71bae778a937de70f727f3",
      "tree": {
        "sha": "b7f58e4708b9edc07bd3ee3c1327d09b2364a6d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b7f58e4708b9edc07bd3ee3c1327d09b2364a6d7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b7f58e4708b9edc07bd3ee3c1327d09b2364a6d7\nparent 01bf0fd74785b0920f199618ebb4ed0e1e3c28c9\nauthor Niklas Gogge <n.goeggi@gmail.com> 1747853983 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443014 -0400\n\ntest: Check for expected log rate limiting messages\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4YACgkQEYdZ6DQ5\nqbGwcQf/YZcM/SgmOd194ZE8m31rtavBBIyOwbISblqdLUm5QcLmTiXDSKnOuGfd\nJp3Enz9icd+zkBJgg+ByvDwFXdR5k6XEfKVlC++QAiZN6zDSHIPl9Qxel0ez5/gR\nV8Ywmx+GLS/47bYHQL7rpgVt6FI5W778S4ya87XgQG/A44bCWAPdLtuhf0H3/V49\nch8ggSjEyHV0bmL/GPR+Xs7xYCgK4loJit5gG1JfdvvOK8lgEN2dBe06b23+GG6O\nFcGgQwvdJAvHNAqJbQt64ju6QI8IXclbrtmpzvM7lcZd0am+p7BlcKLImlDEwrLC\nYtyFEzDi0lGjsxZkLANZKGnUEOwu2A==\n=AOv0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01bf0fd74785b0920f199618ebb4ed0e1e3c28c9",
          "sha": "01bf0fd74785b0920f199618ebb4ed0e1e3c28c9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01bf0fd74785b0920f199618ebb4ed0e1e3c28c9"
        }
      ],
      "message": "test: Check for expected log rate limiting messages",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:54Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-21T18:59:43Z"
      },
      "sha": "118de78439f9170c7f71bae778a937de70f727f3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA5Mjg2NjhjNzc5MGY0YWU3ZTUwNWQ0YjdlMjEzZjIzY2ZkMzA4YzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0928668c7790f4ae7e505d4b7e213f23cfd308c4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0928668c7790f4ae7e505d4b7e213f23cfd308c4",
      "tree": {
        "sha": "61ccffdce51f8cb04ce1d9570ed556fdcab48b7a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/61ccffdce51f8cb04ce1d9570ed556fdcab48b7a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 61ccffdce51f8cb04ce1d9570ed556fdcab48b7a\nparent 118de78439f9170c7f71bae778a937de70f727f3\nauthor Niklas Gogge <n.goeggi@gmail.com> 1747855203 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443014 -0400\n\ntest: Test for expected file size changes when rate limiting is enabled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4YACgkQEYdZ6DQ5\nqbED+Af+MEf+1+/RXBNyEAug1rtGgFxpc7s1XxnjNhnpBiHdLIWs0ZPEgmePhOtx\nZlGqfwZ/74+cRPBzgRg2rVcsXEY8hGc98P8EJr0uozei+X4xAn6e9nAkSzNssqjn\nNyjN3Z+QCzpVqJQmug+ZgR0B5gt85dTunuXDJ7AJ7IgQdfqZYkmm1XG6ieR0sBoq\ntbrnIqtyIl6wOA8S/dZX8XQ+Qv2raAuBJfmr+pprbH9G14NKuZC5nKG9J/cLnFB1\nU062Ykay+woFbhxo/6DC5euSqWqjisWv2ioxFgtZfYAe1wJ1nAb7uyISxvF2YnVX\nqdegokvl+QwOPA/teBxbmwM0B7h6vQ==\n=Qb+D\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/118de78439f9170c7f71bae778a937de70f727f3",
          "sha": "118de78439f9170c7f71bae778a937de70f727f3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/118de78439f9170c7f71bae778a937de70f727f3"
        }
      ],
      "message": "test: Test for expected file size changes when rate limiting is enabled",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:54Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-21T19:20:03Z"
      },
      "sha": "0928668c7790f4ae7e505d4b7e213f23cfd308c4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5NDI4Yjk5ZjM2OGNmMGEyZWJjMjY1OTNjZWMwZjgyOWQ4MDE5MTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9428b99f368cf0a2ebc26593cec0f829d801911",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b9428b99f368cf0a2ebc26593cec0f829d801911",
      "tree": {
        "sha": "3285905d49e8745782a744a31d1878acfbe24e4b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3285905d49e8745782a744a31d1878acfbe24e4b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3285905d49e8745782a744a31d1878acfbe24e4b\nparent 0928668c7790f4ae7e505d4b7e213f23cfd308c4\nauthor Niklas Gogge <n.goeggi@gmail.com> 1747856543 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443014 -0400\n\ntest: Check that log rate limiting is disabled for exempt source locations\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4YACgkQEYdZ6DQ5\nqbEjiwgAn50uKjpyEjS+4svTTK4jq8jfqkgsYFbVv+ZjBalI2dk00PrJrnLOF7v0\nk6ucxMmCs1I8RiXwD5ElhcqkR3JlP37hl3gXIZWygybh3X9BAA6Peux/F+gm/Jcr\nB7iPsh6JdRGHwWF4a78qcS7+Z0e5b8+6snI1B1V3T3vW8F+5b564hTmPJTBPMJDg\nskIL5E2o5ZazWM4YmoUetp91h5NQd5shvpolC/cV1BCoTA1RA8ued5vWPeHmtRk8\nJf8H07OzBsi0YEo97TvNmAKeG7HD9lr10OMmzl4o/RoSDw9/o6JAkOHWflWOPwyE\nl+fLz5UtY4hsX1H9RsnqpWPwO7SpFA==\n=RQAH\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0928668c7790f4ae7e505d4b7e213f23cfd308c4",
          "sha": "0928668c7790f4ae7e505d4b7e213f23cfd308c4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0928668c7790f4ae7e505d4b7e213f23cfd308c4"
        }
      ],
      "message": "test: Check that log rate limiting is disabled for exempt source locations",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:54Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-21T19:42:23Z"
      },
      "sha": "b9428b99f368cf0a2ebc26593cec0f829d801911"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkZWNlMDU1M2NhNGJhMzllNTRlODBlODQwYzdjYWQ5M2ZiZTFmOTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "tree": {
        "sha": "8e72bbc7337d09a5c9101e1a6be2e23ab3b86185",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e72bbc7337d09a5c9101e1a6be2e23ab3b86185"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8e72bbc7337d09a5c9101e1a6be2e23ab3b86185\nparent b9428b99f368cf0a2ebc26593cec0f829d801911\nauthor Niklas Gogge <n.goeggi@gmail.com> 1747921844 -0400\ncommitter Eugene Siegel <elzeigel@gmail.com> 1748443014 -0400\n\ntest: Check that rate limiting can be disabled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEfoHva5mJqcyTiEgDEYdZ6DQ5qbEFAmg3H4YACgkQEYdZ6DQ5\nqbGxbggApD2iY7kDRf6kUJ9rmXk9sg8ZZq+EVcPMV5hY3+FBYh1SSJP0xreQA5bo\n2wVb3G9LVpYsKeegFw8OulW2+H5pWkNWEOohvybm4SwZ1WIDHPu7ko9CJwga/eqW\nPUwM5XiZzAXobWGWpgAGHys26vAH496Cw9NGRcHTwVUBbvvakDAmbP38ynpqKZ9b\ngebejWjd9eZk++frsoi/mgiVIwFVUsq/v+ZyeAPymcPoVRmcin/VzHk46dmClVdz\n0XW5k1YVxNjvDqi+AKoWx5K4tgGa+KZNQZFT6y1w46IsUWtH1RgEjXwymgZM3Ous\nuxUp96WhXGwj4R+Y6Lr68hybbdYCLA==\n=yeR6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9428b99f368cf0a2ebc26593cec0f829d801911",
          "sha": "b9428b99f368cf0a2ebc26593cec0f829d801911",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b9428b99f368cf0a2ebc26593cec0f829d801911"
        }
      ],
      "message": "test: Check that rate limiting can be disabled",
      "committer": {
        "name": "Eugene Siegel",
        "email": "elzeigel@gmail.com",
        "date": "2025-05-28T14:36:54Z"
      },
      "author": {
        "name": "Niklas Gogge",
        "email": "n.goeggi@gmail.com",
        "date": "2025-05-22T13:50:44Z"
      },
      "sha": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17852493897,
      "node_id": "HRFPE_lADOABII5864B5OdzwAAAAQoF3BJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17852493897",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "commit_url": "https://api.github.com/repos/Crypt-iQ/bitcoin/commits/6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "created_at": "2025-05-28T14:38:13Z"
    },
    {
      "event": "commented",
      "id": 2919920634,
      "node_id": "IC_kwDOABII586uCnP6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2919920634",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-29T16:22:13Z",
      "updated_at": "2025-05-29T16:24:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "The tidy job is failing because it doesn't like the logging macros being used in lambda functions. It seems like this is pre-existing so I'm not sure why it's failing now. The windows cross-built job is failing on the `rate_limiting` test at every file-size comparison. I don't have a windows machine to debug this, but I think maybe `fs::file_size` is failing or some other quirk is showing up?",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2919920634",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "reviewed",
      "id": 2880741415,
      "node_id": "PRR_kwDOABII586rtKAn",
      "url": null,
      "actor": null,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK on locking down this attack vector, and the code changes required seem acceptable. Also nice to start using `std::source_location` here.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2880741415",
      "submitted_at": "2025-05-30T10:21:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
    },
    {
      "event": "commented",
      "id": 2922025698,
      "node_id": "IC_kwDOABII586uKpLi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2922025698",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T10:57:04Z",
      "updated_at": "2025-05-30T10:57:04Z",
      "author_association": "MEMBER",
      "body": "> The windows cross-built job is failing on the rate_limiting test at every file-size comparison. I don't have a windows machine to debug this, but I think maybe fs::file_size is failing or some other quirk is showing up?\r\n\r\n@hebasto can you take a look here? I ran `test_bitcoin.exe` from this branch (rebased) under wine and didn't see any failures.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2922025698",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "mentioned",
      "id": 17883600371,
      "node_id": "MEE_lADOABII5864B5OdzwAAAAQp8hXz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17883600371",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T10:57:05Z"
    },
    {
      "event": "subscribed",
      "id": 17883600405,
      "node_id": "SE_lADOABII5864B5OdzwAAAAQp8hYV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17883600405",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T10:57:05Z"
    },
    {
      "event": "commented",
      "id": 2922246861,
      "node_id": "IC_kwDOABII586uLfLN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2922246861",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T12:20:01Z",
      "updated_at": "2025-05-30T12:22:49Z",
      "author_association": "MEMBER",
      "body": "> > The windows cross-built job is failing on the rate_limiting test at every file-size comparison. I don't have a windows machine to debug this, but I think maybe fs::file_size is failing or some other quirk is showing up?\r\n> \r\n> @hebasto can you take a look here? I ran `test_bitcoin.exe` from this branch (rebased) under wine and didn't see any failures.\r\n\r\nIt seems to be related to MSVCRT behaviour, as binaries [linked to UCRT](https://github.com/hebasto/bitcoin-core-nightly/actions/runs/15345658695) pass all unit tests.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2922246861",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "mentioned",
      "id": 17884641427,
      "node_id": "MEE_lADOABII5864B5OdzwAAAAQqAfiT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17884641427",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T12:20:02Z"
    },
    {
      "event": "subscribed",
      "id": 17884641493,
      "node_id": "SE_lADOABII5864B5OdzwAAAAQqAfjV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17884641493",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-30T12:20:02Z"
    },
    {
      "event": "reviewed",
      "id": 2881185484,
      "node_id": "PRR_kwDOABII586ru2bM",
      "url": null,
      "actor": null,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2881185484",
      "submitted_at": "2025-05-30T12:52:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
    },
    {
      "event": "commented",
      "id": 2934186705,
      "node_id": "IC_kwDOABII586u5CLR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2934186705",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T08:47:37Z",
      "updated_at": "2025-06-03T08:47:37Z",
      "author_association": "MEMBER",
      "body": "I vaguely remember having trouble with the unit tests on windows too. Iirc it had something to do with windows line endings being different (i.e. `\\r\\n` on windows vs `\\n` on linux), which throws off the size accounting.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2934186705",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "commented",
      "id": 2934471353,
      "node_id": "IC_kwDOABII586u6Hq5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2934471353",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T10:03:15Z",
      "updated_at": "2025-06-03T10:03:15Z",
      "author_association": "MEMBER",
      "body": "> The tidy job is failing because it doesn't like the logging macros being used in lambda functions. It seems like this is pre-existing so I'm not sure why it's failing now.\r\n\r\nIt happens after commit dfbc3e46b8661b112a91c5f00a4dce439f4f5914 and looks unrelated. Maybe just use the workaround from ./src/util/check.h?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2934471353",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "commented",
      "id": 2934495128,
      "node_id": "IC_kwDOABII586u6NeY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2934495128",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-03T10:09:15Z",
      "updated_at": "2025-06-03T10:12:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, but I'm not yet sure about the approach. Let me know if I misunderstood something important here.\r\n\r\nEdit:\r\n> All logs will be prefixed with [*] if there is at least one source location that is currently being suppressed\r\n\r\nWill that appear on the console as well, which didn't have any messages dropped?",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#issuecomment-2934495128",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32604"
    },
    {
      "event": "reviewed",
      "id": 2891468741,
      "node_id": "PRR_kwDOABII586sWE_F",
      "url": null,
      "actor": null,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#pullrequestreview-2891468741",
      "submitted_at": "2025-06-03T10:09:27Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107350361",
      "pull_request_review_id": 2868443828,
      "id": 2107350361,
      "node_id": "PRRC_kwDOABII5859m51Z",
      "diff_hunk": "@@ -27,10 +31,29 @@ static const bool DEFAULT_LOGTIMESTAMPS = true;\n static const bool DEFAULT_LOGTHREADNAMES = false;\n static const bool DEFAULT_LOGSOURCELOCATIONS = false;\n static constexpr bool DEFAULT_LOGLEVELALWAYS = false;",
      "path": "src/logging.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "0bc6ed61cfab6d97e74103efd41c46faf5941ff6",
      "in_reply_to_id": null,
      "user": {
        "login": "janb84",
        "id": 608446,
        "node_id": "MDQ6VXNlcjYwODQ0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/608446?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janb84",
        "html_url": "https://github.com/janb84",
        "followers_url": "https://api.github.com/users/janb84/followers",
        "following_url": "https://api.github.com/users/janb84/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janb84/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janb84/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janb84/subscriptions",
        "organizations_url": "https://api.github.com/users/janb84/orgs",
        "repos_url": "https://api.github.com/users/janb84/repos",
        "events_url": "https://api.github.com/users/janb84/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janb84/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: would be nice to align the other initializations to the new C++ 11 {} style in a follow up PR, to keep the code base consistent. ",
      "created_at": "2025-05-26T13:22:15Z",
      "updated_at": "2025-05-26T13:41:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2107350361",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107350361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2114308684",
      "pull_request_review_id": 2878876682,
      "id": 2114308684,
      "node_id": "PRRC_kwDOABII585-BcpM",
      "diff_hunk": "@@ -27,10 +31,29 @@ static const bool DEFAULT_LOGTIMESTAMPS = true;\n static const bool DEFAULT_LOGTHREADNAMES = false;\n static const bool DEFAULT_LOGSOURCELOCATIONS = false;\n static constexpr bool DEFAULT_LOGLEVELALWAYS = false;",
      "path": "src/logging.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "0bc6ed61cfab6d97e74103efd41c46faf5941ff6",
      "in_reply_to_id": 2107350361,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I can do that in a follow-up",
      "created_at": "2025-05-29T16:23:26Z",
      "updated_at": "2025-05-29T16:23:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2114308684",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2114308684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115514944",
      "pull_request_review_id": 2880741415,
      "id": 2115514944,
      "node_id": "PRRC_kwDOABII585-GDJA",
      "diff_hunk": "@@ -39,39 +62,41 @@ struct LogCategory {\n namespace BCLog {\n     using CategoryMask = uint64_t;\n     enum LogFlags : CategoryMask {\n-        NONE        = CategoryMask{0},\n-        NET         = (CategoryMask{1} <<  0),\n-        TOR         = (CategoryMask{1} <<  1),\n-        MEMPOOL     = (CategoryMask{1} <<  2),\n-        HTTP        = (CategoryMask{1} <<  3),\n-        BENCH       = (CategoryMask{1} <<  4),\n-        ZMQ         = (CategoryMask{1} <<  5),\n-        WALLETDB    = (CategoryMask{1} <<  6),\n-        RPC         = (CategoryMask{1} <<  7),\n-        ESTIMATEFEE = (CategoryMask{1} <<  8),\n-        ADDRMAN     = (CategoryMask{1} <<  9),\n-        SELECTCOINS = (CategoryMask{1} << 10),\n-        REINDEX     = (CategoryMask{1} << 11),\n-        CMPCTBLOCK  = (CategoryMask{1} << 12),\n-        RAND        = (CategoryMask{1} << 13),\n-        PRUNE       = (CategoryMask{1} << 14),\n-        PROXY       = (CategoryMask{1} << 15),\n-        MEMPOOLREJ  = (CategoryMask{1} << 16),\n-        LIBEVENT    = (CategoryMask{1} << 17),\n-        COINDB      = (CategoryMask{1} << 18),\n-        QT          = (CategoryMask{1} << 19),\n-        LEVELDB     = (CategoryMask{1} << 20),\n-        VALIDATION  = (CategoryMask{1} << 21),\n-        I2P         = (CategoryMask{1} << 22),\n-        IPC         = (CategoryMask{1} << 23),\n+        NONE                       = CategoryMask{0},\n+        NET                        = (CategoryMask{1} <<  0),\n+        TOR                        = (CategoryMask{1} <<  1),\n+        MEMPOOL                    = (CategoryMask{1} <<  2),\n+        HTTP                       = (CategoryMask{1} <<  3),\n+        BENCH                      = (CategoryMask{1} <<  4),\n+        ZMQ                        = (CategoryMask{1} <<  5),\n+        WALLETDB                   = (CategoryMask{1} <<  6),\n+        RPC                        = (CategoryMask{1} <<  7),\n+        ESTIMATEFEE                = (CategoryMask{1} <<  8),\n+        ADDRMAN                    = (CategoryMask{1} <<  9),\n+        SELECTCOINS                = (CategoryMask{1} << 10),\n+        REINDEX                    = (CategoryMask{1} << 11),\n+        CMPCTBLOCK                 = (CategoryMask{1} << 12),\n+        RAND                       = (CategoryMask{1} << 13),\n+        PRUNE                      = (CategoryMask{1} << 14),\n+        PROXY                      = (CategoryMask{1} << 15),\n+        MEMPOOLREJ                 = (CategoryMask{1} << 16),\n+        LIBEVENT                   = (CategoryMask{1} << 17),\n+        COINDB                     = (CategoryMask{1} << 18),\n+        QT                         = (CategoryMask{1} << 19),\n+        LEVELDB                    = (CategoryMask{1} << 20),\n+        VALIDATION                 = (CategoryMask{1} << 21),\n+        I2P                        = (CategoryMask{1} << 22),\n+        IPC                        = (CategoryMask{1} << 23),\n #ifdef DEBUG_LOCKCONTENTION\n-        LOCK        = (CategoryMask{1} << 24),\n+        LOCK                       = (CategoryMask{1} << 24),\n #endif\n-        BLOCKSTORAGE = (CategoryMask{1} << 25),\n-        TXRECONCILIATION = (CategoryMask{1} << 26),\n-        SCAN        = (CategoryMask{1} << 27),\n-        TXPACKAGES  = (CategoryMask{1} << 28),\n-        ALL         = ~NONE,\n+        BLOCKSTORAGE               = (CategoryMask{1} << 25),\n+        TXRECONCILIATION           = (CategoryMask{1} << 26),\n+        SCAN                       = (CategoryMask{1} << 27),\n+        TXPACKAGES                 = (CategoryMask{1} << 28),\n+        UNCONDITIONAL_RATE_LIMITED = (CategoryMask{1} << 29),\n+        UNCONDITIONAL_ALWAYS       = (CategoryMask{1} << 30),",
      "path": "src/logging.h",
      "position": 121,
      "original_position": 121,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: I think a brief docstring on their suggested usage here would be helpful here",
      "created_at": "2025-05-30T09:34:19Z",
      "updated_at": "2025-05-30T10:21:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115514944",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115514944"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": 97,
      "original_start_line": 97,
      "start_side": "RIGHT",
      "line": 98,
      "original_line": 98,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115526293",
      "pull_request_review_id": 2880741415,
      "id": 2115526293,
      "node_id": "PRRC_kwDOABII585-GF6V",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is there a good use case for disabling rate limiting? I can't think of one. Letting the user define the amount of rate limiting is an alternative, but even then, I'm not sure. If an attacker or bug is able to reach the sane default maximum, then is the user really going to get any benefit from being to inspect the additional volume of un-ratelimited logs? I'm not sure. If so, I think it would make sense to not have this as a configurable option.\r\n\r\n",
      "created_at": "2025-05-30T09:40:06Z",
      "updated_at": "2025-05-30T10:21:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115526293",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115526293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115570067",
      "pull_request_review_id": 2880741415,
      "id": 2115570067,
      "node_id": "PRRC_kwDOABII585-GQmT",
      "diff_hunk": "@@ -113,17 +181,17 @@ namespace BCLog {\n         std::atomic<Level> m_log_level{DEFAULT_LOG_LEVEL};\n \n         /** Log categories bitfield. */\n-        std::atomic<CategoryMask> m_categories{BCLog::NONE};\n+        std::atomic<CategoryMask> m_categories{DEFAULT_LOG_FLAGS};",
      "path": "src/logging.h",
      "position": 200,
      "original_position": 200,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Hmm, I'm feeling uneasy about using `m_categories`, when rate limiting flags fundamentally don't represent a category. I can see how it reduces the diff, but I'm not sure that's worth it. I'll think about an alternative approach - have you considered any already?\r\n\r\nSince the user doesn't have to be able to configure any of this, and we only have a single `UNCONDITIONAL_ALWAYS` use case (and likely won't have (many) more in the future), I think adding an `is_conditional=True` arg to `LogPrintLevel` and a `LogInfoAlways` macro might be an alternative?",
      "created_at": "2025-05-30T10:03:02Z",
      "updated_at": "2025-05-30T10:21:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115570067",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115570067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 184,
      "original_line": 184,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115756875",
      "pull_request_review_id": 2881078755,
      "id": 2115756875,
      "node_id": "PRRC_kwDOABII585-G-NL",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "That's a good point, I can't think of any concrete use case to disable rate limiting here.",
      "created_at": "2025-05-30T11:33:52Z",
      "updated_at": "2025-05-30T11:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115756875",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115756875"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115778728",
      "pull_request_review_id": 2881107790,
      "id": 2115778728,
      "node_id": "PRRC_kwDOABII585-HDio",
      "diff_hunk": "@@ -113,17 +181,17 @@ namespace BCLog {\n         std::atomic<Level> m_log_level{DEFAULT_LOG_LEVEL};\n \n         /** Log categories bitfield. */\n-        std::atomic<CategoryMask> m_categories{BCLog::NONE};\n+        std::atomic<CategoryMask> m_categories{DEFAULT_LOG_FLAGS};",
      "path": "src/logging.h",
      "position": 200,
      "original_position": 200,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115570067,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I haven't considered alternative approaches, but I think adding a boolean is better than adding special-cased categories.",
      "created_at": "2025-05-30T11:44:09Z",
      "updated_at": "2025-05-30T11:44:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115778728",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115778728"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 184,
      "original_line": 184,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115826232",
      "pull_request_review_id": 2881185484,
      "id": 2115826232,
      "node_id": "PRRC_kwDOABII585-HPI4",
      "diff_hunk": "@@ -364,33 +368,71 @@ std::string BCLog::Logger::GetLogPrefix(BCLog::LogFlags category, BCLog::Level l\n \n static size_t MemUsage(const BCLog::Logger::BufferedLog& buflog)\n {\n-    return buflog.str.size() + buflog.logging_function.size() + buflog.source_file.size() + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n+    return buflog.str.size() + buflog.logging_function.size() + strlen(buflog.source_loc.file_name()) + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n }\n \n-void BCLog::Logger::FormatLogStrInPlace(std::string& str, BCLog::LogFlags category, BCLog::Level level, std::string_view source_file, int source_line, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime) const\n+bool BCLog::Logger::FormatLogStrAndRateLimit(std::string& str, BCLog::LogFlags category, BCLog::Level level, const std::source_location& source_loc, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime)",
      "path": "src/logging.cpp",
      "position": 64,
      "original_position": 64,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it's unintuitive that this function returns `true` when the operation failed. It seems like the rate limiting can be carved out pretty much as-is into a separate `bool NeedsRateLimiting()` function? There are only 2 callsites of `FormatLogStrAndRateLimit`, and the first one (`StartLogging`) doesn't look like it needs rate limiting because we already have a max buffer size?\r\n\r\nedit: this would pair fairly well with my suggestion [here](https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115841360)",
      "created_at": "2025-05-30T12:19:40Z",
      "updated_at": "2025-05-30T12:56:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115826232",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115826232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115841360",
      "pull_request_review_id": 2881185484,
      "id": 2115841360,
      "node_id": "PRRC_kwDOABII585-HS1Q",
      "diff_hunk": "@@ -81,16 +106,54 @@ namespace BCLog {\n         Error,\n     };\n     constexpr auto DEFAULT_LOG_LEVEL{Level::Debug};\n+    static constexpr LogFlags DEFAULT_LOG_FLAGS{UNCONDITIONAL_RATE_LIMITED | UNCONDITIONAL_ALWAYS};\n     constexpr size_t DEFAULT_MAX_LOG_BUFFER{1'000'000}; // buffer up to 1MB of log data prior to StartLogging\n \n+    //! Fixed window rate limiter for logging.\n+    class LogRateLimiter\n+    {\n+    private:\n+        //! Timestamp of the last window reset.\n+        std::chrono::time_point<NodeClock> m_last_reset;",
      "path": "src/logging.h",
      "position": 138,
      "original_position": 138,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not a big issue, but since we have quite a few log source locations, this class will be instantiated a fair amount of (`N`) times. An alternative approach would be to have a single `LogRateLimiter` instance that encapsulates most of the logic in 6b54362c19ca9baf9dfa9be9281f6faeda169420, and has a single `m_last_reset` member, spawning a minimal `SourceLocationCounter` struct for each source location, containing just the `m_available_bytes` and `m_dropped_bytes` members.\r\n\r\nThis:\r\n- reduces `N` `std::chrono::time_point<NodeClock>` instances to just 1\r\n- allows `LogRateLimiter` to completely clean up memory for log locations that haven't been triggered in the last hour\r\n- improves code encapsulation\r\n\r\nOverall, this shouldn't be a big change from what you have now, mostly just moving code around into a new class?\r\n",
      "created_at": "2025-05-30T12:30:24Z",
      "updated_at": "2025-05-30T12:52:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115841360",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115841360"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115859316",
      "pull_request_review_id": 2881185484,
      "id": 2115859316,
      "node_id": "PRRC_kwDOABII585-HXN0",
      "diff_hunk": "@@ -113,17 +181,17 @@ namespace BCLog {\n         std::atomic<Level> m_log_level{DEFAULT_LOG_LEVEL};\n \n         /** Log categories bitfield. */\n-        std::atomic<CategoryMask> m_categories{BCLog::NONE};\n+        std::atomic<CategoryMask> m_categories{DEFAULT_LOG_FLAGS};",
      "path": "src/logging.h",
      "position": 200,
      "original_position": 200,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115570067,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Or perhaps even better than a boolean is a `uint64_t rate_limit=DEFAULT_RATE_LIMIT` so we can do away with the distinction between ratelimited and non-ratelimited logging entirely? We could use rate_limit=0 as a synonym for non-ratelimited logging, but I think even `UpdateTipLog()` doesn't have to be exempt from rate limiting, we could still set a sane value that allows doing entire IBD in one hour, for example.\r\n\r\nThen `UpdateTipLog()` could just use:\r\n```\r\n    LogInfo(/*rate_limit=*/100, \"%s%s: new best=%s height=%d version=0x%08x log2_work=%f tx=%lu date='%s' progress=%f cache=%.1fMiB(%utxo)%s\\n\",\r\n```",
      "created_at": "2025-05-30T12:43:09Z",
      "updated_at": "2025-05-30T12:56:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115859316",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115859316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 184,
      "original_line": 184,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115869345",
      "pull_request_review_id": 2881185484,
      "id": 2115869345,
      "node_id": "PRRC_kwDOABII585-HZqh",
      "diff_hunk": "@@ -364,33 +368,71 @@ std::string BCLog::Logger::GetLogPrefix(BCLog::LogFlags category, BCLog::Level l\n \n static size_t MemUsage(const BCLog::Logger::BufferedLog& buflog)\n {\n-    return buflog.str.size() + buflog.logging_function.size() + buflog.source_file.size() + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n+    return buflog.str.size() + buflog.logging_function.size() + strlen(buflog.source_loc.file_name()) + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n }\n \n-void BCLog::Logger::FormatLogStrInPlace(std::string& str, BCLog::LogFlags category, BCLog::Level level, std::string_view source_file, int source_line, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime) const\n+bool BCLog::Logger::FormatLogStrAndRateLimit(std::string& str, BCLog::LogFlags category, BCLog::Level level, const std::source_location& source_loc, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime)\n {\n     if (!str.ends_with('\\n')) str.push_back('\\n');\n \n     str.insert(0, GetLogPrefix(category, level));\n \n     if (m_log_sourcelocations) {\n-        str.insert(0, strprintf(\"[%s:%d] [%s] \", RemovePrefixView(source_file, \"./\"), source_line, logging_function));\n+        str.insert(0, strprintf(\"[%s:%d] [%s] \", RemovePrefixView(source_loc.file_name(), \"./\"), source_loc.line(), logging_function));\n     }\n \n     if (m_log_threadnames) {\n         str.insert(0, strprintf(\"[%s] \", (threadname.empty() ? \"unknown\" : threadname)));\n     }\n \n+    // Whether or not logging to disk was/is ratelimited for this source location.\n+    bool was_ratelimited{false};\n+    bool is_ratelimited{false};\n+\n+    if (category == UNCONDITIONAL_RATE_LIMITED && m_ratelimit) {\n+        was_ratelimited = m_suppressed_locations.find(source_loc) != m_suppressed_locations.end();\n+        is_ratelimited = !m_ratelimiters[source_loc].Consume(str.size());\n+\n+        if (!is_ratelimited && was_ratelimited) {\n+            // Logging will restart for this source location.\n+            m_suppressed_locations.erase(source_loc);\n+\n+            uint64_t dropped_bytes = m_ratelimiters[source_loc].GetDroppedBytes();\n+\n+            str.insert(0, strprintf(\"Restarting logging from %s:%d (%s): \"\n+                                    \"(%d MiB) were dropped during the last hour.\\n\",\n+                                    source_loc.file_name(), source_loc.line(), logging_function,\n+                                    dropped_bytes / (1024 * 1024)));\n+        } else if (is_ratelimited && !was_ratelimited) {",
      "path": "src/logging.cpp",
      "position": 97,
      "original_position": 97,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: It would be nice if we could catch this in debug builds (ideally even at a fraction, say 20% of the limit), to help inform if our default limit needs to change.  `Assume()` is an option, but that would probably break unit tests in debug builds.\r\n\r\nnit, because 1MB is small enough that it should prevent issues even on devices with little disk size (unless an attacker finds multiple log vulnerabilities), and large enough that no single unconditional logging statement should ever hit that in the foreseeable future, so I think \"driving blind\" is acceptable here.",
      "created_at": "2025-05-30T12:49:40Z",
      "updated_at": "2025-05-30T12:52:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115869345",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115869345"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 406,
      "original_line": 406,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115877367",
      "pull_request_review_id": 2881278602,
      "id": 2115877367,
      "node_id": "PRRC_kwDOABII585-Hbn3",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@dergoegge might remember why this was added?",
      "created_at": "2025-05-30T12:54:46Z",
      "updated_at": "2025-05-30T12:54:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115877367",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115877367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115895206",
      "pull_request_review_id": 2881307488,
      "id": 2115895206,
      "node_id": "PRRC_kwDOABII585-Hf-m",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fwiw: I can't find any discussion about it in https://github.com/bitcoin/bitcoin/pull/21603, and the option was present from the first version of the PR (https://github.com/bitcoin/bitcoin/commit/4648b6d207139ec0ab2994f56c0a47f81cdf516a#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69d)",
      "created_at": "2025-05-30T13:05:58Z",
      "updated_at": "2025-05-30T13:05:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2115895206",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2115895206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116212200",
      "pull_request_review_id": 2881821692,
      "id": 2116212200,
      "node_id": "PRRC_kwDOABII585-ItXo",
      "diff_hunk": "@@ -81,16 +106,54 @@ namespace BCLog {\n         Error,\n     };\n     constexpr auto DEFAULT_LOG_LEVEL{Level::Debug};\n+    static constexpr LogFlags DEFAULT_LOG_FLAGS{UNCONDITIONAL_RATE_LIMITED | UNCONDITIONAL_ALWAYS};\n     constexpr size_t DEFAULT_MAX_LOG_BUFFER{1'000'000}; // buffer up to 1MB of log data prior to StartLogging\n \n+    //! Fixed window rate limiter for logging.\n+    class LogRateLimiter\n+    {\n+    private:\n+        //! Timestamp of the last window reset.\n+        std::chrono::time_point<NodeClock> m_last_reset;",
      "path": "src/logging.h",
      "position": 138,
      "original_position": 138,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115841360,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yup I had thought about this and wasn't sure how to evaluate the overhead. I'll change it.",
      "created_at": "2025-05-30T16:18:02Z",
      "updated_at": "2025-05-30T16:18:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2116212200",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116212200"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116215143",
      "pull_request_review_id": 2881825924,
      "id": 2116215143,
      "node_id": "PRRC_kwDOABII585-IuFn",
      "diff_hunk": "@@ -364,33 +368,71 @@ std::string BCLog::Logger::GetLogPrefix(BCLog::LogFlags category, BCLog::Level l\n \n static size_t MemUsage(const BCLog::Logger::BufferedLog& buflog)\n {\n-    return buflog.str.size() + buflog.logging_function.size() + buflog.source_file.size() + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n+    return buflog.str.size() + buflog.logging_function.size() + strlen(buflog.source_loc.file_name()) + buflog.threadname.size() + memusage::MallocUsage(sizeof(memusage::list_node<BCLog::Logger::BufferedLog>));\n }\n \n-void BCLog::Logger::FormatLogStrInPlace(std::string& str, BCLog::LogFlags category, BCLog::Level level, std::string_view source_file, int source_line, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime) const\n+bool BCLog::Logger::FormatLogStrAndRateLimit(std::string& str, BCLog::LogFlags category, BCLog::Level level, const std::source_location& source_loc, std::string_view logging_function, std::string_view threadname, SystemClock::time_point now, std::chrono::seconds mocktime)",
      "path": "src/logging.cpp",
      "position": 64,
      "original_position": 64,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115826232,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yup, this makes sense as well. Can change.",
      "created_at": "2025-05-30T16:20:08Z",
      "updated_at": "2025-05-30T16:20:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2116215143",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116215143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116217752",
      "pull_request_review_id": 2881829603,
      "id": 2116217752,
      "node_id": "PRRC_kwDOABII585-IuuY",
      "diff_hunk": "@@ -113,17 +181,17 @@ namespace BCLog {\n         std::atomic<Level> m_log_level{DEFAULT_LOG_LEVEL};\n \n         /** Log categories bitfield. */\n-        std::atomic<CategoryMask> m_categories{BCLog::NONE};\n+        std::atomic<CategoryMask> m_categories{DEFAULT_LOG_FLAGS};",
      "path": "src/logging.h",
      "position": 200,
      "original_position": 200,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115570067,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think callers just need to be aware that they cannot set the rate limit very high in certain cases. Maybe this change and a comment will suffice?",
      "created_at": "2025-05-30T16:21:56Z",
      "updated_at": "2025-05-30T16:21:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2116217752",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2116217752"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 184,
      "original_line": 184,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123243686",
      "pull_request_review_id": 2891468741,
      "id": 2123243686,
      "node_id": "PRRC_kwDOABII585-jiCm",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "When Iâ€™m benchmarking IBD, I donâ€™t want any artificial size or rate limits.\r\nSince the attack only matters when peers can influence us, could we simply disable rate-limiting for all logs during IBD/reindexes/assumeutxo?\r\n\r\n------\r\n\r\nShould the docs explicitly state the 1 MiB-per-hour cap, or could we replace the boolean flag with a numeric \"MiB per hour\" parameter (retaining 0 and 1 as the current meanings)?",
      "created_at": "2025-06-03T09:22:24Z",
      "updated_at": "2025-06-03T10:09:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123243686",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123243686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123314635",
      "pull_request_review_id": 2891468741,
      "id": 2123314635,
      "node_id": "PRRC_kwDOABII585-jzXL",
      "diff_hunk": "@@ -39,39 +62,41 @@ struct LogCategory {\n namespace BCLog {\n     using CategoryMask = uint64_t;\n     enum LogFlags : CategoryMask {\n-        NONE        = CategoryMask{0},\n-        NET         = (CategoryMask{1} <<  0),\n-        TOR         = (CategoryMask{1} <<  1),\n-        MEMPOOL     = (CategoryMask{1} <<  2),\n-        HTTP        = (CategoryMask{1} <<  3),\n-        BENCH       = (CategoryMask{1} <<  4),\n-        ZMQ         = (CategoryMask{1} <<  5),\n-        WALLETDB    = (CategoryMask{1} <<  6),\n-        RPC         = (CategoryMask{1} <<  7),\n-        ESTIMATEFEE = (CategoryMask{1} <<  8),\n-        ADDRMAN     = (CategoryMask{1} <<  9),\n-        SELECTCOINS = (CategoryMask{1} << 10),\n-        REINDEX     = (CategoryMask{1} << 11),\n-        CMPCTBLOCK  = (CategoryMask{1} << 12),\n-        RAND        = (CategoryMask{1} << 13),\n-        PRUNE       = (CategoryMask{1} << 14),\n-        PROXY       = (CategoryMask{1} << 15),\n-        MEMPOOLREJ  = (CategoryMask{1} << 16),\n-        LIBEVENT    = (CategoryMask{1} << 17),\n-        COINDB      = (CategoryMask{1} << 18),\n-        QT          = (CategoryMask{1} << 19),\n-        LEVELDB     = (CategoryMask{1} << 20),\n-        VALIDATION  = (CategoryMask{1} << 21),\n-        I2P         = (CategoryMask{1} << 22),\n-        IPC         = (CategoryMask{1} << 23),\n+        NONE                       = CategoryMask{0},\n+        NET                        = (CategoryMask{1} <<  0),\n+        TOR                        = (CategoryMask{1} <<  1),\n+        MEMPOOL                    = (CategoryMask{1} <<  2),\n+        HTTP                       = (CategoryMask{1} <<  3),\n+        BENCH                      = (CategoryMask{1} <<  4),\n+        ZMQ                        = (CategoryMask{1} <<  5),\n+        WALLETDB                   = (CategoryMask{1} <<  6),\n+        RPC                        = (CategoryMask{1} <<  7),\n+        ESTIMATEFEE                = (CategoryMask{1} <<  8),\n+        ADDRMAN                    = (CategoryMask{1} <<  9),\n+        SELECTCOINS                = (CategoryMask{1} << 10),\n+        REINDEX                    = (CategoryMask{1} << 11),\n+        CMPCTBLOCK                 = (CategoryMask{1} << 12),\n+        RAND                       = (CategoryMask{1} << 13),\n+        PRUNE                      = (CategoryMask{1} << 14),\n+        PROXY                      = (CategoryMask{1} << 15),\n+        MEMPOOLREJ                 = (CategoryMask{1} << 16),\n+        LIBEVENT                   = (CategoryMask{1} << 17),\n+        COINDB                     = (CategoryMask{1} << 18),\n+        QT                         = (CategoryMask{1} << 19),\n+        LEVELDB                    = (CategoryMask{1} << 20),\n+        VALIDATION                 = (CategoryMask{1} << 21),\n+        I2P                        = (CategoryMask{1} << 22),\n+        IPC                        = (CategoryMask{1} << 23),\n #ifdef DEBUG_LOCKCONTENTION\n-        LOCK        = (CategoryMask{1} << 24),\n+        LOCK                       = (CategoryMask{1} << 24),\n #endif\n-        BLOCKSTORAGE = (CategoryMask{1} << 25),\n-        TXRECONCILIATION = (CategoryMask{1} << 26),\n-        SCAN        = (CategoryMask{1} << 27),\n-        TXPACKAGES  = (CategoryMask{1} << 28),\n-        ALL         = ~NONE,\n+        BLOCKSTORAGE               = (CategoryMask{1} << 25),\n+        TXRECONCILIATION           = (CategoryMask{1} << 26),\n+        SCAN                       = (CategoryMask{1} << 27),\n+        TXPACKAGES                 = (CategoryMask{1} << 28),\n+        UNCONDITIONAL_RATE_LIMITED = (CategoryMask{1} << 29),\n+        UNCONDITIONAL_ALWAYS       = (CategoryMask{1} << 30),",
      "path": "src/logging.h",
      "position": 121,
      "original_position": 121,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure introducing two extra category flags is a good abstraction here - feels noisy.\r\nWouldnâ€™t it be cleaner to decide based on exposure to the attack surface instead? For example, during IBD (or any state with zero peer connections) we could leave all logs unrestricted, and always enable rate-limiting when node is reachable by peers.",
      "created_at": "2025-06-03T09:49:44Z",
      "updated_at": "2025-06-03T10:09:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123314635",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123314635"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 98,
      "original_line": 98,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123334010",
      "pull_request_review_id": 2891468741,
      "id": 2123334010,
      "node_id": "PRRC_kwDOABII585-j4F6",
      "diff_hunk": "@@ -105,6 +168,11 @@ namespace BCLog {\n         size_t m_cur_buffer_memusage GUARDED_BY(m_cs){0};\n         size_t m_buffer_lines_discarded GUARDED_BY(m_cs){0};\n \n+        //! Fixed window rate limiters for each source location that has attempted to log something.\n+        std::unordered_map<std::source_location, LogRateLimiter, SourceLocationHasher, SourceLocationEqual> m_ratelimiters GUARDED_BY(m_cs);",
      "path": "src/logging.h",
      "position": 188,
      "original_position": 188,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Do we ever clear `m_ratelimiters`, or does that map only grow over the lifetime of the process?",
      "created_at": "2025-06-03T09:57:52Z",
      "updated_at": "2025-06-03T10:09:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123334010",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123334010"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 172,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123366909",
      "pull_request_review_id": 2891662033,
      "id": 2123366909,
      "node_id": "PRRC_kwDOABII585-kAH9",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Since the attack only matters when peers can influence us, could we simply disable rate-limiting for all logs during IBD\r\n\r\n?",
      "created_at": "2025-06-03T10:14:05Z",
      "updated_at": "2025-06-03T10:14:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123366909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123366909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123404055",
      "pull_request_review_id": 2891723668,
      "id": 2123404055,
      "node_id": "PRRC_kwDOABII585-kJMX",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Can you be more specific :)?",
      "created_at": "2025-06-03T10:33:06Z",
      "updated_at": "2025-06-03T10:33:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123404055",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123404055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123418578",
      "pull_request_review_id": 2891749480,
      "id": 2123418578,
      "node_id": "PRRC_kwDOABII585-kMvS",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "What do you mean by \"peers not being able to influence us during IBD\"?",
      "created_at": "2025-06-03T10:39:57Z",
      "updated_at": "2025-06-03T10:39:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123418578",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123418578"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123460031",
      "pull_request_review_id": 2891811142,
      "id": 2123460031,
      "node_id": "PRRC_kwDOABII585-kW2_",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I meant that during IBD weâ€™re mostly replaying validated history, and my understanding is that rate-limiting is meant to protect logs caused by peer-supplied invalid data, not the deterministic IBD progress logs (e.g. `-debug=bench` or `-debug=leveldb`, which are *very* verbose (way over the 1MiB/h), but isn't related to a user-sent serialization error or similar cheap attack). \"Attacking\" a node that is still in the original IBD seems less severe to me than skipped logs. I also understand if you disagree with this and I would appreciate an explanation, I want to understand.\r\n\r\nWe can still get invalid data (thanks for triggering a clarification), but maybe the guard should added per `LogFlags` and we may want to blacklist instead of whitelisting.\r\nOr is this meant as a final catch-all for all the unknowns, e.g. maybe there's a trick to enable LevelDB logs externally and this should still guard against that?",
      "created_at": "2025-06-03T10:59:31Z",
      "updated_at": "2025-06-03T10:59:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123460031",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123460031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123834199",
      "pull_request_review_id": 2892400480,
      "id": 2123834199,
      "node_id": "PRRC_kwDOABII585-lyNX",
      "diff_hunk": "@@ -40,6 +40,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-loglevelalways\", strprintf(\"Always prepend a category and level (default: %u)\", DEFAULT_LOGLEVELALWAYS), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-printtoconsole\", \"Send trace/debug info to console (default: 1 when no -daemon. To disable logging to file, set -nodebuglogfile)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-shrinkdebugfile\", \"Shrink debug.log file on client startup (default: 1 when no -debug)\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-ratelimitlogging\", strprintf(\"Rate limit unconditional logging to disk (default: %u)\", DEFAULT_RATELIMITLOGGING), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "path": "src/init/common.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "original_commit_id": "6dece0553ca4ba39e54e80e840c7cad93fbe1f96",
      "in_reply_to_id": 2115526293,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I believe that if somebody is using `-debug=bench` or `-debug=leveldb`, the fact that they are using a category should bypass the rate limit if `LogDebug` is used. I think the mitigation should be in place whether or not we're in IBD -- if we have any peers (inbound or outbound), we need to be cautious.",
      "created_at": "2025-06-03T13:32:35Z",
      "updated_at": "2025-06-03T13:35:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2123834199",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2123834199"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32604"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    }
  ]
}