{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410",
    "id": 859880304,
    "node_id": "PR_kwDOABII584zQLtw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/24410",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/24410.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/24410.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/664a14ba7ccb40aa82d35a59831acd35db1897a6",
    "number": 24410,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "[kernel 2a/n] Split hashing/index `GetUTXOStats` codepaths, decouple from `coinstatsindex`",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Part of: #24303\r\nDepends on: #24322\r\n\r\nThe `GetUTXOStats` function has 2 codepaths:\r\n  - One which queries the `CoinStatsIndex` for the UTXO hash\r\n  - One which actually performs the hashing\r\n\r\nFor `libbitcoinkernel`, the only place where we call `GetUTXOStats` is in `PopulateAndValidateSnapshots`, which uses the `SHA256D` hash, and is therefore unable to use the `CoinStatsIndex` since that only provides `MuHash` hashes. Not that I think indices necessarily belong in `libbitcoinkernel` anyway.\r\n\r\nThis PR separates these 2 aforementioned codepaths of `GetUTXOStats`, uses the hashing codepath in `PopulateAndValidateSnapshots`, and removes the need to link in `index/coinstatsindex.cpp` and `node/coinstats.cpp`.\r\n\r\n-----\r\n\r\nLogistically, this PR:\r\n- Extracts out the `index_requested` and `hash_type` members of `CoinStats`, which served as \"in-params\" to `GetUTXOStats` embedded within the `CoinStats` struct. This allows `CoinStats` to only consist of \"out-param\" members, and be returned by `GetUTXOStats` without needing to be an \"in-out\" param\r\n- Introduce the purely virtual `UTXOHashers` class, with 3 implementations: `SHA256DHasher`, `MuHashHasher`, and `NullHasher`. These replace the existing template-based polymorphism.\r\n- Split `GetUTXOStats` into:\r\n    - `CalculateUTXOStatsWithHasher(UTXOHasher&, ...)`, and\r\n    - `LookupUTXOStatsWithIndex(CoinStatsIndex&, ...)`\r\n- Use `CalculateUTXOStatsWithHasher` directly where appropriate (`src/validation.cpp` and `src/fuzz`)\r\n- Move `GetUTXOStats` to `rpc/blockchain`, which is the only place that depends on `GetUTXOStats`'s weird fallback behaviour\r\n- Move `LookupUTXOStatsWithIndex` to `index/coinstatsindex`\r\n\r\nCode organization:\r\n- `src/`\r\n  - `kernel/` → only contains the hashing codepath\r\n    - `coinstats.cpp` → hashing codepath implementations\r\n    - `coinstats.h` → header for `kernel/coinstats.cpp`\r\n  - `index/` → only contains the index codepath\r\n    - `coinstatsindex.cpp` → index codepath implementations\r\n    - `coinstatsindex.h`\r\n  - `validation.cpp` → only uses the hashing codepath\r\n  - `rpc/blockchain.cpp` → uses both the hashing and index codepath, old `GetUTXOStats` fallback logic moved here as static\r\n  - `test/fuzz/coins_view.cpp` → only uses the hashing codepath\r\n\r\n\r\nTODOs:\r\n- [x] Commit messages could be fleshed out more\r\n\r\nWould love any feedback!",
    "labels": [
      {
        "id": 61889416,
        "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
        "name": "Build system",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2022-02-21T22:16:08Z",
    "updated_at": "2022-10-04T08:09:39Z",
    "closed_at": "2022-05-24T12:43:54Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-05-24T12:43:54Z",
    "merge_commit_sha": "700808754884919916a5518e7ecfdabadef956d8",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "dongcarl:2022-02-libbitcoinkernel-p2-coinstats-minimal",
      "ref": "2022-02-libbitcoinkernel-p2-coinstats-minimal",
      "sha": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 97671618,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NzY3MTYxOA==",
        "name": "bitcoin",
        "full_name": "dongcarl/bitcoin",
        "owner": {
          "login": "dongcarl",
          "id": 3445290,
          "node_id": "MDQ6VXNlcjM0NDUyOTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dongcarl",
          "html_url": "https://github.com/dongcarl",
          "followers_url": "https://api.github.com/users/dongcarl/followers",
          "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
          "organizations_url": "https://api.github.com/users/dongcarl/orgs",
          "repos_url": "https://api.github.com/users/dongcarl/repos",
          "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dongcarl/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dongcarl/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dongcarl/bitcoin",
        "archive_url": "https://api.github.com/repos/dongcarl/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dongcarl/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dongcarl/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dongcarl/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dongcarl/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dongcarl/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dongcarl/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dongcarl/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dongcarl/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dongcarl/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dongcarl/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dongcarl/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dongcarl/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dongcarl/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dongcarl/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dongcarl/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dongcarl/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dongcarl/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dongcarl/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dongcarl/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dongcarl/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dongcarl/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dongcarl/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dongcarl/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dongcarl/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dongcarl/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dongcarl/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dongcarl/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dongcarl/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dongcarl/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dongcarl/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dongcarl/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dongcarl/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dongcarl/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dongcarl/bitcoin/hooks",
        "svn_url": "https://github.com/dongcarl/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 204504,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-28T17:13:06Z",
        "created_at": "2017-07-19T04:07:18Z",
        "updated_at": "2022-06-03T10:08:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "44037a29129a830fd9c9580f0818387756cfd7d3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69855,
        "watchers_count": 69855,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T10:08:42Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T10:24:12Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 146,
    "deletions": 132,
    "changed_files": 11,
    "commits": 15,
    "review_comments": 64,
    "comments": 31
  },
  "events": [
    {
      "event": "labeled",
      "id": 6114414750,
      "node_id": "LE_lADOABII585EUq0_zwAAAAFscpCe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6114414750",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-21T23:10:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 892666702,
      "node_id": "PRR_kwDOABII5841NQNO",
      "url": null,
      "actor": null,
      "commit_id": "a7883ac7a497f3d1cb52f5f71e71de5e5e9301f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK (a7883ac7a497f3d1cb52f5f71e71de5e5e9301f1). Looked through various commits and I think the changes all make sense\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-892666702",
      "submitted_at": "2022-02-24T16:11:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "added_to_project",
      "id": 6261540718,
      "node_id": "ATPE_lADOABII585EUq0_zwAAAAF1N4du",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6261540718",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-17T19:24:21Z",
      "project_card": {
        "id": 79294262,
        "url": "https://api.github.com/projects/columns/cards/79294262",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "WIP PR"
      }
    },
    {
      "event": "moved_columns_in_project",
      "id": 6261542956,
      "node_id": "MCIPE_lADOABII585EUq0_zwAAAAF1N5As",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6261542956",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-17T19:24:48Z",
      "project_card": {
        "id": 79294262,
        "url": "https://api.github.com/projects/columns/cards/79294262",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "Ready for Review PR",
        "previous_column_name": "WIP PR"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6516749016,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGEbbLY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6516749016",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T16:49:35Z"
    },
    {
      "event": "commented",
      "id": 1112436660,
      "node_id": "IC_kwDOABII585CTm-0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112436660",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T16:50:01Z",
      "updated_at": "2022-04-28T16:50:01Z",
      "author_association": "MEMBER",
      "body": "Pushed a7883ac7a4 -> c46aafaf11\r\n- Rebased over master\r\n- Made the scripted-diff actually work",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1112436660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "ready_for_review",
      "id": 6516751948,
      "node_id": "RFRE_lADOABII585EUq0_zwAAAAGEbb5M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6516751948",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T16:50:04Z"
    },
    {
      "event": "unlabeled",
      "id": 6516906231,
      "node_id": "UNLE_lADOABII585EUq0_zwAAAAGEcBj3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6516906231",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T17:12:24Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 6517096822,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGEcwF2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517096822",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T17:38:27Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 6517096824,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGEcwF4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517096824",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T17:38:27Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 6517096826,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGEcwF6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517096826",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T17:38:27Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "labeled",
      "id": 6517096827,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGEcwF7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517096827",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T17:38:27Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "commented",
      "id": 1112516341,
      "node_id": "IC_kwDOABII585CT6b1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112516341",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T18:13:23Z",
      "updated_at": "2022-04-28T18:13:23Z",
      "author_association": "MEMBER",
      "body": "Would an alternative be to treat assumeutxo as not part of the kernel for now (and completely move it out?)",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1112516341",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1112556891,
      "node_id": "IC_kwDOABII585CUEVb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112556891",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:02:20Z",
      "updated_at": "2022-04-28T19:02:20Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke \r\n\r\n> Would an alternative be to treat assumeutxo as not part of the kernel for now (and completely move it out?)\r\n\r\nSure, but I don't prefer that alternative. I think it would actually be more work to extract assumeutxo from the kernel, plus if you look at the `GetUTXOStats` function and friends prior to this PR, it needed quite some cleaning up, which is done in this PR.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1112556891",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6517594279,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGEepin",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517594279",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:02:20Z"
    },
    {
      "event": "subscribed",
      "id": 6517594287,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGEepiv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517594287",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:02:20Z"
    },
    {
      "event": "added_to_project",
      "id": 6517634099,
      "node_id": "ATPE_lADOABII585EUq0_zwAAAAGEezQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517634099",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:09:04Z",
      "project_card": {
        "id": 81269327,
        "url": "https://api.github.com/projects/columns/cards/81269327",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "commented",
      "id": 1112564268,
      "node_id": "IC_kwDOABII585CUGIs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112564268",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:11:05Z",
      "updated_at": "2022-04-28T19:11:05Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1112564268",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6517873294,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGEftqO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6517873294",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T19:51:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6518126343,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGEgrcH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6518126343",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T20:36:42Z"
    },
    {
      "event": "subscribed",
      "id": 6518599600,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGEie-w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6518599600",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T22:11:58Z"
    },
    {
      "event": "commented",
      "id": 1112789149,
      "node_id": "IC_kwDOABII585CU9Cd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112789149",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T01:00:54Z",
      "updated_at": "2022-05-22T15:51:59Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25065](https://github.com/bitcoin/bitcoin/pull/25065) ([kernel 2c/n] Extract only what we use of `init/common.cpp` by dongcarl)\n* [#24952](https://github.com/bitcoin/bitcoin/pull/24952) (rpc: Add sqlite format option for dumptxoutset by dunxen)\n* [#24897](https://github.com/bitcoin/bitcoin/pull/24897) ([Draft / POC] Silent Payments by w0xlt)\n* [#24230](https://github.com/bitcoin/bitcoin/pull/24230) (indexes: Stop using node internal types and locking cs_main, improve sync logic by ryanofsky)\n* [#19792](https://github.com/bitcoin/bitcoin/pull/19792) (rpc: Add dumpcoinstats by fjahr)\n* [#13462](https://github.com/bitcoin/bitcoin/pull/13462) (Make SER_GETHASH implicit for CHashWriter and SerializeHash by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1112789149",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1113152684,
      "node_id": "IC_kwDOABII585CWVys",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113152684",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T10:28:50Z",
      "updated_at": "2022-04-29T22:23:38Z",
      "author_association": "MEMBER",
      "body": "Perhaps it's just my system, but the `feature_coinstatsindex.py` bitcoind does not get terminated after a successful run. This causes my script running tests against each commit to fail. All the other tests terminate just fine, and this happens running all tests and the test individually.\r\n\r\nThe logs appear to show the test and node sutting down, but this does not appear to be the case in practice.\r\n\r\n```log\r\n[I] [11:19] ubuntu:bitcoin (2022-02-libbitcoinkernel-p2-coinstats-minimal) | ₿ test/functional/feature_coinstatsindex.py\r\n2022-04-29T10:20:14.316000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_so5w4sxf\r\n2022-04-29T10:20:15.704000Z TestFramework (INFO): Test that gettxoutsetinfo() output is consistent with or without coinstatsindex option\r\n2022-04-29T10:20:15.758000Z TestFramework (INFO): Test that gettxoutsetinfo() can get fetch data on specific heights with index\r\n2022-04-29T10:20:15.850000Z TestFramework (INFO): Test gettxoutsetinfo() with index and verbose flag\r\n2022-04-29T10:20:15.963000Z TestFramework (INFO): Test that the index is robust across restarts\r\n2022-04-29T10:20:16.419000Z TestFramework (INFO): Test that the index works with -reindex\r\n2022-04-29T10:20:17.198000Z TestFramework (INFO): Test that -reindex-chainstate is disallowed with coinstatsindex\r\n2022-04-29T10:20:17.363000Z TestFramework (INFO): Test use_index option for nodes running the index\r\n2022-04-29T10:20:17.450000Z TestFramework (INFO): Test that index can handle reorgs\r\n> /home/will/src/bitcoin/test/functional/feature_coinstatsindex.py(55)run_test()\r\n-> self._test_index_rejects_hash_serialized()\r\n(Pdb) l\r\n 50             self.wallet = MiniWallet(self.nodes[0])\r\n 51             self._test_coin_stats_index()\r\n 52             self._test_use_index_option()\r\n 53             self._test_reorg_index()\r\n 54             import pdb; pdb.set_trace()\r\n 55  ->         self._test_index_rejects_hash_serialized()\r\n 56\r\n 57         def block_sanity_check(self, block_info):\r\n 58             block_subsidy = 50\r\n 59             assert_equal(\r\n 60                 block_info['prevout_spent'] + block_subsidy,\r\n(Pdb) n\r\n2022-04-29T10:20:38.130000Z TestFramework (INFO): Test that the rpc raises if the legacy hash is passed with the index\r\n--Return--\r\n> /home/will/src/bitcoin/test/functional/feature_coinstatsindex.py(55)run_test()->None\r\n-> self._test_index_rejects_hash_serialized()\r\n(Pdb) n\r\n> /home/will/src/bitcoin/test/functional/test_framework/test_framework.py(156)main()\r\n-> exit_code = self.shutdown()\r\n(Pdb) n\r\n2022-04-29T10:20:43.555000Z TestFramework (INFO): Stopping nodes\r\n2022-04-29T10:20:43.657000Z TestFramework (INFO): Cleaning up /tmp/bitcoin_func_test_so5w4sxf on exit\r\n2022-04-29T10:20:43.657000Z TestFramework (INFO): Tests successful\r\n> /home/will/src/bitcoin/test/functional/test_framework/test_framework.py(157)main()\r\n-> sys.exit(exit_code)\r\n(Pdb) n\r\nSystemExit: 0\r\n> /home/will/src/bitcoin/test/functional/test_framework/test_framework.py(157)main()\r\n-> sys.exit(exit_code)\r\n(Pdb) c\r\n[I] [11:20] ubuntu:bitcoin (2022-02-libbitcoinkernel-p2-coinstats-minimal) | ₿ ps -Af | rg bitcoind\r\nwill        6695    3480  0 Apr28 ?        00:14:46 bitcoind\r\nwill      586063    3480  0 11:20 pts/8    00:00:00 /home/will/src/bitcoin/src/bitcoind -datadir=/tmp/bitcoin_func_test_so5w4sxf/node1 -logtimemicros -debug -debugexclude=libevent -debugexclude=leveldb -uacomment=testnode1 -logthreadnames -logsourcelocations -coinstatsindex -reindex\r\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113152684",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6525655827,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGE9ZsT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525655827",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T18:51:55Z"
    },
    {
      "event": "commented",
      "id": 1113628467,
      "node_id": "IC_kwDOABII585CYJ8z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113628467",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T18:55:49Z",
      "updated_at": "2022-04-29T22:23:45Z",
      "author_association": "MEMBER",
      "body": "@willcl-ark Interesting observation but I tested it on master and I see the same behaviour there too! (you should verify!) So this is unrelated to this PR's changes. Perhaps you'd like to open a separate Issue about this?",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113628467",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6525676316,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGE9esc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525676316",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T18:55:49Z"
    },
    {
      "event": "subscribed",
      "id": 6525676326,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGE9esm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525676326",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T18:55:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6525752441,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGE9xR5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525752441",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:11:32Z"
    },
    {
      "event": "commented",
      "id": 1113666128,
      "node_id": "IC_kwDOABII585CYTJQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113666128",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:49:51Z",
      "updated_at": "2022-04-29T22:23:52Z",
      "author_association": "MEMBER",
      "body": "> @willcl-ark Interesting observation but I tested it on master and I see the same behaviour there too! (you should verify!) So this is unrelated to this PR's changes. Perhaps you'd like to open a separate Issue about this?\r\n\r\nThat was an oversight by me in #24789. I opened #25034 to fix this.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113666128",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6525936204,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGE-eJM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525936204",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:49:52Z"
    },
    {
      "event": "subscribed",
      "id": 6525936212,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGE-eJU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525936212",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:49:52Z"
    },
    {
      "event": "commented",
      "id": 1113668686,
      "node_id": "IC_kwDOABII585CYTxO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113668686",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:52:08Z",
      "updated_at": "2022-04-29T22:23:57Z",
      "author_association": "MEMBER",
      "body": "> > @willcl-ark Interesting observation but I tested it on master and I see the same behaviour there too! (you should verify!) So this is unrelated to this PR's changes. Perhaps you'd like to open a separate Issue about this?\r\n> \r\n> That was an oversight by me in #24789. I opened #25034 to fix this.\r\n\r\nAh thanks Martin, that would explain it. I will cherry-pick that and re-run then :)",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113668686",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6525946317,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGE-gnN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525946317",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:52:08Z"
    },
    {
      "event": "subscribed",
      "id": 6525946320,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGE-gnQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6525946320",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T19:52:09Z"
    },
    {
      "event": "commented",
      "id": 1113811978,
      "node_id": "IC_kwDOABII585CY2wK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113811978",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:19:26Z",
      "updated_at": "2022-04-29T22:24:02Z",
      "author_association": "MEMBER",
      "body": "@mzumsande cherry-picking https://github.com/bitcoin/bitcoin/commit/5345f752313c6bd7164109bdfd64ca3a55647c22 does indeed fix and allow all tests to pass at each commit in this PR",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113811978",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6526983411,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGFCdzz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526983411",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:19:26Z"
    },
    {
      "event": "subscribed",
      "id": 6526983414,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGFCdz2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526983414",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:19:26Z"
    },
    {
      "event": "commented",
      "id": 1113815501,
      "node_id": "IC_kwDOABII585CY3nN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113815501",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:21:41Z",
      "updated_at": "2022-04-29T22:21:41Z",
      "author_association": "MEMBER",
      "body": "@willcl-ark Okay for me to hide your comments so as to not confuse future reviewers?",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113815501",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6526989877,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGFCfY1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526989877",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:21:41Z"
    },
    {
      "event": "subscribed",
      "id": 6526989879,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGFCfY3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526989879",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:21:41Z"
    },
    {
      "event": "commented",
      "id": 1113817513,
      "node_id": "IC_kwDOABII585CY4Gp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113817513",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:22:43Z",
      "updated_at": "2022-04-29T22:22:43Z",
      "author_association": "MEMBER",
      "body": "> @willcl-ark Okay for me to hide your comments so as to not confuse future reviewers?\n\nPlease go ahead!",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113817513",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6526992765,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGFCgF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526992765",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:22:43Z"
    },
    {
      "event": "subscribed",
      "id": 6526992766,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGFCgF-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6526992766",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:22:44Z"
    },
    {
      "event": "commented",
      "id": 1113826113,
      "node_id": "IC_kwDOABII585CY6NB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113826113",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:27:54Z",
      "updated_at": "2022-04-29T22:27:54Z",
      "author_association": "MEMBER",
      "body": "Pushed 756f1a755d138e36a9e50e7e4e46ae0bcd3975ca -> 30503c98a8bc97b582f072c34168b5279d65a492\r\n- Added commit \"fuzz: Remove useless GetUTXOStats fuzz case\", adjusted subsequent commits\r\n- Removed some extraneous whitespace in scripted-diff\r\n\r\n-----\r\n\r\nReviewers: Please let me know if the new \"fuzz: Remove useless GetUTXOStats fuzz case\" commit looks okay.\r\n\r\nPing @practicalswift ",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1113826113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6527006552,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGFCjdY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6527006552",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:27:55Z"
    },
    {
      "event": "subscribed",
      "id": 6527006562,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGFCjdi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6527006562",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T22:27:55Z"
    },
    {
      "event": "reviewed",
      "id": 958515100,
      "node_id": "PRR_kwDOABII5845Icec",
      "url": null,
      "actor": null,
      "commit_id": "30503c98a8bc97b582f072c34168b5279d65a492",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nI was able to follow the commits step by step and the changes look sensible to me. One suggestion below about the coinstatsindex codepath.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-958515100",
      "submitted_at": "2022-04-30T20:06:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6535478227,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGFi3vT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6535478227",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T18:40:29Z"
    },
    {
      "event": "commented",
      "id": 1116436377,
      "node_id": "IC_kwDOABII585Ci3eZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1116436377",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T18:40:59Z",
      "updated_at": "2022-05-03T18:40:59Z",
      "author_association": "MEMBER",
      "body": "Pushed 30503c98a8bc97b582f072c34168b5279d65a492 -> cfbe8efb08e42d404306c5d59d4a2e0719b2a788\r\n- Merged `GetUTXOStatsWithIndex()` logic into `CoinStatsIndex::LookUpStats()` as mentioned here: https://github.com/bitcoin/bitcoin/pull/24410#discussion_r862389785 (Thanks Martin!)",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1116436377",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6544719970,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGGGIBi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6544719970",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T22:35:09Z"
    },
    {
      "event": "commented",
      "id": 1116726714,
      "node_id": "IC_kwDOABII585Cj-W6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1116726714",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T22:39:50Z",
      "updated_at": "2022-05-03T22:40:27Z",
      "author_association": "MEMBER",
      "body": "Pushed cfbe8efb08e42d404306c5d59d4a2e0719b2a788 -> 06dea7ea36eb1606cd4255e2875d0e4fe2fdd5a4\r\n- Rebased over master for merge of #25034\r\n- Fleshed out commit messages\r\n- Added previously missing (even before this PR) `BOOST_CHECK`s in \"Move logic from GetUTXOStatsWithIndex to CoinStatsIndex::LookUpStats\" (b3d18d7bfcfeba7ef3ead5de0ee9bd58300609e9)\r\n- Moved more declarations out of the \"public header\" in \"coinstats: Split node/coinstats.h to kernel/**.h\" (c4ab9ff40f1499f4abd2dd1915733c86bc4bccbf)\r\n- Added commit at the beginning: \"kernel: Remove unnecessary index/blockfilterindex.cpp\" to account for merge of #21726\r\n\r\n-----\r\n\r\nThis PR is now \"Very Ready for Review\" 😄 ",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1116726714",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "reviewed",
      "id": 961163812,
      "node_id": "PRR_kwDOABII5845SjIk",
      "url": null,
      "actor": null,
      "commit_id": "06dea7ea36eb1606cd4255e2875d0e4fe2fdd5a4",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "- [ ] ",
      "user": {
        "login": "Miminlaili",
        "id": 103429474,
        "node_id": "U_kgDOBio1Yg",
        "avatar_url": "https://avatars.githubusercontent.com/u/103429474?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Miminlaili",
        "html_url": "https://github.com/Miminlaili",
        "followers_url": "https://api.github.com/users/Miminlaili/followers",
        "following_url": "https://api.github.com/users/Miminlaili/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Miminlaili/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Miminlaili/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Miminlaili/subscriptions",
        "organizations_url": "https://api.github.com/users/Miminlaili/orgs",
        "repos_url": "https://api.github.com/users/Miminlaili/repos",
        "events_url": "https://api.github.com/users/Miminlaili/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Miminlaili/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-961163812",
      "submitted_at": "2022-05-03T22:48:55Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6550884384,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGGdpAg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6550884384",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-04T18:41:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6550900013,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGGds0t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6550900013",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-04T18:44:26Z"
    },
    {
      "event": "commented",
      "id": 1117683619,
      "node_id": "IC_kwDOABII585Cnn-j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117683619",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-04T18:45:11Z",
      "updated_at": "2022-05-04T18:45:11Z",
      "author_association": "MEMBER",
      "body": "Pushed 06dea7ea36eb1606cd4255e2875d0e4fe2fdd5a4 -> 660bb3066fff29bd2a16ea3adf9748d58f53363c\r\n- Also remove `blockfilter.cpp` from `libbitcoinkernel_la_SOURCES` (Thanks past Carl for leaving a TODO!)",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1117683619",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1118984576,
      "node_id": "IC_kwDOABII585CslmA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118984576",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-05T19:48:31Z",
      "updated_at": "2022-05-05T19:48:31Z",
      "author_association": "MEMBER",
      "body": "I've gotten the feedback that the distinction between:\r\n\r\n- `src/kernel/coinstats.h`, and\r\n- `src/kernel/include/coinstats.h`\r\n\r\nIs probably not necessary in Phase 1 of the libbitcoinkernel project and potentially confusing and lead to churn since the public one (`src/kernel/include/coinstats.h`) is likely to be drastically changed in Phase 2. I will combine them in this and future libbitcoinkernel Phase 1 PRs if there's not much opposition to that. Shouldn't affect the meat of this PR that much.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1118984576",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6559296644,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGG9uyE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6559296644",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-05T20:07:06Z"
    },
    {
      "event": "commented",
      "id": 1119089915,
      "node_id": "IC_kwDOABII585Cs_T7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1119089915",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-05T22:09:39Z",
      "updated_at": "2022-05-05T22:09:39Z",
      "author_association": "MEMBER",
      "body": "Pushed 660bb3066fff29bd2a16ea3adf9748d58f53363c -> 8f50fe837eaa41b045c69a97617b2346d57bd879\r\n- Addressed: https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1118984576",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1119089915",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "labeled",
      "id": 6561984440,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGHH--4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6561984440",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-06T08:50:35Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6569324380,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGHj-9c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6569324380",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T00:49:35Z"
    },
    {
      "event": "unlabeled",
      "id": 6569398045,
      "node_id": "UNLE_lADOABII585EUq0_zwAAAAGHkQ8d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6569398045",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-09T01:23:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 966310447,
      "node_id": "PRR_kwDOABII5845mLov",
      "url": null,
      "actor": null,
      "commit_id": "dda351d7cf708b8d426d26562c64bd9c73b3a18f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK. This is a pretty shallow review, I'm planning on following up with a more thorough one once I've explored more.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-966310447",
      "submitted_at": "2022-05-09T20:26:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "reviewed",
      "id": 965452018,
      "node_id": "PRR_kwDOABII5845i6Dy",
      "url": null,
      "actor": null,
      "commit_id": "dda351d7cf708b8d426d26562c64bd9c73b3a18f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 8f50fe837eaa41b045c69a97617b2346d57bd879\r\n\r\nVery nice work. I didn't see any real issues, just some minor stylistic suggestions. Overall I think  this is a great improvement.\r\n\r\nFWIW, I found 8c8d3f186df95b419fba8fddaeaac9b8912646dd more confusing than helpful with the functions that were introduced and removed in the following commit. But overall great work with splitting these commits to bite-sized chunks.\r\n\r\nI will also revisit some of the tests of this code now that I looked at it for a while, but that is tangential.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-965452018",
      "submitted_at": "2022-05-09T22:32:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6584850254,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGIfNdO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6584850254",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-10T20:07:27Z"
    },
    {
      "event": "commented",
      "id": 1123968148,
      "node_id": "IC_kwDOABII585C_mSU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123968148",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-11T16:03:42Z",
      "updated_at": "2022-05-11T16:03:42Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\n+1 on keeping the commits small and focused. I've done a quick read-through but plan to do a more thorough review later",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1123968148",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1124110498,
      "node_id": "IC_kwDOABII585DAJCi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1124110498",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-11T18:05:03Z",
      "updated_at": "2022-05-16T15:54:53Z",
      "author_association": "MEMBER",
      "body": "Reviewers: I'm considering squashing 3 commits:\r\n- 3fc97a7e59a96fa0e1901f625bd52b3d8c598805 \"coinstats: Introduce UTXOHasher and implementations\"\r\n- 51c3b93490a05ae37559d5eba981bf8c6107a674 \"coinstats: Use newly-introduced UTXOHashers\"\r\n- 24b613e8135e13f2f81e3849f2a97b2ccd7b317f \"coinstats: Remove old UTXO hashing implementations\"\r\n\r\nHowever, I do not wish to make my commits less reviewable.\r\n\r\nLet me know your opinion with a 👍  or 👎  reaction to this comment.\r\n\r\n-----\r\n\r\nEdit May 16th, 2022: The squash has been done as of 0cc58453e2479a8877e2c0b463d3a7c215ceb77b",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1124110498",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1124216881,
      "node_id": "IC_kwDOABII585DAjAx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1124216881",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-11T19:39:33Z",
      "updated_at": "2022-05-11T19:39:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Spent some time trying to understand the direction of the project as a whole in the run up to today's [PR review club](https://bitcoincore.reviews/24410) and to the extent it builds on multiprocess, AssumeUTXO work. Approach ACK on the project roadmap thus far.\r\n\r\nOn this PR specifically Approach ACK, code review (limited familiarity with the coinstats code before this), no testing.\r\n\r\nAs others have said great organization of commits and commit messages (and innovative use of thumbs up/down to get reviewer reaction :) )",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1124216881",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "reviewed",
      "id": 973199677,
      "node_id": "PRR_kwDOABII5846Adk9",
      "url": null,
      "actor": null,
      "commit_id": "8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nWhile reviewing #24952 recently, I found that the `GetUTXOStats` interface is currently quite confusing, glad to see that many painpoints (mixing both in- and out-params in one struct, mixed hashing and indexing codepaths in one function...) are fixed with this PR. Lightly reviewed each commit, the changes are concise, well-documented in the commit descriptions and make sense to me; will look over more deeply a second time within the next days. As stated by other reviewers before, kudos for keeping the commits small and to the point 👌 ",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-973199677",
      "submitted_at": "2022-05-15T18:01:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6617408686,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGKbaSu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6617408686",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T15:53:37Z"
    },
    {
      "event": "commented",
      "id": 1127846221,
      "node_id": "IC_kwDOABII585DOZFN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127846221",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T15:54:24Z",
      "updated_at": "2022-05-16T15:54:24Z",
      "author_association": "MEMBER",
      "body": "Pushed 8b853034a13f49b85cdf4168d9d49bd297f5b8ce -> 0cc58453e2479a8877e2c0b463d3a7c215ceb77b\r\n- Addressed: https://github.com/bitcoin/bitcoin/pull/24410#discussion_r873201356\r\n- Squashed: https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1124110498",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1127846221",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1127847203,
      "node_id": "IC_kwDOABII585DOZUj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127847203",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T15:55:27Z",
      "updated_at": "2022-05-16T15:55:27Z",
      "author_association": "MEMBER",
      "body": "@theStack Great to hear that someone else found the interface thorny independently 😄 Looking forward to your review!",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1127847203",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6617421958,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGKbdiG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6617421958",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T15:55:27Z"
    },
    {
      "event": "subscribed",
      "id": 6617421967,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGKbdiP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6617421967",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T15:55:27Z"
    },
    {
      "event": "reviewed",
      "id": 975770870,
      "node_id": "PRR_kwDOABII5846KRT2",
      "url": null,
      "actor": null,
      "commit_id": "0cc58453e2479a8877e2c0b463d3a7c215ceb77b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 0cc58453e2479a8877e2c0b463d3a7c215ceb77b.\r\n\r\nEnd result looks good, but it seemed to me this PR had a lot of internal churn which was tedious to review. If function signature is changing, it's nice it if changes one time instead of one parameter at a time. If code is moving, it's nice if it moves one instead of moving multiple times. In general, unless there is a specific reason (like separating behavior changes from refactoring changes, or separating mechanical refactoring from conceptual refactoring) it's nice if each line of code changes once per PR, so the changes in the PR can be comprehended without having to think about intermediate states which turn out to be irrelevant.\r\n\r\nBut I'm venting a little. In general things look very good here.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-975770870",
      "submitted_at": "2022-05-18T18:46:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6644714761,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGMDk0J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6644714761",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T18:00:21Z"
    },
    {
      "event": "commented",
      "id": 1132023808,
      "node_id": "IC_kwDOABII585DeVAA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132023808",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T18:05:32Z",
      "updated_at": "2022-05-19T18:05:32Z",
      "author_association": "MEMBER",
      "body": "Pushed 0cc58453e2479a8877e2c0b463d3a7c215ceb77b -> abeee4b928eacb661a5829f464f0cda10da171c2\r\n- Addressed Ryan's review comments (thanks Ryan!)",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1132023808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1132161124,
      "node_id": "IC_kwDOABII585De2hk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132161124",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z",
      "updated_at": "2022-05-20T03:20:57Z",
      "author_association": "MEMBER",
      "body": "Reviewers, I'm considering dropping the commit:\r\n\r\n- 9dc8093189e41849e91f8425f02e8f30563dfdf3 \"coinstats: Introduce and switch to UTXOHashers\"\r\n\r\nOriginally I had intended for the `UTXOHashers` class to make the `GetUTXOStats` interface more extensible (one could imagine a user providing their own `UTXOHashers` implementation), but I think it might have been more confusing than not and might not be worth the trouble because YAGNI.\r\n\r\nSee discussions:\r\n- https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868360164\r\n- https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868450711\r\n- https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875408643\r\n\r\nOn the other hand, I also don't want to impose too much of a re-review burden on folks, and it really doesn't seem like it matters all that much in practice which way we go.\r\n\r\nLet me know your opinion with a reaction to this comment:\r\n- 👍 Drop the commit and remove `UTXOHashers`\r\n- 😕 Keep the commit and `UTXOHashers`\r\n\r\nPing @mzumsande @theuni @fjahr @theStack @ryanofsky \r\n\r\n-----\r\n\r\nUpdate May 19th, 2022: This has been implemented as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1132161124",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "mentioned",
      "id": 6645618588,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGMHBec",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618588",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 6645618593,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGMHBeh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618593",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "mentioned",
      "id": 6645618599,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGMHBen",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618599",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 6645618602,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGMHBeq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618602",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "mentioned",
      "id": 6645618607,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGMHBev",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618607",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 6645618614,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGMHBe2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618614",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "mentioned",
      "id": 6645618615,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGMHBe3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618615",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 6645618619,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGMHBe7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618619",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "mentioned",
      "id": 6645618628,
      "node_id": "MEE_lADOABII585EUq0_zwAAAAGMHBfE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618628",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 6645618630,
      "node_id": "SE_lADOABII585EUq0_zwAAAAGMHBfG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6645618630",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T20:13:00Z"
    },
    {
      "event": "reviewed",
      "id": 979332955,
      "node_id": "PRR_kwDOABII5846X29b",
      "url": null,
      "actor": null,
      "commit_id": "abeee4b928eacb661a5829f464f0cda10da171c2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK abeee4b928eacb661a5829f464f0cda10da171c2. Only changes since last review were implementing some suggestions from my review (avoiding CBlockIndex* constructor, consolidating stats variables, documenting index_requested param).\r\n\r\nI'd be happy to see hasher thing simplified and `ComputeUTXOStats` not to need a hasher parameter, but also happy to see this merged as is, so I abstain from the emoji vote above!",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-979332955",
      "submitted_at": "2022-05-19T22:29:07Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "reviewed",
      "id": 979355076,
      "node_id": "PRR_kwDOABII5846X8XE",
      "url": null,
      "actor": null,
      "commit_id": "abeee4b928eacb661a5829f464f0cda10da171c2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": ">Reviewers, I'm considering dropping the commit:\r\n>\r\n>https://github.com/bitcoin/bitcoin/commit/9dc8093189e41849e91f8425f02e8f30563dfdf3 \"coinstats: Introduce and switch to UTXOHashers\"\r\n>\r\n>Originally I had intended for the UTXOHashers class to make the GetUTXOStats interface more extensible (one could imagine a user providing their own UTXOHashers implementation), but I think it might have been more confusing than not and might not be worth the trouble because YAGNI.\r\n\r\nIn my first round of (very light) code-review I found the introduction of the `UTXOHasher` abstract interface quite a good idea, but then on the other hand ryanofsky brings up really strong counter-arguments (https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875408643) that are hard to refute. Particularly \"more heap allocations\" and \"more complicated kernel API\" are valid points that I didn't consider (the pinning of the hash size to 256 bits seems less of a problem to me though), so that convinced me to vote for dropping the commit.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-979355076",
      "submitted_at": "2022-05-19T23:34:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6647244114,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGMNOVS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6647244114",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T03:14:53Z"
    },
    {
      "event": "commented",
      "id": 1132413872,
      "node_id": "IC_kwDOABII585Df0Ow",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132413872",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T03:16:13Z",
      "updated_at": "2022-05-20T05:18:18Z",
      "author_association": "MEMBER",
      "body": "Pushed abeee4b928eacb661a5829f464f0cda10da171c2 -> 90358d4b7402bfd4cd9b79ebf828e40f4eabd849\r\n- Implemented https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1132161124\r\n- A few minor cleanups (scripted-diff simplification, extraneous comments, adjust commit messages)",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1132413872",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "reviewed",
      "id": 977299036,
      "node_id": "PRR_kwDOABII5846QGZc",
      "url": null,
      "actor": null,
      "commit_id": "90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Review the code one more time - this looks great! \r\nAlso did some light testing that `gettxoutsetinfo` still works as before.\r\n\r\nTwo points below that are minor but would be worth fixing imo.\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-977299036",
      "submitted_at": "2022-05-20T18:45:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "reviewed",
      "id": 980571970,
      "node_id": "PRR_kwDOABII5846cldC",
      "url": null,
      "actor": null,
      "commit_id": "90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 90358d4b7402bfd4cd9b79ebf828e40f4eabd849. I rereviewed from scratch but main change since last review seems to be not adding hasher objects. All looks good, feel free to ignore minor comments.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-980571970",
      "submitted_at": "2022-05-20T19:20:29Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "labeled",
      "id": 6653166103,
      "node_id": "LE_lADOABII585EUq0_zwAAAAGMj0IX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6653166103",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T20:02:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 980634792,
      "node_id": "PRR_kwDOABII5846c0yo",
      "url": null,
      "actor": null,
      "commit_id": "90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code-review ACK 90358d4b7402bfd4cd9b79ebf828e40f4eabd849 🏞️ \r\n\r\n(I'm aware that this needs rebase, but re-ACKing should be fairly trivial)",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-980634792",
      "submitted_at": "2022-05-20T20:20:24Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUyYjE5Mzk5OTM3NzFkMGE4YTcxOGNhMTY2NzI0MTg3MmRlODI0MWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52b1939993771d0a8a718ca1667241872de8241a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/52b1939993771d0a8a718ca1667241872de8241a",
      "tree": {
        "sha": "c02d976fef4bf8180c6a59a4cc63e6036c089dc2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c02d976fef4bf8180c6a59a4cc63e6036c089dc2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/640eb772e55671c5dab29843cebe42ec35cb703f",
          "sha": "640eb772e55671c5dab29843cebe42ec35cb703f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/640eb772e55671c5dab29843cebe42ec35cb703f"
        }
      ],
      "message": "kernel: Remove unnecessary blockfilter{index,}.cpp\n\nIt is no longer necessary to link in blockfilter.cpp and\nindex/blockfilterindex.cpp after merge of PR#21726 since validation has\nbeen decouple from the blockfilterindex.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-20T20:33:24Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-03T22:14:03Z"
      },
      "sha": "52b1939993771d0a8a718ca1667241872de8241a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA4NDhkYjljMzVkOWVhZTRkNjhjYmRiZWY2OGMzMzc2NTZmM2M5MDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0848db9c35d9eae4d68cbdbef68c337656f3c906",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0848db9c35d9eae4d68cbdbef68c337656f3c906",
      "tree": {
        "sha": "1c34a3440f2750020d886e788f6d7a3c58d3e42e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c34a3440f2750020d886e788f6d7a3c58d3e42e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52b1939993771d0a8a718ca1667241872de8241a",
          "sha": "52b1939993771d0a8a718ca1667241872de8241a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/52b1939993771d0a8a718ca1667241872de8241a"
        }
      ],
      "message": "fuzz: Remove useless GetUTXOStats fuzz case\n\nIn the GetUTXOStats fuzz case, GetUTXOStats is always called with a\nCCoinsViewCache. Which is guaranteed to throw a std::logic_error when\nits ::Cursor() method is called on the first line of GetUTXOStats.\n\nIn the fuzz case, we basically catch this logic error and declare\nvictory if we caught it.\n\nThere is no point to fuzzing this deterministic logic.\n\nConfirmed with IWYU that the node/coinstats.h #include is no longer\nnecessary.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-20T20:33:24Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-04-29T17:30:27Z"
      },
      "sha": "0848db9c35d9eae4d68cbdbef68c337656f3c906"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEwMjI5NDg5OGQ3MDhiN2FkYzAxNTBhYmE4ZTUwMGE0YWExOWJjMWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/102294898d708b7adc0150aba8e500a4aa19bc1c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/102294898d708b7adc0150aba8e500a4aa19bc1c",
      "tree": {
        "sha": "f2994ace5311901bb338c18ef0922d908c4dc7f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f2994ace5311901bb338c18ef0922d908c4dc7f1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0848db9c35d9eae4d68cbdbef68c337656f3c906",
          "sha": "0848db9c35d9eae4d68cbdbef68c337656f3c906",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0848db9c35d9eae4d68cbdbef68c337656f3c906"
        }
      ],
      "message": "includes: Remove rpc/util.h -> node/coinstats.h\n\nConfirmed with IWYU that this is unnecessary.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-20T20:33:24Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-02T18:27:38Z"
      },
      "sha": "102294898d708b7adc0150aba8e500a4aa19bc1c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE3ODlmM2YyYjg3OGUxMjM2ZjhlMDQzYThiYjFmZmIxYWZjMWI2NzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a789f3f2b878e1236f8e043a8bb1ffb1afc1b673",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a789f3f2b878e1236f8e043a8bb1ffb1afc1b673",
      "tree": {
        "sha": "fe1d822cb8ea6b54d520ad06cb55850e6c5d8ce3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe1d822cb8ea6b54d520ad06cb55850e6c5d8ce3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/102294898d708b7adc0150aba8e500a4aa19bc1c",
          "sha": "102294898d708b7adc0150aba8e500a4aa19bc1c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/102294898d708b7adc0150aba8e500a4aa19bc1c"
        }
      ],
      "message": "coinstats: Extract hash_type in-member to in-param\n\nCurrently, CCoinsStats is a struct with both in-params and out-params\nwhere the hash_type and index_requested members are the only in-params.\n\nThis change removes CCoinsStats' hash_type in-param member and adds it\nto the relevant functions instead.\n\n[META] In subsequent commits, all of CCoinsStats' members which serve as\n       in-params will be moved out so as to make CCoinsStats a pure\n       out-param struct.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-20T20:33:24Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-14T00:27:36Z"
      },
      "sha": "a789f3f2b878e1236f8e043a8bb1ffb1afc1b673"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2ZWI5ZmM1NmEyOTZhMmFjZWExMGVjN2U1YmY3YjE4MjdmNzNjNDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46eb9fc56a296a2acea10ec7e5bf7b1827f73c45",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/46eb9fc56a296a2acea10ec7e5bf7b1827f73c45",
      "tree": {
        "sha": "6c91d56d1a5f19a71c118b757cab0040bfdcdd5e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c91d56d1a5f19a71c118b757cab0040bfdcdd5e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a789f3f2b878e1236f8e043a8bb1ffb1afc1b673",
          "sha": "a789f3f2b878e1236f8e043a8bb1ffb1afc1b673",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a789f3f2b878e1236f8e043a8bb1ffb1afc1b673"
        }
      ],
      "message": "coinstats: Extract index_requested in-member to in-param\n\nThis change removes CCoinsStats' index_requested in-param member and\nadds it to the relevant functions instead.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-20T20:33:24Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-14T00:34:17Z"
      },
      "sha": "46eb9fc56a296a2acea10ec7e5bf7b1827f73c45"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6653870602,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGMmgIK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6653870602",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T22:19:16Z"
    },
    {
      "event": "commented",
      "id": 1133430078,
      "node_id": "IC_kwDOABII585DjsU-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1133430078",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T22:20:26Z",
      "updated_at": "2022-05-20T22:20:26Z",
      "author_association": "MEMBER",
      "body": "Pushed 90358d4b7402bfd4cd9b79ebf828e40f4eabd849 -> e6e2b165fd377806e257fbb5378e22067a9a3957\r\n\r\n- Rebased over master\r\n- Addressed:\r\n  - https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878378791\r\n  - https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878475165\r\n  - https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878520316",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1133430078",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6653964559,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGMm3EP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6653964559",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T22:53:54Z"
    },
    {
      "event": "unlabeled",
      "id": 6654133246,
      "node_id": "UNLE_lADOABII585EUq0_zwAAAAGMngP-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6654133246",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-21T00:11:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1133660365,
      "node_id": "IC_kwDOABII585DkkjN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1133660365",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-21T15:59:44Z",
      "updated_at": "2022-05-22T05:40:18Z",
      "author_association": "MEMBER",
      "body": "Pushed e6e2b165fd377806e257fbb5378e22067a9a3957 -> e42583f928d5461827a946db3baa7b3da9487253\r\n- Removed over-eager assertion added in the previous e6e2b165fd377806e257fbb5378e22067a9a3957 push: `GetUTXOStats` is sometimes called in `rpc/blockchain.cpp` with a non-null `pindex` even when we aren't going to use the index. In all such cases the `pindex` represents `view`'s best block.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1133660365",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "reviewed",
      "id": 981034168,
      "node_id": "PRR_kwDOABII5846eWS4",
      "url": null,
      "actor": null,
      "commit_id": "e42583f928d5461827a946db3baa7b3da9487253",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK e42583f928d5461827a946db3baa7b3da9487253",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-981034168",
      "submitted_at": "2022-05-22T23:56:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "reviewed",
      "id": 982049835,
      "node_id": "PRR_kwDOABII5846iOQr",
      "url": null,
      "actor": null,
      "commit_id": "e42583f928d5461827a946db3baa7b3da9487253",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK e42583f928d5461827a946db3baa7b3da9487253. Looks good, I left new suggestions but they are not important. Changes since last review were all minor: adding comment, adding static, dropping unused parameter",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-982049835",
      "submitted_at": "2022-05-23T16:33:50Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUyNDQ2M2RhZjZhMTBiMjBhNGUyMDExNmE2ODEwMWE2ODQ5MjllZGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/524463daf6a10b20a4e20116a68101a684929eda",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/524463daf6a10b20a4e20116a68101a684929eda",
      "tree": {
        "sha": "257ecace292cba8614f8b1e4592f524561293016",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/257ecace292cba8614f8b1e4592f524561293016"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46eb9fc56a296a2acea10ec7e5bf7b1827f73c45",
          "sha": "46eb9fc56a296a2acea10ec7e5bf7b1827f73c45",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/46eb9fc56a296a2acea10ec7e5bf7b1827f73c45"
        }
      ],
      "message": "coinstats: Return purely out-param CCoinsStats\n\nIn previous commits in this patchset, we removed all in-param members of\nCCoinsStats. Now that that's done, we can modify GetUTXOStats to return\nan optional CCoinsStats instead of a status bool. Callers are modified\naccordingly.\n\nIn rpc/blockchain.cpp, we discover that GetUTXOStats' status bool when\ngetting UTXO stats for pprev was not checked for error. We fix this as\nwell.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:50:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-15T23:37:32Z"
      },
      "sha": "524463daf6a10b20a4e20116a68101a684929eda"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEzNTJlNDEwYTViODQwNzAyNzlmZjI4Mzk5MDgzY2IzYWIyNzg1OTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1352e410a5b84070279ff28399083cb3ab278593",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1352e410a5b84070279ff28399083cb3ab278593",
      "tree": {
        "sha": "09eb4ce4455f98a8c1c875e4aefb697ead136245",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/09eb4ce4455f98a8c1c875e4aefb697ead136245"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/524463daf6a10b20a4e20116a68101a684929eda",
          "sha": "524463daf6a10b20a4e20116a68101a684929eda",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/524463daf6a10b20a4e20116a68101a684929eda"
        }
      ],
      "message": "coinstats: Separate hasher/index lookup codepaths\n\nSplit out ComputeUTXOStats and LookupUTXOStatsWithIndex from\nGetUTXOStats, since the hashing and indexing codepaths are quite\ndisparate in practice.\n\nAlso allow add a constructor to CCoinsStats for it to be constructed\nfrom a a block height and hash. This is used in both codepaths.\n\nAlso add a note in GetUTXOStats documenting a behaviour quirk that\npredates this patchset.\n\n[META] This allows the hashing codepath to be moved to a separate file\n       in a future commit, decoupling callers that only rely on the\n       hashing codepath from the indexing one. This is key for\n       libbitcoinkernel, which needs to have the hashing codepath for\n       AssumeUTXO, but does not wish to be coupled with indexes.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:52:23Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-16T19:11:19Z"
      },
      "sha": "1352e410a5b84070279ff28399083cb3ab278593"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI3NjM0ZmUwMmI2YjAzMGY1ZDYyNTAyYzczZGI4NGJhOWEyNzY2NDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b7634fe02b6b030f5d62502c73db84ba9a276640",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b7634fe02b6b030f5d62502c73db84ba9a276640",
      "tree": {
        "sha": "08147ea1a3c1e452d73ca49032917bad17c2f3b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08147ea1a3c1e452d73ca49032917bad17c2f3b9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1352e410a5b84070279ff28399083cb3ab278593",
          "sha": "1352e410a5b84070279ff28399083cb3ab278593",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1352e410a5b84070279ff28399083cb3ab278593"
        }
      ],
      "message": "Move logic from LookupUTXOStatsWithIndex to CoinStatsIndex::LookUpStats\n\nThe indexing codepath logic in node/coinstats.cpp is simple enough to be\nmoved into CoinStatsIndex::LookUpStats, avoiding an additional layer of\nfunction calls. Callers are modified accordingly.\n\nAlso, add 2 missed BOOST_CHECKs to the coinstatsindex_initial_sync unit\ntest.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:52:25Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-02T17:44:19Z"
      },
      "sha": "b7634fe02b6b030f5d62502c73db84ba9a276640"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM1ZjczY2U0YjJlZmQ3MzQxZmU1NWY3N2IzMzRmMjdhZDhhYWQwOTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35f73ce4b2efd7341fe55f77b334f27ad8aad090",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/35f73ce4b2efd7341fe55f77b334f27ad8aad090",
      "tree": {
        "sha": "6c43c08e4c3da86c3dee3c1152bafb1435300a8c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c43c08e4c3da86c3dee3c1152bafb1435300a8c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b7634fe02b6b030f5d62502c73db84ba9a276640",
          "sha": "b7634fe02b6b030f5d62502c73db84ba9a276640",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b7634fe02b6b030f5d62502c73db84ba9a276640"
        }
      ],
      "message": "coinstats: Move hasher codepath to kernel/coinstats\n\nAs mentioned in a previous commit, the hashing codepath can now be moved\nto a separate file. This decouples callers that only rely on the hashing\ncodepath from the indexing one.\n\nThis is key for libbitcoinkernel, which needs to have the CoinsStats\nhashing codepath for AssumeUTXO, but does not wish to be coupled with\nindexes.\n\nNote that only the .cpp file is split in this commit, the header files\nwill be split in a subsequent commit and the #includes to\nnode/coinstats.h will be adjusted to only #include the necessary\nheaders.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:31Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-16T20:31:02Z"
      },
      "sha": "35f73ce4b2efd7341fe55f77b334f27ad8aad090"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgwOTcwOTg1Yzk2NWY3OWI4YzM3NmM4YTkyMjQ5N2UzODU0NDVkZDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80970985c965f79b8c376c8a922497e385445dd8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/80970985c965f79b8c376c8a922497e385445dd8",
      "tree": {
        "sha": "aaba582afbad36c40b8f57fad509c26993a8e453",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aaba582afbad36c40b8f57fad509c26993a8e453"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35f73ce4b2efd7341fe55f77b334f27ad8aad090",
          "sha": "35f73ce4b2efd7341fe55f77b334f27ad8aad090",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/35f73ce4b2efd7341fe55f77b334f27ad8aad090"
        }
      ],
      "message": "coinstats: Split node/coinstats.h to kernel/coinstats.h\n\nMost of this commit is pure-move.\n\nAfter this change:\n\n- kernel/coinstats.h\n    -> Contains declarations for:\n       - enum class CoinStatsHashType\n       - struct CCoinsStats\n       - GetBogoSize(...)\n       - TxOutSer(...)\n       - ComputeUTXOStats(...)\n- node/coinstats.h\n    -> Just GetUTXOStats, which will be removed as we change callers to\n       directly use the hashing/indexing codepaths in future commits.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-16T22:51:57Z"
      },
      "sha": "80970985c965f79b8c376c8a922497e385445dd8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBlNTQ0NTZmMDQ5OGU1MjEzMWY4YWUwYzc2YjRkZmUyNWY0NWIwNzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e54456f0498e52131f8ae0c76b4dfe25f45b076",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0e54456f0498e52131f8ae0c76b4dfe25f45b076",
      "tree": {
        "sha": "af084f574bed46f24c40f7991c6f46dc9304fc43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/af084f574bed46f24c40f7991c6f46dc9304fc43"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80970985c965f79b8c376c8a922497e385445dd8",
          "sha": "80970985c965f79b8c376c8a922497e385445dd8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/80970985c965f79b8c376c8a922497e385445dd8"
        }
      ],
      "message": "Use only kernel/coinstats.h in index/coinstatsindex.h\n\nRemoves a circular dependency, horray!",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-02T18:25:05Z"
      },
      "sha": "0e54456f0498e52131f8ae0c76b4dfe25f45b076"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYzMjlhOTI5OGMwNmZmZTc0YjllOWZiYzA3YmZlNmQyODJmZWY5Y2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb",
      "tree": {
        "sha": "441ef3ea0f23e9da9b8092826c7d09a18edc6850",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/441ef3ea0f23e9da9b8092826c7d09a18edc6850"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e54456f0498e52131f8ae0c76b4dfe25f45b076",
          "sha": "0e54456f0498e52131f8ae0c76b4dfe25f45b076",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0e54456f0498e52131f8ae0c76b4dfe25f45b076"
        }
      ],
      "message": "scripted-diff: Move src/kernel/coinstats to kernel::\n\nIntroduces a new kernel:: namespace and move all of src/kernel/coinstats\nunder it.\n\nIn the verify script, lines like:\n\nline=\"$(grep -n 'namespace node {' -- src/kernel/coinstats.h | tail -n1 | cut -d: -f1)\"\nsed -i -e \"${line}s@namespace node {@namespace kernel {@\" -- src/kernel/coinstats.h\n\nAre intended to replace only the last instance of \"namespace node\" with\n\"namespace kernel\", this is to avoid replacing forward declarations of\nthings inside the node:: namespace.\n\n-BEGIN VERIFY SCRIPT-\nsed -E -i 's@namespace node@namespace kernel@g' -- src/kernel/coinstats.cpp\n\nline=\"$(grep -n 'namespace node {' -- src/kernel/coinstats.h | tail -n1 | cut -d: -f1)\"\nsed -i -e \"${line}s@namespace node {@namespace kernel {@\" -- src/kernel/coinstats.h\n\nline=\"$(grep -n '// namespace node' -- src/kernel/coinstats.h | tail -n1 | cut -d: -f1)\"\nsed -i -e \"${line}s@// namespace node@// namespace kernel@\" -- src/kernel/coinstats.h\n\nthings='(CCoinsStats|CoinStatsHashType|GetBogoSize|TxOutSer|ComputeUTXOStats)'\ngit grep -lE 'node::'\"$things\" | xargs sed -E -i 's@node::'\"$things\"'@kernel::\\1@g'\nsed -E -i 's@'\"$things\"'@kernel::\\1@g' -- src/node/coinstats.cpp src/node/coinstats.h\nsed -E -i 's@BlockManager@node::\\0@g' -- src/kernel/coinstats.cpp\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-16T22:58:41Z"
      },
      "sha": "f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYTUyMzg3ZThlNDg1NjQ0NWIxY2ZjOWI1ZTA3MmNlOGY2OTBmMzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa52387e8e4856445b1cfc9b5e072ce8f690f36",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faa52387e8e4856445b1cfc9b5e072ce8f690f36",
      "tree": {
        "sha": "5af078d42ac16aca0ca6d436b96ac3a3585e760c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5af078d42ac16aca0ca6d436b96ac3a3585e760c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb",
          "sha": "f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f329a9298c06ffe74b9e9fbc07bfe6d282fef9cb"
        }
      ],
      "message": "style-only: Rearrange using decls after scripted-diff",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-18T03:02:48Z"
      },
      "sha": "faa52387e8e4856445b1cfc9b5e072ce8f690f36"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxMDA2ODc1NjY1ZmZlOGZmNWRhODE4NWVmZmUyNWI4NjA3NDNiNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1006875665ffe8ff5da8185effe25b860743b4e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f1006875665ffe8ff5da8185effe25b860743b4e",
      "tree": {
        "sha": "92c88cfc60bd57518ab19881791010a9ba3e9c4f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/92c88cfc60bd57518ab19881791010a9ba3e9c4f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa52387e8e4856445b1cfc9b5e072ce8f690f36",
          "sha": "faa52387e8e4856445b1cfc9b5e072ce8f690f36",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faa52387e8e4856445b1cfc9b5e072ce8f690f36"
        }
      ],
      "message": "kernel: Use ComputeUTXOStats in validation\n\nThis is the \"fruit of our labor\" for this patchset.\nChainstateManager::PopulateAndValidateSnapshot can now directly call\nComputeUTXOStats(...).\n\nOur consensus engine is now fully decoupled from all indices.\n\nSee the src/Makefile.am for some satisfying removals.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T18:53:35Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-16T20:23:11Z"
      },
      "sha": "f1006875665ffe8ff5da8185effe25b860743b4e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6663542055,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGNLZUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6663542055",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T19:06:48Z"
    },
    {
      "event": "commented",
      "id": 1135038927,
      "node_id": "IC_kwDOABII585Dp1HP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1135038927",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T19:07:18Z",
      "updated_at": "2022-05-23T19:07:18Z",
      "author_association": "MEMBER",
      "body": "Push e42583f928d5461827a946db3baa7b3da9487253 -> c7e8803e47eadc68e46e9384a7e2c4543404cd1b\r\n- Addressed\r\n  - https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879649251\r\n  - https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879660117",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1135038927",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY2NGExNGJhN2NjYjQwYWE4MmQzNWE1OTgzMWFjZDM1ZGIxODk3YTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "tree": {
        "sha": "dfe80704af3dbc8b58db42a22359a517c514f4d1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dfe80704af3dbc8b58db42a22359a517c514f4d1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1006875665ffe8ff5da8185effe25b860743b4e",
          "sha": "f1006875665ffe8ff5da8185effe25b860743b4e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f1006875665ffe8ff5da8185effe25b860743b4e"
        }
      ],
      "message": "coinstats: Move GetUTXOStats to rpc/blockchain\n\nrpc/blockchain.cpp is now the only user of the vestigial\nGetUTXOStats(...). And since GetUTXOStats(...)'s special fallback logic\nwas only really relevant/meant for rpc/blockchain.cpp, we can just move\nit there.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-23T19:19:29Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-02-17T22:07:48Z"
      },
      "sha": "664a14ba7ccb40aa82d35a59831acd35db1897a6"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6663611655,
      "node_id": "HRFPE_lADOABII585EUq0_zwAAAAGNLqUH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6663611655",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T19:19:43Z"
    },
    {
      "event": "commented",
      "id": 1135051167,
      "node_id": "IC_kwDOABII585Dp4Gf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1135051167",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T19:20:39Z",
      "updated_at": "2022-05-23T19:20:39Z",
      "author_association": "MEMBER",
      "body": "Pushed c7e8803e47eadc68e46e9384a7e2c4543404cd1b -> 664a14ba7ccb40aa82d35a59831acd35db1897a6\r\n- Use `CHECK_NONFATAL` instead of `assert` in `GetUTXOStats` after moving to `rpc/blockchain.cpp`",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1135051167",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "commented",
      "id": 1135551449,
      "node_id": "IC_kwDOABII585DryPZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1135551449",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-24T08:12:22Z",
      "updated_at": "2022-05-24T08:12:22Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1135551449",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24410"
    },
    {
      "event": "reviewed",
      "id": 982809643,
      "node_id": "PRR_kwDOABII5846lHwr",
      "url": null,
      "actor": null,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-982809643",
      "submitted_at": "2022-05-24T08:30:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "merged",
      "id": 6668757969,
      "node_id": "ME_lADOABII585EUq0_zwAAAAGNfSvR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6668757969",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "700808754884919916a5518e7ecfdabadef956d8",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/700808754884919916a5518e7ecfdabadef956d8",
      "created_at": "2022-05-24T12:43:54Z"
    },
    {
      "event": "closed",
      "id": 6668757991,
      "node_id": "CE_lADOABII585EUq0_zwAAAAGNfSvn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6668757991",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-24T12:43:54Z"
    },
    {
      "event": "moved_columns_in_project",
      "id": 6668758061,
      "node_id": "MCIPE_lADOABII585EUq0_zwAAAAGNfSwt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6668758061",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-24T12:43:55Z",
      "project_card": {
        "id": 79294262,
        "url": "https://api.github.com/projects/columns/cards/79294262",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "Done or Closed or Rethinking",
        "previous_column_name": "Ready for Review PRs"
      }
    },
    {
      "event": "reviewed",
      "id": 983153767,
      "node_id": "PRR_kwDOABII5846mbxn",
      "url": null,
      "actor": null,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "post-merge re-ACK 664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#pullrequestreview-983153767",
      "submitted_at": "2022-05-24T12:50:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
    },
    {
      "event": "removed_from_project",
      "id": 6675368372,
      "node_id": "RFPE_lADOABII585EUq0_zwAAAAGN4gm0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6675368372",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-25T07:43:11Z",
      "project_card": {
        "id": 81269327,
        "url": "https://api.github.com/projects/columns/cards/81269327",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "referenced",
      "id": 6697616879,
      "node_id": "REFE_lADOABII585EUq0_zwAAAAGPNYXv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6697616879",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "24aef646bd465e2e4fc8b23ed3efc5f74e5a8155",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/24aef646bd465e2e4fc8b23ed3efc5f74e5a8155",
      "created_at": "2022-05-28T22:51:03Z"
    },
    {
      "event": "referenced",
      "id": 6918355325,
      "node_id": "REFE_lADOABII585EUq0_zwAAAAGcXbl9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6918355325",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "53b1a2426c58f709b5cc0281ef67c0d29fc78a93",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/53b1a2426c58f709b5cc0281ef67c0d29fc78a93",
      "created_at": "2022-07-01T12:58:52Z"
    },
    {
      "event": "referenced",
      "id": 6918757966,
      "node_id": "REFE_lADOABII585EUq0_zwAAAAGcY95O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6918757966",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "077c58e94f10bf2df730cf6177709f9eb9ce4a7c",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/077c58e94f10bf2df730cf6177709f9eb9ce4a7c",
      "created_at": "2022-07-01T13:56:29Z"
    },
    {
      "event": "comment_deleted",
      "id": 7513850651,
      "node_id": "CDE_lADOABII585EUq0_zwAAAAG_3EMb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7513850651",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T08:09:30Z"
    },
    {
      "event": "comment_deleted",
      "id": 7513851254,
      "node_id": "CDE_lADOABII585EUq0_zwAAAAG_3EV2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7513851254",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T08:09:35Z"
    },
    {
      "event": "comment_deleted",
      "id": 7513851803,
      "node_id": "CDE_lADOABII585EUq0_zwAAAAG_3Eeb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7513851803",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T08:09:39Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862389785",
      "pull_request_review_id": 958515100,
      "id": 862389785,
      "node_id": "PRRC_kwDOABII584zZwYZ",
      "diff_hunk": "@@ -62,4 +66,7 @@ class CoinStatsIndex final : public BaseIndex\n /// The global UTXO set hash object.\n extern std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n \n+std::optional<kernel::CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex);",
      "path": "src/index/coinstatsindex.h",
      "position": null,
      "original_position": 17,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "f2f72edaadb03b52271a14906094530e23b3806c",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "commit f2f72edaadb03b52271a14906094530e23b3806c:\r\n\r\nWould it make sense to simplify the final interface in coinstatsindex?\r\nI didn't try it out, but if `CoinStatsIndex::LookUpStats()` was refactored to set `index_used = true` internally and return an `std::optional<kernel::CCoinsStats>`, while the `LookupBlockIndex()` path was already done in  `rpc/blockchain.cpp`, we could directly call that and get rid of the two `GetUTXOStatsWithIndex()` functions and have just one public `CoinStatsIndex` member function to return the statistics.",
      "created_at": "2022-04-30T19:39:02Z",
      "updated_at": "2022-04-30T20:06:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r862389785",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862389785"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862390168",
      "pull_request_review_id": 958515100,
      "id": 862390168,
      "node_id": "PRRC_kwDOABII584zZweY",
      "diff_hunk": "@@ -922,9 +924,13 @@ static RPCHelpMan gettxoutsetinfo()\n             ret.pushKV(\"total_unspendable_amount\", ValueFromAmount(stats.total_unspendable_amount));\n \n             CCoinsStats prev_stats{};\n-\n             if (pindex->nHeight > 0) {\n-                GetUTXOStats(coins_view, *blockman, prev_stats, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                const std::optional<CCoinsStats> maybe_prev_stats = GetUTXOStats(coins_view, *blockman, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                if (maybe_prev_stats.has_value()) {\n+                    prev_stats = maybe_prev_stats.value();\n+                } else {\n+                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");",
      "path": "src/rpc/blockchain.cpp",
      "position": 113,
      "original_position": 22,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "55c4a9ddeefdbe7a97bc9d908003693e3ff71968",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Commit 55c4a9ddeefdbe7a97bc9d908003693e3ff71968:\r\n\r\nI think the added `JSONRPCError` for the call of `pindex->pprev`  makes this not a pure refactor (but an improvement, seems like an oversight that the result wasn't checked before!). Maybe mention this in the commit message.\r\nAlso, CacheSizes -> CCoinsStats in the commit msg?",
      "created_at": "2022-04-30T19:45:50Z",
      "updated_at": "2022-04-30T20:06:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r862390168",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862390168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 960,
      "original_line": 960,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863090809",
      "pull_request_review_id": 959420815,
      "id": 863090809,
      "node_id": "PRRC_kwDOABII584zcbh5",
      "diff_hunk": "@@ -62,4 +66,7 @@ class CoinStatsIndex final : public BaseIndex\n /// The global UTXO set hash object.\n extern std::unique_ptr<CoinStatsIndex> g_coin_stats_index;\n \n+std::optional<kernel::CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex);",
      "path": "src/index/coinstatsindex.h",
      "position": null,
      "original_position": 17,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "f2f72edaadb03b52271a14906094530e23b3806c",
      "in_reply_to_id": 862389785,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Great idea! See: 7dbebb3a9c4ea691b11659f2b91e1e4b8e847251",
      "created_at": "2022-05-02T18:42:21Z",
      "updated_at": "2022-05-02T18:42:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r863090809",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863090809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863091676",
      "pull_request_review_id": 959422120,
      "id": 863091676,
      "node_id": "PRRC_kwDOABII584zcbvc",
      "diff_hunk": "@@ -922,9 +924,13 @@ static RPCHelpMan gettxoutsetinfo()\n             ret.pushKV(\"total_unspendable_amount\", ValueFromAmount(stats.total_unspendable_amount));\n \n             CCoinsStats prev_stats{};\n-\n             if (pindex->nHeight > 0) {\n-                GetUTXOStats(coins_view, *blockman, prev_stats, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                const std::optional<CCoinsStats> maybe_prev_stats = GetUTXOStats(coins_view, *blockman, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                if (maybe_prev_stats.has_value()) {\n+                    prev_stats = maybe_prev_stats.value();\n+                } else {\n+                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");",
      "path": "src/rpc/blockchain.cpp",
      "position": 113,
      "original_position": 22,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "55c4a9ddeefdbe7a97bc9d908003693e3ff71968",
      "in_reply_to_id": 862390168,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, I added some info in the commit message. Will be making the commit messages better in the coming days! 2155489fe6d103bdca26c0875058d563a3e8d5c0",
      "created_at": "2022-05-02T18:43:35Z",
      "updated_at": "2022-05-02T18:43:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r863091676",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863091676"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 960,
      "original_line": 960,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864313827",
      "pull_request_review_id": 961163598,
      "id": 864313827,
      "node_id": "PRRC_kwDOABII584zhGHj",
      "diff_hunk": "@@ -922,9 +924,13 @@ static RPCHelpMan gettxoutsetinfo()\n             ret.pushKV(\"total_unspendable_amount\", ValueFromAmount(stats.total_unspendable_amount));\n \n             CCoinsStats prev_stats{};\n-\n             if (pindex->nHeight > 0) {\n-                GetUTXOStats(coins_view, *blockman, prev_stats, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                const std::optional<CCoinsStats> maybe_prev_stats = GetUTXOStats(coins_view, *blockman, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                if (maybe_prev_stats.has_value()) {\n+                    prev_stats = maybe_prev_stats.value();\n+                } else {\n+                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");",
      "path": "src/rpc/blockchain.cpp",
      "position": 113,
      "original_position": 22,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "55c4a9ddeefdbe7a97bc9d908003693e3ff71968",
      "in_reply_to_id": 862390168,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Commit messages are now complete! 😄 ",
      "created_at": "2022-05-03T22:45:51Z",
      "updated_at": "2022-05-03T22:45:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r864313827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864313827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 960,
      "original_line": 960,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864314342",
      "pull_request_review_id": 961163812,
      "id": 864314342,
      "node_id": "PRRC_kwDOABII584zhGPm",
      "diff_hunk": "@@ -316,28 +317,31 @@ static bool LookUpOne(const CDBWrapper& db, const CBlockIndex* block_index, DBVa\n     return db.Read(DBHashKey(block_index->GetBlockHash()), result);\n }\n \n-bool CoinStatsIndex::LookUpStats(const CBlockIndex* block_index, CCoinsStats& coins_stats) const\n+std::optional<CCoinsStats> CoinStatsIndex::LookUpStats(const CBlockIndex* block_index) const\n {\n+    CCoinsStats stats = kernel::MakeCoinStatsPrefilledWithBlockIndexInfo(block_index);",
      "path": "src/index/coinstatsindex.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "06dea7ea36eb1606cd4255e2875d0e4fe2fdd5a4",
      "in_reply_to_id": null,
      "user": {
        "login": "Miminlaili",
        "id": 103429474,
        "node_id": "U_kgDOBio1Yg",
        "avatar_url": "https://avatars.githubusercontent.com/u/103429474?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Miminlaili",
        "html_url": "https://github.com/Miminlaili",
        "followers_url": "https://api.github.com/users/Miminlaili/followers",
        "following_url": "https://api.github.com/users/Miminlaili/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Miminlaili/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Miminlaili/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Miminlaili/subscriptions",
        "organizations_url": "https://api.github.com/users/Miminlaili/orgs",
        "repos_url": "https://api.github.com/users/Miminlaili/repos",
        "events_url": "https://api.github.com/users/Miminlaili/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Miminlaili/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "- [ ] ",
      "created_at": "2022-05-03T22:47:05Z",
      "updated_at": "2022-05-04T09:09:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r864314342",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/864314342"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867504665",
      "pull_request_review_id": 965452018,
      "id": 867504665,
      "node_id": "PRRC_kwDOABII584ztRIZ",
      "diff_hunk": "@@ -809,6 +808,28 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+//! Calculate statistics about the unspent transaction output set\n+",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8f50fe837eaa41b045c69a97617b2346d57bd879",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: unnecessary blank line",
      "created_at": "2022-05-08T15:07:11Z",
      "updated_at": "2022-05-09T22:32:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r867504665",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/867504665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 812,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868120837",
      "pull_request_review_id": 966310447,
      "id": 868120837,
      "node_id": "PRRC_kwDOABII584zvnkF",
      "diff_hunk": "@@ -28,9 +28,6 @@ enum class CoinStatsHashType {\n };\n \n struct CCoinsStats {\n-    //! Which hash type to use\n-    const CoinStatsHashType m_hash_type;",
      "path": "src/node/coinstats.h",
      "position": 28,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As a neat side-effect, I believe this makes `CCoinsStats` moveable, which might actually be a helpful optimization.",
      "created_at": "2022-05-09T15:07:30Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868120837",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868120837"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 32,
      "original_line": 32,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868137623",
      "pull_request_review_id": 966310447,
      "id": 868137623,
      "node_id": "PRRC_kwDOABII584zvrqX",
      "diff_hunk": "@@ -69,12 +66,10 @@ struct CCoinsStats {\n     CAmount total_unspendables_scripts{0};\n     //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n     CAmount total_unspendables_unclaimed_rewards{0};\n-\n-    CCoinsStats(CoinStatsHashType hash_type) : m_hash_type(hash_type) {}\n };\n \n //! Calculate statistics about the unspent transaction output set\n-bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);\n+bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 20,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason not to handle this at build-time with a template param instead? I don't feel strongly, but to me `GetUTXOStats<CoinStatsHashType::MUHASH>(...)` more effectively communicates that this is the \"mode\" of the function, as opposed to it being a random parameter.\r\n\r\nThe implementation function is already templated anyway so I don't think it'd be a big change.\r\n\r\nI know this function is going to change more in subsequent commits, so ignore ^^ if something else moots it.",
      "created_at": "2022-05-09T15:22:57Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868137623",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868137623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868141603",
      "pull_request_review_id": 966310447,
      "id": 868141603,
      "node_id": "PRRC_kwDOABII584zvsoj",
      "diff_hunk": "@@ -69,12 +66,10 @@ struct CCoinsStats {\n     CAmount total_unspendables_scripts{0};\n     //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n     CAmount total_unspendables_unclaimed_rewards{0};\n-\n-    CCoinsStats(CoinStatsHashType hash_type) : m_hash_type(hash_type) {}",
      "path": "src/node/coinstats.h",
      "position": 46,
      "original_position": 15,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So the stats will no longer \"remember\" their hash type, but presumably that's never a problem because the caller always knows?",
      "created_at": "2022-05-09T15:26:49Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868141603",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868141603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 73,
      "original_line": 73,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868360164",
      "pull_request_review_id": 966310447,
      "id": 868360164,
      "node_id": "PRRC_kwDOABII584zwh_k",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there any reason to ever declare a base `UTXOHasher`? Maybe give it a protected constructor?\r\n\r\nEdit: I suppose the pure virtual function takes care of that, but imo a protected constructor is a nice way of communicating that the base class is not for direct use.",
      "created_at": "2022-05-09T19:25:50Z",
      "updated_at": "2022-05-10T15:26:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868360164",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868360164"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868360900",
      "pull_request_review_id": 966310447,
      "id": 868360900,
      "node_id": "PRRC_kwDOABII584zwiLE",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher : public UTXOHasher {",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason not to make these subclasses final?",
      "created_at": "2022-05-09T19:26:33Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868360900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868360900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868368343",
      "pull_request_review_id": 966310447,
      "id": 868368343,
      "node_id": "PRRC_kwDOABII584zwj_X",
      "diff_hunk": "@@ -241,31 +240,19 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     }\n     if (!outputs.empty()) {\n         ApplyStats(stats, prevkey, outputs);\n-        ApplyHash(hash_obj, prevkey, outputs);\n+        hasher.Apply(prevkey, outputs);\n     }\n \n-    FinalizeHash(hash_obj, stats);\n+    stats.hashSerialized = hasher.Finalize();",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "1f37d453ed6a3d5bda82cdff0c861c26b7cf5a1c",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, since this is no longer set as a side-effect of finalization, I'm not sure `hashSerialized` still belongs in `CCoinsStats`? IIUC the caller is now essentially responsible for its sanity, no?\r\n\r\nEdit: Or maybe `Finalize()` should take a `CCoinsStats` reference?",
      "created_at": "2022-05-09T19:34:02Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868368343",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868368343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 246,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868406549",
      "pull_request_review_id": 966310447,
      "id": 868406549,
      "node_id": "PRRC_kwDOABII584zwtUV",
      "diff_hunk": "@@ -206,17 +202,52 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     stats.hashSerialized = hasher.Finalize();\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStatsWithHasher(UTXOHasher& hasher, CCoinsView* view, BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    CCoinsStats stats{};\n-    auto hasher = MakeUTXOHasher(hash_type);\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    GetUTXOStatsWithHasher(hasher, stats, view, blockman, interruption_point);\n \n-    if (!GetUTXOStats(view, blockman, stats, *hasher, interruption_point, pindex, hash_type, index_requested)) {\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    stats.index_used = true;",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8c8d3f186df95b419fba8fddaeaac9b8912646dd",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same comment as with `hashSerialized`. `index_used` does not seem to be a value internal to `CCoinsStats` anymore.",
      "created_at": "2022-05-09T20:11:27Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868406549",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868406549"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868411598",
      "pull_request_review_id": 966310447,
      "id": 868411598,
      "node_id": "PRRC_kwDOABII584zwujO",
      "diff_hunk": "@@ -76,6 +76,8 @@ std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& bl\n uint64_t GetBogoSize(const CScript& script_pub_key);\n \n CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin);\n+\n+CCoinsStats MakeCoinStatsPrefilledWithBlockIndexInfo(const CBlockIndex* pindex);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "f05882c453d94c6e87f82f2cba9bdf1c0c85143a",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not make this a ctor which takes a `CBlockIndex*` and prefills itself?",
      "created_at": "2022-05-09T20:16:39Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868411598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868411598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868420205",
      "pull_request_review_id": 966310447,
      "id": 868420205,
      "node_id": "PRRC_kwDOABII584zwwpt",
      "diff_hunk": "@@ -0,0 +1,88 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_COINSTATS_H",
      "path": "src/kernel/coinstats.h",
      "position": 9,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "05979e6e63741fab64b743a8da3e8f0a453b52cd",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note to other reviewers, the `node/coinstats.h` is deleted in subsequent commits, so the fact that they share a filename isn't really interesting.",
      "created_at": "2022-05-09T20:24:48Z",
      "updated_at": "2022-05-09T20:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868420205",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868420205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868450711",
      "pull_request_review_id": 965452018,
      "id": 868450711,
      "node_id": "PRRC_kwDOABII584zw4GX",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher : public UTXOHasher {\n+public:\n+    uint256 Finalize() override {\n+        return {};\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeNullHasher() {\n+    return std::make_unique<NullHasher>();\n+}\n+\n+class SHA256DHasher : public UTXOHasher\n+{\n+    CHashWriter ss{SER_GETHASH, PROTOCOL_VERSION};\n+public:\n+    // The legacy hash serializes the hashBlock\n+    void Prepare(const uint256& hash_block) override {\n+        ss << hash_block;\n+    }\n+\n+    //! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n+    //! validation commitments are reliant on the hash constructed by this\n+    //! function.\n+    //!\n+    //! If the construction of this hash is changed, it will invalidate\n+    //! existing UTXO snapshots. This will not result in any kind of consensus\n+    //! failure, but it will force clients that were expecting to make use of\n+    //! assumeutxo to do traditional IBD instead.\n+    //!\n+    //! It is also possible, though very unlikely, that a change in this\n+    //! construction could cause a previously invalid (and potentially malicious)\n+    //! UTXO snapshot to be considered valid.\n+    void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs) override {\n+        for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n+            if (it == outputs.begin()) {\n+                ss << hash;\n+                ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n+            }\n+\n+            ss << VARINT(it->first + 1);\n+            ss << it->second.out.scriptPubKey;\n+            ss << VARINT_MODE(it->second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+\n+            if (it == std::prev(outputs.end())) {\n+                ss << VARINT(0u);\n+            }\n+        }\n+    }\n+    uint256 Finalize() override {\n+        return ss.GetHash();\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeSHA256DHasher() {\n+    return std::make_unique<SHA256DHasher>();\n+}\n+\n+class MuHashHasher : public UTXOHasher\n+{\n+    MuHash3072 muhash;\n+public:\n+    void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs) override {\n+        for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n+            COutPoint outpoint = COutPoint(hash, it->first);\n+            Coin coin = it->second;\n+            muhash.Insert(MakeUCharSpan(TxOutSer(outpoint, coin)));\n+        }\n+    }\n+    uint256 Finalize() override {\n+        uint256 out;\n+        muhash.Finalize(out);\n+        return out;\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeMuHashHasher() {\n+    return std::make_unique<MuHashHasher>();\n+}\n+\n+std::unique_ptr<UTXOHasher> MakeUTXOHasher(const CoinStatsHashType& hash_type)\n+{\n+    switch (hash_type) {\n+    case(CoinStatsHashType::HASH_SERIALIZED): {\n+        return MakeSHA256DHasher();",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 98,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: These specific Make functions seem a bit redundant and could be probably be inlined",
      "created_at": "2022-05-09T20:53:13Z",
      "updated_at": "2022-05-09T22:32:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868450711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868450711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868494388",
      "pull_request_review_id": 965452018,
      "id": 868494388,
      "node_id": "PRRC_kwDOABII584zxCw0",
      "diff_hunk": "@@ -206,17 +202,52 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     stats.hashSerialized = hasher.Finalize();\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStatsWithHasher(UTXOHasher& hasher, CCoinsView* view, BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    CCoinsStats stats{};\n-    auto hasher = MakeUTXOHasher(hash_type);\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    GetUTXOStatsWithHasher(hasher, stats, view, blockman, interruption_point);\n \n-    if (!GetUTXOStats(view, blockman, stats, *hasher, interruption_point, pindex, hash_type, index_requested)) {\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n         return std::nullopt;\n     }\n+\n     return stats;\n }\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 70,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8c8d3f186df95b419fba8fddaeaac9b8912646dd",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `::cs_main`",
      "created_at": "2022-05-09T21:40:46Z",
      "updated_at": "2022-05-09T22:32:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868494388",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868494388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 233,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868521835",
      "pull_request_review_id": 965452018,
      "id": 868521835,
      "node_id": "PRRC_kwDOABII584zxJdr",
      "diff_hunk": "@@ -809,6 +808,28 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+//! Calculate statistics about the unspent transaction output set\n+\n+std::optional<kernel::CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& blockman,\n+                                                kernel::CoinStatsHashType hash_type,\n+                                                const std::function<void()>& interruption_point = {},\n+                                                const CBlockIndex* pindex = nullptr,\n+                                                bool index_requested = true)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == kernel::CoinStatsHashType::MUHASH || hash_type == kernel::CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return g_coin_stats_index->LookUpStats(pindex);\n+        } else {\n+            CBlockIndex* block_index = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+            return g_coin_stats_index->LookUpStats(block_index);\n+        }\n+    }\n+\n+    auto hasher = kernel::MakeUTXOHasher(hash_type);\n+    return kernel::GetUTXOStatsWithHasher(*hasher, view, blockman, interruption_point);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "dda351d7cf708b8d426d26562c64bd9c73b3a18f",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe we could make an even clearer naming distinction here. While we can really only \"get\" the stats from the index the kernel computes them. So the kernel function could be renamed to `ComputeUTXOStatsWithHasher`. But it's fine to leave it as is. I just found it an interesting thought and interested to hear what others think.",
      "created_at": "2022-05-09T22:11:35Z",
      "updated_at": "2022-05-09T22:40:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868521835",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868521835"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 830,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868527557",
      "pull_request_review_id": 965452018,
      "id": 868527557,
      "node_id": "PRRC_kwDOABII584zxK3F",
      "diff_hunk": "@@ -76,6 +76,8 @@ std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& bl\n uint64_t GetBogoSize(const CScript& script_pub_key);\n \n CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin);\n+\n+CCoinsStats MakeCoinStatsPrefilledWithBlockIndexInfo(const CBlockIndex* pindex);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "f05882c453d94c6e87f82f2cba9bdf1c0c85143a",
      "in_reply_to_id": 868411598,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree, I was going to leave a nit that this is a bit verbose for my taste ;)",
      "created_at": "2022-05-09T22:18:15Z",
      "updated_at": "2022-05-09T22:32:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868527557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868527557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869644871",
      "pull_request_review_id": 968361766,
      "id": 869644871,
      "node_id": "PRRC_kwDOABII584z1bpH",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": 868360164,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Maybe give it a protected constructor?\r\n\r\nI'm a bit confused here, is the intent just to convey in code that it's a \"virtual base class\" by protecting the constructor? Would a code comment suffice?\r\n\r\n> Is there any reason to ever declare a base `UTXOHasher`?\r\n\r\nMy initial thought was that leaving the abstract `UTXOHasher` in the header (as done in commits subsequent to the one you're commenting on) could allow users to provide their specific implementation (e.g. they have some hash accelerator that we can't make use of).\r\n\r\nThis was very easily achieved by just leaving the class in the header, but I don't want to waste any time thinking about this at all so if you feel strongly about it, I'll just move it out.",
      "created_at": "2022-05-10T20:16:42Z",
      "updated_at": "2022-05-10T20:16:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869644871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869644871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645350",
      "pull_request_review_id": 968362447,
      "id": 869645350,
      "node_id": "PRRC_kwDOABII584z1bwm",
      "diff_hunk": "@@ -809,6 +808,28 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+//! Calculate statistics about the unspent transaction output set\n+\n+std::optional<kernel::CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& blockman,\n+                                                kernel::CoinStatsHashType hash_type,\n+                                                const std::function<void()>& interruption_point = {},\n+                                                const CBlockIndex* pindex = nullptr,\n+                                                bool index_requested = true)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == kernel::CoinStatsHashType::MUHASH || hash_type == kernel::CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return g_coin_stats_index->LookUpStats(pindex);\n+        } else {\n+            CBlockIndex* block_index = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+            return g_coin_stats_index->LookUpStats(block_index);\n+        }\n+    }\n+\n+    auto hasher = kernel::MakeUTXOHasher(hash_type);\n+    return kernel::GetUTXOStatsWithHasher(*hasher, view, blockman, interruption_point);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "dda351d7cf708b8d426d26562c64bd9c73b3a18f",
      "in_reply_to_id": 868521835,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of push 8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "created_at": "2022-05-10T20:17:19Z",
      "updated_at": "2022-05-10T20:17:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869645350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 830,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645416",
      "pull_request_review_id": 968362539,
      "id": 869645416,
      "node_id": "PRRC_kwDOABII584z1bxo",
      "diff_hunk": "@@ -206,17 +202,52 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     stats.hashSerialized = hasher.Finalize();\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStatsWithHasher(UTXOHasher& hasher, CCoinsView* view, BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    CCoinsStats stats{};\n-    auto hasher = MakeUTXOHasher(hash_type);\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    GetUTXOStatsWithHasher(hasher, stats, view, blockman, interruption_point);\n \n-    if (!GetUTXOStats(view, blockman, stats, *hasher, interruption_point, pindex, hash_type, index_requested)) {\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n         return std::nullopt;\n     }\n+\n     return stats;\n }\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 70,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8c8d3f186df95b419fba8fddaeaac9b8912646dd",
      "in_reply_to_id": 868494388,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of push 8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "created_at": "2022-05-10T20:17:24Z",
      "updated_at": "2022-05-10T20:17:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869645416",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645416"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 233,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645503",
      "pull_request_review_id": 968362630,
      "id": 869645503,
      "node_id": "PRRC_kwDOABII584z1by_",
      "diff_hunk": "@@ -809,6 +808,28 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+//! Calculate statistics about the unspent transaction output set\n+",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8f50fe837eaa41b045c69a97617b2346d57bd879",
      "in_reply_to_id": 867504665,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of push 8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "created_at": "2022-05-10T20:17:30Z",
      "updated_at": "2022-05-10T20:17:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869645503",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 812,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645588",
      "pull_request_review_id": 968362735,
      "id": 869645588,
      "node_id": "PRRC_kwDOABII584z1b0U",
      "diff_hunk": "@@ -76,6 +76,8 @@ std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& bl\n uint64_t GetBogoSize(const CScript& script_pub_key);\n \n CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin);\n+\n+CCoinsStats MakeCoinStatsPrefilledWithBlockIndexInfo(const CBlockIndex* pindex);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "f05882c453d94c6e87f82f2cba9bdf1c0c85143a",
      "in_reply_to_id": 868411598,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of push 8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "created_at": "2022-05-10T20:17:37Z",
      "updated_at": "2022-05-10T20:17:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869645588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645667",
      "pull_request_review_id": 968362842,
      "id": 869645667,
      "node_id": "PRRC_kwDOABII584z1b1j",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher : public UTXOHasher {",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": 868360900,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of push 8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "created_at": "2022-05-10T20:17:44Z",
      "updated_at": "2022-05-10T20:17:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869645667",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869645667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869649423",
      "pull_request_review_id": 968368162,
      "id": 869649423,
      "node_id": "PRRC_kwDOABII584z1cwP",
      "diff_hunk": "@@ -69,12 +66,10 @@ struct CCoinsStats {\n     CAmount total_unspendables_scripts{0};\n     //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n     CAmount total_unspendables_unclaimed_rewards{0};\n-\n-    CCoinsStats(CoinStatsHashType hash_type) : m_hash_type(hash_type) {}\n };\n \n //! Calculate statistics about the unspent transaction output set\n-bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);\n+bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 20,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": 868137623,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is completely changed when we introduce `ComputeUTXOStatsWithHasher(UTXOHasher& hasher, ...)` with `UTXOHasher&` as the first parameter. Does that look alright?\r\n\r\nIf it still looks unclear, I'm happy to add Doxygen comments to `ComputeUTXOStatsWithHasher(UTXOHasher& hasher, ...)` so that's it's more clear!",
      "created_at": "2022-05-10T20:22:59Z",
      "updated_at": "2022-05-13T16:41:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869649423",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869649423"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869653743",
      "pull_request_review_id": 968374347,
      "id": 869653743,
      "node_id": "PRRC_kwDOABII584z1dzv",
      "diff_hunk": "@@ -206,17 +202,52 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     stats.hashSerialized = hasher.Finalize();\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStatsWithHasher(UTXOHasher& hasher, CCoinsView* view, BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    CCoinsStats stats{};\n-    auto hasher = MakeUTXOHasher(hash_type);\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    GetUTXOStatsWithHasher(hasher, stats, view, blockman, interruption_point);\n \n-    if (!GetUTXOStats(view, blockman, stats, *hasher, interruption_point, pindex, hash_type, index_requested)) {\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    stats.index_used = true;",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8c8d3f186df95b419fba8fddaeaac9b8912646dd",
      "in_reply_to_id": 868406549,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Although I’ve moved some ***in***-param members out of `CCoinStats`, I think it’s outside the scope of this PR to move ***out***-param members out of `CCoinStats` but would be a worthwhile followup. This is because a proper cleanup of `CCoinStats`' out-params would likely result in a complete split of the struct itself.\r\n\r\nObserve that:\r\n\r\n- The hashing UTXO stats code path only ever sets the CCoinsStats members:\r\n    - CCoinsStats::CCoinsStats\r\n        - nHeight\r\n        - hashBlock\r\n    - ApplyStats\r\n        - nTransactions\r\n        - nTransactionOutputs\r\n        - total_amount\r\n        - nBogoSize\r\n    - ComputeUTXOStatsWithHasher\r\n        - coins_count\r\n        - hashSerialized\r\n        - nDiskSize\r\n- The indexing UTXO stats code path only ever sets the CCoinsStats members:\r\n    - CCoinsStats::CCoinsStats\r\n        - nHeight\r\n        - hashBlock\r\n    - CoinstatsIndex::LookupStats\r\n        - index_used\r\n        - hashSerialized\r\n        - nTransactionOutputs\r\n        - nBogoSize\r\n        - total_amount\r\n        - total_subsidy\r\n        - total_unspendable_amount\r\n        - total_prevout_spent_amount\r\n        - total_new_outputs_ex_coinbase_amount\r\n        - total_coinbase_amount\r\n        - total_unspendables_genesis_block\r\n        - total_unspendables_bip30\r\n        - total_unspendables_scripts\r\n        - total_unspendables_unclaimed_rewards\r\n- The only 6 common fields that are set:\r\n    - nHeight\r\n    - hashBlock\r\n    - nTransactionOutputs\r\n    - total_amount\r\n    - nBogoSize\r\n    - hashSerialized\r\n\r\nSo a proper cleanup would make it so that `CCoinStats` only contains the 6 common fields, and have other structs to contain the fields unique to each codepath. I don't want to do that in this PR.",
      "created_at": "2022-05-10T20:29:08Z",
      "updated_at": "2022-05-10T20:33:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869653743",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869653743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869655962",
      "pull_request_review_id": 968377362,
      "id": 869655962,
      "node_id": "PRRC_kwDOABII584z1eWa",
      "diff_hunk": "@@ -241,31 +240,19 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     }\n     if (!outputs.empty()) {\n         ApplyStats(stats, prevkey, outputs);\n-        ApplyHash(hash_obj, prevkey, outputs);\n+        hasher.Apply(prevkey, outputs);\n     }\n \n-    FinalizeHash(hash_obj, stats);\n+    stats.hashSerialized = hasher.Finalize();",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "1f37d453ed6a3d5bda82cdff0c861c26b7cf5a1c",
      "in_reply_to_id": 868368343,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not entirely sure what you mean here. Do you mean we should return a `std::pair<std::optional<CCoinsStats>, uint256>` instead?\r\n\r\nRelated: https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869653743\r\n\r\n> maybe `Finalize()` should take a `CCoinsStats` reference?\r\n\r\nI'm not a big fan of that, I'm happier having `UTXOHasher`s not knowing about `CCoinsStats` and only knowing about things that are appropriate to their domain.",
      "created_at": "2022-05-10T20:32:25Z",
      "updated_at": "2022-05-10T20:32:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r869655962",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/869655962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 246,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873201356",
      "pull_request_review_id": 973199677,
      "id": 873201356,
      "node_id": "PRRC_kwDOABII5840C_7M",
      "diff_hunk": "@@ -922,10 +944,14 @@ static RPCHelpMan gettxoutsetinfo()\n         } else {\n             ret.pushKV(\"total_unspendable_amount\", ValueFromAmount(stats.total_unspendable_amount));\n \n-            CCoinsStats prev_stats{hash_type};\n-\n+            CCoinsStats prev_stats{};\n             if (pindex->nHeight > 0) {\n-                GetUTXOStats(coins_view, *blockman, prev_stats, node.rpc_interruption_point, pindex->pprev);\n+                const std::optional<CCoinsStats> maybe_prev_stats = GetUTXOStats(coins_view, *blockman, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                if (maybe_prev_stats.has_value()) {\n+                    prev_stats = maybe_prev_stats.value();\n+                } else {\n+                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");\n+                }",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: in order to be more consistent, could also check the error condition first (like done below for `maybe_stats`), or the other way round\r\n```suggestion\r\n                if (!maybe_prev_stats) {\r\n                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");\r\n                } else {\r\n                    prev_stats = maybe_prev_stats.value();\r\n                }\r\n```",
      "created_at": "2022-05-15T17:40:26Z",
      "updated_at": "2022-05-15T18:01:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r873201356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873201356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": 950,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 961,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873899111",
      "pull_request_review_id": 974208167,
      "id": 873899111,
      "node_id": "PRRC_kwDOABII5840FqRn",
      "diff_hunk": "@@ -922,10 +944,14 @@ static RPCHelpMan gettxoutsetinfo()\n         } else {\n             ret.pushKV(\"total_unspendable_amount\", ValueFromAmount(stats.total_unspendable_amount));\n \n-            CCoinsStats prev_stats{hash_type};\n-\n+            CCoinsStats prev_stats{};\n             if (pindex->nHeight > 0) {\n-                GetUTXOStats(coins_view, *blockman, prev_stats, node.rpc_interruption_point, pindex->pprev);\n+                const std::optional<CCoinsStats> maybe_prev_stats = GetUTXOStats(coins_view, *blockman, hash_type, node.rpc_interruption_point, pindex->pprev, index_requested);\n+                if (maybe_prev_stats.has_value()) {\n+                    prev_stats = maybe_prev_stats.value();\n+                } else {\n+                    throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");\n+                }",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8b853034a13f49b85cdf4168d9d49bd297f5b8ce",
      "in_reply_to_id": 873201356,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of https://github.com/bitcoin/bitcoin/pull/24410#issuecomment-1127846221",
      "created_at": "2022-05-16T15:59:08Z",
      "updated_at": "2022-05-16T15:59:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r873899111",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873899111"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": 950,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 961,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875025321",
      "pull_request_review_id": 975770870,
      "id": 875025321,
      "node_id": "PRRC_kwDOABII5840J9Op",
      "diff_hunk": "@@ -41,8 +41,6 @@ struct CCoinsStats {\n     //! The number of coins contained.\n     uint64_t coins_count{0};\n \n-    //! Signals if the coinstatsindex should be used (when available).",
      "path": "src/node/coinstats.h",
      "position": 37,
      "original_position": 4,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "4477312faa6be6582337b0dc667d51deabcca266",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Extract index_requested in-member to in-param\" (4477312faa6be6582337b0dc667d51deabcca266)\r\n\r\nThis comment was useful and is dropped. Would be good to document GetUTXOStats parameter",
      "created_at": "2022-05-17T16:22:43Z",
      "updated_at": "2022-05-18T18:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875025321",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875025321"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875408643",
      "pull_request_review_id": 975770870,
      "id": 875408643,
      "node_id": "PRRC_kwDOABII5840La0D",
      "diff_hunk": "@@ -37,45 +37,110 @@ CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin) {\n     return ss;\n }\n \n-//! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n-//! validation commitments are reliant on the hash constructed by this\n-//! function.\n-//!\n-//! If the construction of this hash is changed, it will invalidate\n-//! existing UTXO snapshots. This will not result in any kind of consensus\n-//! failure, but it will force clients that were expecting to make use of\n-//! assumeutxo to do traditional IBD instead.\n-//!\n-//! It is also possible, though very unlikely, that a change in this\n-//! construction could cause a previously invalid (and potentially malicious)\n-//! UTXO snapshot to be considered valid.\n-static void ApplyHash(CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+class UTXOHasher\n {\n-    for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n-        if (it == outputs.begin()) {\n-            ss << hash;\n-            ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n-        }\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2ec6b8cfb3bf0ddc19966c86a44990108a236a96",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Introduce and switch to UTXOHashers\" (2ec6b8cfb3bf0ddc19966c86a44990108a236a96)\r\n\r\nJust IMO and this is not important, but I think introducing this class that hardcodes a uint256 hash result in more places and uses virtual methods and requires heap allocation just seems less flexible, less type safe, less efficient than code that was here before.\r\n\r\nNot every hash will be a uint256 hash, and it seems to me a null hasher should not compute any hash at all.\r\n\r\nI also don't know what the use-case would be for a more complicated kernel API:\r\n\r\n```c++\r\nstd::unique_ptr<UTXOHasher> MakeUTXOHasher(CoinStatsHashType hash_type);\r\nstd::optional<CCoinsStats> ComputeUTXOStatsWithHasher(UTXOHasher& hasher, ...);\r\n```\r\n\r\nover simpler:\r\n\r\n```c++\r\nstd::optional<CCoinsStats> ComputeUTXOStats(CoinStatsHashType hash_type, ...);\r\n```",
      "created_at": "2022-05-18T02:13:10Z",
      "updated_at": "2022-05-18T18:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875408643",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875408643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875952595",
      "pull_request_review_id": 975770870,
      "id": 875952595,
      "node_id": "PRRC_kwDOABII5840NfnT",
      "diff_hunk": "@@ -2320,8 +2324,11 @@ UniValue CreateUTXOSnapshot(\n \n         chainstate.ForceFlushStateToDisk();\n \n-        if (!GetUTXOStats(&chainstate.CoinsDB(), chainstate.m_blockman, stats, CoinStatsHashType::HASH_SERIALIZED, node.rpc_interruption_point)) {\n+        const std::optional<CCoinsStats> maybe_stats = GetUTXOStats(&chainstate.CoinsDB(), chainstate.m_blockman, CoinStatsHashType::HASH_SERIALIZED, node.rpc_interruption_point);\n+        if (!maybe_stats) {\n             throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");\n+        } else {\n+            stats = maybe_stats.value();",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "3c07759445d5ca94c6f7983240ea4b07b064f032",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Return purely out-param CCoinsStats\" (3c07759445d5ca94c6f7983240ea4b07b064f032)\r\n\r\nIt is clunky to replace a single \"stats\" variable with two \"stats\" and \"maybe_stats\" variables, and to inefficiently copy data between them. Would suggest only keeping \"maybe_stats\" variable and dropping \"stats\". (The commit already does this for the two other getstats calls, no reason not to do it for this call).",
      "created_at": "2022-05-18T14:13:52Z",
      "updated_at": "2022-05-18T18:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875952595",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875952595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875970982",
      "pull_request_review_id": 975770870,
      "id": 875970982,
      "node_id": "PRRC_kwDOABII5840NkGm",
      "diff_hunk": "@@ -19,6 +19,11 @@\n #include <map>\n \n namespace node {\n+\n+CCoinsStats::CCoinsStats(const CBlockIndex* pindex)",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c20fc22508086eb3c754c2b6d125bef4dc385124",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Separate hasher/index lookup codepaths\" (c20fc22508086eb3c754c2b6d125bef4dc385124)\r\n\r\nIt would be better for this constructor to just take hash/height arguments instead of being coupled to CBlockIndex. No reason for CCoinsStats it to be tied to an internal node data type.",
      "created_at": "2022-05-18T14:28:41Z",
      "updated_at": "2022-05-18T18:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875970982",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875970982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975721",
      "pull_request_review_id": 975770870,
      "id": 875975721,
      "node_id": "PRRC_kwDOABII5840NlQp",
      "diff_hunk": "@@ -206,17 +202,52 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     stats.hashSerialized = hasher.Finalize();\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStatsWithHasher(UTXOHasher& hasher, CCoinsView* view, BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    CCoinsStats stats{};\n-    auto hasher = MakeUTXOHasher(hash_type);\n+    CBlockIndex* pindex = WITH_LOCK(cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    GetUTXOStatsWithHasher(hasher, stats, view, blockman, interruption_point);\n \n-    if (!GetUTXOStats(view, blockman, stats, *hasher, interruption_point, pindex, hash_type, index_requested)) {\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats = MakeCoinStatsPrefilledWithBlockIndexInfo(pindex);\n+\n+    stats.index_used = true;",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "8c8d3f186df95b419fba8fddaeaac9b8912646dd",
      "in_reply_to_id": 868406549,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/24410#discussion_r868406549\r\n\r\n> So a proper cleanup would make it so that `CCoinStats` only contains the 6 common fields, and have other structs to contain the fields unique to each codepath. I don't want to do that in this PR.\r\n\r\nNice analysis! Agree that cleaning up output parameters seems like an unrelated change.",
      "created_at": "2022-05-18T14:32:29Z",
      "updated_at": "2022-05-18T18:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r875975721",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975721"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877373565",
      "pull_request_review_id": 979022792,
      "id": 877373565,
      "node_id": "PRRC_kwDOABII5840S6h9",
      "diff_hunk": "@@ -41,8 +41,6 @@ struct CCoinsStats {\n     //! The number of coins contained.\n     uint64_t coins_count{0};\n \n-    //! Signals if the coinstatsindex should be used (when available).",
      "path": "src/node/coinstats.h",
      "position": 37,
      "original_position": 4,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "4477312faa6be6582337b0dc667d51deabcca266",
      "in_reply_to_id": 875025321,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 56d7d36ea7c3be0dc015bffc1d3bf8253a917abd",
      "created_at": "2022-05-19T18:01:35Z",
      "updated_at": "2022-05-19T18:01:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877373565",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877373565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877374228",
      "pull_request_review_id": 979023710,
      "id": 877374228,
      "node_id": "PRRC_kwDOABII5840S6sU",
      "diff_hunk": "@@ -2320,8 +2324,11 @@ UniValue CreateUTXOSnapshot(\n \n         chainstate.ForceFlushStateToDisk();\n \n-        if (!GetUTXOStats(&chainstate.CoinsDB(), chainstate.m_blockman, stats, CoinStatsHashType::HASH_SERIALIZED, node.rpc_interruption_point)) {\n+        const std::optional<CCoinsStats> maybe_stats = GetUTXOStats(&chainstate.CoinsDB(), chainstate.m_blockman, CoinStatsHashType::HASH_SERIALIZED, node.rpc_interruption_point);\n+        if (!maybe_stats) {\n             throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to read UTXO set\");\n+        } else {\n+            stats = maybe_stats.value();",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "3c07759445d5ca94c6f7983240ea4b07b064f032",
      "in_reply_to_id": 875952595,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 9ec45ff9eba818ce7908344b614b550c3b276bdd",
      "created_at": "2022-05-19T18:02:25Z",
      "updated_at": "2022-05-19T18:02:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877374228",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877374228"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877374488",
      "pull_request_review_id": 979024104,
      "id": 877374488,
      "node_id": "PRRC_kwDOABII5840S6wY",
      "diff_hunk": "@@ -19,6 +19,11 @@\n #include <map>\n \n namespace node {\n+\n+CCoinsStats::CCoinsStats(const CBlockIndex* pindex)",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c20fc22508086eb3c754c2b6d125bef4dc385124",
      "in_reply_to_id": 875970982,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 7c0064d451de00a3e53dfd8d29c3fc9e73d4d11a",
      "created_at": "2022-05-19T18:02:45Z",
      "updated_at": "2022-05-19T18:02:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877374488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877374488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877605913",
      "pull_request_review_id": 979355076,
      "id": 877605913,
      "node_id": "PRRC_kwDOABII5840TzQZ",
      "diff_hunk": "@@ -37,45 +37,110 @@ CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin) {\n     return ss;\n }\n \n-//! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n-//! validation commitments are reliant on the hash constructed by this\n-//! function.\n-//!\n-//! If the construction of this hash is changed, it will invalidate\n-//! existing UTXO snapshots. This will not result in any kind of consensus\n-//! failure, but it will force clients that were expecting to make use of\n-//! assumeutxo to do traditional IBD instead.\n-//!\n-//! It is also possible, though very unlikely, that a change in this\n-//! construction could cause a previously invalid (and potentially malicious)\n-//! UTXO snapshot to be considered valid.\n-static void ApplyHash(CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+class UTXOHasher\n {\n-    for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n-        if (it == outputs.begin()) {\n-            ss << hash;\n-            ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n-        }\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher final : public UTXOHasher {\n+public:\n+    uint256 Finalize() override {\n+        return {};\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeNullHasher() {\n+    return std::make_unique<NullHasher>();\n+}\n+\n+class SHA256DHasher final : public UTXOHasher",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "9dc8093189e41849e91f8425f02e8f30563dfdf3",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "naming nit: I found the name `SHA256DHasher` a bit too specific and misleading, at first glance one could think that this is a helper for generally computing a SHA256D hash. IMHO the important criteria for naming is not what concrete hash function a UTXO hasher interally uses (e.g., MuHash also uses SHA256 for finalizing, and ChaCha20 for kind of \"hashing\" UTXOs to big integers via a stream cipher), but rather how it works on a more abstract conceptual level and in what way it commits to UTXOs etc. Not saying that's is easy to come up with a better name, but I'd prefer to keep `UTXO` in it, prefixed with a name resembling the output fields of the `gettxoutsetinfo` fields, e.g. `Legacy(Serialized)UTXOHasher` or `MuHashUTXOHasher`.\r\n\r\n(Probably this comment will be obsolete anyway though if commit 9dc8093189e41849e91f8425f02e8f30563dfdf3 gets dropped)",
      "created_at": "2022-05-19T23:10:39Z",
      "updated_at": "2022-05-19T23:34:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877605913",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877605913"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877696934",
      "pull_request_review_id": 979470079,
      "id": 877696934,
      "node_id": "PRRC_kwDOABII5840UJem",
      "diff_hunk": "@@ -37,45 +37,110 @@ CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin) {\n     return ss;\n }\n \n-//! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n-//! validation commitments are reliant on the hash constructed by this\n-//! function.\n-//!\n-//! If the construction of this hash is changed, it will invalidate\n-//! existing UTXO snapshots. This will not result in any kind of consensus\n-//! failure, but it will force clients that were expecting to make use of\n-//! assumeutxo to do traditional IBD instead.\n-//!\n-//! It is also possible, though very unlikely, that a change in this\n-//! construction could cause a previously invalid (and potentially malicious)\n-//! UTXO snapshot to be considered valid.\n-static void ApplyHash(CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+class UTXOHasher\n {\n-    for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n-        if (it == outputs.begin()) {\n-            ss << hash;\n-            ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n-        }\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2ec6b8cfb3bf0ddc19966c86a44990108a236a96",
      "in_reply_to_id": 875408643,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Resolved as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "created_at": "2022-05-20T03:16:46Z",
      "updated_at": "2022-05-20T03:16:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877696934",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877696934"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877696977",
      "pull_request_review_id": 979470140,
      "id": 877696977,
      "node_id": "PRRC_kwDOABII5840UJfR",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher : public UTXOHasher {\n+public:\n+    uint256 Finalize() override {\n+        return {};\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeNullHasher() {\n+    return std::make_unique<NullHasher>();\n+}\n+\n+class SHA256DHasher : public UTXOHasher\n+{\n+    CHashWriter ss{SER_GETHASH, PROTOCOL_VERSION};\n+public:\n+    // The legacy hash serializes the hashBlock\n+    void Prepare(const uint256& hash_block) override {\n+        ss << hash_block;\n+    }\n+\n+    //! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n+    //! validation commitments are reliant on the hash constructed by this\n+    //! function.\n+    //!\n+    //! If the construction of this hash is changed, it will invalidate\n+    //! existing UTXO snapshots. This will not result in any kind of consensus\n+    //! failure, but it will force clients that were expecting to make use of\n+    //! assumeutxo to do traditional IBD instead.\n+    //!\n+    //! It is also possible, though very unlikely, that a change in this\n+    //! construction could cause a previously invalid (and potentially malicious)\n+    //! UTXO snapshot to be considered valid.\n+    void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs) override {\n+        for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n+            if (it == outputs.begin()) {\n+                ss << hash;\n+                ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n+            }\n+\n+            ss << VARINT(it->first + 1);\n+            ss << it->second.out.scriptPubKey;\n+            ss << VARINT_MODE(it->second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+\n+            if (it == std::prev(outputs.end())) {\n+                ss << VARINT(0u);\n+            }\n+        }\n+    }\n+    uint256 Finalize() override {\n+        return ss.GetHash();\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeSHA256DHasher() {\n+    return std::make_unique<SHA256DHasher>();\n+}\n+\n+class MuHashHasher : public UTXOHasher\n+{\n+    MuHash3072 muhash;\n+public:\n+    void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs) override {\n+        for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n+            COutPoint outpoint = COutPoint(hash, it->first);\n+            Coin coin = it->second;\n+            muhash.Insert(MakeUCharSpan(TxOutSer(outpoint, coin)));\n+        }\n+    }\n+    uint256 Finalize() override {\n+        uint256 out;\n+        muhash.Finalize(out);\n+        return out;\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeMuHashHasher() {\n+    return std::make_unique<MuHashHasher>();\n+}\n+\n+std::unique_ptr<UTXOHasher> MakeUTXOHasher(const CoinStatsHashType& hash_type)\n+{\n+    switch (hash_type) {\n+    case(CoinStatsHashType::HASH_SERIALIZED): {\n+        return MakeSHA256DHasher();",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 98,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": 868450711,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No longer relevant as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "created_at": "2022-05-20T03:16:56Z",
      "updated_at": "2022-05-20T03:16:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877696977",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877696977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697075",
      "pull_request_review_id": 979470241,
      "id": 877697075,
      "node_id": "PRRC_kwDOABII5840UJgz",
      "diff_hunk": "@@ -241,31 +240,19 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     }\n     if (!outputs.empty()) {\n         ApplyStats(stats, prevkey, outputs);\n-        ApplyHash(hash_obj, prevkey, outputs);\n+        hasher.Apply(prevkey, outputs);\n     }\n \n-    FinalizeHash(hash_obj, stats);\n+    stats.hashSerialized = hasher.Finalize();",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "1f37d453ed6a3d5bda82cdff0c861c26b7cf5a1c",
      "in_reply_to_id": 868368343,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No longer relevant as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "created_at": "2022-05-20T03:17:10Z",
      "updated_at": "2022-05-20T03:17:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877697075",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 246,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697234",
      "pull_request_review_id": 979470427,
      "id": 877697234,
      "node_id": "PRRC_kwDOABII5840UJjS",
      "diff_hunk": "@@ -78,6 +78,112 @@ static void ApplyHash(MuHash3072& muhash, const uint256& hash, const std::map<ui\n     }\n }\n \n+class UTXOHasher\n+{\n+public:",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "c853e71d4d43a4ed17a35216d0f353a793c29c2d",
      "in_reply_to_id": 868360164,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No longer relevant as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "created_at": "2022-05-20T03:17:38Z",
      "updated_at": "2022-05-20T03:17:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877697234",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697750",
      "pull_request_review_id": 979471100,
      "id": 877697750,
      "node_id": "PRRC_kwDOABII5840UJrW",
      "diff_hunk": "@@ -69,12 +66,10 @@ struct CCoinsStats {\n     CAmount total_unspendables_scripts{0};\n     //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n     CAmount total_unspendables_unclaimed_rewards{0};\n-\n-    CCoinsStats(CoinStatsHashType hash_type) : m_hash_type(hash_type) {}\n };\n \n //! Calculate statistics about the unspent transaction output set\n-bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);\n+bool GetUTXOStats(CCoinsView* view, node::BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point = {}, const CBlockIndex* pindex = nullptr);",
      "path": "src/node/coinstats.h",
      "position": null,
      "original_position": 20,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": 868137623,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've experimented with this on top of the latest push 90358d4b7402bfd4cd9b79ebf828e40f4eabd849, but the template parameter would be based on a runtime variable and that's not allowed in C++ (at least in clang).",
      "created_at": "2022-05-20T03:19:19Z",
      "updated_at": "2022-05-20T03:23:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877697750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697986",
      "pull_request_review_id": 979471393,
      "id": 877697986,
      "node_id": "PRRC_kwDOABII5840UJvC",
      "diff_hunk": "@@ -37,45 +37,110 @@ CDataStream TxOutSer(const COutPoint& outpoint, const Coin& coin) {\n     return ss;\n }\n \n-//! Warning: be very careful when changing this! assumeutxo and UTXO snapshot\n-//! validation commitments are reliant on the hash constructed by this\n-//! function.\n-//!\n-//! If the construction of this hash is changed, it will invalidate\n-//! existing UTXO snapshots. This will not result in any kind of consensus\n-//! failure, but it will force clients that were expecting to make use of\n-//! assumeutxo to do traditional IBD instead.\n-//!\n-//! It is also possible, though very unlikely, that a change in this\n-//! construction could cause a previously invalid (and potentially malicious)\n-//! UTXO snapshot to be considered valid.\n-static void ApplyHash(CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+class UTXOHasher\n {\n-    for (auto it = outputs.begin(); it != outputs.end(); ++it) {\n-        if (it == outputs.begin()) {\n-            ss << hash;\n-            ss << VARINT(it->second.nHeight * 2 + it->second.fCoinBase ? 1u : 0u);\n-        }\n+public:\n+    virtual void Prepare(const uint256& hash_block){};\n+    virtual void Apply(const uint256& hash, const std::map<uint32_t, Coin>& outputs){};\n+    virtual uint256 Finalize() = 0;\n+    virtual ~UTXOHasher();\n+};\n+\n+UTXOHasher::~UTXOHasher() = default;\n+\n+class NullHasher final : public UTXOHasher {\n+public:\n+    uint256 Finalize() override {\n+        return {};\n+    }\n+};\n+\n+std::unique_ptr<UTXOHasher> MakeNullHasher() {\n+    return std::make_unique<NullHasher>();\n+}\n+\n+class SHA256DHasher final : public UTXOHasher",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "9dc8093189e41849e91f8425f02e8f30563dfdf3",
      "in_reply_to_id": 877605913,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah that's a good point, in any case I think it's no longer relevant as of 90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "created_at": "2022-05-20T03:20:02Z",
      "updated_at": "2022-05-20T03:20:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877697986",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877697986"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877698989",
      "pull_request_review_id": 979472714,
      "id": 877698989,
      "node_id": "PRRC_kwDOABII5840UJ-t",
      "diff_hunk": "@@ -69,12 +66,10 @@ struct CCoinsStats {\n     CAmount total_unspendables_scripts{0};\n     //! Total cumulative amount of coins lost due to unclaimed miner rewards up to and including this block\n     CAmount total_unspendables_unclaimed_rewards{0};\n-\n-    CCoinsStats(CoinStatsHashType hash_type) : m_hash_type(hash_type) {}",
      "path": "src/node/coinstats.h",
      "position": 46,
      "original_position": 15,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "82148cec1c18c41fbc16f1deadf1f576755f9c52",
      "in_reply_to_id": 868141603,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yup! Feel free to reopen this if it's still a problem.",
      "created_at": "2022-05-20T03:23:15Z",
      "updated_at": "2022-05-20T03:23:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r877698989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/877698989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 73,
      "original_line": 73,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878378791",
      "pull_request_review_id": 977299036,
      "id": 878378791,
      "node_id": "PRRC_kwDOABII5840Wv8n",
      "diff_hunk": "@@ -94,24 +99,11 @@ static void ApplyStats(CCoinsStats& stats, const uint256& hash, const std::map<u\n \n //! Calculate statistics about the unspent transaction output set\n template <typename T>\n-static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point, const CBlockIndex* pindex, CoinStatsHashType& hash_type, bool index_requested)\n+static bool ComputeUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point)",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "e4b2969b54a3ddba507de1aeb17b6765ca1f102b",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e4b2969b54a3ddba507de1aeb17b6765ca1f102b (coinstats: Separate hasher/index lookup codepaths):\r\nThe inner `ComputeUTXOStats` doesn't use blockman anymore, so the argument can be dropped.",
      "created_at": "2022-05-20T17:23:55Z",
      "updated_at": "2022-05-20T18:45:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878378791",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878378791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878435095",
      "pull_request_review_id": 977299036,
      "id": 878435095,
      "node_id": "PRRC_kwDOABII5840W9sX",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2e1ff3915cab0e902195514f04378f74e3453610 (coinstats: Return purely out-param CCoinsStats)\r\n\r\nThis gives me a `-Wmaybe-uninitialized` compiler warning for `success` (although this is obviously impossible).",
      "created_at": "2022-05-20T18:24:03Z",
      "updated_at": "2022-05-20T18:45:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878435095",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878435095"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878475165",
      "pull_request_review_id": 980571970,
      "id": 878475165,
      "node_id": "PRRC_kwDOABII5840XHed",
      "diff_hunk": "@@ -193,4 +187,37 @@ static void FinalizeHash(MuHash3072& muhash, CCoinsStats& stats)\n     stats.hashSerialized = out;\n }\n static void FinalizeHash(std::nullptr_t, CCoinsStats& stats) {}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n+        return std::nullopt;\n+    }\n+\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+\n+    return LookupUTXOStatsWithIndex(coin_stats_index, pindex);\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == CoinStatsHashType::MUHASH || hash_type == CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, pindex);\n+        } else {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, view, blockman);\n+        }\n+    }\n+\n+    return ComputeUTXOStats(hash_type, view, blockman, interruption_point);",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 108,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "e4b2969b54a3ddba507de1aeb17b6765ca1f102b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Separate hasher/index lookup codepaths\" (e4b2969b54a3ddba507de1aeb17b6765ca1f102b)\r\n\r\nBehavior precedes this PR, but it seems like `pindex` just gets ignored in this case. It might be nice to `assert(pindex == nullptr)` here or else have a comment \"// pindex is ignored if coinstats index is not available or wasn't requested. Coinstats for the view are returned instead. This is ok because \\[reasons]\"",
      "created_at": "2022-05-20T19:10:01Z",
      "updated_at": "2022-05-20T19:20:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878475165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878475165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878477633",
      "pull_request_review_id": 980571970,
      "id": 878477633,
      "node_id": "PRRC_kwDOABII5840XIFB",
      "diff_hunk": "@@ -188,33 +188,15 @@ static void FinalizeHash(MuHash3072& muhash, CCoinsStats& stats)\n }\n static void FinalizeHash(std::nullptr_t, CCoinsStats& stats) {}\n \n-std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n-{\n-    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n-\n-    stats.index_used = true;\n-    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n-        return std::nullopt;\n-    }\n-\n-    return stats;\n-}\n-\n-std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "528472c420dccbeb673dd77b64d327ab5271f23b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Move logic from LookupUTXOStatsWithIndex to CoinStatsIndex::LookUpStats\" (528472c420dccbeb673dd77b64d327ab5271f23b)\r\n\r\nThis might be an example of unnecessary churn. Not a big deal, but why go through trouble of adding these LookupUTXOStatsWithIndex functions in e4b2969b54a3ddba507de1aeb17b6765ca1f102b when they will be deleted in 528472c420dccbeb673dd77b64d327ab5271f23b",
      "created_at": "2022-05-20T19:14:02Z",
      "updated_at": "2022-05-20T19:20:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878477633",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878477633"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 203,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878520316",
      "pull_request_review_id": 980634792,
      "id": 878520316,
      "node_id": "PRRC_kwDOABII5840XSf8",
      "diff_hunk": "@@ -808,6 +808,30 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+/**\n+ * Calculate statistics about the unspent transaction output set\n+ *\n+ * @param[in] index_requested Signals if the coinstatsindex should be used (when available).\n+ */\n+std::optional<kernel::CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& blockman,",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: could be made static, since this function is not used outside this module\r\n```suggestion\r\nstatic std::optional<kernel::CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& blockman,\r\n```",
      "created_at": "2022-05-20T20:18:26Z",
      "updated_at": "2022-05-20T20:20:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878520316",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878520316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 816,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878574908",
      "pull_request_review_id": 980708903,
      "id": 878574908,
      "node_id": "PRRC_kwDOABII5840Xf08",
      "diff_hunk": "@@ -808,6 +808,30 @@ CoinStatsHashType ParseHashType(const std::string& hash_type_input)\n     }\n }\n \n+/**\n+ * Calculate statistics about the unspent transaction output set\n+ *\n+ * @param[in] index_requested Signals if the coinstatsindex should be used (when available).\n+ */\n+std::optional<kernel::CCoinsStats> GetUTXOStats(CCoinsView* view, node::BlockManager& blockman,",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "90358d4b7402bfd4cd9b79ebf828e40f4eabd849",
      "in_reply_to_id": 878520316,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in e6e2b165fd377806e257fbb5378e22067a9a3957, thanks!",
      "created_at": "2022-05-20T22:20:44Z",
      "updated_at": "2022-05-20T22:20:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878574908",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878574908"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 816,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575006",
      "pull_request_review_id": 980709027,
      "id": 878575006,
      "node_id": "PRRC_kwDOABII5840Xf2e",
      "diff_hunk": "@@ -193,4 +187,37 @@ static void FinalizeHash(MuHash3072& muhash, CCoinsStats& stats)\n     stats.hashSerialized = out;\n }\n static void FinalizeHash(std::nullptr_t, CCoinsStats& stats) {}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n+        return std::nullopt;\n+    }\n+\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+\n+    return LookupUTXOStatsWithIndex(coin_stats_index, pindex);\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == CoinStatsHashType::MUHASH || hash_type == CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, pindex);\n+        } else {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, view, blockman);\n+        }\n+    }\n+\n+    return ComputeUTXOStats(hash_type, view, blockman, interruption_point);",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 108,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "e4b2969b54a3ddba507de1aeb17b6765ca1f102b",
      "in_reply_to_id": 878475165,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in d03f4443e8deb477d0fd4b27056eaeec8a615ca3, thanks!",
      "created_at": "2022-05-20T22:21:05Z",
      "updated_at": "2022-05-20T22:21:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878575006",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575006"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575077",
      "pull_request_review_id": 980709131,
      "id": 878575077,
      "node_id": "PRRC_kwDOABII5840Xf3l",
      "diff_hunk": "@@ -94,24 +99,11 @@ static void ApplyStats(CCoinsStats& stats, const uint256& hash, const std::map<u\n \n //! Calculate statistics about the unspent transaction output set\n template <typename T>\n-static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point, const CBlockIndex* pindex, CoinStatsHashType& hash_type, bool index_requested)\n+static bool ComputeUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point)",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "e4b2969b54a3ddba507de1aeb17b6765ca1f102b",
      "in_reply_to_id": 878378791,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in d03f4443e8deb477d0fd4b27056eaeec8a615ca3, thanks!",
      "created_at": "2022-05-20T22:21:20Z",
      "updated_at": "2022-05-20T22:21:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878575077",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575390",
      "pull_request_review_id": 980709552,
      "id": 878575390,
      "node_id": "PRRC_kwDOABII5840Xf8e",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": 878435095,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmmm, do you think we need to do anything here? I'm not sure how best to fix this since we want to keep it so that the compiler can warn about missing cases",
      "created_at": "2022-05-20T22:22:14Z",
      "updated_at": "2022-05-20T22:22:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878575390",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878575390"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878588550",
      "pull_request_review_id": 980727262,
      "id": 878588550,
      "node_id": "PRRC_kwDOABII5840XjKG",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": 878435095,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe just initialise success with `true` or `false` to appease the compiler?\r\nI guess the catch-22 ist that if we had multiple warnings like this on master, we'd easily miss legitimate warnings such as the one about missing cases, which could then lead to `success` actually being uninitialized in this spot...\r\nBut I don't feel strongly about this.\r\n",
      "created_at": "2022-05-20T23:05:07Z",
      "updated_at": "2022-05-20T23:05:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878588550",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878588550"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878651391",
      "pull_request_review_id": 980791888,
      "id": 878651391,
      "node_id": "PRRC_kwDOABII5840Xyf_",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": 878435095,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is not UB (I think) to pass any underlying integral value as an `enum class`, so uninitialized `success` can in theory happen in a \"well-formed\" program.\r\n\r\nA few alternative fixes:\r\n\r\n* Initialize success with `false`\r\n* Keep the `assert(false)` and inline all return statements into the case statments: `if (!Calc(...)) return std::nullopt; return stats;`\r\n* Keep the `assert(false)`, but wrap it with the whole `switch (hash_type)` scope into an inlined lambda\r\n* Something else ... ?",
      "created_at": "2022-05-21T06:04:38Z",
      "updated_at": "2022-05-21T06:04:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r878651391",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/878651391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879649251",
      "pull_request_review_id": 982049835,
      "id": 879649251,
      "node_id": "PRRC_kwDOABII5840bmHj",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": 878435095,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Return purely out-param CCoinsStats\" (f735c92edc08047bdbe0f47ea0e7c319bcc62eeb)\r\n\r\nAgree with Marco, I think. I don't understand why you wouldn't initialize success to false. If function is called with `(CoinStatsHashType)123` compiler is correct to warn that it has undefined behavior. It seems like it would be best to assert false in this case, second best to return nullopt if asserting is inconvenient, and third best to have undefined behavior.",
      "created_at": "2022-05-23T16:18:00Z",
      "updated_at": "2022-05-23T16:33:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879649251",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879649251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879660117",
      "pull_request_review_id": 982049835,
      "id": 879660117,
      "node_id": "PRRC_kwDOABII5840boxV",
      "diff_hunk": "@@ -193,4 +187,44 @@ static void FinalizeHash(MuHash3072& muhash, CCoinsStats& stats)\n     stats.hashSerialized = out;\n }\n static void FinalizeHash(std::nullptr_t, CCoinsStats& stats) {}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n+        return std::nullopt;\n+    }\n+\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+\n+    return LookupUTXOStatsWithIndex(coin_stats_index, pindex);\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == CoinStatsHashType::MUHASH || hash_type == CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, pindex);\n+        } else {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, view, blockman);\n+        }\n+    }\n+\n+    // pindex is ignored if the coinstats index is not available or wasn't\n+    // requested. Coinstats for the view are returned instead.\n+    //\n+    // This is ok because we never call GetUTXOStats in a way where we can't use\n+    // the coinstatsindex and the specified pindex is not also the view's best\n+    // block.",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 113,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "99b7dced926eeba1ac0b181feb18ebb7ce35504e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"coinstats: Separate hasher/index lookup codepaths\" (99b7dced926eeba1ac0b181feb18ebb7ce35504e)\r\n\r\nSeems like it would be easy for code calling this function to be unaware of this assumption. Could check it with\r\n`assert(!pindex || pindex->GetBlockHash() == view->GetBestBlock());`",
      "created_at": "2022-05-23T16:29:15Z",
      "updated_at": "2022-05-23T16:33:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879660117",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879660117"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": 224,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879787588",
      "pull_request_review_id": 982236281,
      "id": 879787588,
      "node_id": "PRRC_kwDOABII5840cH5E",
      "diff_hunk": "@@ -144,22 +145,32 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n {\n+    CCoinsStats stats{};\n+    bool success;\n+\n     switch (hash_type) {\n     case(CoinStatsHashType::HASH_SERIALIZED): {\n         CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::MUHASH): {\n         MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        success = GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex, hash_type, index_requested);\n+        break;\n     }\n     } // no default case, so the compiler can warn about missing cases\n-    assert(false);\n+\n+    if (!success) {",
      "path": "src/node/coinstats.cpp",
      "position": 99,
      "original_position": 39,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "2e1ff3915cab0e902195514f04378f74e3453610",
      "in_reply_to_id": 878435095,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 524463daf6a10b20a4e20116a68101a684929eda using a lambda, thanks for the help here folks!",
      "created_at": "2022-05-23T19:07:57Z",
      "updated_at": "2022-05-23T19:07:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879787588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879787588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 160,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879787956",
      "pull_request_review_id": 982236828,
      "id": 879787956,
      "node_id": "PRRC_kwDOABII5840cH-0",
      "diff_hunk": "@@ -193,4 +187,44 @@ static void FinalizeHash(MuHash3072& muhash, CCoinsStats& stats)\n     stats.hashSerialized = out;\n }\n static void FinalizeHash(std::nullptr_t, CCoinsStats& stats) {}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, const CBlockIndex* pindex)\n+{\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    stats.index_used = true;\n+    if (!coin_stats_index.LookUpStats(pindex, stats)) {\n+        return std::nullopt;\n+    }\n+\n+    return stats;\n+}\n+\n+std::optional<CCoinsStats> LookupUTXOStatsWithIndex(CoinStatsIndex& coin_stats_index, CCoinsView* view, BlockManager& blockman)\n+{\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+\n+    return LookupUTXOStatsWithIndex(coin_stats_index, pindex);\n+}\n+\n+std::optional<CCoinsStats> GetUTXOStats(CCoinsView* view, BlockManager& blockman, CoinStatsHashType hash_type, const std::function<void()>& interruption_point, const CBlockIndex* pindex, bool index_requested)\n+{\n+    // Use CoinStatsIndex if it is requested and available and a hash_type of Muhash or None was requested\n+    if ((hash_type == CoinStatsHashType::MUHASH || hash_type == CoinStatsHashType::NONE) && g_coin_stats_index && index_requested) {\n+        if (pindex) {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, pindex);\n+        } else {\n+            return LookupUTXOStatsWithIndex(*g_coin_stats_index, view, blockman);\n+        }\n+    }\n+\n+    // pindex is ignored if the coinstats index is not available or wasn't\n+    // requested. Coinstats for the view are returned instead.\n+    //\n+    // This is ok because we never call GetUTXOStats in a way where we can't use\n+    // the coinstatsindex and the specified pindex is not also the view's best\n+    // block.",
      "path": "src/node/coinstats.cpp",
      "position": null,
      "original_position": 113,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "99b7dced926eeba1ac0b181feb18ebb7ce35504e",
      "in_reply_to_id": 879660117,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right! Fixed in 1352e410a5b84070279ff28399083cb3ab278593",
      "created_at": "2022-05-23T19:08:30Z",
      "updated_at": "2022-05-23T19:08:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r879787956",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/879787956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": 224,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880217697",
      "pull_request_review_id": 982809643,
      "id": 880217697,
      "node_id": "PRRC_kwDOABII5840dw5h",
      "diff_hunk": "@@ -141,25 +131,36 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     FinalizeHash(hash_obj, stats);\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, const std::function<void()>& interruption_point, const CBlockIndex* pindex)\n+std::optional<CCoinsStats> ComputeUTXOStats(CoinStatsHashType hash_type, CCoinsView* view, node::BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    switch (stats.m_hash_type) {\n-    case(CoinStatsHashType::HASH_SERIALIZED): {\n-        CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex);\n-    }\n-    case(CoinStatsHashType::MUHASH): {\n-        MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex);\n-    }\n-    case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex);\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    bool success = [&]() -> bool {\n+        switch (hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {",
      "path": "src/kernel/coinstats.cpp",
      "position": 84,
      "original_position": 84,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I've never seen this syntax before, why `case(CoinStatsHashType::HASH_SERIALIZED)` instead of `case CoinStatsHashType::HASH_SERIALIZED`?",
      "created_at": "2022-05-24T08:30:39Z",
      "updated_at": "2022-05-24T08:30:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r880217697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880217697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 145,
      "original_line": 145,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880218795",
      "pull_request_review_id": 982811178,
      "id": 880218795,
      "node_id": "PRRC_kwDOABII5840dxKr",
      "diff_hunk": "@@ -141,25 +131,36 @@ static bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats&\n     FinalizeHash(hash_obj, stats);\n \n     stats.nDiskSize = view->EstimateSize();\n+\n     return true;\n }\n \n-bool GetUTXOStats(CCoinsView* view, BlockManager& blockman, CCoinsStats& stats, const std::function<void()>& interruption_point, const CBlockIndex* pindex)\n+std::optional<CCoinsStats> ComputeUTXOStats(CoinStatsHashType hash_type, CCoinsView* view, node::BlockManager& blockman, const std::function<void()>& interruption_point)\n {\n-    switch (stats.m_hash_type) {\n-    case(CoinStatsHashType::HASH_SERIALIZED): {\n-        CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-        return GetUTXOStats(view, blockman, stats, ss, interruption_point, pindex);\n-    }\n-    case(CoinStatsHashType::MUHASH): {\n-        MuHash3072 muhash;\n-        return GetUTXOStats(view, blockman, stats, muhash, interruption_point, pindex);\n-    }\n-    case(CoinStatsHashType::NONE): {\n-        return GetUTXOStats(view, blockman, stats, nullptr, interruption_point, pindex);\n+    CBlockIndex* pindex = WITH_LOCK(::cs_main, return blockman.LookupBlockIndex(view->GetBestBlock()));\n+    CCoinsStats stats{Assert(pindex)->nHeight, pindex->GetBlockHash()};\n+\n+    bool success = [&]() -> bool {\n+        switch (hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {",
      "path": "src/kernel/coinstats.cpp",
      "position": 84,
      "original_position": 84,
      "commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "original_commit_id": "664a14ba7ccb40aa82d35a59831acd35db1897a6",
      "in_reply_to_id": 880217697,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, that was already in the original code, never mind. Definitely no need to change it here.",
      "created_at": "2022-05-24T08:31:43Z",
      "updated_at": "2022-05-24T08:32:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24410#discussion_r880218795",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880218795"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24410"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 145,
      "original_line": 145,
      "side": "RIGHT"
    }
  ]
}