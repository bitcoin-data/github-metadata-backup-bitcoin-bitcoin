{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425",
    "id": 2501581839,
    "node_id": "PR_kwDOABII586VGxwP",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32425",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32425.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32425.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e98c51fcce9ae3f441a416cab32a5c85756c6c64",
    "number": 32425,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "config: allow setting -proxy per network",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "`-proxy=addr:port` specifies the proxy for all networks (except I2P). Previously only the Tor proxy could have been specified separately via `-onion=addr:port`.\r\n\r\nMake it possible to specify separately the proxy for IPv4, IPv6, Tor and CJDNS by e.g. `-proxy=addr:port=ipv6`. Or remove the proxy for a given network, e.g. `-proxy=0=cjdns`.\r\n\r\nResolves: https://github.com/bitcoin/bitcoin/issues/24450\r\n\r\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2025-05-06T13:09:42Z",
    "updated_at": "2025-05-17T10:53:50Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "2e67af2fa091ae2f72aebe025b22a16a8ee1b1ce",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "vasild:proxy_per_network",
      "ref": "proxy_per_network",
      "sha": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 256858,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-16T08:36:11Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2025-05-14T11:38:10Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "663a9cabf811e2fc53102bc6da00d09fc99d1d81",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37235,
        "stargazers_count": 83620,
        "watchers_count": 83620,
        "size": 282201,
        "default_branch": "master",
        "open_issues_count": 729,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-17T09:19:38Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-17T10:27:31Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 183,
    "deletions": 71,
    "changed_files": 5,
    "commits": 2,
    "review_comments": 15,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 2854523891,
      "node_id": "IC_kwDOABII586qJJPz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2854523891",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-06T13:09:44Z",
      "updated_at": "2025-05-14T13:26:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32425.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2836872116), [caesrcd](https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2837204950), [danielabrozzoni](https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2840193686) |\n| Concept ACK | [1440000bytes](https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2870221917) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31974](https://github.com/bitcoin/bitcoin/pull/31974) (Drop testnet3 by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2854523891",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "reviewed",
      "id": 2818232320,
      "node_id": "PRR_kwDOABII586n-tAA",
      "url": null,
      "actor": null,
      "commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2818232320",
      "submitted_at": "2025-05-06T13:11:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2818858638,
      "node_id": "PRR_kwDOABII586oBF6O",
      "url": null,
      "actor": null,
      "commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "ACK 6a9f04688f\r\n\r\nI have reviewed the code, unit tests, and functional tests. I built the project and ran a node using the `-proxy=0=cjdns` parameter to verify the behavior. Confirmed that CJDNS correctly bypasses the general proxy as intended. Manual testing was performed on Arch Linux, and the node successfully connected over CJDNS directly without using the proxy.",
      "user": {
        "login": "caesrcd",
        "id": 66971214,
        "node_id": "MDQ6VXNlcjY2OTcxMjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/66971214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/caesrcd",
        "html_url": "https://github.com/caesrcd",
        "followers_url": "https://api.github.com/users/caesrcd/followers",
        "following_url": "https://api.github.com/users/caesrcd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/caesrcd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/caesrcd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/caesrcd/subscriptions",
        "organizations_url": "https://api.github.com/users/caesrcd/orgs",
        "repos_url": "https://api.github.com/users/caesrcd/repos",
        "events_url": "https://api.github.com/users/caesrcd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/caesrcd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2818858638",
      "submitted_at": "2025-05-06T16:12:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2818995555,
      "node_id": "PRR_kwDOABII586oBnVj",
      "url": null,
      "actor": null,
      "commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "If the user sets `-proxy=addr:port=tor` then `-onion=` shouldn't be allowed, no? Otherwise one could set 2 diff proxies for Tor(?).\r\n\r\nAlso, in [Tor's documentation](https://github.com/bitcoin/bitcoin/tree/master/doc/tor.md):\r\n\r\n```\r\n-proxy=ip:port  Set the proxy server. If SOCKS5 is selected (default), this proxy\r\n                server will be used to try to reach .onion addresses as well.\r\n```\r\n\r\nSo, shouldn't `-proxy=0=cjdns` be the default if `-cjdnsreachable` when `-proxy=addr:port`?",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2818995555",
      "submitted_at": "2025-05-06T16:57:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "labeled",
      "id": 17549554469,
      "node_id": "LE_lADOABII5861XWZYzwAAAAQWCPMl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17549554469",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-07T06:06:00Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17555258174,
      "node_id": "HRFPE_lADOABII5861XWZYzwAAAAQWX_s-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17555258174",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "commit_url": "https://api.github.com/repos/vasild/bitcoin/commits/2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "created_at": "2025-05-07T12:19:11Z"
    },
    {
      "event": "commented",
      "id": 2858386981,
      "node_id": "IC_kwDOABII586qX4Yl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2858386981",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-07T12:25:23Z",
      "updated_at": "2025-05-07T12:25:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "`6a9f04688f...2059eaa692`: address suggestions\r\n\r\n> If the user sets `-proxy=addr:port=tor` then `-onion=` shouldn't be allowed, no? Otherwise one could set 2 diff proxies for Tor(?).\r\n\r\nI think that is ok, assuming the expectation is that later options override earlier ones. For example, without this PR, `-proxy=x -onion=y` is supposed to set the Tor proxy to `y`, overriding the earlier `x`. Updated `tor.md` to mention that.\r\n\r\n> So, shouldn't `-proxy=0=cjdns` be the default if `-cjdnsreachable` when `-proxy=addr:port`?\r\n\r\nCould be, but I do not like these \"automatically set `x` only if `y` and `z` are true, otherwise something else\". That would also change the default behavior in a breaking way - for people that use `-proxy` which does support CJDNS it will stop working. Maybe there are no such users, but we can't know for sure.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2858386981",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "commented",
      "id": 2858591705,
      "node_id": "IC_kwDOABII586qYqXZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2858591705",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-07T13:25:32Z",
      "updated_at": "2025-05-07T13:25:32Z",
      "author_association": "MEMBER",
      "body": ">> Otherwise one could set 2 diff proxies for Tor(?).\r\n\r\n> I think that is ok, assuming the expectation is that later options override earlier ones. For example, without this PR, `-proxy=x -onion=y` is supposed to set the Tor proxy to `y`, overriding the earlier `x`. Updated `tor.md` to mention that.\r\n\r\nOk.\r\n \r\n> > So, shouldn't `-proxy=0=cjdns` be the default if `-cjdnsreachable` when `-proxy=addr:port`?\r\n> \r\n> Could be, but I do not like these \"automatically set `x` only if `y` and `z` are true, otherwise something else\". That would also change the default behavior in a breaking way - for people that use `-proxy` which does support CJDNS it will stop working. Maybe there are no such users, but we can't know for sure.\r\n\r\nOk, but since the [previous statement](https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2818995555) (`-proxy=`...) from [Tor's doc](https://github.com/bitcoin/bitcoin/tree/master/doc/tor.md) combined with:\r\n\r\n`-onlynet=onion  Make automatic outbound connections only to .onion addresses.`\r\n\r\nMaybe we should give a warning at least (and perhaps suggesting: `-proxy=0=cjdns`) because that (`-proxy=ip[:<port>] -onlynet=onion -cjdnsreachable`) would make CJDNS not to work (?).\r\n\r\nI think a more long term solution could be to add the possibility of having a separate proxy for CJDNS, as suggested on the [issue](https://github.com/bitcoin/bitcoin/issues/24450) by other commenters there.\r\n",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2858591705",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "reviewed",
      "id": 2823048212,
      "node_id": "PRR_kwDOABII586oREwU",
      "url": null,
      "actor": null,
      "commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "ACK 2059eaa692ff614c41dee50f4bc2d2946e5d42af\r\n\r\nI have tested the code.",
      "user": {
        "login": "caesrcd",
        "id": 66971214,
        "node_id": "MDQ6VXNlcjY2OTcxMjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/66971214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/caesrcd",
        "html_url": "https://github.com/caesrcd",
        "followers_url": "https://api.github.com/users/caesrcd/followers",
        "following_url": "https://api.github.com/users/caesrcd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/caesrcd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/caesrcd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/caesrcd/subscriptions",
        "organizations_url": "https://api.github.com/users/caesrcd/orgs",
        "repos_url": "https://api.github.com/users/caesrcd/repos",
        "events_url": "https://api.github.com/users/caesrcd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/caesrcd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2823048212",
      "submitted_at": "2025-05-07T20:01:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "commented",
      "id": 2862468060,
      "node_id": "IC_kwDOABII586qncvc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2862468060",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-08T09:57:51Z",
      "updated_at": "2025-05-08T09:57:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Maybe we should give a warning at least (and perhaps suggesting: `-proxy=0=cjdns`) because that (`-proxy=ip[:<port>] -onlynet=onion -cjdnsreachable`) would make CJDNS not to work (?).\r\n\r\nThat would make automatic outbound connections to Tor peers only. Still manual outbound and inbound connections would work and be possible to/from CJDNS peers. Maybe a warning in the lines of \"Automatic outbound connections will only be made to Tor peers, if you want to include CJDNS, then use -onlynet=cjdns in addition\". Or maybe not? In either case adding such a warning seems to be out of the scope of this PR whose purpose is to be able to specify proxy per network.\r\n\r\n> I think a more long term solution could be to add the possibility of having a separate proxy for CJDNS, as suggested on the [issue](https://github.com/bitcoin/bitcoin/issues/24450) by other commenters there.\r\n\r\nThat is made possible by this PR: `-proxy=addr:port=cjdns`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2862468060",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "commented",
      "id": 2870221917,
      "node_id": "IC_kwDOABII586rFBxd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2870221917",
      "actor": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-11T21:54:20Z",
      "updated_at": "2025-05-11T21:54:20Z",
      "author_association": "NONE",
      "body": "Concept ACK \r\n\r\nMultiple proxies for different networks would be useful. Might need release notes if this eventually gets merged.",
      "user": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2870221917",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "reviewed",
      "id": 2834179627,
      "node_id": "PRR_kwDOABII586o7iYr",
      "url": null,
      "actor": null,
      "commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2834179627",
      "submitted_at": "2025-05-12T18:48:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2834257645,
      "node_id": "PRR_kwDOABII586o71bt",
      "url": null,
      "actor": null,
      "commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 2059eaa692ff614c41dee50f4bc2d2946e5d42af\r\n\r\nBuilt and ran all tests on macos/arm64. Reviewed both commits and left a few nits.\r\nPlayed with the feature on mainnet, and connected to all networks:\r\n\r\n```\r\n         ipv4    ipv6   onion   cjdns   total   block  manual\r\nin          0       0       0       0       0\r\nout         1       1       2       7      11       0       7\r\ntotal       1       1       2       7      11\r\n```\r\n\r\nEven used tor's ipv4 and unix sockets for separate proxies ;-)\r\n\r\n`bcd -debug=tor -debug=net -proxy=unix:/Users/matthewzipkin/tor/sock -proxy=127.0.0.1:9050=ipv6  -cjdnsreachable -proxy=0=cjdns`\r\n\r\n\r\n<details><summary>Show Signature</summary>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA256\r\n\r\nACK 2059eaa692ff614c41dee50f4bc2d2946e5d42af\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCAAdFiEE5hdzzW4BBA4vG9eM5+KYS2KJyToFAmgiWz0ACgkQ5+KYS2KJ\r\nyTp0Ag/+JZCDfs0ILvoCRuuUN74qNh1vlvS9eqie3d32quX4wjYE8ZQC4Ov18xlv\r\n8nOCKzDu369bixp1N6HlQXqa41w0x0KbAshMHWsHwolKr5MumQTfOp6mcnMaD1J4\r\nzbS1Jbyigs7x+ukeVLW22CH9I64GUGQuizmzuWA2/cR0ehFtkLsKyG/5HCSeQU4H\r\n/VzzEGcYNeqKKroLKKswqbkcVSrzhz8I1P7ZOEMhYQ6kDTZ5YVKGhbqcb8n2S8nJ\r\nTr5GY72gx8WY+LwgLM3nuesus8jYSVKSwleWCGxm2uqKdAkLcBQajBnJy1kgIYO0\r\nieAMypz9OF8zYls6VvhuTZseTvMWIM0ai37/1YUS8R3Dk3c9habUhv2GoxEpHmZb\r\n2vcJ133qtVRNj9ZWAy987lmXKz1m3imrH+SGGUdG0etaHjs6qz0JnFxv11/xTzaB\r\nSBFc8nalkIG/RZqy72i3WskMdOxkywkVx2fzN5RYZdpxSb2krlaOVln3On60H8iW\r\nEwnk+MioS0s/1mvp+u31YG5GzRhqO4mCtQMG5IE2W+k58q1gMvq6uQtasgWGu9LX\r\nZihaLz2cxeHxCqQFaFP1rL54IB/2MWXWXOBCEp24JQT/LXAfq1sacikd1PzaI/T8\r\ntVQcYWs1W3ZORKjqMhWaPEpXurz5mstul/zV/BkRcod6E9XgJPw=\r\n=65/9\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\npinheadmz's public key is [on openpgp.org](https://keys.openpgp.org/vks/v1/by-fingerprint/E61773CD6E01040E2F1BD78CE7E2984B6289C93A)\r\n</details>\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2834257645",
      "submitted_at": "2025-05-12T20:36:53Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNhNTc4MWUyM2E4ZjI5OWZmNGYxNDNkMjM1NTIxOGY1NTFlNjU5NDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca5781e23a8f299ff4f143d2355218f551e65944",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ca5781e23a8f299ff4f143d2355218f551e65944",
      "tree": {
        "sha": "1073277d8ec077d7e9e53f97f4ae7b511d54d71d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1073277d8ec077d7e9e53f97f4ae7b511d54d71d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1073277d8ec077d7e9e53f97f4ae7b511d54d71d\nparent baa848b8d38187ce6b24a57cfadf1ea180209711\nauthor Vasil Dimov <vd@FreeBSD.org> 1746533575 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1747130980 +0200\n\nconfig: allow setting -proxy per network\n\n`-proxy=addr:port` specifies the proxy for all networks (except I2P).\nPreviously only the Tor proxy could have been specified separately via\n`-onion=addr:port`.\n\nMake it possible to specify separately the proxy for IPv4, IPv6, Tor and\nCJDNS by e.g. `-proxy=addr:port=ipv6`. Or remove the proxy for a given\nnetwork, e.g. `-proxy=0=cjdns`.\n\nResolves: https://github.com/bitcoin/bitcoin/issues/24450\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmgjGmUACgkQVN8G9ktV\ny7872B/+Imes6lfeVMcft654z2H38LqbJaAHh2X+4KYlg/FwvNirYd9R4OtjazuD\nme38pj8zDIVtQlGuzNk0wFkakc57Z9aDqTgEPmG3eO76nOPpJ4Vyszq5X/m2TG+h\nMcFfZvdEolpmgjnLKISor2z6X3IEzAsZJCTU0zUa9eL3TgdnxzRH3YfdhNUyttRu\nnjODorY2l1LxP9SgohhqeVXpHobx+XUr9QbDUCIztGIL3JoOxcfUtdd1LznmoAOj\n1YBdpJAaT5mKZ+f1YnLRR8zcyTidL//TH9hMzPPHgXvQGqsKlYvwplkcRlFL0D/K\nSVg4SOHS6F01xPUzrKV5ISQg8WQ6bkpHrcjKDLwD9Tchfib2+DRwEwt6AJHRDGVR\nMi/S5I6/8aKbJ2Fr6GUvbjMKRYlwm3EX9554XaBNyUlEdZ1DGngXk3E96HbGN/Up\nzyQHcXh4KqzJvpUd5UchZT1No8aKWM4H0INChuc6/R/CUGMorFddP/Xy627lnrG/\ntAQ1irFEQ5isjsua67fru18z4ACiSy7Y2kFKWXigFsOgBXqHV552PI4ROX0gjklV\nDoxhOQP3pBL2iFzT5xpvipUBiRbk7Nz7RjQR/p4WwzeBTl3hJq43UMPR9nMTYcSB\nxdsLDBwGAnMobiP/WY/cE0Y/IC98Q0nrJkxuGuxfG3CTDkWUmNWbBh1d9mqFf4Nr\n7x1LZfouzos/UFyQDnAyq1WydEW187smiczr2+FfCJVRdxbI+iUPwi1Kkna7DU4X\nUAV5m3E0Kl/BoHIaFpsg1Zj58+quNpaxLm1QrZ4A7bxLNZBwKj8O/Nna2qNz/OFi\nn6YVecPqrxbJt6H8DqH+kdBPZDn/nxUp7aTiQsIz4vlxKsSoOwS8qw9iTzG88/7y\nN9aLczDBcfD53JXq53DVoOEqVDqXfz3l567+lFoLYm/7nj/P0W+BrsrlYgrgZxcD\nCScxDYlg1xQ8ypKUSCFiIAv4nwJ/6Kzrci/NqcPTDPwLZkhXTHRlqzVlJBXnmnyF\n0tlETK3j3ICRUTuRSaomFH24HaVGtQjnCXmgQbXo6kkTjgaC4SgB7iHS8PmKxImP\nsoUMUSgYuZfqKlLpVd/37iwQNPFzOOy08JkIF4+MRbL6UIX+Kj2HIn3GDoQAnKJ8\n4sX0qGYwL1usUvwLFHXUa5uv4nbyF/EiNPA6acwKDAlyISEYJQ6hQiT7UGhy8Quf\nRWeP7euMqLHkYUmTQPxP9TZqyO0q4BJ5OV/JTM2gtsrRH+YylSw4UGB5eF8kySfp\nyi+zVg1U7uPDTwd94RVWOu5KL4CQCwuGaw3tx3bRBIxDmbTiALZNgZ/zBHwP0kLW\nyN/z6t2SlkrAekskH3uqt1hYq4hHHw==\n=IY0E\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/baa848b8d38187ce6b24a57cfadf1ea180209711",
          "sha": "baa848b8d38187ce6b24a57cfadf1ea180209711",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/baa848b8d38187ce6b24a57cfadf1ea180209711"
        }
      ],
      "message": "config: allow setting -proxy per network\n\n`-proxy=addr:port` specifies the proxy for all networks (except I2P).\nPreviously only the Tor proxy could have been specified separately via\n`-onion=addr:port`.\n\nMake it possible to specify separately the proxy for IPv4, IPv6, Tor and\nCJDNS by e.g. `-proxy=addr:port=ipv6`. Or remove the proxy for a given\nnetwork, e.g. `-proxy=0=cjdns`.\n\nResolves: https://github.com/bitcoin/bitcoin/issues/24450",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-05-13T10:09:40Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-05-06T12:12:55Z"
      },
      "sha": "ca5781e23a8f299ff4f143d2355218f551e65944"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU5OGM1MWZjY2U5YWUzZjQ0MWE0MTZjYWIzMmE1Yzg1NzU2YzZjNjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "tree": {
        "sha": "9627e1ba37321e5f0d1c03fb17edc663f6296638",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9627e1ba37321e5f0d1c03fb17edc663f6296638"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9627e1ba37321e5f0d1c03fb17edc663f6296638\nparent ca5781e23a8f299ff4f143d2355218f551e65944\nauthor Vasil Dimov <vd@FreeBSD.org> 1746614317 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1747130981 +0200\n\ndoc: update tor.md to mention the new -proxy=addr:port=tor\n\nAlso change the formatting of `tor.md` to have more horizonal space for\nthe text.\n\nCo-authored-by: Matthew Zipkin <pinheadmz@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmgjGmUACgkQVN8G9ktV\ny7+1/CAAqPIcfkoI2fm+H0et+IQqiGLzkIGg7qiM9+ZgvaSdcqf2JO8bbYzVQE0Q\neZS9cF+EMhUdg4oOndpuixGfWnPyLN58KeKHbVhMC4dx16OPH0+/mEAhY0MqAmFZ\nYeUXzouib0hytNA/9YN5Q8FhMBmNiGbdykFzAfOZN5nstcmPGp1yoA3KC71XFtt7\n0VSan17SvgTUbqRhI0G2NSj7JWrPBDFtaYc01ANovxjGUraICpZS5Y2OzGepIcNR\nm06oVfEsobwf8dpCPrHD2CFPLfqKumBmc5nt6lL9CM0454wl3CTFXpKK472F8bUN\nerHItCHNOHs1yVPwMDOndxOAYGCn3g+cIlCLrnOL9wa5ulBsOSNW92IZ2ft0jb/r\ne/lQPufAO1ULEAZ1undOI9F1pXpKYHDhU++M6ncA0e8mr2/+PQY/Vc+HHhuiYGlw\nNTrek3ix1OzIxV9+izgPeV3ww0coAxn7g2dWbJQdm0C1CnRSdWBsSgjn9fcyPzZR\nNJIoi98DDj4pkr3dyWRWyiPTS4BIhwot/8dyhMuoV7deLJSQ2HXR9hWHSww94NOt\nheEdNr6oNpw86XcUGKIX3EN8XKYDihTaMCdhnocavQbUAzWgMtR3SyXRhlYYEu7c\nT+l1UhnI6g1adfYeWXXBbszqCbfvjw/WtE3d84lAPtVjuxetJb8zVEL0RV/1TIY+\nC9WD1ohOTRL/l/bNZ+5JHCyFrmE6q9vrlPTITNKIbrX991Lvwd/AFuBSUOXy4vAx\nkhlJxc3Qfpieqeby5jLPiKHObbuWSs5+LVv8vtRjT4Zccmdzf7Q7YZ+6LSE/ZbOk\nT/oY2uCFMfqPBi6HPT3a01SkHY22W2/wznHFCE94SVRgmqPsNxFo/PYCRdIcyc5F\nnGMXPLd2ghv1Yk3Y+LXaONS+9MIxQpF9JnHCxsXG6fE4sI8H/l07DFWaeirGk5qN\nSsF7sZ8JCh2MsLIsXXpbK9ERq2g5JzFQnZZ7hy5mcLUgqHVGECNkFnbXeTL0J686\n2vgy+rlcWGuAVxRFqDqVt1NSQm6FG4NfcCJ47h0Bh6G7u4uKAM/lyLnNXUJR15a4\n/JO8EinRy+VV5MDuCIsq4aTpYYXOqL12gp1trsU8Sl8c26qUQZwiDvF3mgecqSJM\nKX9v/Tx/+CkbmwfC+7MSusy7pPup3UgjVKyDn+ZYANuus0amrmY1NwPJxP3vbflK\nNS7sjFUso63zsaafS5Oj+u+sB21CUt8yQVfT9O737tDMZtq/PIXNxKJS88zTk7ki\nyQEeyyj5IVAdnnTw0Hcrk+I0YNUVynJebYspveRlV1nc115l4UcrgfnNjKhE458z\nxCoS6RyCzIj1Q+xd2oqPhnZ/5Jafdw==\n=Nydz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca5781e23a8f299ff4f143d2355218f551e65944",
          "sha": "ca5781e23a8f299ff4f143d2355218f551e65944",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ca5781e23a8f299ff4f143d2355218f551e65944"
        }
      ],
      "message": "doc: update tor.md to mention the new -proxy=addr:port=tor\n\nAlso change the formatting of `tor.md` to have more horizonal space for\nthe text.\n\nCo-authored-by: Matthew Zipkin <pinheadmz@gmail.com>",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-05-13T10:09:41Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2025-05-07T10:38:37Z"
      },
      "sha": "e98c51fcce9ae3f441a416cab32a5c85756c6c64"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17632551750,
      "node_id": "HRFPE_lADOABII5861XWZYzwAAAAQa-2NG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17632551750",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": "https://api.github.com/repos/vasild/bitcoin/commits/e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "created_at": "2025-05-13T10:15:32Z"
    },
    {
      "event": "commented",
      "id": 2875900750,
      "node_id": "IC_kwDOABII586rasNO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2875900750",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-13T10:15:53Z",
      "updated_at": "2025-05-13T10:15:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "`2059eaa692...e98c51fcce`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#issuecomment-2875900750",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32425"
    },
    {
      "event": "reviewed",
      "id": 2836872116,
      "node_id": "PRR_kwDOABII586pFzu0",
      "url": null,
      "actor": null,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK e98c51fcce9ae3f441a416cab32a5c85756c6c64\r\n\r\nTrivial changes since last ACK. Built and tested again on mainnet, this time added i2p as well, connected to peers on every network we support. Tried various proxy settings.\r\n\r\nThe code change is small and mostly just contained in `init.cpp`. We used to call `SetProxy()` on every network type with the same proxy endpoint, this new code parses more fine-grained config options and sets separate proxies based on the options.\r\n\r\n<details><summary>Show Signature</summary>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA256\r\n\r\nACK e98c51fcce9ae3f441a416cab32a5c85756c6c64\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCAAdFiEE5hdzzW4BBA4vG9eM5+KYS2KJyToFAmgjTV8ACgkQ5+KYS2KJ\r\nyToKAw/6AgyTgGUOnk+VxgZGTTFufgNES5uvasHJtpkvcNYf9boWGpVQXBxf9ePc\r\nBR7ly5C1+Tmvv6X36FwLE+mhNbXHIK178lfWFs+CMMeeuEThwR7LapGSbdAZGa+l\r\nRxXxAx49/Ns5wMnMXPS+7mDp3CKAk1HRm1u1AN5k99RcyXdG5QUqfCb5QctckTUZ\r\njS17RuzONdJxW34Xd+p2nfsbKYUBy0YQPfLyxjy4e3KaStmpQTtp0HIKampli4t4\r\nGhJiD+Yxj3ohJHqMS7so7jFo6nXqYw9k8wNUdaZTySBwMk2vDzRYesoBuXQZqM+j\r\nxV9KReg1zxbtJTtW4cC38Rr3qRJJm4AKUNQmybs5aDfT07UAe2Ocd+b2lX97Pg4L\r\nEyFCneylgs9mY+XH6UJpbOMihGWjAzZ63dRGrnMEFwZuNOmSBCSqPgQNjqSyBnU1\r\nCwj8liKCzr+mYwgWSA1M57BJGc0ZYeIPOEi8NEBzwejtQN6ljESmtWXh3kgKcXyb\r\nVE2e3KJvCTTtdjI8r6nk2cNGKDMwgzeJp1DAAMEj2xOT7rI0qYc1tdr4HUGhhl0w\r\nTiCeCenZhgPyTocW0xVFTzAmvhm+WCHp6Epyucjo0hnK4esw965z2N3B+4tmCfMY\r\nB6VJFHuUqaerSIlvFzI8QpJsP9UBUUe2VS+XXhBv1VnlNuGewDM=\r\n=PiAP\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\npinheadmz's public key is [on openpgp.org](https://keys.openpgp.org/vks/v1/by-fingerprint/E61773CD6E01040E2F1BD78CE7E2984B6289C93A)\r\n</details>\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2836872116",
      "submitted_at": "2025-05-13T13:50:20Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "review_requested",
      "id": 17636122751,
      "node_id": "RRE_lADOABII5861XWZYzwAAAAQbMeB_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17636122751",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-13T13:50:25Z",
      "requested_reviewer": {
        "login": "caesrcd",
        "id": 66971214,
        "node_id": "MDQ6VXNlcjY2OTcxMjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/66971214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/caesrcd",
        "html_url": "https://github.com/caesrcd",
        "followers_url": "https://api.github.com/users/caesrcd/followers",
        "following_url": "https://api.github.com/users/caesrcd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/caesrcd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/caesrcd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/caesrcd/subscriptions",
        "organizations_url": "https://api.github.com/users/caesrcd/orgs",
        "repos_url": "https://api.github.com/users/caesrcd/repos",
        "events_url": "https://api.github.com/users/caesrcd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/caesrcd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2837204950,
      "node_id": "PRR_kwDOABII586pHE_W",
      "url": null,
      "actor": null,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "reACK e98c51fcce",
      "user": {
        "login": "caesrcd",
        "id": 66971214,
        "node_id": "MDQ6VXNlcjY2OTcxMjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/66971214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/caesrcd",
        "html_url": "https://github.com/caesrcd",
        "followers_url": "https://api.github.com/users/caesrcd/followers",
        "following_url": "https://api.github.com/users/caesrcd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/caesrcd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/caesrcd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/caesrcd/subscriptions",
        "organizations_url": "https://api.github.com/users/caesrcd/orgs",
        "repos_url": "https://api.github.com/users/caesrcd/repos",
        "events_url": "https://api.github.com/users/caesrcd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/caesrcd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2837204950",
      "submitted_at": "2025-05-13T15:17:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2840193686,
      "node_id": "PRR_kwDOABII586pSeqW",
      "url": null,
      "actor": null,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review ACK e98c51fcce9ae3f441a416cab32a5c85756c6c64\r\n\r\nI have reviewed the code, and it looks good to me.\r\nI run the tests locally and did some very limited manual testing, mimicking the functional test behavior (passing in `-proxy=...=network` and checking the `getnetworkinfo` output)",
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2840193686",
      "submitted_at": "2025-05-14T13:26:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2848222887,
      "node_id": "PRR_kwDOABII586pxG6n",
      "url": null,
      "actor": null,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Probably an improvement as-is, but might want to think through the name proxy logic",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2848222887",
      "submitted_at": "2025-05-17T10:34:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    },
    {
      "event": "reviewed",
      "id": 2848239912,
      "node_id": "PRR_kwDOABII586pxLEo",
      "url": null,
      "actor": null,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#pullrequestreview-2848239912",
      "submitted_at": "2025-05-17T10:53:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075449394",
      "pull_request_review_id": 2818232320,
      "id": 2075449394,
      "node_id": "PRRC_kwDOABII5857tNgy",
      "diff_hunk": "@@ -1189,31 +1204,34 @@ bool CheckHostPortOptions(const ArgsManager& args) {\n         }\n     }\n \n-    for ([[maybe_unused]] const auto& [arg, unix] : std::vector<std::pair<std::string, bool>>{\n-        // arg name            UNIX socket support\n-        {\"-i2psam\",                 false},\n-        {\"-onion\",                  true},\n-        {\"-proxy\",                  true},\n-        {\"-rpcbind\",                false},\n-        {\"-torcontrol\",             false},\n-        {\"-whitebind\",              false},\n-        {\"-zmqpubhashblock\",        true},\n-        {\"-zmqpubhashtx\",           true},\n-        {\"-zmqpubrawblock\",         true},\n-        {\"-zmqpubrawtx\",            true},\n-        {\"-zmqpubsequence\",         true},\n+    for ([[maybe_unused]] const auto& [param_name, unix, suffix_allowed] : std::vector<std::tuple<std::string, bool, bool>>{\n+        // arg name          UNIX socket support  =suffix allowed\n+        {\"-i2psam\",          false,               false},\n+        {\"-onion\",           true,                false},\n+        {\"-proxy\",           true,                true},\n+        {\"-bind\",            false,               true},\n+        {\"-rpcbind\",         false,               false},\n+        {\"-torcontrol\",      false,               false},\n+        {\"-whitebind\",       false,               false},\n+        {\"-zmqpubhashblock\", true,                false},\n+        {\"-zmqpubhashtx\",    true,                false},\n+        {\"-zmqpubrawblock\",  true,                false},\n+        {\"-zmqpubrawtx\",     true,                false},\n+        {\"-zmqpubsequence\",  true,                false},\n     }) {",
      "path": "src/init.cpp",
      "position": 60,
      "original_position": 60,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "note: I sneaked in `-bind` here. I guess before it was omitted because this loop did not support `=whatever` suffix. Now it does.",
      "created_at": "2025-05-06T13:11:59Z",
      "updated_at": "2025-05-06T13:19:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2075449394",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075449394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": 1192,
      "original_start_line": 1192,
      "start_side": "LEFT",
      "line": 1221,
      "original_line": 1221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075889487",
      "pull_request_review_id": 2818995555,
      "id": 2075889487,
      "node_id": "PRRC_kwDOABII5857u49P",
      "diff_hunk": "@@ -552,11 +552,26 @@ void SetupServerArgs(ArgsManager& argsman, bool can_listen_ipc)\n     argsman.AddArg(\"-peerblockfilters\", strprintf(\"Serve compact block filters to peers per BIP 157 (default: %u)\", DEFAULT_PEERBLOCKFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-txreconciliation\", strprintf(\"Enable transaction reconciliations per BIP 330 (default: %d)\", DEFAULT_TXRECONCILIATION_ENABLE), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-port=<port>\", strprintf(\"Listen for connections on <port> (default: %u, testnet3: %u, testnet4: %u, signet: %u, regtest: %u). Not relevant for I2P (see doc/i2p.md). If set to a value x, the default onion listening port will be set to x+1.\", defaultChainParams->GetDefaultPort(), testnetChainParams->GetDefaultPort(), testnet4ChainParams->GetDefaultPort(), signetChainParams->GetDefaultPort(), regtestChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    const std::string proxy_doc_for_value =\n #ifdef HAVE_SOCKADDR_UN\n-    argsman.AddArg(\"-proxy=<ip:port|path>\", \"Connect through SOCKS5 proxy, set -noproxy to disable (default: disabled). May be a local file path prefixed with 'unix:' if the proxy supports it.\", ArgsManager::ALLOW_ANY | ArgsManager::DISALLOW_ELISION, OptionsCategory::CONNECTION);\n+        \"ip:port|path\";",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: the port is optional, no?\r\n```suggestion\r\n        \"ip[:<port>]|path\";\r\n```",
      "created_at": "2025-05-06T16:45:39Z",
      "updated_at": "2025-05-06T16:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2075889487",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075889487"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 557,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075906033",
      "pull_request_review_id": 2818995555,
      "id": 2075906033,
      "node_id": "PRRC_kwDOABII5857u8_x",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, 9050, fNameLookup)};",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 123,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "in_reply_to_id": null,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: for the port value maybe use DEFAULT_TOR_SOCKS_PORT from `torcontrol.cpp`?",
      "created_at": "2025-05-06T16:56:35Z",
      "updated_at": "2025-05-06T16:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2075906033",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2075906033"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1615,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077497713",
      "pull_request_review_id": 2821531240,
      "id": 2077497713,
      "node_id": "PRRC_kwDOABII58571Blx",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, 9050, fNameLookup)};",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 123,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "in_reply_to_id": 2075906033,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-05-07T12:19:16Z",
      "updated_at": "2025-05-07T12:19:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2077497713",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077497713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1615,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077498609",
      "pull_request_review_id": 2821532567,
      "id": 2077498609,
      "node_id": "PRRC_kwDOABII58571Bzx",
      "diff_hunk": "@@ -552,11 +552,26 @@ void SetupServerArgs(ArgsManager& argsman, bool can_listen_ipc)\n     argsman.AddArg(\"-peerblockfilters\", strprintf(\"Serve compact block filters to peers per BIP 157 (default: %u)\", DEFAULT_PEERBLOCKFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-txreconciliation\", strprintf(\"Enable transaction reconciliations per BIP 330 (default: %d)\", DEFAULT_TXRECONCILIATION_ENABLE), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-port=<port>\", strprintf(\"Listen for connections on <port> (default: %u, testnet3: %u, testnet4: %u, signet: %u, regtest: %u). Not relevant for I2P (see doc/i2p.md). If set to a value x, the default onion listening port will be set to x+1.\", defaultChainParams->GetDefaultPort(), testnetChainParams->GetDefaultPort(), testnet4ChainParams->GetDefaultPort(), signetChainParams->GetDefaultPort(), regtestChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    const std::string proxy_doc_for_value =\n #ifdef HAVE_SOCKADDR_UN\n-    argsman.AddArg(\"-proxy=<ip:port|path>\", \"Connect through SOCKS5 proxy, set -noproxy to disable (default: disabled). May be a local file path prefixed with 'unix:' if the proxy supports it.\", ArgsManager::ALLOW_ANY | ArgsManager::DISALLOW_ELISION, OptionsCategory::CONNECTION);\n+        \"ip:port|path\";",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "6a9f04688f790cbf383184470b5bd1eaa7cd3d4e",
      "in_reply_to_id": 2075889487,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done and also used `<` and `>` for the other fields.",
      "created_at": "2025-05-07T12:19:46Z",
      "updated_at": "2025-05-07T12:19:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2077498609",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077498609"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 557,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085261557",
      "pull_request_review_id": 2834179627,
      "id": 2085261557,
      "node_id": "PRRC_kwDOABII5858SpD1",
      "diff_hunk": "@@ -32,33 +32,43 @@ You can use the `getnodeaddresses` RPC to fetch a number of onion peers known to\n The first step is running Bitcoin Core behind a Tor proxy. This will already anonymize all\n outgoing connections, but more is possible.\n \n-    -proxy=ip:port  Set the proxy server. If SOCKS5 is selected (default), this proxy\n-                    server will be used to try to reach .onion addresses as well.\n-                    You need to use -noonion or -onion=0 to explicitly disable\n-                    outbound access to onion services.\n-\n-    -onion=ip:port  Set the proxy server to use for Tor onion services. You do not\n-                    need to set this if it's the same as -proxy. You can use -onion=0\n-                    to explicitly disable access to onion services.\n-                    ------------------------------------------------------------------\n-                    Note: Only the -proxy option sets the proxy for DNS requests;\n-                    with -onion they will not route over Tor, so use -proxy if you\n-                    have privacy concerns.\n-                    ------------------------------------------------------------------\n-\n-    -listen         When using -proxy, listening is disabled by default. If you want\n-                    to manually configure an onion service (see section 3), you'll\n-                    need to enable it explicitly.\n-\n-    -connect=X      When behind a Tor proxy, you can specify .onion addresses instead\n-    -addnode=X      of IP addresses or hostnames in these parameters. It requires\n-    -seednode=X     SOCKS5. In Tor mode, such addresses can also be exchanged with\n-                    other P2P nodes.\n-\n-    -onlynet=onion  Make automatic outbound connections only to .onion addresses.\n-                    Inbound and manual connections are not affected by this option.\n-                    It can be specified multiple times to allow multiple networks,\n-                    e.g. onlynet=onion, onlynet=i2p, onlynet=cjdns.\n+    -proxy=ip[:port]\n+        Set the proxy server. It will be used to try to reach .onion addresses\n+        as well. You need to use -noonion or -onion=0 to explicitly disable\n+        outbound access to onion services.\n+\n+    -proxy=ip[:port]=tor\n+    or\n+    -onion=ip[:port]\n+        Set the proxy server for reaching .onion addresses. You do not need to\n+        set this if it's the same as the generic -proxy. You can use -onion=0 to\n+        explicitly disable access to onion services.\n+        ------------------------------------------------------------------------\n+        Note: Only the -proxy option sets the proxy for DNS requests; with\n+        -onion they will not route over Tor, so use -proxy if you have privacy\n+        concerns.\n+        ------------------------------------------------------------------------\n+\n+    If -proxy or -onion is specified multiple times, later occurences override\n+    earlier ones and command line overrides the config file.",
      "path": "doc/tor.md",
      "position": null,
      "original_position": 49,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since you're touching this doc, you could also add a note about UNIX sockets which I should've added in #27375 ;-)\r\n\r\ne.g.\r\n```\r\nUNIX domain sockets may be used for proxy connections. Set `-onion` or `-proxy`\r\nto the local socket path with the prefix `unix:` (e.g. `-onion=unix:/home/me/torsocket`).\r\n```",
      "created_at": "2025-05-12T18:48:27Z",
      "updated_at": "2025-05-12T18:48:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2085261557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085261557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": 35,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085310297",
      "pull_request_review_id": 2834257645,
      "id": 2085310297,
      "node_id": "PRRC_kwDOABII5858S09Z",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 102,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "4af5b4d4298b4c69cd9131e87fe50e9386def13a",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/32425/commits/4af5b4d4298b4c69cd9131e87fe50e9386def13a\r\n\r\nnit: could move `Proxy onion_proxy;` from L1590 into this group",
      "created_at": "2025-05-12T19:24:32Z",
      "updated_at": "2025-05-12T20:36:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2085310297",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085310297"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": 1595,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1597,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085337724",
      "pull_request_review_id": 2834257645,
      "id": 2085337724,
      "node_id": "PRRC_kwDOABII5858S7p8",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, DEFAULT_TOR_SOCKS_PORT, fNameLookup)};",
      "path": "src/init.cpp",
      "position": 127,
      "original_position": 123,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "4af5b4d4298b4c69cd9131e87fe50e9386def13a",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "4af5b4d4298b4c69cd9131e87fe50e9386def13a\r\n\r\nThe default port here is a little funny since a user could set `-proxy=127.0.0.1=cjdns` right? ",
      "created_at": "2025-05-12T19:45:29Z",
      "updated_at": "2025-05-12T20:36:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2085337724",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2085337724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1614,
      "original_line": 1614,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086457036",
      "pull_request_review_id": 2836128391,
      "id": 2086457036,
      "node_id": "PRRC_kwDOABII5858XM7M",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, DEFAULT_TOR_SOCKS_PORT, fNameLookup)};",
      "path": "src/init.cpp",
      "position": 127,
      "original_position": 123,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "4af5b4d4298b4c69cd9131e87fe50e9386def13a",
      "in_reply_to_id": 2085337724,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, that is the same in `master` so no change in behavior by this PR. In master it is using a magic number `9050` whereas here it uses the constant `DEFAULT_TOR_SOCKS_PORT`.\r\n\r\n`-proxy=127.0.0.1=cjdns` would be interpreted as `-proxy=127.0.0.1:9050=cjdns` which might be the correct config, or if not then the user could use `-proxy=127.0.0.1:1234=cjdns` to specify another port.\r\n\r\nPersonally, I would favor a more dumb implementation that does not do such automations and guessings on behalf of the user. Such an implementation would require the port to always be provided and refuse to start if not.",
      "created_at": "2025-05-13T10:14:17Z",
      "updated_at": "2025-05-13T10:14:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2086457036",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086457036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1614,
      "original_line": 1614,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086457264",
      "pull_request_review_id": 2836128735,
      "id": 2086457264,
      "node_id": "PRRC_kwDOABII5858XM-w",
      "diff_hunk": "@@ -1572,30 +1590,64 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     Proxy onion_proxy;\n \n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 102,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "4af5b4d4298b4c69cd9131e87fe50e9386def13a",
      "in_reply_to_id": 2085310297,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-05-13T10:14:23Z",
      "updated_at": "2025-05-13T10:14:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2086457264",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086457264"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": 1595,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1597,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086458031",
      "pull_request_review_id": 2836130395,
      "id": 2086458031,
      "node_id": "PRRC_kwDOABII5858XNKv",
      "diff_hunk": "@@ -32,33 +32,43 @@ You can use the `getnodeaddresses` RPC to fetch a number of onion peers known to\n The first step is running Bitcoin Core behind a Tor proxy. This will already anonymize all\n outgoing connections, but more is possible.\n \n-    -proxy=ip:port  Set the proxy server. If SOCKS5 is selected (default), this proxy\n-                    server will be used to try to reach .onion addresses as well.\n-                    You need to use -noonion or -onion=0 to explicitly disable\n-                    outbound access to onion services.\n-\n-    -onion=ip:port  Set the proxy server to use for Tor onion services. You do not\n-                    need to set this if it's the same as -proxy. You can use -onion=0\n-                    to explicitly disable access to onion services.\n-                    ------------------------------------------------------------------\n-                    Note: Only the -proxy option sets the proxy for DNS requests;\n-                    with -onion they will not route over Tor, so use -proxy if you\n-                    have privacy concerns.\n-                    ------------------------------------------------------------------\n-\n-    -listen         When using -proxy, listening is disabled by default. If you want\n-                    to manually configure an onion service (see section 3), you'll\n-                    need to enable it explicitly.\n-\n-    -connect=X      When behind a Tor proxy, you can specify .onion addresses instead\n-    -addnode=X      of IP addresses or hostnames in these parameters. It requires\n-    -seednode=X     SOCKS5. In Tor mode, such addresses can also be exchanged with\n-                    other P2P nodes.\n-\n-    -onlynet=onion  Make automatic outbound connections only to .onion addresses.\n-                    Inbound and manual connections are not affected by this option.\n-                    It can be specified multiple times to allow multiple networks,\n-                    e.g. onlynet=onion, onlynet=i2p, onlynet=cjdns.\n+    -proxy=ip[:port]\n+        Set the proxy server. It will be used to try to reach .onion addresses\n+        as well. You need to use -noonion or -onion=0 to explicitly disable\n+        outbound access to onion services.\n+\n+    -proxy=ip[:port]=tor\n+    or\n+    -onion=ip[:port]\n+        Set the proxy server for reaching .onion addresses. You do not need to\n+        set this if it's the same as the generic -proxy. You can use -onion=0 to\n+        explicitly disable access to onion services.\n+        ------------------------------------------------------------------------\n+        Note: Only the -proxy option sets the proxy for DNS requests; with\n+        -onion they will not route over Tor, so use -proxy if you have privacy\n+        concerns.\n+        ------------------------------------------------------------------------\n+\n+    If -proxy or -onion is specified multiple times, later occurences override\n+    earlier ones and command line overrides the config file.",
      "path": "doc/tor.md",
      "position": null,
      "original_position": 49,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "2059eaa692ff614c41dee50f4bc2d2946e5d42af",
      "in_reply_to_id": 2085261557,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-05-13T10:14:42Z",
      "updated_at": "2025-05-13T10:14:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2086458031",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2086458031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": 35,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094077060",
      "pull_request_review_id": 2848222887,
      "id": 2094077060,
      "node_id": "PRRC_kwDOABII58580RSE",
      "diff_hunk": "@@ -1569,33 +1587,66 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n-    Proxy onion_proxy;\n-\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy onion_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, DEFAULT_TOR_SOCKS_PORT, fNameLookup)};\n+                if (!addr.has_value()) {\n+                    return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxy_str));\n+                }\n+                proxy = Proxy{addr.value(), /*tor_stream_isolation=*/proxyRandomize};\n+            }\n+            if (!proxy.IsValid()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxy_str));\n+            }\n+        }\n \n-        SetProxy(NET_IPV4, addrProxy);\n-        SetProxy(NET_IPV6, addrProxy);\n-        SetProxy(NET_CJDNS, addrProxy);\n-        SetNameProxy(addrProxy);\n-        onion_proxy = addrProxy;\n+        if (net_str.empty()) { // For all networks.\n+            ipv4_proxy = ipv6_proxy = name_proxy = cjdns_proxy = onion_proxy = proxy;\n+        } else if (net_str == \"ipv4\") {\n+            ipv4_proxy = name_proxy = proxy;\n+        } else if (net_str == \"ipv6\") {\n+            ipv6_proxy = name_proxy = proxy;\n+        } else if (net_str == \"tor\" || net_str == \"onion\") {\n+            onion_proxy = proxy;\n+        } else if (net_str == \"cjdns\") {\n+            cjdns_proxy = proxy;\n+        } else {\n+            return InitError(strprintf(_(\"Unrecognized network in -proxy='%s': '%s'\"), param_value, net_str));\n+        }\n+    }\n+    if (ipv4_proxy.IsValid()) {",
      "path": "src/init.cpp",
      "position": 157,
      "original_position": 157,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "These conditions aren't needed. `SetProxy` itself just returns false if it's not valid.",
      "created_at": "2025-05-17T09:57:58Z",
      "updated_at": "2025-05-17T10:34:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2094077060",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094077060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1639,
      "original_line": 1639,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094078095",
      "pull_request_review_id": 2848222887,
      "id": 2094078095,
      "node_id": "PRRC_kwDOABII58580RiP",
      "diff_hunk": "@@ -1569,33 +1587,66 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n-    Proxy onion_proxy;\n-\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy onion_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050\n+        std::string net_str;\n+        if (eq_pos != std::string::npos) {\n+            if (eq_pos + 1 == param_value.length()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname, ends with '=': '%s'\"), param_value));\n             }\n-\n-            addrProxy = Proxy(proxyAddr.value(), /*tor_stream_isolation=*/proxyRandomize);\n+            net_str = ToLower(param_value.substr(eq_pos + 1)); // e.g. 127.0.0.1:9050=ipv4 -> ipv4\n         }\n \n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+        Proxy proxy;\n+        if (!proxy_str.empty() && proxy_str != \"0\") {\n+            if (IsUnixSocketPath(proxy_str)) {\n+                proxy = Proxy{proxy_str, /*tor_stream_isolation=*/proxyRandomize};\n+            } else {\n+                const std::optional<CService> addr{Lookup(proxy_str, DEFAULT_TOR_SOCKS_PORT, fNameLookup)};\n+                if (!addr.has_value()) {\n+                    return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxy_str));\n+                }\n+                proxy = Proxy{addr.value(), /*tor_stream_isolation=*/proxyRandomize};\n+            }\n+            if (!proxy.IsValid()) {\n+                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxy_str));\n+            }\n+        }\n \n-        SetProxy(NET_IPV4, addrProxy);\n-        SetProxy(NET_IPV6, addrProxy);\n-        SetProxy(NET_CJDNS, addrProxy);\n-        SetNameProxy(addrProxy);\n-        onion_proxy = addrProxy;\n+        if (net_str.empty()) { // For all networks.\n+            ipv4_proxy = ipv6_proxy = name_proxy = cjdns_proxy = onion_proxy = proxy;\n+        } else if (net_str == \"ipv4\") {\n+            ipv4_proxy = name_proxy = proxy;\n+        } else if (net_str == \"ipv6\") {\n+            ipv6_proxy = name_proxy = proxy;",
      "path": "src/init.cpp",
      "position": 148,
      "original_position": 148,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure this logic is ideal. If you set an all-network proxy, but then disable it for IPv6, you might be expecting name resolution to use the proxy. Or maybe not.",
      "created_at": "2025-05-17T10:00:44Z",
      "updated_at": "2025-05-17T10:34:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2094078095",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094078095"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": 1627,
      "original_start_line": 1627,
      "start_side": "RIGHT",
      "line": 1630,
      "original_line": 1630,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094087242",
      "pull_request_review_id": 2848222887,
      "id": 2094087242,
      "node_id": "PRRC_kwDOABII58580TxK",
      "diff_hunk": "@@ -1569,33 +1587,66 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n-    Proxy onion_proxy;\n-\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n-    // -proxy sets a proxy for all outgoing network traffic\n-    // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n-    std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    if (proxyArg != \"\" && proxyArg != \"0\") {\n-        Proxy addrProxy;\n-        if (IsUnixSocketPath(proxyArg)) {\n-            addrProxy = Proxy(proxyArg, /*tor_stream_isolation=*/proxyRandomize);\n-        } else {\n-            const std::optional<CService> proxyAddr{Lookup(proxyArg, 9050, fNameLookup)};\n-            if (!proxyAddr.has_value()) {\n-                return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n+    // -proxy sets a proxy for outgoing network traffic, possibly per network.\n+    // -noproxy, -proxy=0 or -proxy=\"\" can be used to remove the proxy setting, this is the default\n+    Proxy ipv4_proxy;\n+    Proxy ipv6_proxy;\n+    Proxy onion_proxy;\n+    Proxy name_proxy;\n+    Proxy cjdns_proxy;\n+    for (const std::string& param_value : args.GetArgs(\"-proxy\")) {\n+        const auto eq_pos{param_value.rfind('=')};\n+        const std::string proxy_str{param_value.substr(0, eq_pos)}; // e.g. 127.0.0.1:9050=ipv4 -> 127.0.0.1:9050",
      "path": "src/init.cpp",
      "position": 109,
      "original_position": 109,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "string_view?",
      "created_at": "2025-05-17T10:30:29Z",
      "updated_at": "2025-05-17T10:34:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2094087242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094087242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1600,
      "original_line": 1600,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094091911",
      "pull_request_review_id": 2848239912,
      "id": 2094091911,
      "node_id": "PRRC_kwDOABII58580U6H",
      "diff_hunk": "@@ -32,33 +32,53 @@ You can use the `getnodeaddresses` RPC to fetch a number of onion peers known to\n The first step is running Bitcoin Core behind a Tor proxy. This will already anonymize all\n outgoing connections, but more is possible.\n \n-    -proxy=ip:port  Set the proxy server. If SOCKS5 is selected (default), this proxy\n-                    server will be used to try to reach .onion addresses as well.\n-                    You need to use -noonion or -onion=0 to explicitly disable\n-                    outbound access to onion services.\n-\n-    -onion=ip:port  Set the proxy server to use for Tor onion services. You do not\n-                    need to set this if it's the same as -proxy. You can use -onion=0\n-                    to explicitly disable access to onion services.\n-                    ------------------------------------------------------------------\n-                    Note: Only the -proxy option sets the proxy for DNS requests;\n-                    with -onion they will not route over Tor, so use -proxy if you\n-                    have privacy concerns.\n-                    ------------------------------------------------------------------\n-\n-    -listen         When using -proxy, listening is disabled by default. If you want\n-                    to manually configure an onion service (see section 3), you'll\n-                    need to enable it explicitly.\n-\n-    -connect=X      When behind a Tor proxy, you can specify .onion addresses instead\n-    -addnode=X      of IP addresses or hostnames in these parameters. It requires\n-    -seednode=X     SOCKS5. In Tor mode, such addresses can also be exchanged with\n-                    other P2P nodes.\n-\n-    -onlynet=onion  Make automatic outbound connections only to .onion addresses.\n-                    Inbound and manual connections are not affected by this option.\n-                    It can be specified multiple times to allow multiple networks,\n-                    e.g. onlynet=onion, onlynet=i2p, onlynet=cjdns.\n+    -proxy=ip[:port]\n+        Set the proxy server. It will be used to try to reach .onion addresses\n+        as well. You need to use -noonion or -onion=0 to explicitly disable\n+        outbound access to onion services.\n+\n+    -proxy=ip[:port]=tor\n+    or\n+    -onion=ip[:port]\n+        Set the proxy server for reaching .onion addresses. You do not need to\n+        set this if it's the same as the generic -proxy. You can use -onion=0 to\n+        explicitly disable access to onion services.\n+        ------------------------------------------------------------------------\n+        Note: The proxy for DNS requests is taken from\n+        -proxy=addr:port or\n+        -proxy=addr:port=ipv4 or\n+        -proxy=addr:port=ipv6\n+        (last one if multiple options are given). It is not taken from\n+        -proxy=addr:port=tor or\n+        -onion=addr:port.\n+        If no proxy for DNS requests is configured, then they will be done using\n+        the functions provided by the operating system, most likely resulting in\n+        them being done over the clearnet to the DNS servers of the internet\n+        service provider.\n+        ------------------------------------------------------------------------\n+\n+If -proxy or -onion is specified multiple times, later occurences override\n+earlier ones and command line overrides the config file. UNIX domain sockets may\n+be used for proxy connections. Set `-onion` or `-proxy` to the local socket path\n+with the prefix `unix:` (e.g. `-onion=unix:/home/me/torsocket`).\n+",
      "path": "doc/tor.md",
      "position": 60,
      "original_position": 60,
      "commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "original_commit_id": "e98c51fcce9ae3f441a416cab32a5c85756c6c64",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Did you want to indent this?",
      "created_at": "2025-05-17T10:53:50Z",
      "updated_at": "2025-05-17T10:53:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32425#discussion_r2094091911",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094091911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32425"
        }
      },
      "start_line": 60,
      "original_start_line": 60,
      "start_side": "RIGHT",
      "line": 64,
      "original_line": 64,
      "side": "RIGHT"
    }
  ]
}