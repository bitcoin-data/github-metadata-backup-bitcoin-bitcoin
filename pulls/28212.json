{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
    "id": 1461742289,
    "node_id": "PR_kwDOABII585XIGrR",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28212",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28212.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28212.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28212",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28212/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/274381e08447a5f8a35db8c07b03677e436cb43c",
    "number": 28212,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: verify spend from 999-of-999 taproot multisig wallet",
    "user": {
      "login": "eriknylund",
      "id": 20860124,
      "node_id": "MDQ6VXNlcjIwODYwMTI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eriknylund",
      "html_url": "https://github.com/eriknylund",
      "followers_url": "https://api.github.com/users/eriknylund/followers",
      "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
      "organizations_url": "https://api.github.com/users/eriknylund/orgs",
      "repos_url": "https://api.github.com/users/eriknylund/repos",
      "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/eriknylund/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Verify that a 999-of-999 taproot multisig wallet is possible and can spend from it, and that neither a 1-of-0 nor 1-of-1000 is allowed.\r\n\r\nThe tests will require some time to run. On my Mac M1 the new tests run in about 40 seconds.\r\n\r\nHad to bump fee rate to resolve assertions in sendtoaddress and psbt methods:\r\n- code -5: assert rpc_online.gettransaction(txid)[\"confirmations\"] > 0\r\n- code -26: min relay fee not met\r\n\r\nFixes #28179 ",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2023-08-03T16:26:06Z",
    "updated_at": "2023-08-10T18:43:15Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "1ea075f74f1ceaf920c2cfa13fb6e2b1f07e00ca",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "eriknylund:musig-test-improvements",
      "ref": "musig-test-improvements",
      "sha": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 231795900,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMzE3OTU5MDA=",
        "name": "bitcoin",
        "full_name": "eriknylund/bitcoin",
        "owner": {
          "login": "eriknylund",
          "id": 20860124,
          "node_id": "MDQ6VXNlcjIwODYwMTI0",
          "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/eriknylund",
          "html_url": "https://github.com/eriknylund",
          "followers_url": "https://api.github.com/users/eriknylund/followers",
          "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
          "organizations_url": "https://api.github.com/users/eriknylund/orgs",
          "repos_url": "https://api.github.com/users/eriknylund/repos",
          "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/eriknylund/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/eriknylund/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/eriknylund/bitcoin",
        "archive_url": "https://api.github.com/repos/eriknylund/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/eriknylund/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/eriknylund/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/eriknylund/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/eriknylund/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/eriknylund/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/eriknylund/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/eriknylund/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/eriknylund/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/eriknylund/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/eriknylund/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/eriknylund/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/eriknylund/bitcoin/events",
        "forks_url": "https://api.github.com/repos/eriknylund/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/eriknylund/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/eriknylund/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/eriknylund/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/eriknylund/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/eriknylund/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/eriknylund/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/eriknylund/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/eriknylund/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/eriknylund/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/eriknylund/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/eriknylund/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/eriknylund/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/eriknylund/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/eriknylund/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/eriknylund/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:eriknylund/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/eriknylund/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/eriknylund/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/eriknylund/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/eriknylund/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/eriknylund/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/eriknylund/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/eriknylund/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/eriknylund/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/eriknylund/bitcoin/hooks",
        "svn_url": "https://github.com/eriknylund/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 236132,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-07T05:40:02Z",
        "created_at": "2020-01-04T16:43:43Z",
        "updated_at": "2023-08-03T10:42:36Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b7138252ace6d21476964774e094ed1143cd7a1c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35490,
        "stargazers_count": 70695,
        "watchers_count": 70695,
        "size": 236413,
        "default_branch": "master",
        "open_issues_count": 680,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-10T16:53:02Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-10T18:52:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 28,
    "deletions": 3,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 22,
    "comments": 2
  },
  "events": [
    {
      "event": "commented",
      "id": 1664282496,
      "node_id": "IC_kwDOABII585jMu-A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664282496",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:26:09Z",
      "updated_at": "2023-08-04T03:14:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26573](https://github.com/bitcoin/bitcoin/pull/26573) (Wallet: don't underestimate the fees when spending a Taproot output by darosior)\n* [#23502](https://github.com/bitcoin/bitcoin/pull/23502) (wallet: Avoid underpaying transaction fees when signing taproot spends by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#issuecomment-1664282496",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28212"
    },
    {
      "event": "labeled",
      "id": 10000991292,
      "node_id": "LE_lADOABII585tZZE1zwAAAAJUGwQ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10000991292",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:26:11Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10001053350,
      "node_id": "HRFPE_lADOABII585tZZE1zwAAAAJUG_am",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10001053350",
      "actor": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:33:14Z"
    },
    {
      "event": "labeled",
      "id": 10001054369,
      "node_id": "LE_lADOABII585tZZE1zwAAAAJUG_qh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10001054369",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:33:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1561501885,
      "node_id": "PRR_kwDOABII585dEqC9",
      "url": null,
      "actor": null,
      "commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1561501885",
      "submitted_at": "2023-08-03T16:49:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    },
    {
      "event": "review_requested",
      "id": 10001204629,
      "node_id": "RRE_lADOABII585tZZE1zwAAAAJUHkWV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10001204629",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T16:50:23Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "unlabeled",
      "id": 10001947061,
      "node_id": "UNLE_lADOABII585tZZE1zwAAAAJUKZm1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10001947061",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-03T18:22:51Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1562207405,
      "node_id": "PRR_kwDOABII585dHWSt",
      "url": null,
      "actor": null,
      "commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1562207405",
      "submitted_at": "2023-08-04T05:45:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    },
    {
      "event": "reviewed",
      "id": 1562306833,
      "node_id": "PRR_kwDOABII585dHukR",
      "url": null,
      "actor": null,
      "commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1562306833",
      "submitted_at": "2023-08-04T07:12:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    },
    {
      "event": "commented",
      "id": 1665127576,
      "node_id": "IC_kwDOABII585jP9SY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1665127576",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T07:18:53Z",
      "updated_at": "2023-08-04T07:18:53Z",
      "author_association": "MEMBER",
      "body": "The linter is failing. Also, please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#issuecomment-1665127576",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28212"
    },
    {
      "event": "labeled",
      "id": 10006784453,
      "node_id": "LE_lADOABII585tZZE1zwAAAAJUc2nF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10006784453",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T08:22:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1562524419,
      "node_id": "PRR_kwDOABII585dIjsD",
      "url": null,
      "actor": null,
      "commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1562524419",
      "submitted_at": "2023-08-04T09:33:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T10:23:59Z",
      "updated_at": "2023-08-04T10:23:59Z",
      "source": {
        "issue": {
          "id": 1464474508,
          "node_id": "PR_kwDOABII585DtIR7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
          "number": 26573,
          "state": "open",
          "state_reason": null,
          "title": "Wallet: don't underestimate the fees when spending a Taproot output",
          "body": "Based on #26567. Alternative to #23502.\r\n\r\nCurrently, when estimating the size an input spending a Taproot output sill have once signed, we always assume the key path will be used. Even if there are script paths. This can lead to pretty severe fee underestimation if the script path turns out to be used in the end. So instead assume the most expensive between all script paths and the key path will be used.\r\n\r\nThis is still not ideal, as there may be a huge gap between the size of a script path spend and a key path spend. Still, this is less bad than undershooting the fees.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26573",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26573.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26573.patch"
          },
          "created_at": "2022-11-25T12:21:59Z",
          "updated_at": "2023-08-10T01:37:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10008675767,
      "node_id": "HRFPE_lADOABII585tZZE1zwAAAAJUkEW3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10008675767",
      "actor": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T12:04:22Z"
    },
    {
      "event": "reviewed",
      "id": 1562796266,
      "node_id": "PRR_kwDOABII585dJmDq",
      "url": null,
      "actor": null,
      "commit_id": "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1562796266",
      "submitted_at": "2023-08-04T12:42:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T12:43:45Z",
      "updated_at": "2023-08-04T12:43:45Z",
      "source": {
        "issue": {
          "id": 1052516499,
          "node_id": "PR_kwDOABII584uewGL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23502",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23502/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23502/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23502/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23502",
          "number": 23502,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Avoid underpaying transaction fees when signing taproot spends",
          "body": "The current taproot signing code will end up creating transactions which do not meet the feerate target. This is primarily seen when spending a taproot output with the script path. In this scenario, because the public key is known, the dummy signer would incorrectly choose to create a dummy signed transaction that used the key path spend when the actual transaction would use script path. This results in a transaction that has a significantly lower fee rate because script path spends are much larger than key path spends. This is fixed by choosing the witness with the largest stack size rather than the smallest when doing size estimation.\r\n\r\nUnfortunately this change can result in massively overestimating the transaction fees which is undesirable. More discussion is needed to find a good solution to avoiding that problem.\r\n\r\nThere is an additional issue in the PSBT workflow where the sighash type would be appended during finalizing, but not during size estimation. That results in a transaction that is slightly larger than estimated so there is a lower feerate. This is resolved by having the DUMMY_MAXIMUM_SIGNATURE_CREATOR include the sighash type so that when funding with a watchonly wallet, we will estimate enough fee for the largest possible signature (as we do for ECDSA with high R).\r\n\r\nTests are updated to catch these case. `wallet_taproot.py` will now use a set feerate and check if the result meets that feerate.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23502",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23502",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23502.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23502.patch"
          },
          "created_at": "2021-11-13T01:57:53Z",
          "updated_at": "2023-08-04T12:43:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "unlabeled",
      "id": 10012074173,
      "node_id": "UNLE_lADOABII585tZZE1zwAAAAJUxCC9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10012074173",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-04T18:29:05Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI3NDM4MWUwODQ0N2E1ZjhhMzVkYjhjMDdiMDM2NzdlNDM2Y2I0M2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/274381e08447a5f8a35db8c07b03677e436cb43c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/274381e08447a5f8a35db8c07b03677e436cb43c",
      "tree": {
        "sha": "0bc5e5dc0c5735d92f744a8d2fd670c7b3ff8921",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0bc5e5dc0c5735d92f744a8d2fd670c7b3ff8921"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c66a4b6109c01b79979128ef23e63fc733f89ba",
          "sha": "7c66a4b6109c01b79979128ef23e63fc733f89ba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7c66a4b6109c01b79979128ef23e63fc733f89ba"
        }
      ],
      "message": "test: verify that a 999-of-999 taproot multisig wallet is possible and can spend from it, and that neither a 0-of-1000 nor 1-of-1000 is allowed\n\nuse assert_raises_rpc_error to make sure the k-of-1000 tests fail\nbump fee rate to make tests pass because script size goes up",
      "committer": {
        "name": "Erik Nylund",
        "email": "erik@daychanged.com",
        "date": "2023-08-07T05:38:19Z"
      },
      "author": {
        "name": "Erik Nylund",
        "email": "erik@daychanged.com",
        "date": "2023-08-03T16:13:42Z"
      },
      "sha": "274381e08447a5f8a35db8c07b03677e436cb43c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10019594181,
      "node_id": "HRFPE_lADOABII585tZZE1zwAAAAJVNt_F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10019594181",
      "actor": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-07T05:40:48Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T14:50:47Z",
      "updated_at": "2023-08-09T14:50:47Z",
      "source": {
        "issue": {
          "id": 1826219268,
          "node_id": "I_kwDOABII585s2eUE",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28179",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28179/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28179/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28179/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/28179",
          "number": 28179,
          "state": "open",
          "state_reason": null,
          "title": "test: 999 of 999 multisig",
          "body": "### Motivation\r\n\r\nThe stack size limit of 1000 [confuses even those who designed it](https://bitcoin.stackexchange.com/questions/117317/how-can-i-create-a-multi-sign-for-a-large-number-of-users/117320?noredirect=1#comment134168_117320).\r\n\r\nIt would be useful to have a test to demonstrate that a 999 of 999 Taproot multisig is possible: `multi_a(999, P1, , P999)`. Especially to make sure our wallet can spend from it and doesn't allow a bigger one (no 999 of 1000 and no 1 of 1000).\r\n\r\n### Possible solution\r\n\r\nEither expand the descriptors unit test and/or one of the wallet functional tests.\r\n\r\n### Useful Skills\r\n\r\nPython and a basic understanding of [output descriptors](https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md). Understanding (Mini)script (interpreter) is not necessary unless you actually want to understand why the limit is there.\r\n\r\n### Guidance for new contributors\r\n\r\nWant to work on this issue?\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 349312277,
              "node_id": "MDU6TGFiZWwzNDkzMTIyNzc=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/good%20first%20issue",
              "name": "good first issue",
              "color": "c2e0c6",
              "default": true
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "created_at": "2023-07-28T10:56:14Z",
          "updated_at": "2023-08-09T14:50:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1572527277,
      "node_id": "PRR_kwDOABII585dutyt",
      "url": null,
      "actor": null,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "I think it looks good. I think the concerns about testing with different keys are not of critical importance right now. Something could be done about it in the future.",
      "user": {
        "login": "SambhavsCreation",
        "id": 37120605,
        "node_id": "MDQ6VXNlcjM3MTIwNjA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/37120605?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SambhavsCreation",
        "html_url": "https://github.com/SambhavsCreation",
        "followers_url": "https://api.github.com/users/SambhavsCreation/followers",
        "following_url": "https://api.github.com/users/SambhavsCreation/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SambhavsCreation/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SambhavsCreation/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SambhavsCreation/subscriptions",
        "organizations_url": "https://api.github.com/users/SambhavsCreation/orgs",
        "repos_url": "https://api.github.com/users/SambhavsCreation/repos",
        "events_url": "https://api.github.com/users/SambhavsCreation/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SambhavsCreation/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#pullrequestreview-1572527277",
      "submitted_at": "2023-08-10T18:43:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743",
      "pull_request_review_id": 1561501885,
      "id": 1283470743,
      "node_id": "PRRC_kwDOABII585MgDWX",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": null,
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "won't this pass if no exception is raised?\r\nShouldn't we add something like either:\r\n```Python\r\ntry:\r\n    self.do_test_k_of_n(1, 1000)\r\n    assert False, \"Expected exception was not raised for 1-of-1000 test\"\r\nexcept JSONRPCException as e:\r\n```\r\n\r\nor via unittest:\r\n```Python\r\nwith self.assertRaises(JSONRPCException) as cm:\r\n    self.do_test_k_of_n(1, 1000)\r\nself.assertEqual(cm.exception.error[\"code\"], -5)\r\nself.assertIn(\"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", cm.exception.error[\"message\"])\r\n```\r\n?",
      "created_at": "2023-08-03T16:49:57Z",
      "updated_at": "2023-08-03T16:50:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283470743",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802",
      "pull_request_review_id": 1561514421,
      "id": 1283479802,
      "node_id": "PRRC_kwDOABII585MgFj6",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for pointing this out   I agree it shouldn't be possible for this test to succeed so an exception should be raised.",
      "created_at": "2023-08-03T16:58:04Z",
      "updated_at": "2023-08-03T16:58:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283479802",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279",
      "pull_request_review_id": 1561669634,
      "id": 1283587279,
      "node_id": "PRRC_kwDOABII585MgfzP",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`assert_raises_rpc_error` is probably what you want",
      "created_at": "2023-08-03T18:44:26Z",
      "updated_at": "2023-08-03T18:44:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283587279",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304",
      "pull_request_review_id": 1561683594,
      "id": 1283597304,
      "node_id": "PRRC_kwDOABII585MgiP4",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@paplorinc I like the second approach, it seems a bit cleaner and clearer to me. However, it doesn't seem to be used in other functional tests so maybe the first approach is better to be more consistent?",
      "created_at": "2023-08-03T18:54:02Z",
      "updated_at": "2023-08-03T18:54:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283597304",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461",
      "pull_request_review_id": 1561686650,
      "id": 1283599461,
      "node_id": "PRRC_kwDOABII585Mgixl",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@instagibbs Thanks! I was looking at that option too, however I couldn't see a way to use it in this context without having to change a lot of the code, but maybe I'm missing something obvious?  ",
      "created_at": "2023-08-03T18:56:15Z",
      "updated_at": "2023-08-03T18:56:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283599461",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181",
      "pull_request_review_id": 1561792862,
      "id": 1283672181,
      "node_id": "PRRC_kwDOABII585Mg0h1",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "if something should raise an error and a specific code/message, you use `assert_raises_rpc_error`. Just take a look on how it's used elsewhere? ",
      "created_at": "2023-08-03T20:13:35Z",
      "updated_at": "2023-08-03T20:13:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283672181",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534",
      "pull_request_review_id": 1561889365,
      "id": 1283740534,
      "node_id": "PRRC_kwDOABII585MhFN2",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```Python\r\n# Test that 1-of-1000 and 999-of-1000 raise exception\r\nfor k in [1, 999]:\r\n    assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)\r\n```\r\n\r\nor maybe even:\r\n```Python\r\nfor k in [0, 1, 999, 1000]:\r\n```\r\nif that makes sense.",
      "created_at": "2023-08-03T21:31:41Z",
      "updated_at": "2023-08-03T21:44:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283740534",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840",
      "pull_request_review_id": 1562200273,
      "id": 1283998840,
      "node_id": "PRRC_kwDOABII585MiER4",
      "diff_hunk": "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 51,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1283470743,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I much appreciate the input @paplorinc, this was the syntax I was looking for   I saw the first version of your message and immediately thought about doing the other part ([0, 1, 999, 1000]). You read my mind, this makes very much sense! ~Also, doing [1, 999] would be quite time consuming because each run lasts about a second so in total it would need 1000 seconds to complete.~ Nvm, I was thinking about testing the whole range when in fact it's just two tests. I'll update the PR to support the version with four tests.",
      "created_at": "2023-08-04T05:35:42Z",
      "updated_at": "2023-08-04T05:47:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283998840",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 517,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587",
      "pull_request_review_id": 1562207405,
      "id": 1284003587,
      "node_id": "PRRC_kwDOABII585MiFcD",
      "diff_hunk": "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "path": "test/functional/wallet_taproot.py",
      "position": 34,
      "original_position": 30,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": null,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@Sjors Given my basic understanding of output descriptors, I'd much appreciate your thoughts on this block of code, to make sure it meets the issue criterias and if this is a good way to test it.",
      "created_at": "2023-08-04T05:45:02Z",
      "updated_at": "2023-08-04T05:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284003587",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 393,
      "original_line": 393,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105",
      "pull_request_review_id": 1562306833,
      "id": 1284067105,
      "node_id": "PRRC_kwDOABII585MiU8h",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": null,
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "isn't it weird that the error message states \"Cannot have 1000 keys\" and k is ignored?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7edce77ff3725f8650bb1ae6b45b1cee100db280/src/script/descriptor.cpp#L1381\r\n\r\nBased on the error the k doesn't even matter (it fails for 500 as well), so is it even important to test multiple k values here?",
      "created_at": "2023-08-04T07:12:47Z",
      "updated_at": "2023-08-04T07:32:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284067105",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363",
      "pull_request_review_id": 1562521995,
      "id": 1284204363,
      "node_id": "PRRC_kwDOABII585Mi2dL",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284067105,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe keep it simple and just test 1 of 1000.\r\n\r\nIn that case I also don't think you need the k_of_n helper function.",
      "created_at": "2023-08-04T09:31:49Z",
      "updated_at": "2023-08-04T09:37:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284204363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838",
      "pull_request_review_id": 1562524419,
      "id": 1284205838,
      "node_id": "PRRC_kwDOABII585Mi20O",
      "diff_hunk": "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "path": "test/functional/wallet_taproot.py",
      "position": 17,
      "original_position": 20,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why are you changing the fee rate?",
      "created_at": "2023-08-04T09:33:26Z",
      "updated_at": "2023-08-04T09:33:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284205838",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 306,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036",
      "pull_request_review_id": 1562534441,
      "id": 1284212036,
      "node_id": "PRRC_kwDOABII585Mi4VE",
      "diff_hunk": "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "path": "test/functional/wallet_taproot.py",
      "position": 34,
      "original_position": 30,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1284003587,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I understand descriptors, but Python less well :-) What is this function trying to do?",
      "created_at": "2023-08-04T09:40:04Z",
      "updated_at": "2023-08-04T09:40:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284212036",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 393,
      "original_line": 393,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075",
      "pull_request_review_id": 1562568719,
      "id": 1284233075,
      "node_id": "PRRC_kwDOABII585Mi9dz",
      "diff_hunk": "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "path": "test/functional/wallet_taproot.py",
      "position": 17,
      "original_position": 20,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284205838,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If I didn't bump the fee rate I would run into the two error codes mentioned in the PR message:\r\n```\r\nHad to bump fee rate to resolve assertions in sendtoaddress and psbt methods:\r\n\r\n    code -5: assert rpc_online.gettransaction(txid)[\"confirmations\"] > 0\r\n    code -26: min relay fee not met\r\n```\r\n\r\nThe previous `fee_rate = 200` limit seems to be sufficient up until `n ~ 500`. I assume this is because the script size increases with higher numbers of `n`.",
      "created_at": "2023-08-04T10:01:04Z",
      "updated_at": "2023-08-04T10:01:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284233075",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 306,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102",
      "pull_request_review_id": 1562578496,
      "id": 1284239102,
      "node_id": "PRRC_kwDOABII585Mi-7-",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284067105,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess that would do the trick, however I'm unsure if by doing so we modify the test to test the assertion, which seems a bit incomplete/unintuitive to me, rather than testing the edge cases in k-of-N wallets?  If you understand what I mean  If you don't think it's an issue, I'm all for keeping it simple and just test 1-of-1000.",
      "created_at": "2023-08-04T10:07:40Z",
      "updated_at": "2023-08-04T10:07:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284239102",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711",
      "pull_request_review_id": 1562590867,
      "id": 1284246711,
      "node_id": "PRRC_kwDOABII585MjAy3",
      "diff_hunk": "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "path": "test/functional/wallet_taproot.py",
      "position": 17,
      "original_position": 20,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284205838,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fee rate is the fee per vbyte, so the fee goes up as the script size goes up. But this may be related to #26573 ",
      "created_at": "2023-08-04T10:16:20Z",
      "updated_at": "2023-08-04T10:16:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284246711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 306,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102",
      "pull_request_review_id": 1562594581,
      "id": 1284249102,
      "node_id": "PRRC_kwDOABII585MjBYO",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284067105,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well the \"edge\" here is n = 999, but this test is varying `k`, not `n`.",
      "created_at": "2023-08-04T10:19:03Z",
      "updated_at": "2023-08-04T10:19:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284249102",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603",
      "pull_request_review_id": 1562600048,
      "id": 1284252603,
      "node_id": "PRRC_kwDOABII585MjCO7",
      "diff_hunk": "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "path": "test/functional/wallet_taproot.py",
      "position": 34,
      "original_position": 30,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "in_reply_to_id": 1284003587,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's a function that allows setup and testing of any k-of-n wallet. It builds on the idea of the existing test that @darosior pointed to, which starts on L495 https://github.com/bitcoin/bitcoin/blob/64440bb733896a7a2caf902825e0406cb993e666/test/functional/wallet_taproot.py#L495 where a random number of `n` is used.\r\n\r\nThe part that differs is how the `[KEY_1,...,KEY_N]` array inside the `multi_a` is built - where the previous function uses `([H_POINT] * rnd_pos)` up until `k1` and then `([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)` after, the new function uses `k1` for the whole array of.\r\n\r\nHowever, because this previous test is not documented, I'm not entirely sure about the H_POINT parts do and if I need them in my test somehow, or if the way I've written it is enough to verify the 999-of-999 and 1-of-1000 cases.",
      "created_at": "2023-08-04T10:23:10Z",
      "updated_at": "2023-08-04T10:23:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284252603",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 393,
      "original_line": 393,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877",
      "pull_request_review_id": 1562601959,
      "id": 1284253877,
      "node_id": "PRRC_kwDOABII585MjCi1",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284067105,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah you're right. I'll simplify the test to only do 1-of-1000.",
      "created_at": "2023-08-04T10:24:37Z",
      "updated_at": "2023-08-04T10:24:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284253877",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897",
      "pull_request_review_id": 1562712487,
      "id": 1284321897,
      "node_id": "PRRC_kwDOABII585MjTJp",
      "diff_hunk": "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "path": "test/functional/wallet_taproot.py",
      "position": null,
      "original_position": 28,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "aa2a1aa671a673751dfda01535bff59b7a984787",
      "in_reply_to_id": 1284067105,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would it make sense to test the other edge, 1-of-0? ",
      "created_at": "2023-08-04T11:44:21Z",
      "updated_at": "2023-08-04T11:44:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284321897",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 519,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284374826",
      "pull_request_review_id": 1562796266,
      "id": 1284374826,
      "node_id": "PRRC_kwDOABII585MjgEq",
      "diff_hunk": "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",",
      "path": "test/functional/wallet_taproot.py",
      "position": 37,
      "original_position": 37,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "in_reply_to_id": null,
      "user": {
        "login": "paplorinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paplorinc",
        "html_url": "https://github.com/paplorinc",
        "followers_url": "https://api.github.com/users/paplorinc/followers",
        "following_url": "https://api.github.com/users/paplorinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paplorinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paplorinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paplorinc/subscriptions",
        "organizations_url": "https://api.github.com/users/paplorinc/orgs",
        "repos_url": "https://api.github.com/users/paplorinc/repos",
        "events_url": "https://api.github.com/users/paplorinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paplorinc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Slightly unrelated: are there any tests that check multisig with different keys rather than repeating the same one, to make it more representative of a real-world scenario?\r\nI'm just getting familiar with the codebase, I'm not sure whether it's important or not.",
      "created_at": "2023-08-04T12:42:30Z",
      "updated_at": "2023-08-04T12:42:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284374826",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284374826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 396,
      "original_line": 396,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284383877",
      "pull_request_review_id": 1562811095,
      "id": 1284383877,
      "node_id": "PRRC_kwDOABII585MjiSF",
      "diff_hunk": "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",",
      "path": "test/functional/wallet_taproot.py",
      "position": 37,
      "original_position": 37,
      "commit_id": "274381e08447a5f8a35db8c07b03677e436cb43c",
      "original_commit_id": "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "in_reply_to_id": 1284374826,
      "user": {
        "login": "eriknylund",
        "id": 20860124,
        "node_id": "MDQ6VXNlcjIwODYwMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/20860124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eriknylund",
        "html_url": "https://github.com/eriknylund",
        "followers_url": "https://api.github.com/users/eriknylund/followers",
        "following_url": "https://api.github.com/users/eriknylund/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eriknylund/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eriknylund/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eriknylund/subscriptions",
        "organizations_url": "https://api.github.com/users/eriknylund/orgs",
        "repos_url": "https://api.github.com/users/eriknylund/repos",
        "events_url": "https://api.github.com/users/eriknylund/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eriknylund/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it's very related and also my concern, is this test as good as one with K different keys. I'm hoping @Sjors can provide some insight here. My understanding of the other tests in this file is limited because they are not documented, but they seem to be doing something similar to this. On the other hand I could of course do what the previous test did, to use the \"H_POINT\" approach and just throw one XPRV in there somewhere. If that makes the test more real-world like or improves the test in some other way I'm all for it.",
      "created_at": "2023-08-04T12:52:26Z",
      "updated_at": "2023-08-04T12:52:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284383877",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284383877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 396,
      "original_line": 396,
      "side": "RIGHT"
    }
  ]
}