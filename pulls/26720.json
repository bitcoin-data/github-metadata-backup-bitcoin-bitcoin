{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720",
    "id": 1169853353,
    "node_id": "PR_kwDOABII585Fuoup",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/26720",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/26720.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/26720.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/25ab14712b9d80276016f9fc9bff7fb9c1d09635",
    "number": 26720,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: coin selection, don't return results that exceed the max allowed weight",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Coming from the following comment https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1029324367.\r\n\r\nThe reason why we are adding hundreds of UTXO from different sources when the target\r\namount is covered only by one of them is because only SRD returns a usable result.\r\n\r\nContext:\r\nIn the test, we create 1515 UTXOs with 0.033 BTC each, and 1 UTXO with 50 BTC. Then\r\nperform Coin Selection to fund 49.5 BTC.\r\n\r\nAs the selection of the 1515 small UTXOs exceeds the max allowed tx size, the\r\nexpectation here is to receive a selection result that only contain the big UTXO.\r\nWhich is not happening for the following reason:\r\n\r\nKnapsack returns a result that exceeds the max allowed transaction size, when\r\nit should return the closest utxo above the target, so we fallback to SRD who\r\nselects coins randomly up until the target is met. So we end up with a selection\r\nresult with lot more coins than what is needed.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2022-12-18T14:02:43Z",
    "updated_at": "2024-05-26T12:52:58Z",
    "closed_at": "2023-04-20T20:33:57Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-04-20T20:33:57Z",
    "merge_commit_sha": "395b9328071f7764373605e12c47e08b87ffb4df",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "furszy:2022_coin_selection_weight",
      "ref": "2022_coin_selection_weight",
      "sha": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 402802,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-05-23T20:04:58Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-05-23T20:05:07Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "75d807ac9af0a6ce9aa9279930f4ff7348517bdb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35448,
        "stargazers_count": 76550,
        "watchers_count": 76550,
        "size": 259279,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-05-26T00:00:14Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-05-26T11:17:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 287,
    "deletions": 103,
    "changed_files": 6,
    "commits": 8,
    "review_comments": 47,
    "comments": 9
  },
  "events": [
    {
      "event": "commented",
      "id": 1356805855,
      "node_id": "IC_kwDOABII585Q3zbf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1356805855",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-18T14:02:45Z",
      "updated_at": "2023-04-20T20:25:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [S3RK](https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1499322028), [Xekyo](https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1375347359), [theStack](https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1375685000), [achow101](https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1516902528) |\n| Stale ACK | [aureleoules](https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1369769556) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26715](https://github.com/bitcoin/bitcoin/pull/26715) (Introduce `MockableDatabase` for wallet unit tests by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1356805855",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "labeled",
      "id": 8064016421,
      "node_id": "LE_lADOABII585ZhW3HzwAAAAHgpyAl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8064016421",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-18T14:02:48Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8064744311,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHgsjt3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8064744311",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-18T23:39:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8064749902,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHgslFO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8064749902",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-18T23:44:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8064793473,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHgsvuB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8064793473",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T00:11:25Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T11:06:33Z",
      "updated_at": "2022-12-19T11:06:33Z",
      "source": {
        "issue": {
          "id": 1484730364,
          "node_id": "PR_kwDOABII585Ey4qu",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26661",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26661/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26661/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26661/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26661",
          "number": 26661,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Coin Selection, return accurate error messages",
          "body": "Work decoupled from #25806, which cleanup and improves the Coin Selection flow further.\r\n\r\nAdding the capability to propagate specific error messages from the Coin Selection process to the user.\r\nInstead of always returning the general \"Insufficient funds\" message which is not always accurate to what happened internally.\r\nLetting us instruct the user how to proceed under certain circumstances.\r\n\r\nThe following error messages were added:\r\n\r\n1) If the selection result exceeds the maximum transaction weight,\r\n   we now will return: \r\n-> \"The inputs size exceeds the maximum weight. Please try sending\r\na smaller amount or manually consolidating your wallet's UTXOs\".\r\n\r\n2) If the user pre-selected inputs and disallowed the automatic coin\r\n   selection process (no other inputs are allowed), we now will\r\n   return: \r\n-> \"The preselected coins total amount does not cover the transaction\r\ntarget. Please allow other inputs to be automatically selected or include\r\nmore coins manually\".\r\n\r\n3) The double-counted preset inputs during Coin Selection error will now\r\nthrow an \"internal bug detected\" message instead of crashing the node.\r\n\r\nThe essence of this work comes from several comments:\r\n1. https://github.com/bitcoin/bitcoin/pull/26560#discussion_r1037395665\r\n2. https://github.com/bitcoin/bitcoin/pull/25729#discussion_r940619491\r\n3. https://github.com/bitcoin/bitcoin/pull/25269#pullrequestreview-1135240825\r\n4. https://github.com/bitcoin/bitcoin/issues/23144 (which is connected to #24845)",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26661",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26661",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26661.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26661.patch"
          },
          "closed_at": "2023-01-03T23:54:02Z",
          "created_at": "2022-12-08T14:13:27Z",
          "updated_at": "2024-05-26T12:52:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T13:35:55Z",
      "updated_at": "2022-12-19T13:35:55Z",
      "source": {
        "issue": {
          "id": 1360022253,
          "node_id": "PR_kwDOABII584-ReYy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25982/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25982/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25982/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25982",
          "number": 25982,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Guard against undefined behaviour",
          "body": "This PR adds a few safe guards against undefined or nonsense values.  A `selection_target` of negative or 0 value is undefined and same with `cost_of_change`.  It's safer to prevent undefined values from being evaluated later on in the function body which may result in unexpected behavior.  An exception is raised similar to [here](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.cpp#L76) when values are undefined.",
          "user": {
            "login": "yancyribbens",
            "id": 817736,
            "node_id": "MDQ6VXNlcjgxNzczNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yancyribbens",
            "html_url": "https://github.com/yancyribbens",
            "followers_url": "https://api.github.com/users/yancyribbens/followers",
            "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
            "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
            "repos_url": "https://api.github.com/users/yancyribbens/repos",
            "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25982",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25982.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25982.patch"
          },
          "closed_at": "2023-04-25T16:25:35Z",
          "created_at": "2022-09-02T10:46:22Z",
          "updated_at": "2024-04-24T12:44:23Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-19T16:11:18Z",
      "updated_at": "2022-12-19T16:11:18Z",
      "source": {
        "issue": {
          "id": 1048473150,
          "node_id": "PR_kwDOABII584uR1eW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23475",
          "number": 23475,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: add config to prioritize a solution that doesn't create change in coin selection ",
          "body": "Based on #22009, Bitcoin Core execute all the coin selection algorithms and decide what solution will be used based on the waste metric. However, some users may prefer a solution that doesn't create change (privacy reason). This PR adds a config option to prioritize the BnB solution in `send` and `fundrawtransaction`.  ",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23475",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23475",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23475.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23475.patch"
          },
          "closed_at": "2023-03-23T20:27:31Z",
          "created_at": "2021-11-09T11:06:02Z",
          "updated_at": "2024-03-22T12:39:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-25T00:28:34Z",
      "updated_at": "2022-12-25T00:28:34Z",
      "source": {
        "issue": {
          "id": 1332409874,
          "node_id": "PR_kwDOABII584817t0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25806",
          "number": 25806,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: group outputs only once, decouple it from Coin Selection",
          "body": "The idea originates from https://github.com/bitcoin/bitcoin/pull/24845#issuecomment-1130310321.\r\n\r\nNote:\r\nFor clarity, it's recommended to start reviewing from the end result to understand the structure of the flow.\r\n\r\n#### GroupOutputs function rationale:\r\nIf \"Avoid Partial Spends\" is enabled, the function gathers outputs with the same script together inside a container. So Coin Selection can treats them as if them were just one possible input and either select them all or not select them. \r\n\r\n#### How the Inputs Fetch + Selection process roughly works:\r\n\r\n```\r\n1. Fetch userâ€™s manually selected inputs.\r\n2. Fetch wallet available coins (walks through the entire wallet txes map) and insert them into a set of vectors (each vector store outputs from a single type).\r\n3. Coin Selection Process:\r\n   Call `AttemptSelection` 8 times. Each of them expands the coin eligibility filter (accepting a larger subset of coins in the calculation) until it founds a solutions or completely fails if no solutions gets founds after the 8 rounds.\r\n\r\n   Each `AttemptSelection` call performs the following actions:\r\n     - For each output type supported by the wallet (P2SH, P2PK, P2WPKH, P2WSH and a combination of all of them):\r\n       Call â€˜ChooseSelectionResultâ€™ providing the respective, filtered by type, coins vector. Which:\r\n           I. Groups the outputs vector twice (one for positive only and a second one who includes the negative ones as well).\r\n              - GroupOutputs walks-through the entire inputted coins vector one time at least, + more if we are avoiding partial spends, to generate a vector of OutputGroups.\r\n           II. Then performs every coin selection algorithm using the recently created vector of OutputGroup: (1) BnB, (2) knapsack and (3) SRD.\r\n           III. Then returns the best solution out of them.\r\n```\r\n\r\nWe perform the general operation of gathering outputs, with the same script, into a single container inside:\r\nEach coins selection attempt (8 times â€”> each coin eligibility filter), for each of the outputs vector who were filtered by type (plus another one joining all the outputs as well if needed), twice (one for the positive only outputs effective value and a second one for all of them).\r\n\r\nSo, in the worst case scenario where no solution is found after the 8 Coin Selection attempts, the `GroupOutputs` function is called 80 times (8 * 5 * 2).\r\n\r\n#### Improvements:\r\n\r\nThis proposal streamlines the process so that the output groups, filtered by coin eligibility and type, are created in a single loop outside of the Coin Selection Process. \r\n\r\nThe new process is as follows:\r\n\r\n```\r\n1. Fetch userâ€™s manually selected inputs.\r\n2. Fetch wallet available coins.\r\n3. Group outputs by each coin eligibility filter and each different output type found.\r\n4. Coin Selection Process: \r\n   Call AttemptSelection 8 times. Each of them expands the coin eligibility filter (accepting different output groups) until it founds a solutions or completely fails if no solutions gets founds after the 8 rounds.\r\n   \r\n   Each â€˜AttemptSelectionâ€™ call performs the following actions:\r\n      - For each output type supported by the wallet (P2SH, P2PK, P2WPKH, P2WSH and all of them):\r\n          A. Call â€˜ChooseSelectionResultâ€™ providing the respective, filtered by type, output group. Which:\r\n             I. Performs every coin selection algorithm using the provided vector of OutputGroup: (1) BnB, (2) knapsack and (3) SRD.\r\n             II. Then returns the best solution out of them.\r\n```\r\n\r\nExtra Note:\r\nThe next steps after this PR will be to:\r\n1) Merge `AvailableCoins` and `GroupOutputs` processes.\r\n2) Skip entire coin selection rounds if no new coins are added into the subsequent round.\r\n3) Remove global feerates from the OutputGroup class.\r\n4) Remove secondary \"grouped\" tx creation from `CreateTransactionInternal` by running Coin Selection results over the aps grouped outputs vs non-aps ones.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25806",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25806",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25806.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25806.patch"
          },
          "closed_at": "2023-03-06T23:52:42Z",
          "created_at": "2022-08-08T21:19:07Z",
          "updated_at": "2024-05-26T12:53:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 8146981936,
      "node_id": "LE_lADOABII585ZhW3HzwAAAAHlmRQw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8146981936",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T00:26:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8151337518,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHl24ou",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8151337518",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T13:49:38Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8151666576,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHl4I-Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8151666576",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T14:27:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8151681375,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHl4Mlf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8151681375",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T14:28:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8151849882,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHl41ua",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8151849882",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T14:47:30Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8151886431,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHl4-pf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8151886431",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T14:51:45Z"
    },
    {
      "event": "unlabeled",
      "id": 8152115399,
      "node_id": "UNLE_lADOABII585ZhW3HzwAAAAHl52jH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8152115399",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-04T15:16:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T10:24:41Z",
      "updated_at": "2023-01-11T10:24:41Z",
      "source": {
        "issue": {
          "id": 1238159102,
          "node_id": "PR_kwDOABII58437rQt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25152",
          "number": 25152,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Split util/system into exception, shell, and fs-specific files",
          "body": "This is an attempt to significantly improve code organization while making changes as simple as possible to review.\r\n\r\nHere I split four files out of `util/system`:\r\n* `util/exception`, holding `PrintExceptionContinue`\r\n* `util/shell`, holding `ShellEscape`, `runCommand`\r\n* `util/fs`, holding various file, folder, and path-specific functions (building on `fs.h` and `filesystem`)\r\n* `util/args`, holding `ArgsManager` and related functions\r\n\r\nThe goal was to minimize review burden, so I made an effort to minimize the diffs and only modify the code when it was easy to confirm that the change would not have negative consequences.\r\n\r\nThat said, sourcing all of the windows-related headers was not straightforward, so I expect I'll need to touch this up to correct any issues there.",
          "user": {
            "login": "Empact",
            "id": 5470,
            "node_id": "MDQ6VXNlcjU0NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Empact",
            "html_url": "https://github.com/Empact",
            "followers_url": "https://api.github.com/users/Empact/followers",
            "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
            "organizations_url": "https://api.github.com/users/Empact/orgs",
            "repos_url": "https://api.github.com/users/Empact/repos",
            "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Empact/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25152",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25152",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25152.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25152.patch"
          },
          "closed_at": "2023-03-14T11:37:18Z",
          "created_at": "2022-05-17T06:52:25Z",
          "updated_at": "2024-03-13T12:38:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1244644716,
      "node_id": "PRR_kwDOABII585KL8Vs",
      "url": null,
      "actor": null,
      "commit_id": "4c249f83f436dac93a78e61495bc523e6ba3685e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1244644716",
      "submitted_at": "2023-01-11T22:10:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8222658230,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHqG862",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8222658230",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-13T16:47:28Z"
    },
    {
      "event": "reviewed",
      "id": 1248239807,
      "node_id": "PRR_kwDOABII585KZqC_",
      "url": null,
      "actor": null,
      "commit_id": "962b7d800a3da461be450551ef96b53d870ac925",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1248239807",
      "submitted_at": "2023-01-13T18:29:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8224633714,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHqOfNy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8224633714",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-13T21:37:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8317690766,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAHvxeOO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8317690766",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T01:53:09Z"
    },
    {
      "event": "commented",
      "id": 1397832543,
      "node_id": "IC_kwDOABII585TUTtf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1397832543",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T01:58:06Z",
      "updated_at": "2023-01-20T01:58:06Z",
      "author_association": "MEMBER",
      "body": "Updated with two points:\r\n\r\n1) Added coverage for bnb max weight exceeded https://github.com/bitcoin/bitcoin/pull/26720/commits/41fb2c4dd8a15dc0c59ca4d5d0befab707ca8954.\r\n\r\n2) Cleaned further the coin selection test f0add1d (noticed by @aureleoules inside [#25806](https://github.com/bitcoin/bitcoin/pull/25806#discussion_r1081460601))",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1397832543",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "mentioned",
      "id": 8317709879,
      "node_id": "MEE_lADOABII585ZhW3HzwAAAAHvxi43",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8317709879",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T01:58:06Z"
    },
    {
      "event": "subscribed",
      "id": 8317709884,
      "node_id": "SE_lADOABII585ZhW3HzwAAAAHvxi48",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8317709884",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T01:58:06Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T04:32:29Z",
      "updated_at": "2023-01-20T04:32:29Z",
      "source": {
        "issue": {
          "id": 1532409473,
          "node_id": "PR_kwDOABII585HVfFs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26889",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26889/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26889/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26889/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26889",
          "number": 26889,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: wallet, remove global 'ArgsManager' dependency",
          "body": "Structurally, the wallet class shouldn't access the global `ArgsManager` class, its internal behavior shouldn't be coupled to a global command line args parsing object.\r\n\r\nSo this PR migrates the only two places where we depend on it: (1) the keypool size, and (2) the \"-walletnotify\" script. And cleans up the, now unneeded, wallet `ArgsManager` ref member.\r\n\r\nExtra note:\r\nIn the process of removing the args ref member, discovered and fixed files that were invalidly depending on the wallet header including `util/system.h`.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26889",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26889",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26889.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26889.patch"
          },
          "closed_at": "2023-02-17T17:48:08Z",
          "created_at": "2023-01-13T14:45:27Z",
          "updated_at": "2024-04-30T12:45:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T05:25:25Z",
      "updated_at": "2023-01-20T05:25:25Z",
      "source": {
        "issue": {
          "id": 1500679579,
          "node_id": "PR_kwDOABII585Fqm2I",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26715",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26715/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26715/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26715/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26715",
          "number": 26715,
          "state": "closed",
          "state_reason": null,
          "title": "Introduce `MockableDatabase` for wallet unit tests",
          "body": "For the wallet's unit tests, we currently use either `DummyDatabase` or memory-only versions of either BDB or SQLite. The tests that use `DummyDatabase` just need a `WalletDatabase` so that the `CWallet` can be constructed, while the tests using the memory-only databases just need a backing data store. There is also a `FailDatabase` that is similar to `DummyDatabase` except it fails be default or can have a configured return value. Having all of these different database types can make it difficult to write tests, particularly tests that work when either BDB or SQLite is disabled.\r\n\r\nThis PR unifies all of these different unit test database classes into a single `MockableDatabase`. Like `DummyDatabase`, most functions do nothing and just return true. Like `FailDatabase`, the return value of some functions can be configured on the fly to test various failure cases. Like the memory-only databases, records can actually be written to the `MockableDatabase` and be retrieved later, but all of this is still held in memory. Using `MockableDatabase` completely removes the need for having BDB or SQLite backed wallets in the unit tests for the tests that are not actually testing specific database behaviors.\r\n\r\nBecause `MockableDatabase`s can be created by each unit test, we can also control what records are stored in the database. Records can be added and removed externally from the typical database modification functions. This will give us greater ability to test failure conditions, particularly those involving corrupted records.\r\n\r\nPossible alternative to #26644",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26715",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26715",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26715.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26715.patch"
          },
          "closed_at": "2023-05-15T10:39:57Z",
          "created_at": "2022-12-16T18:28:23Z",
          "updated_at": "2024-05-15T12:50:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1294015946,
      "node_id": "PRR_kwDOABII585NIR3K",
      "url": null,
      "actor": null,
      "commit_id": "f0add1d0a7507e5601d7da54f62fe9ab272b3281",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "crACK w/ nits f0add1d0a7507e5601d7da54f62fe9ab272b3281",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1294015946",
      "submitted_at": "2023-02-10T22:15:51Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8496467878,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAH6bc-m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8496467878",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T13:07:12Z"
    },
    {
      "event": "commented",
      "id": 1426764558,
      "node_id": "IC_kwDOABII585VCrMO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1426764558",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T13:10:30Z",
      "updated_at": "2023-02-11T13:10:30Z",
      "author_association": "MEMBER",
      "body": "Feedback tackled, thanks for the review Xekyo!\r\nPushed [diff](https://github.com/bitcoin/bitcoin/compare/f0add1d0a7507e5601d7da54f62fe9ab272b3281..7d5a02ecb2af934ea0fa76c9013b2a2fc968b726).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1426764558",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "reviewed",
      "id": 1296272642,
      "node_id": "PRR_kwDOABII585NQ40C",
      "url": null,
      "actor": null,
      "commit_id": "7d5a02ecb2af934ea0fa76c9013b2a2fc968b726",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "reACK 7d5a02ecb2af934ea0fa76c9013b2a2fc968b726",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1296272642",
      "submitted_at": "2023-02-13T19:03:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "labeled",
      "id": 8550166223,
      "node_id": "LE_lADOABII585ZhW3HzwAAAAH9oS7P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550166223",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T19:12:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8562000729,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAH-VcNZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8562000729",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T13:54:17Z"
    },
    {
      "event": "unlabeled",
      "id": 8562097349,
      "node_id": "UNLE_lADOABII585ZhW3HzwAAAAH-VzzF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8562097349",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T14:04:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 8680396492,
      "node_id": "LE_lADOABII585ZhW3HzwAAAAIFZFbM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8680396492",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T00:57:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEyODQyMjM2OTExMjdlNzYxMzVhNDZkMjUxYzUyNDE2MTA0ZjBmZjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1284223691127e76135a46d251c52416104f0ff1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1284223691127e76135a46d251c52416104f0ff1",
      "tree": {
        "sha": "fc27b5e98573a1ac564ab96a4080dbaad916e3ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc27b5e98573a1ac564ab96a4080dbaad916e3ab"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fc27b5e98573a1ac564ab96a4080dbaad916e3ab\nparent 86bacd75e76eff207ef8f7bdb897365f5b6e7b6b\nauthor furszy <matiasfurszyfer@protonmail.com> 1672838573 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1678190517 -0300\n\nwallet: refactor coin selection algos to return util::Result\n\nso the selection processes can retrieve different errors and not\nuninformative std::nullopt\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQHJ7UACgkQXdI8zGhq\npiMUFg/9G/mDt6RQrkMMfnChP6p515vASPVEJpOJ2hKHr/VB50MrZPosiS4AGMIa\nlTeJ9X1/M+I7bM1Xs7UA5otNzJbAl2/7fBCZFavjYrjxzKdw4vnykbhjsj2CRIba\n3ydzeqlmyNZ++SyV9NtI6l7nd8qGjZ124541TWDtD/GwweEOvC3hc4oIs+BIF4B/\nM2LIUvFhWaMDH65wskA616zQmgMKXEMzIbGAz2omhAGOr6lIq2tqTewBoFzJwbXX\noVhUXgsV6am1l0bbZBJsHvW/L6xPlPKGIDJ7+JN8XVQhHvLxG/ZFWWk9L66O1+8I\n+ppIkc4Hf3U1eO/w3iwChRppfay81baxdeSR92OMVNKwh+hIvbR7EmXIaf9xegll\nztFPiEZN+0JdQKM+3FjX6Xhf+69VPn+1ziHg8+L2gW+Sk/63puQM8cRh/Tb5dMcM\n2kLNQtpuRlHPeopmk0k7dA0alNLn1BPpNbAhYsQ5+w+wWGlG50Sb3bwC2IRIlSY2\nxMZ91R1VvBSAFkdBwrkqk3Kf6lSH5rjjhUz5Bzz4K4rGzo69m5IhMcKabRCSnrxh\nEJXJsxjaFBrNIKuDjTBJnvgR51L91xcByV61mx5maC4yr4hmrYpyx2LQqgdBuLGy\n1GGcrw2Ng7OmKz4lnPxCoDCguaqgA8+rd4FTx4vc2Ij41BN6Qpo=\n=zjGT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/86bacd75e76eff207ef8f7bdb897365f5b6e7b6b",
          "sha": "86bacd75e76eff207ef8f7bdb897365f5b6e7b6b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/86bacd75e76eff207ef8f7bdb897365f5b6e7b6b"
        }
      ],
      "message": "wallet: refactor coin selection algos to return util::Result\n\nso the selection processes can retrieve different errors and not\nuninformative std::nullopt",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-03-07T12:01:57Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-01-04T13:22:53Z"
      },
      "sha": "1284223691127e76135a46d251c52416104f0ff1"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8685378521,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAIFsFvZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8685378521",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T12:50:49Z"
    },
    {
      "event": "commented",
      "id": 1458118175,
      "node_id": "IC_kwDOABII585W6R4f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1458118175",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T12:51:18Z",
      "updated_at": "2023-03-07T12:51:18Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1458118175",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "unlabeled",
      "id": 8685974064,
      "node_id": "UNLE_lADOABII585ZhW3HzwAAAAIFuXIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8685974064",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T13:42:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-08T13:55:47Z",
      "updated_at": "2023-03-08T13:55:47Z",
      "source": {
        "issue": {
          "id": 780870946,
          "node_id": "MDU6SXNzdWU3ODA4NzA5NDY=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20870",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20870/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20870/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20870/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/20870",
          "number": 20870,
          "state": "open",
          "state_reason": null,
          "title": "Option to ignore small inputs when internal wallet is building TXes?",
          "body": "This is mainly to aid in not sending TXes with a ton of fees due to using a lot of tiny inputs, an option in the config file to tell it to ignore inputs with a value less than X when doing coin selection would be useful.\r\n\r\nThen you can do consolidation with manually built TXes or coin control whenever you want specifying lower fees, etc. for them.\r\n",
          "user": {
            "login": "Crypto2",
            "id": 7625236,
            "node_id": "MDQ6VXNlcjc2MjUyMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7625236?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Crypto2",
            "html_url": "https://github.com/Crypto2",
            "followers_url": "https://api.github.com/users/Crypto2/followers",
            "following_url": "https://api.github.com/users/Crypto2/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Crypto2/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Crypto2/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Crypto2/subscriptions",
            "organizations_url": "https://api.github.com/users/Crypto2/orgs",
            "repos_url": "https://api.github.com/users/Crypto2/repos",
            "events_url": "https://api.github.com/users/Crypto2/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Crypto2/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 8,
          "created_at": "2021-01-06T21:57:06Z",
          "updated_at": "2023-03-10T20:32:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1369769556,
      "node_id": "PRR_kwDOABII585RpQZU",
      "url": null,
      "actor": null,
      "commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 1284223691127e76135a46d251c52416104f0ff1 - I verified the tests are correct and the code looks good to me.\r\n\r\nSidenote, It seems this chunk of code is unused.\r\n<details>\r\n<summary>Unused code</summary>\r\n\r\n```diff\r\ndiff --git a/src/wallet/coinselection.cpp b/src/wallet/coinselection.cpp\r\nindex 92d33bd38..26405d63a 100644\r\n--- a/src/wallet/coinselection.cpp\r\n+++ b/src/wallet/coinselection.cpp\r\n@@ -448,13 +448,6 @@ void OutputGroupTypeMap::Push(const OutputGroup& group, OutputType type, bool in\r\n     }\r\n }\r\n \r\n-std::optional<Groups> OutputGroupTypeMap::Find(OutputType type)\r\n-{\r\n-    auto it_by_type = groups_by_type.find(type);\r\n-    if (it_by_type == groups_by_type.end()) return std::nullopt;\r\n-    return it_by_type->second;\r\n-}\r\n-\r\n CAmount GetSelectionWaste(const std::set<std::shared_ptr<COutput>>& inputs, CAmount change_cost, CAmount target, bool use_effective_value)\r\n {\r\n     // This function should not be called with empty inputs as that would mean the selection failed\r\n```\r\n\r\n</details>",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1369769556",
      "submitted_at": "2023-04-03T21:32:36Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "commented",
      "id": 1495056232,
      "node_id": "IC_kwDOABII585ZHL9o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1495056232",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-03T22:14:54Z",
      "updated_at": "2023-04-03T22:14:54Z",
      "author_association": "MEMBER",
      "body": "Thanks aureleoules for the feedback.\r\n\r\n> Sidenote, It seems this chunk of code is unused.\r\n\r\nThat chunk of code is not in master, #27227 already cleaned it.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1495056232",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "commented",
      "id": 1495134375,
      "node_id": "IC_kwDOABII585ZHfCn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1495134375",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-03T23:47:15Z",
      "updated_at": "2023-04-03T23:47:15Z",
      "author_association": "MEMBER",
      "body": "> That chunk of code is not in master, https://github.com/bitcoin/bitcoin/pull/27227 already cleaned it.\r\n\r\nAh great, I'm not up-to-date with all the recently merged PRs, it's been a while since I reviewed any!",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1495134375",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "reviewed",
      "id": 1369922559,
      "node_id": "PRR_kwDOABII585Rp1v_",
      "url": null,
      "actor": null,
      "commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nChanges look good at a first glance :ok_hand:, will do a second round tomorrow.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1369922559",
      "submitted_at": "2023-04-04T00:04:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "reviewed",
      "id": 1370369681,
      "node_id": "PRR_kwDOABII585Rri6R",
      "url": null,
      "actor": null,
      "commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1370369681",
      "submitted_at": "2023-04-04T07:31:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8927490844,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAIUHrMc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8927490844",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-04T18:21:27Z"
    },
    {
      "event": "commented",
      "id": 1496413288,
      "node_id": "IC_kwDOABII585ZMXRo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1496413288",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-04T18:26:15Z",
      "updated_at": "2023-04-04T18:38:26Z",
      "author_association": "MEMBER",
      "body": "Thanks all for the feedback :). [Update Diff](https://github.com/bitcoin/bitcoin/compare/ba7970c793f3e8ddb54a02256e7ae52e88e47f08..488dbeab56b2cd62e381883e5fe347b446ae7d2c):\r\n\r\n* Renamed `max_weight` to `max_inputs_weight`.\r\n* Deduced change output weight from the max allowed weight for Knapsack and SRD (not from BnB as it's specialized to not create change).\r\n* Adapted doxygen comment to current sources.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1496413288",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8929920017,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAIUQ8QR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8929920017",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-05T00:40:49Z"
    },
    {
      "event": "reviewed",
      "id": 1372245210,
      "node_id": "PRR_kwDOABII585Rysza",
      "url": null,
      "actor": null,
      "commit_id": "2a475c420ed196408ea036f41c28cf96e586e3ec",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Almost Code Review ACK 2a475c4\r\nmodulo one comment",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1372245210",
      "submitted_at": "2023-04-05T07:01:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "review_requested",
      "id": 8931671381,
      "node_id": "RRE_lADOABII585ZhW3HzwAAAAIUXn1V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8931671381",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-05T07:01:38Z",
      "requested_reviewer": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8931671402,
      "node_id": "RRE_lADOABII585ZhW3HzwAAAAIUXn1q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8931671402",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-05T07:01:38Z",
      "requested_reviewer": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxMDdlYzIyMjljNWY1YjRlOTQ0YTZiMTBkMzgwMTBjODUwMDk0YWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6107ec2229c5f5b4e944a6b10d38010c850094ac",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6107ec2229c5f5b4e944a6b10d38010c850094ac",
      "tree": {
        "sha": "2871cf2354d648487253ddab816da55e529dd8ac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2871cf2354d648487253ddab816da55e529dd8ac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2871cf2354d648487253ddab816da55e529dd8ac\nparent 1284223691127e76135a46d251c52416104f0ff1\nauthor furszy <matiasfurszyfer@protonmail.com> 1671370139 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\ncoin selection: knapsack, select closest UTXO above target if result exceeds max tx size\n\nThe simplest scenario where this is useful is on the 'check_max_weight' unit test\nalready:\n\nWe create 1515 UTXOs with 0.033 BTC each, and 1 UTXO with 50 BTC. Then perform\nCoin Selection.\n\nAs the selection of the 1515 small UTXOs exceeds the max allowed tx size, the\nexpectation here is to receive a selection result that only contain the big\nUTXO (which is not happening for the reasons stated below).\n\nAs knapsack returns a result that exceeds the max allowed transaction size, we\nfallback to SRD, which selects coins randomly up until the target is met. So\nwe end up with a selection result with lot more coins than what is needed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiNy1w//VVxzUxl91phUOsd7Rnne8ecURXtu+CwllZ1My/QZPtYbTQ5pMZuqK7VV\n5yjScHe9PXtDWUYqRUN+4ZecfIylD8t/ksYXTqwiXz/M3+yOjdfCaO2688r8RhdS\nPrOZXn3f/uImcme36wPUXXxwOzsrwAw7OdUneYjQIag9Or1pk82DXihpaXinDCFl\nVH3SsnnIJZ/I1nnuroEvOEG3sDpGlg37lu9sy8oeu2CkxDd0g2cBrLU3UoISqQXj\nr1wDUpWA1IfjciaMtt5C7fvGPKqeqgFIMWpxyM9h38jCYb5y78dZzL8cPrkcYy8V\nq9Vwg9lSY66xsq5Gzja1g1jXt8lMkW97RVgizkzZ9J+V7j7QR3VrTvRJVU3XQpTH\nqUPU0l1WWeFQus2zXewAMLoxDYhQpbrDTjifZ7iRGK/jpw/+dk3YnT2c8w6qln33\nF7TKD9Ziup+TAb77Caz+vSRQD+GGObfnAYijZqycASEeB2zIjXBnvQn9qyGqCi9J\nxw8gUKjXY1E8GsUWzM1gT/uoCzuziIGOk49OVyT25tTb68jkdzUWEW1zf47PdaAE\n8K+wJeLIg++ERKrbL1BOnooFeDmgJe1LYZeh4LCPr31CiX/cBMpg/HlS8lqdrNdL\nvmNBYYIV3c/6UTL5hmU8WjW4AsCXhQ54qMkEXG5erAr3KNl/m2g=\n=KJ7y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1284223691127e76135a46d251c52416104f0ff1",
          "sha": "1284223691127e76135a46d251c52416104f0ff1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1284223691127e76135a46d251c52416104f0ff1"
        }
      ],
      "message": "coin selection: knapsack, select closest UTXO above target if result exceeds max tx size\n\nThe simplest scenario where this is useful is on the 'check_max_weight' unit test\nalready:\n\nWe create 1515 UTXOs with 0.033 BTC each, and 1 UTXO with 50 BTC. Then perform\nCoin Selection.\n\nAs the selection of the 1515 small UTXOs exceeds the max allowed tx size, the\nexpectation here is to receive a selection result that only contain the big\nUTXO (which is not happening for the reasons stated below).\n\nAs knapsack returns a result that exceeds the max allowed transaction size, we\nfallback to SRD, which selects coins randomly up until the target is met. So\nwe end up with a selection result with lot more coins than what is needed.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-12-18T13:28:59Z"
      },
      "sha": "6107ec2229c5f5b4e944a6b10d38010c850094ac"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlkOTY4OWU1YTY1Nzk1NmRiOGEzMDgyOWM5OTQ2MDBlYzdkMzA5OGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d9689e5a657956db8a30829c994600ec7d3098b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9d9689e5a657956db8a30829c994600ec7d3098b",
      "tree": {
        "sha": "7b78dedc65fde36adbec7afdc78bbdf9101a1ddd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b78dedc65fde36adbec7afdc78bbdf9101a1ddd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b78dedc65fde36adbec7afdc78bbdf9101a1ddd\nparent 6107ec2229c5f5b4e944a6b10d38010c850094ac\nauthor furszy <matiasfurszyfer@protonmail.com> 1671370759 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\ncoin selection: heap-ify SRD, don't return selection if exceeds max tx weight\n\nUses a min-effective-value heap, so we can remove the least valuable input/s\nwhile the selected weight exceeds the maximum allowed weight.\n\nCo-authored-by: Murch <murch@murch.one>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiMj8w/9Em4/taYud6WSSWvVUMYwkTfIP4Wo5OR/260V9zK4mTrFdpbq6cQkVG4L\nxzbT8LiaTfpJBKAjEAg/GKUvcoJKGITdm62p6t9rhnxhZH3g2SN2HgImzxs5qfau\nO/kAONhSVk0WAjTRbL2RCwII/ByScKGxWK59HM2Uk81PREgUcBSfpiDqmAfJQe8y\n7sA5sNN43BXWEYODGrElwJQxiE+9Cn3Aytxqso7W2DXyXHbwwh8CXWd6ZlR6cIb/\nrRC5ge7TBMhVgJ8rwI1tKUnpPfZVwFix9VhQOiBS80wo4OgaENcpCegnHDxg4ANM\n3owy+dWoY85K+cNUo8xundfxj21rzjI8lkgBjT1SO3TXfVLngAhwH5tRVns0BcPm\nr9WzTiJZzMeAY8TvUvk8BO0ib6N+vLbztqC1HcuX82PrB9JM0lCbgG91WOcO19KE\ngXRdP3DY72H8NVzPGJwQ/d86RFUW7QeAhfBjUd4xRn/FVTJffonvHOC7rN8PKJsr\nqITuXW6+7zaRpRAf/O7/vFLU3RjZH8qIxm/Qcl0mrlgkDG/MXoHPnsRhDaBXOOvm\nXgqIS2YXHS25+yWEIxS4zWMqiIQwmIDC7rR667n/HvGhtAOHCKtUgbHsbilGnPPO\na/d2zZ/D5uqnQaHTVAsHP8RN01/LizGpNrJVACypaJbK7JAnboM=\n=dFb8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6107ec2229c5f5b4e944a6b10d38010c850094ac",
          "sha": "6107ec2229c5f5b4e944a6b10d38010c850094ac",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6107ec2229c5f5b4e944a6b10d38010c850094ac"
        }
      ],
      "message": "coin selection: heap-ify SRD, don't return selection if exceeds max tx weight\n\nUses a min-effective-value heap, so we can remove the least valuable input/s\nwhile the selected weight exceeds the maximum allowed weight.\n\nCo-authored-by: Murch <murch@murch.one>",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-12-18T13:39:19Z"
      },
      "sha": "9d9689e5a657956db8a30829c994600ec7d3098b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQzYTFjMDk4ZTRiNWRmMmViYmFlMjBjNmUzOTBjM2Q3ODM5NTBlOTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3a1c098e4b5df2ebbae20c6e390c3d783950e93",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d3a1c098e4b5df2ebbae20c6e390c3d783950e93",
      "tree": {
        "sha": "0592ad898e88741ce14393f5682e55a01ede1643",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0592ad898e88741ce14393f5682e55a01ede1643"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0592ad898e88741ce14393f5682e55a01ede1643\nparent 9d9689e5a657956db8a30829c994600ec7d3098b\nauthor furszy <matiasfurszyfer@protonmail.com> 1673627018 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\ntest: coin selection, add coverage for SRD\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiMLgBAAqie5wr7+nuKQsUwW/sHxcXPnzOPKyWi4BNrbZxLZlWWFR1JXkVTTswjE\nrKIltiqaSC27C4Upl9M51tZ6QZjATzgug1dxedxjXuSwDVD+Z8HR8qxdX2X/KZGF\nWnvdspzudPxnhXXqdV9Ms1bWjxnczUAVkvVqPHLH0O1AgbR1MdiWtLHYN2irgvcT\nicasn0694no3dzEh59Cas1a+TRXo87oYHBWLr6D/edNd4PM+lPlPg6B/uG17OT4r\nBzzXxdwSyuKmc2LkjYjIfiGCGH9xEgm+PckyeBMD8ej9PyPKbf6xRfhMFlAig0Ea\nK8kwEo8+Pfj9xYQ9UZHNvRij0WrnNJxDXWdEyxvBcF7I8+MfzkxIHAZFcDPXTR9j\nNVDO0pv8JIN2CpEEQ/RW/iIKPkHiOJ1NbdbyCxSWbtpt8ntzOiH4AiWLcYqX3zgO\nQE5OfQCXuo9juu9Gq4/S2RQV9E/4vONi85kNB//Q35Rv3NrhoI4T5BGYqXIzR6xr\nI53fRo19GW+psYuuafWSGy2AXDIHDUqUsZCPlPiaZof90cX5bcE2FXcLgEyFZm8b\nLVYAv1MgoRBi0U9NjLg3+kdkrAuZjYNzECIew74RmmhcmUe01Ro2pK7iPccBppbg\nJB+1buh1tqDsHrqSsam0UhKDHIUJ1Atu82UYuFoh/m5CqBUCIQ0=\n=Hakw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d9689e5a657956db8a30829c994600ec7d3098b",
          "sha": "9d9689e5a657956db8a30829c994600ec7d3098b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9d9689e5a657956db8a30829c994600ec7d3098b"
        }
      ],
      "message": "test: coin selection, add coverage for SRD",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-01-13T16:23:38Z"
      },
      "sha": "d3a1c098e4b5df2ebbae20c6e390c3d783950e93"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkMTEyNTg0ZTM4NGRlMTAwMjFjNjRlNDcwMDQ1NWQ3MTMyNjgyNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d112584e384de10021c64e4700455d71326824e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2d112584e384de10021c64e4700455d71326824e",
      "tree": {
        "sha": "f12d9e4d23c041223b7df4fae9f91194184613fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f12d9e4d23c041223b7df4fae9f91194184613fb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f12d9e4d23c041223b7df4fae9f91194184613fb\nparent d3a1c098e4b5df2ebbae20c6e390c3d783950e93\nauthor furszy <matiasfurszyfer@protonmail.com> 1671405379 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\ncoin selection: BnB, don't return selection if exceeds max allowed tx weight\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiO60BAAjh2O35aGrUjmDdicAq6H0xIZ0Zm9xEXtVhP6YT1jYUyrsKcBmH2RiQtY\nguyFojhXtOdSxc47haFBhxmp/PAPv4QeH+b8Dmvy2U9O0K5R8tSqvx5Bm8/1B4zA\nDyPavlmFXYyGXzGyxv3Wbd/NqKZxNvQuKStxtp7n/E8zRsMYLLHqO9BDyhZwEGly\nAEuwbuGKfcn5AW8pydFUWKp70u5FrJZZGZlGR7VLup94hJti9UlGIBpycqmT5/Eu\nX044Ko/fhhdx243bCVH+LkwkZFJv066El91JGgRmOKMi0Ziowf9qXfN+Jqzu9RAa\n3phplO8WYpLMdHwrMnEvVpJ+rbZjLKiAyRZuQLytJbuRRcFRSGmxpnG4hEgaCI5Q\nNPJdAoUjMUxvm2dErwHu6/DqptfsIWaXydt1/hMUrrPfGlzVNeDdTxPGqwU0Mo8Z\nU2iAkk8vkHz963eEkUSHxXO6Dxb6whZhc7A3mTVU7yC4opJmTYqvy7kyLNRQZBrS\nNCURANis0x0I8WKX0h1TmL6vPNUJVFgAfMlWepv+hnu1RKs7TDo2IjZMwWGw+BCq\n8LycpoFhVL2a+mQzoUAJMWlMG9IshwuDKzhEHM1kPdGVDGGmIM7y+MkGdbVI357N\nw6g088TSQvMRgciGfHCAGta2KJk8UxTYq5FysnWjm9JrOcNfBBk=\n=wv1o\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3a1c098e4b5df2ebbae20c6e390c3d783950e93",
          "sha": "d3a1c098e4b5df2ebbae20c6e390c3d783950e93",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d3a1c098e4b5df2ebbae20c6e390c3d783950e93"
        }
      ],
      "message": "coin selection: BnB, don't return selection if exceeds max allowed tx weight",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-12-18T23:16:19Z"
      },
      "sha": "2d112584e384de10021c64e4700455d71326824e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVhMmJjNDVlZTBiMTIzZTQ2MWM1MTkxMzIyZWQwYjQzNTI0YzNkODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5a2bc45ee0b123e461c5191322ed0b43524c3d82",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5a2bc45ee0b123e461c5191322ed0b43524c3d82",
      "tree": {
        "sha": "a0cbca043706b08c1f2bb5f82b62387092bf00a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a0cbca043706b08c1f2bb5f82b62387092bf00a9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a0cbca043706b08c1f2bb5f82b62387092bf00a9\nparent 2d112584e384de10021c64e4700455d71326824e\nauthor furszy <matiasfurszyfer@protonmail.com> 1671408607 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\nwallet: clean post coin selection max weight filter\n\nNow the coin selection algorithms contemplate the\nmaximum allowed weight internally and return\nstd::nullopt if their result exceeds it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiPx/BAAmX+7/lmQl+jU5M+bD24olCoIHXr7h1uBav5gnw6eGxiUgf0ZJmLwbTRx\njznO/65sepOdHRFFThWAksazDC1yQKUsWouzgUsyp6CCy4/wmVzWj8iWX404AghA\nRhPGLcXGLMbuyzJujd4OpxTRIPMtNG7lFAZheRMI1lbuwGMb7N6kKQtbZl8qgA21\ntMqDXJkpWPdbujyOTs9NbsLpFD+geg0Fo8Sxrdh4y/CH4Xxo7Qy7MDuPjMj5lpeo\nwNfWCrqxirePVF7DTpIKVN/KsL2xVQV8uBhN3962Fj5gxzenSmzsb8jOWjZp9EO7\nrn+BKYkN04Ue6APX5YKsy/kmJi+hm6AjpJz+hDGWoh15EXuKjXMTUAJQVOmadZnd\n0YufBJotyKPbtg/5F4l0ZLRKLeWvNpFrToeyC6hcz1DlOp6vGjzSlkWIdM8fLncx\nU/LpD2bsrwkiMUHQCiTUI69/mDPzSu6QUSmce9KsfOmyiN4k/2GLDFYLZN25Aa+9\np3t1WkHlFfEldQGWufGMNwSyOcRNVUmJSEzr20QhOiUPfxqlgjCFPT+jyggVhcry\n9QYPtIlq+/RoL+4/L+V6sjuhfuUkEuNAh8oFi7gjWf+hyHiW8ybScKaYm2YCImBG\nslOazFWwAx1OkPXBMZ7o6N3N/HN+qjZFtvzpaM8kkJk5RJHAyPE=\n=fP6L\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d112584e384de10021c64e4700455d71326824e",
          "sha": "2d112584e384de10021c64e4700455d71326824e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d112584e384de10021c64e4700455d71326824e"
        }
      ],
      "message": "wallet: clean post coin selection max weight filter\n\nNow the coin selection algorithms contemplate the\nmaximum allowed weight internally and return\nstd::nullopt if their result exceeds it.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-12-19T00:10:07Z"
      },
      "sha": "5a2bc45ee0b123e461c5191322ed0b43524c3d82"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJhOTQzMWM1MDVlMTU5MGRiNjEwM2I5NjMyMTM0OTg1Y2Q0NzA0ZGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba9431c505e1590db6103b9632134985cd4704dc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ba9431c505e1590db6103b9632134985cd4704dc",
      "tree": {
        "sha": "22765381e7d09e5bc41506dfc2d338a4e4111e6f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/22765381e7d09e5bc41506dfc2d338a4e4111e6f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 22765381e7d09e5bc41506dfc2d338a4e4111e6f\nparent 5a2bc45ee0b123e461c5191322ed0b43524c3d82\nauthor furszy <matiasfurszyfer@protonmail.com> 1674178068 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\ntest: coverage for bnb max weight\n\nBasic positive and negative scenarios\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiNdmA/+MRn1kJOJ6VrqXxWGfpGxC8TVMWqwWZPjVwm/zxO34WwC1NmjO0ND6RAr\nX5Tamn/B3eDkmvV2oHy8mA9jkOW3UQTnFdggBAbqJivcofc4ppLyFfQ6P4MxzPLb\nyuz6twA8tWyrXvU/JFtcOhaCCFFRxw+TjWupkZwp3IbLSATdIrjPkhLPhX0Y18k1\nlH90K7epEW7ZLegRRLutFo7NU/QqWNhQoaZQmQJiV9C6obGyI0x12rlvSNVfNph2\nJ7Gw7a8YEg7+dJ52MaVJ2chypwaikFl69QDKG3qyWv4qizFpYQ1DkW65bpdSaddv\nNueqevjgbHNmtNd+k2n2d3FXcUyH2llZUVGuVHRqSrGwqW9CYhf9PwTYVyuPmH1N\nbnYo/cPR2TDHyPN+ZvuyX2REy4RGCiyLYQnlx/lZj9pjwBYpUgkQvlGFAXuhkg0D\nj/+8Solt+zTGbCa7vfZAhoy87wNN3uBmY5NyaDbgb/0/DVN40ujAS/D6Rr2OEqA8\nr2VQBXMBZmpoWEs+TmvE38kmFm/MpkOIHxscfS/5YhDEgOpP3Jv2JcmrMWPfWBZV\nARY3vBX9gslhGNkbsQuIFE3a0HYLQTPPMzy/5riFBv3kkrEm4ANlXoNBn4RamaTB\nh9UUzEnPVHnh7705l0Z9U4M6X9LeeYrifg+X/BBq6/fLaPHuTR0=\n=rJHZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5a2bc45ee0b123e461c5191322ed0b43524c3d82",
          "sha": "5a2bc45ee0b123e461c5191322ed0b43524c3d82",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5a2bc45ee0b123e461c5191322ed0b43524c3d82"
        }
      ],
      "message": "test: coverage for bnb max weight\n\nBasic positive and negative scenarios",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-01-20T01:27:48Z"
      },
      "sha": "ba9431c505e1590db6103b9632134985cd4704dc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI1YWIxNDcxMmI5ZDgwMjc2MDE2ZjlmYzliZmY3ZmI5YzFkMDk2MzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "tree": {
        "sha": "7758171442379fbc08e6b65b8c63991eab3445ac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7758171442379fbc08e6b65b8c63991eab3445ac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7758171442379fbc08e6b65b8c63991eab3445ac\nparent ba9431c505e1590db6103b9632134985cd4704dc\nauthor furszy <matiasfurszyfer@protonmail.com> 1674179148 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1680697959 -0300\n\nrefactor: coinselector_tests, unify wallet creation code\n\nsame lines of code repeated across the entire file over and over.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmQtamcACgkQXdI8zGhq\npiPmTA//eUzgdDdAb1buRYtLKejVC2KGS1WRqgVvSwLQDurfl9gis05I2NEVVxn6\nDfGH/ErvReTI8VZwl4Zo0l3IxtG2drE7z9TYMzDIjUHbJ+JYErq3ImfY5b6KGosk\nYbEZr1Sj97ARaL/dtWy1K90ICC/1L+A20WReQ+Fyagp86HyFzgHZv2hp3FdqQIbD\nFWHnKVWob8lu+sFbQUlKVCi7am6rlORSVVpnYWh1ZExm+HxosK+jSKiqeRztsVJm\nNAzbdO/v1RsXzlmLkFCHnFC57XRQIQREz1iiYuFTpE77Bh2jT1Uknsxg8x0dvqiW\nFRKYbZPunn6qjtrMGaWp6tOqqtVoZtKoGnyRC6ipFIGbgpD7HIBwEgzVzIE1nmEm\n9GVwIRrm7XLFzJv5JUPF9vu78DwpHRsCEP/5ay7XxV3fkmbyw6XnHK8+0eo+B5Kg\n7Huhd3q0MgQIuX0NLpAWXxLGwvTCKYonb8x2KfQ/U2rA4e1XcO66oVKErfv5UPkX\nNORPRkEOHifRVvG0t0YgmF2ttaAtR3mgXFMBgCp91ZLWMR7YxSVkewCEb38zObRO\nhJqUYbgg+J5xaBKsCrAOPGHCY0V/CvpP2kz3OOinUYJnGMZteV5WGwRYSviEBKrY\ny/Kaca20z0zmGhDCbH29zjzeUg1Mme+fl4R/id/rDC1EatedNfs=\n=rmUM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba9431c505e1590db6103b9632134985cd4704dc",
          "sha": "ba9431c505e1590db6103b9632134985cd4704dc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ba9431c505e1590db6103b9632134985cd4704dc"
        }
      ],
      "message": "refactor: coinselector_tests, unify wallet creation code\n\nsame lines of code repeated across the entire file over and over.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-04-05T12:32:39Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-01-20T01:45:48Z"
      },
      "sha": "25ab14712b9d80276016f9fc9bff7fb9c1d09635"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8934652195,
      "node_id": "HRFPE_lADOABII585ZhW3HzwAAAAIUi_kj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8934652195",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-05T12:33:14Z"
    },
    {
      "event": "commented",
      "id": 1499322028,
      "node_id": "IC_kwDOABII585ZXdas",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499322028",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-06T16:23:24Z",
      "updated_at": "2023-04-06T16:23:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 25ab14712b9d80276016f9fc9bff7fb9c1d09635\r\n\r\nThe only change is my previous comment addressed about using correct variable to determine change output size.",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1499322028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "reviewed",
      "id": 1375347359,
      "node_id": "PRR_kwDOABII585R-iKf",
      "url": null,
      "actor": null,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "reACK 25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1375347359",
      "submitted_at": "2023-04-06T18:05:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "reviewed",
      "id": 1375685000,
      "node_id": "PRR_kwDOABII585R_0mI",
      "url": null,
      "actor": null,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code-review ACK 25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#pullrequestreview-1375685000",
      "submitted_at": "2023-04-06T23:36:14Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
    },
    {
      "event": "commented",
      "id": 1516902528,
      "node_id": "IC_kwDOABII585aahiA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516902528",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-20T20:25:29Z",
      "updated_at": "2023-04-20T20:25:29Z",
      "author_association": "MEMBER",
      "body": "ACK 25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#issuecomment-1516902528",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26720"
    },
    {
      "event": "merged",
      "id": 9061341036,
      "node_id": "ME_lADOABII585ZhW3HzwAAAAIcGRds",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9061341036",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "395b9328071f7764373605e12c47e08b87ffb4df",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/395b9328071f7764373605e12c47e08b87ffb4df",
      "created_at": "2023-04-20T20:33:57Z"
    },
    {
      "event": "closed",
      "id": 9061341075,
      "node_id": "CE_lADOABII585ZhW3HzwAAAAIcGReT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9061341075",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-20T20:33:58Z"
    },
    {
      "event": "referenced",
      "id": 9070256689,
      "node_id": "REFE_lADOABII585ZhW3HzwAAAAIcoSIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9070256689",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "67681025fc5f0d3e62728fb3fcfaf2a01dd12276",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/67681025fc5f0d3e62728fb3fcfaf2a01dd12276",
      "created_at": "2023-04-21T18:56:20Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 9355560738,
      "node_id": "HRDE_lADOABII585ZhW3HzwAAAAItooci",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9355560738",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T01:46:21Z"
    },
    {
      "event": "locked",
      "id": 12936640644,
      "node_id": "LOE_lADOABII585ZhW3HzwAAAAMDFXiE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12936640644",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-26T12:52:58Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067478225",
      "pull_request_review_id": 1244644716,
      "id": 1067478225,
      "node_id": "PRRC_kwDOABII584_oGzR",
      "diff_hunk": "@@ -544,27 +544,36 @@ util::Result<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const\n {\n     // Vector of results. We will choose the best one based on waste.\n     std::vector<SelectionResult> results;\n+    std::vector<util::Result<SelectionResult>> errors;\n+    auto append_error = [&] (const util::Result<SelectionResult>& result) {\n+        // If any specific error message appears here, then something different from a simple \"no selection found\" happened.\n+        // Let's save it, so it can be retrieved to the user if no other selection algorithm succeeded.\n+        if (HasErrorMsg(result)) {\n+            errors.emplace_back(result);\n+        }\n+    };\n \n     std::vector<OutputGroup> positive_groups = GroupOutputs(wallet, available_coins, coin_selection_params, eligibility_filter, /*positive_only=*/true);\n     if (auto bnb_result{SelectCoinsBnB(positive_groups, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n-    }\n+    } else append_error(bnb_result);",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 17,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "56f0c212d245c3a65e57891cf8f4a2c26aa05ef0",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure I get how that else branch is reached. Is `util::Error()` falsy?",
      "created_at": "2023-01-11T21:34:01Z",
      "updated_at": "2023-01-11T22:10:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067478225",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067478225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067487616",
      "pull_request_review_id": 1244644716,
      "id": 1067487616,
      "node_id": "PRRC_kwDOABII584_oJGA",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this introduces a low chance failure of the test. The feerate is 0 which means that input sets with multiple inputs have a better waste score than one with only one input. It seems to me that all coin selection algorithms are being run, so if SRD finds a solution with 675 or fewer inputs, it should get preferred. While I agree that SRD should be improved in that we should curb excessive input sets like this, I think the test was correct previously and is incorrect now.",
      "created_at": "2023-01-11T21:45:32Z",
      "updated_at": "2023-01-11T22:10:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067487616",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067487616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067491914",
      "pull_request_review_id": 1244644716,
      "id": 1067491914,
      "node_id": "PRRC_kwDOABII584_oKJK",
      "diff_hunk": "@@ -188,9 +189,16 @@ util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utx\n     Shuffle(indexes.begin(), indexes.end(), rng);\n \n     CAmount selected_eff_value = 0;\n+    int weight = 0;\n     for (const size_t i : indexes) {\n         const OutputGroup& group = utxo_pool.at(i);\n         Assume(group.GetSelectionAmount() > 0);\n+\n+        // If the selection weight exceeds the maximum allowed size, the random selection failed.\n+        weight += group.m_weight;\n+        if (weight > max_weight) return ErrorMaxWeightExceeded();",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "d1f67afc60962c59ff1873a2e3915d4f00b46e61",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A better way to improve SRD would perhaps be to keep all the selected inputs in a min-effective-value heap, and to kick out the least valuable inputs while the selected weight exceeds max_weight during selection.",
      "created_at": "2023-01-11T21:51:31Z",
      "updated_at": "2023-01-11T22:10:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067491914",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067491914"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 198,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 199,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067501918",
      "pull_request_review_id": 1244644716,
      "id": 1067501918,
      "node_id": "PRRC_kwDOABII584_oMle",
      "diff_hunk": "@@ -105,8 +115,14 @@ std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_poo\n             // value. Adding any more UTXOs will be just burning the UTXO; it will go entirely to fees. Thus we aren't going to\n             // explore any more UTXOs to avoid burning money like that.\n             if (curr_waste <= best_waste) {\n-                best_selection = curr_selection;\n-                best_waste = curr_waste;\n+                // Don't add the selection if the max weight was exceeded\n+                if (curr_selection_weight > max_weight) {\n+                    max_tx_size_exceeded = true; // at least one result exceeds the max weight\n+                } else {\n+                    // Set best selection\n+                    best_selection = curr_selection;\n+                    best_waste = curr_waste;\n+                }",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 59,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "4c249f83f436dac93a78e61495bc523e6ba3685e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We should not continue searching a subtree when the selection already exceeds the `max_weight`. Instead of only checking it when we have selected sufficient funds, I would add `curr_selection_weight > max_weight` as a backtrack reason before `else if (curr_value >= selection_target)`:\r\n\r\n        if (curr_value + curr_available_value < selection_target || // Cannot possibly reach target with the amount remaining in the curr_available_value.\r\n            curr_value > selection_target + cost_of_change || // Selected value is out of range, go back and try other branch\r\n            (curr_waste > best_waste && is_feerate_high)) { // Don't select things which we know will be more wasteful if the waste is increasing\r\n            backtrack = true;\r\n        } else if (curr_selection_weight > max_weight) { // Exceeding weight for standard tx, cannot find more solutions by adding more inputs\r\n            max_tx_size_exceeded = true; // at least one selection attempt exceeded the max weight\r\n            backtrack = true;\r\n        } else if (curr_value >= selection_target) {       // Selected value is within range\r\n",
      "created_at": "2023-01-11T22:05:23Z",
      "updated_at": "2023-01-11T22:10:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067501918",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067501918"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067557383",
      "pull_request_review_id": 1244760755,
      "id": 1067557383,
      "node_id": "PRRC_kwDOABII584_oaIH",
      "diff_hunk": "@@ -544,27 +544,36 @@ util::Result<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const\n {\n     // Vector of results. We will choose the best one based on waste.\n     std::vector<SelectionResult> results;\n+    std::vector<util::Result<SelectionResult>> errors;\n+    auto append_error = [&] (const util::Result<SelectionResult>& result) {\n+        // If any specific error message appears here, then something different from a simple \"no selection found\" happened.\n+        // Let's save it, so it can be retrieved to the user if no other selection algorithm succeeded.\n+        if (HasErrorMsg(result)) {\n+            errors.emplace_back(result);\n+        }\n+    };\n \n     std::vector<OutputGroup> positive_groups = GroupOutputs(wallet, available_coins, coin_selection_params, eligibility_filter, /*positive_only=*/true);\n     if (auto bnb_result{SelectCoinsBnB(positive_groups, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n-    }\n+    } else append_error(bnb_result);",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 17,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "56f0c212d245c3a65e57891cf8f4a2c26aa05ef0",
      "in_reply_to_id": 1067478225,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah. Internally the result class contains a variant and the bool operator returns true/false depending on what the variant is holding.\r\n\r\nsmall extra note: this will look much better after #25806.",
      "created_at": "2023-01-11T23:22:06Z",
      "updated_at": "2023-01-11T23:23:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067557383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067557383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067634860",
      "pull_request_review_id": 1244865844,
      "id": 1067634860,
      "node_id": "PRRC_kwDOABII584_otCs",
      "diff_hunk": "@@ -544,27 +544,36 @@ util::Result<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const\n {\n     // Vector of results. We will choose the best one based on waste.\n     std::vector<SelectionResult> results;\n+    std::vector<util::Result<SelectionResult>> errors;\n+    auto append_error = [&] (const util::Result<SelectionResult>& result) {\n+        // If any specific error message appears here, then something different from a simple \"no selection found\" happened.\n+        // Let's save it, so it can be retrieved to the user if no other selection algorithm succeeded.\n+        if (HasErrorMsg(result)) {\n+            errors.emplace_back(result);\n+        }\n+    };\n \n     std::vector<OutputGroup> positive_groups = GroupOutputs(wallet, available_coins, coin_selection_params, eligibility_filter, /*positive_only=*/true);\n     if (auto bnb_result{SelectCoinsBnB(positive_groups, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n-    }\n+    } else append_error(bnb_result);",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 17,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "56f0c212d245c3a65e57891cf8f4a2c26aa05ef0",
      "in_reply_to_id": 1067478225,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah cool, thanks for explaining",
      "created_at": "2023-01-12T02:09:36Z",
      "updated_at": "2023-01-12T02:09:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1067634860",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1067634860"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068141350",
      "pull_request_review_id": 1245631990,
      "id": 1068141350,
      "node_id": "PRRC_kwDOABII584_qosm",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "hmm that doesn't sound right.\r\n\r\nAs we set all feerates to 0, the change cost will be 0. So the waste calculation is simply a `waste = inputs total amount - target`.\r\nSo we actually will never select the SRD result, because SRD is forced to select the 50 btc UTXO to succeed (otherwise it surpasses the max allowed weight).\r\n\r\nIn other words, Knapsacks result always return a waste of 0.5 btc, while SRD will return a waste of 0.5 btc + every extra added input that appears on the shuffled vector prior reaching the 50 btc UTXO.\r\nSo, knapsacks_waste <= srd_waste.",
      "created_at": "2023-01-12T13:47:45Z",
      "updated_at": "2023-01-12T13:48:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068141350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068141350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068149810",
      "pull_request_review_id": 1245645503,
      "id": 1068149810,
      "node_id": "PRRC_kwDOABII584_qqwy",
      "diff_hunk": "@@ -105,8 +115,14 @@ std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_poo\n             // value. Adding any more UTXOs will be just burning the UTXO; it will go entirely to fees. Thus we aren't going to\n             // explore any more UTXOs to avoid burning money like that.\n             if (curr_waste <= best_waste) {\n-                best_selection = curr_selection;\n-                best_waste = curr_waste;\n+                // Don't add the selection if the max weight was exceeded\n+                if (curr_selection_weight > max_weight) {\n+                    max_tx_size_exceeded = true; // at least one result exceeds the max weight\n+                } else {\n+                    // Set best selection\n+                    best_selection = curr_selection;\n+                    best_waste = curr_waste;\n+                }",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 59,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "4c249f83f436dac93a78e61495bc523e6ba3685e",
      "in_reply_to_id": 1067501918,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah better ðŸ‘ŒðŸ¼ , thanks",
      "created_at": "2023-01-12T13:55:19Z",
      "updated_at": "2023-01-12T13:55:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068149810",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068149810"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068168923",
      "pull_request_review_id": 1245676778,
      "id": 1068168923,
      "node_id": "PRRC_kwDOABII584_qvbb",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, the [waste](https://murch.one/posts/waste-metric/) is calculated via `wasteâ€¯=â€¯weight_of_inputsâ€¯Ã—â€¯(feerateâ€¯-â€¯long_term_feerate_estimate)` where the LTFRE is 10â€¯á¹©/vB. This means that at a feerate of 0â€¯á¹©/vB, an input set with greater weight results in a lower (â€œmore negativeâ€) waste. I.e. if the SRD solution happens to roll an input set with 500â€¯small inputs plus the 50â€¯â‚¿ input it would fit in the standard transaction weight and have a better score than the input set with only the 50â€¯â‚¿ input.",
      "created_at": "2023-01-12T14:10:30Z",
      "updated_at": "2023-01-12T14:10:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068168923",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068168923"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068213896",
      "pull_request_review_id": 1245746093,
      "id": 1068213896,
      "node_id": "PRRC_kwDOABII584_q6aI",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> the [waste](https://murch.one/posts/waste-metric/) is calculated via wasteâ€¯=â€¯weight_of_inputsâ€¯Ã—â€¯(feerateâ€¯-â€¯long_term_feerate_estimate) where the LTFRE is 10â€¯á¹©/vB.\r\n\r\nWhere is the LTFRE set to 10á¹©/vB?\r\n\r\nI'm seeing that it's set to 0:\r\nhttps://github.com/bitcoin/bitcoin/blob/edc3d1b296e34838d649dc21b8483a52e214932a/src/wallet/test/coinselector_tests.cpp#L971-L972\r\n\r\nSo inside `GetSelectionWaste` the loop over all the inputs should be returning waste = 0 (`wasteâ€¯=â€¯weight_of_inputsâ€¯Ã—â€¯(feerateâ€¯- long_term_feerate_estimate)` --> `waste = â€¯weight_of_inputs * 0`). \r\n\r\nThen below, as `change_cost` is 0 too, we get into:\r\nhttps://github.com/bitcoin/bitcoin/blob/edc3d1b296e34838d649dc21b8483a52e214932a/src/wallet/coinselection.cpp#L396-L400",
      "created_at": "2023-01-12T14:47:54Z",
      "updated_at": "2023-01-12T14:54:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068213896",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068213896"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068271600",
      "pull_request_review_id": 1245841488,
      "id": 1068271600,
      "node_id": "PRRC_kwDOABII584_rIfw",
      "diff_hunk": "@@ -188,9 +189,16 @@ util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utx\n     Shuffle(indexes.begin(), indexes.end(), rng);\n \n     CAmount selected_eff_value = 0;\n+    int weight = 0;\n     for (const size_t i : indexes) {\n         const OutputGroup& group = utxo_pool.at(i);\n         Assume(group.GetSelectionAmount() > 0);\n+\n+        // If the selection weight exceeds the maximum allowed size, the random selection failed.\n+        weight += group.m_weight;\n+        if (weight > max_weight) return ErrorMaxWeightExceeded();",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "d1f67afc60962c59ff1873a2e3915d4f00b46e61",
      "in_reply_to_id": 1067491914,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "loved it, awesome idea :D",
      "created_at": "2023-01-12T15:32:51Z",
      "updated_at": "2023-01-12T15:32:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068271600",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068271600"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 198,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 199,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068361521",
      "pull_request_review_id": 1246008553,
      "id": 1068361521,
      "node_id": "PRRC_kwDOABII584_recx",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, my bad. I did not expect anyone to change LTFRE in tests. :face_with_spiral_eyes:\r\nIn that case, the weight of the inputs is irrelevant for the waste score (because `weightâ€¯Ã— (0â€¯- 0) = 0`), and it will prefer an input set with change over one without change (unless excess is also 0). So very likely, the outcome of this test depends on either SRD being unsuccessful and/or that the order in which results are evaluated in `ChooseSelectionResult(â€¦)` prefers the Knapsack result. I don't think that's is a good idea.\r\n\r\nSince we are explicitly testing the behavior of Knapsack, this should be a test that just runs Knapsack and checks that the Knapsack behavior is expected.\r\n\r\nAlso pondering whether it's necessary that the LTFRE setting is amended for this testâ€”I totally did not expect that, and it may also change the expected outcome of other tests. Thanks for pointing that out.",
      "created_at": "2023-01-12T16:48:41Z",
      "updated_at": "2023-01-12T16:52:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068361521",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068361521"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068463836",
      "pull_request_review_id": 1246209757,
      "id": 1068463836,
      "node_id": "PRRC_kwDOABII584_r3bc",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Having thought some more about this, setting LTFRE and cost_of_change to 0 basically turns off BnB. It will then only generate solutions that match the target to the satoshi. Definitely feels off that behavior of coin selection algorithms is so fundamentally changed in `coinselector_tests.cpp`. :thinking: ",
      "created_at": "2023-01-12T18:14:35Z",
      "updated_at": "2023-01-12T18:14:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068463836",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068463836"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068562529",
      "pull_request_review_id": 1246369117,
      "id": 1068562529,
      "node_id": "PRRC_kwDOABII584_sPhh",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> In that case, the weight of the inputs is irrelevant for the waste score (because weightâ€¯Ã— (0â€¯- 0) = 0), and it will prefer an input set with change over one without change (unless excess is also 0). So very likely, the outcome of this test depends on either SRD being unsuccessful and/or that the order in which results are evaluated in ChooseSelectionResult(â€¦) prefers the Knapsack result.\r\n\r\nActually, the result does not depend on the order in which the algorithms are executed. SRD always success and has a higher waste than snapsack (only could fail if after shuffling the vector, the big UTXO is located at last, so fail is due an exceeded max weight):\r\n\r\nThe feerates are 0, same as the change cost, so the waste calculation is just a simple: \r\n```c++\r\nwaste = selected_effective_value - target;\r\n```\r\n\r\nSo, Snapsack result only contains the 50 BTC UTXO (waste = 0,5 btc).\r\nAnd, SRD result has the 50 BTC UTXO + all the other small UTXOs that appear in the shuffled vector prior to the big UTXO (waste = 0,5 btc + all smaller UTXOs).\r\n\r\nEssentially, the best selection that SRD could make is when the big UTXO appears first after shuffling the coins vector, which is equal to the only solution that snapsack returns. All the other solutions that SRD could return have a higher waste than snapsack.\r\n\r\n> Since we are explicitly testing the behavior of Knapsack, this should be a test that just runs Knapsack and checks that the Knapsack behavior is expected.\r\n\r\nMake a specific test for this sounds good too. But I still think that would be nice to make tests that use the entire coin selection process and check that the expected result is returned (not only checking that any valid result is retrieved): check the inputs size, the value of them, the algorithm used etc.\r\n\r\n> Having thought some more about this, setting LTFRE and cost_of_change to 0 basically turns off BnB. It will then only generate solutions that match the target to the satoshi. Definitely feels off that behavior of coin selection algorithms is so fundamentally changed in coinselector_tests.cpp. ðŸ¤”\r\n\r\nSo we have a new working path hehe (probably more suited for a follow-up PR): validate BnB further by reviewing all the test running the entire coin selection process with the feerates and change_cost in 0.\r\nPlus, would be nice to code new tests running coin selection and expecting the best result to be retrieved by BnB.",
      "created_at": "2023-01-12T19:40:07Z",
      "updated_at": "2023-01-12T20:13:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068562529",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068562529"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068644215",
      "pull_request_review_id": 1246461886,
      "id": 1068644215,
      "node_id": "PRRC_kwDOABII584_sjd3",
      "diff_hunk": "@@ -997,7 +1005,10 @@ BOOST_AUTO_TEST_CASE(check_max_weight)\n             chain, m_args);\n \n         BOOST_CHECK(result);\n-        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+        // Verify that only the 50 BTC UTXO was selected\n+        const auto& selection_res = result->GetInputSet();\n+        BOOST_CHECK(selection_res.size() == 1);\n+        BOOST_CHECK(selection_res.begin()->GetEffectiveValue() == 50 * COIN);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "595cbc02f4b95502d46dacc0258fa31f033fb09b",
      "in_reply_to_id": 1067487616,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you may be referring to the description before BnB, which only describes the case for changeless input sets.\r\n\r\nIf you check `GetSelectionWaste(â€¦)`, you'll see that the formula is `wasteâ€¯=â€¯input_weightâ€¯Ã—â€¯(feerateâ€¯-â€¯LTFRE) +â€¯excessâ€¯+ cost_of_change`. `excess` is the amount of sats dropped to the fees because we overshot the selection target but do not have enough for a change output. It can only be non-zero in changeless solutions. `cost_of_change` is set to zero in changeless solutions, since we do not create change. So, the score will only ever include a non-zero value for one of `excess` or `cost_of_change`. Since both SRD and Knapsack create change, both add `cost_of_change` which is zero here. Since `LTFRE == feerate`, the input weight also gets multiplied with 0. So any input set for both these algorithms will always have a waste score of 0.\r\n\r\nWhich is to say, if either of these coin selection results under the above circumstances reports a waste score that is non-zero, I would suspect you have found a bug.",
      "created_at": "2023-01-12T20:54:31Z",
      "updated_at": "2023-01-12T21:18:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1068644215",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068644215"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1000,
      "start_side": "LEFT",
      "line": null,
      "original_line": 1112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1069823539",
      "pull_request_review_id": 1248239807,
      "id": 1069823539,
      "node_id": "PRRC_kwDOABII584_xDYz",
      "diff_hunk": "@@ -188,16 +200,51 @@ util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utx\n     Shuffle(indexes.begin(), indexes.end(), rng);\n \n     CAmount selected_eff_value = 0;\n+    int weight = 0;\n+    bool max_tx_size_exceeded = false;\n     for (const size_t i : indexes) {\n         const OutputGroup& group = utxo_pool.at(i);\n         Assume(group.GetSelectionAmount() > 0);\n+\n+        // If the selection weight exceeds the maximum allowed size, remove the least valuable inputs until we\n+        // can insert the new group (while the sum of them are less than the new group amount).\n+        weight += group.m_weight;\n+        if (weight > max_weight) {\n+            max_tx_size_exceeded = true; // mark it in case we don't find any useful result.\n+\n+            // if the least valuable input is greater, discard the new group.\n+            CAmount new_group_amount = group.GetSelectionAmount();\n+            if (new_group_amount <= heap.top().GetSelectionAmount()) {\n+                weight -= group.m_weight;\n+                continue;\n+            }\n+\n+            // Keep popping up inputs while we exceed the max weight and the\n+            // arriving 'group' amount is less than the removed inputs.\n+            CAmount least_valuable_amounts = 0;\n+            do {\n+                const OutputGroup& to_remove_group = heap.top();\n+                CAmount min_group_amount = to_remove_group.GetSelectionAmount();\n+                least_valuable_amounts += min_group_amount;\n+                selected_eff_value -= min_group_amount;\n+                weight -= to_remove_group.m_weight;\n+                heap.pop();\n+            } while (!heap.empty() && least_valuable_amounts < new_group_amount && weight > max_weight);\n+        }\n+\n+        // Add group to selection\n         selected_eff_value += group.GetSelectionAmount();\n-        result.AddInput(group);\n+        heap.push(group);",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "42afb84687cded411de725587a08f4d4dc471f0e",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Cool, thanks for putting the heap in already. I think it'll be simpler if you first add the new group to the heap and then use the heap to decide whether the new or old group should be popped to get below weight:\r\n\r\n```suggestion\r\n          \r\n        // Add group to selection\r\n        heap.push(group);\r\n        selected_eff_value += group.GetSelectionAmount();\r\n        weight += group.m_weight;\r\n        \r\n        // If the selection weight exceeds the maximum allowed size, remove the least valuable inputs until we\r\n        // are below max weight.\r\n        if (weight > max_weight) { \r\n            max_tx_size_exceeded = true; // mark it in case we don't find any useful result.\r\n\r\n            do {\r\n                const OutputGroup& to_remove_group = heap.top();\r\n                selected_eff_value -= to_remove_group.GetSelectionAmount();\r\n                weight -= to_remove_group.m_weight;\r\n                heap.pop();\r\n            } while (!heap.empty() && weight > max_weight);\r\n        }\r\n```\r\n\r\n",
      "created_at": "2023-01-13T18:25:36Z",
      "updated_at": "2023-01-13T18:42:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1069823539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1069823539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 208,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 237,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1070092884",
      "pull_request_review_id": 1248564358,
      "id": 1070092884,
      "node_id": "PRRC_kwDOABII584_yFJU",
      "diff_hunk": "@@ -188,16 +200,51 @@ util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utx\n     Shuffle(indexes.begin(), indexes.end(), rng);\n \n     CAmount selected_eff_value = 0;\n+    int weight = 0;\n+    bool max_tx_size_exceeded = false;\n     for (const size_t i : indexes) {\n         const OutputGroup& group = utxo_pool.at(i);\n         Assume(group.GetSelectionAmount() > 0);\n+\n+        // If the selection weight exceeds the maximum allowed size, remove the least valuable inputs until we\n+        // can insert the new group (while the sum of them are less than the new group amount).\n+        weight += group.m_weight;\n+        if (weight > max_weight) {\n+            max_tx_size_exceeded = true; // mark it in case we don't find any useful result.\n+\n+            // if the least valuable input is greater, discard the new group.\n+            CAmount new_group_amount = group.GetSelectionAmount();\n+            if (new_group_amount <= heap.top().GetSelectionAmount()) {\n+                weight -= group.m_weight;\n+                continue;\n+            }\n+\n+            // Keep popping up inputs while we exceed the max weight and the\n+            // arriving 'group' amount is less than the removed inputs.\n+            CAmount least_valuable_amounts = 0;\n+            do {\n+                const OutputGroup& to_remove_group = heap.top();\n+                CAmount min_group_amount = to_remove_group.GetSelectionAmount();\n+                least_valuable_amounts += min_group_amount;\n+                selected_eff_value -= min_group_amount;\n+                weight -= to_remove_group.m_weight;\n+                heap.pop();\n+            } while (!heap.empty() && least_valuable_amounts < new_group_amount && weight > max_weight);\n+        }\n+\n+        // Add group to selection\n         selected_eff_value += group.GetSelectionAmount();\n-        result.AddInput(group);\n+        heap.push(group);",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "42afb84687cded411de725587a08f4d4dc471f0e",
      "in_reply_to_id": 1069823539,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nice ðŸ‘ŒðŸ¼, applied changes and added your co-authorship. Thanks :).",
      "created_at": "2023-01-13T21:38:38Z",
      "updated_at": "2023-01-13T21:38:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1070092884",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1070092884"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 208,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 237,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103268851",
      "pull_request_review_id": 1294015946,
      "id": 1103268851,
      "node_id": "PRRC_kwDOABII585Bwovz",
      "diff_hunk": "@@ -384,9 +384,12 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n  *\n  * @param[in]  utxo_pool    The positive effective value OutputGroups eligible for selection\n  * @param[in]  target_value The target value to select for\n+ * @param[in]  rng The randomness source to shuffle coins\n+ * @param[in] max_weight The maximum allowed weight for a selection result to be valid",
      "path": "src/wallet/coinselection.h",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "c723827ac21e265c9bdbb3e4aa2f8ba79ac48a97",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: whitespace",
      "created_at": "2023-02-10T21:31:11Z",
      "updated_at": "2023-02-10T22:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103268851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103268851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 388,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103289270",
      "pull_request_review_id": 1294015946,
      "id": 1103289270,
      "node_id": "PRRC_kwDOABII585Bwtu2",
      "diff_hunk": "@@ -940,6 +940,100 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+\n+static util::Result<SelectionResult> SelectCoinsSRD(const CAmount& target,\n+                                                    const CoinSelectionParams& cs_params,\n+                                                    interfaces::Chain* chain, const ArgsManager& args,\n+                                                    int max_weight,\n+                                                    std::function<CoinsResult(CWallet&)> coin_setup)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    CoinEligibilityFilter filter(0, 0, 0);\n+    const std::vector<OutputGroup>& group = GroupOutputs(*wallet, coin_setup(*wallet).All(), cs_params, filter, true);\n+    return SelectCoinsSRD(group, target, cs_params.rng_fast, max_weight);\n+}\n+\n+BOOST_AUTO_TEST_CASE(srd_tests)\n+{\n+    // Test SRD:\n+    // 1) Insufficient funds, select all provided coins and fail.\n+    // 2) Exceeded max weight, coin selection always surpasses the max allowed weight.\n+    // 3) Select coins without surpassing the max weight (some coins surpasses the max allowed weight, some others not)\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+            rand,\n+            /*change_output_size=*/34,\n+            /*change_spend_size=*/68,\n+            /*min_change_target=*/CENT,\n+            /*effective_feerate=*/CFeeRate(0),\n+            /*long_term_feerate=*/CFeeRate(0),\n+            /*discard_feerate=*/CFeeRate(0),\n+            /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+            /*avoid_partial=*/false,\n+    };\n+\n+    {\n+        // #########################################################\n+        // 1) Insufficient funds, select all provided coins and fail\n+        // #########################################################\n+        CAmount target = 49.5L * COIN;\n+        int max_weight = 10000; // high enough to not fail for this reason.\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 10; ++j) {\n+                add_coin(available_coins, wallet, CAmount(1 * COIN));\n+                add_coin(available_coins, wallet, CAmount(2 * COIN));\n+            }\n+            return available_coins;\n+        });\n+        BOOST_CHECK(!res);\n+        BOOST_CHECK(util::ErrorString(res).empty()); // empty means \"insufficient funds\"\n+    }\n+\n+    {\n+        // ###########################\n+        // 2) Test max weight exceeded\n+        // ###########################\n+        CAmount target = 49.5L * COIN;\n+        int max_weight = 3000;\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 10; ++j) {\n+                add_coin(available_coins, wallet, CAmount(1 * COIN), CFeeRate(0), 144, false, 0, true);\n+                add_coin(available_coins, wallet, CAmount(2 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }\n+            return available_coins;\n+        });\n+        BOOST_CHECK(!res);\n+        BOOST_CHECK(util::ErrorString(res).original.find(\"The inputs size exceeds the maximum weight\") != std::string::npos);\n+    }\n+\n+    {\n+        // ################################################################################################################\n+        // 3) Test selection when some coins surpass the max allowed weight while others not. --> must find a good solution\n+        // ################################################################################################################\n+        CAmount target = 25.33L * COIN;\n+        int max_weight = 10000;\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 60; ++j) { // 60 UTXO --> 19,8 BTC total --> weight 272 * 60 = 16320 kvb\n+                add_coin(available_coins, wallet, CAmount(0.33 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }\n+            for (int i = 0; i < 10; i++) { // 10 UTXO --> 20 BTC total --> weight 272 * 10 = 2720 kvb\n+                add_coin(available_coins, wallet, CAmount(2 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 91,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "bcb6f22130bdca73b2a084963a574960ac163bce",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        CAmount target = 25.33L * COIN;\r\n        int max_weight = 10000; // WU\r\n        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\r\n            CoinsResult available_coins;\r\n            for (int j = 0; j < 60; ++j) { // 60 UTXO --> 19,8 BTC total --> 60 Ã— 272â€¯WU = 16320 WU\r\n                add_coin(available_coins, wallet, CAmount(0.33 * COIN), CFeeRate(0), 144, false, 0, true);\r\n            }\r\n            for (int i = 0; i < 10; i++) { // 10 UTXO --> 20 BTC total --> 10 Ã— 272 WU = 2720 WU\r\n                add_coin(available_coins, wallet, CAmount(2 * COIN), CFeeRate(0), 144, false, 0, true);\r\n            }\r\n```\r\n\r\nI was reconstructing what sort of input set this test will find. From what I gather, we can have up to 36 inputs, and weâ€™ll need 9 of the 2â€¯â‚¿ UTXOs to hit the target amount. However, I was confused that the limit is 10'000â€¯and labeled â€œweightâ€, while the inputs are appraised at â€œ272â€¯kvbâ€. It would work out, though if the `max_weight` were interpreted as 10'000â€¯WU, and the inputs are 272â€¯WU each (i.e. 68â€¯vB). Are we looking at P2WPKH inputs here?",
      "created_at": "2023-02-10T21:50:12Z",
      "updated_at": "2023-02-10T22:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103289270",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103289270"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1021,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1042,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103290900",
      "pull_request_review_id": 1294015946,
      "id": 1103290900,
      "node_id": "PRRC_kwDOABII585BwuIU",
      "diff_hunk": "@@ -97,6 +99,7 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     CAmount best_waste = MAX_MONEY;\n \n     bool is_feerate_high = utxo_pool.at(0).fee > utxo_pool.at(0).long_term_fee;\n+    bool max_tx_size_exceeded = false;",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: [weight != size](https://bitcoin.stackexchange.com/a/84006/5406)\r\n\r\n```suggestion\r\n    bool max_tx_weight_exceeded = false;\r\n```",
      "created_at": "2023-02-10T21:52:43Z",
      "updated_at": "2023-02-10T22:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103290900",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103290900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103291613",
      "pull_request_review_id": 1294015946,
      "id": 1103291613,
      "node_id": "PRRC_kwDOABII585BwuTd",
      "diff_hunk": "@@ -106,6 +109,9 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n             curr_value > selection_target + cost_of_change || // Selected value is out of range, go back and try other branch\n             (curr_waste > best_waste && is_feerate_high)) { // Don't select things which we know will be more wasteful if the waste is increasing\n             backtrack = true;\n+        } else if (curr_selection_weight > max_weight) { // Exceeding weight for standard tx, cannot find more solutions by adding more inputs\n+            max_tx_size_exceeded = true; // at least one selection attempt exceeded the max weight",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            max_tx_weight_exceeded = true; // at least one selection attempt exceeded the max weight\r\n```",
      "created_at": "2023-02-10T21:53:56Z",
      "updated_at": "2023-02-10T22:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103291613",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103291613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103292025",
      "pull_request_review_id": 1294015946,
      "id": 1103292025,
      "node_id": "PRRC_kwDOABII585BwuZ5",
      "diff_hunk": "@@ -154,13 +161,14 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n                 curr_selection.push_back(utxo_pool_index);\n                 curr_value += utxo.GetSelectionAmount();\n                 curr_waste += utxo.fee - utxo.long_term_fee;\n+                curr_selection_weight += utxo.m_weight;\n             }\n         }\n     }\n \n     // Check for solution\n     if (best_selection.empty()) {\n-        return util::Error();\n+        return max_tx_size_exceeded ? ErrorMaxWeightExceeded() : util::Error();",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        return max_tx_weight_exceeded ? ErrorMaxWeightExceeded() : util::Error();\r\n```",
      "created_at": "2023-02-10T21:54:34Z",
      "updated_at": "2023-02-10T22:15:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103292025",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103292025"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103622002",
      "pull_request_review_id": 1294524016,
      "id": 1103622002,
      "node_id": "PRRC_kwDOABII585Bx-9y",
      "diff_hunk": "@@ -940,6 +940,100 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+\n+static util::Result<SelectionResult> SelectCoinsSRD(const CAmount& target,\n+                                                    const CoinSelectionParams& cs_params,\n+                                                    interfaces::Chain* chain, const ArgsManager& args,\n+                                                    int max_weight,\n+                                                    std::function<CoinsResult(CWallet&)> coin_setup)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    CoinEligibilityFilter filter(0, 0, 0);\n+    const std::vector<OutputGroup>& group = GroupOutputs(*wallet, coin_setup(*wallet).All(), cs_params, filter, true);\n+    return SelectCoinsSRD(group, target, cs_params.rng_fast, max_weight);\n+}\n+\n+BOOST_AUTO_TEST_CASE(srd_tests)\n+{\n+    // Test SRD:\n+    // 1) Insufficient funds, select all provided coins and fail.\n+    // 2) Exceeded max weight, coin selection always surpasses the max allowed weight.\n+    // 3) Select coins without surpassing the max weight (some coins surpasses the max allowed weight, some others not)\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+            rand,\n+            /*change_output_size=*/34,\n+            /*change_spend_size=*/68,\n+            /*min_change_target=*/CENT,\n+            /*effective_feerate=*/CFeeRate(0),\n+            /*long_term_feerate=*/CFeeRate(0),\n+            /*discard_feerate=*/CFeeRate(0),\n+            /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+            /*avoid_partial=*/false,\n+    };\n+\n+    {\n+        // #########################################################\n+        // 1) Insufficient funds, select all provided coins and fail\n+        // #########################################################\n+        CAmount target = 49.5L * COIN;\n+        int max_weight = 10000; // high enough to not fail for this reason.\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 10; ++j) {\n+                add_coin(available_coins, wallet, CAmount(1 * COIN));\n+                add_coin(available_coins, wallet, CAmount(2 * COIN));\n+            }\n+            return available_coins;\n+        });\n+        BOOST_CHECK(!res);\n+        BOOST_CHECK(util::ErrorString(res).empty()); // empty means \"insufficient funds\"\n+    }\n+\n+    {\n+        // ###########################\n+        // 2) Test max weight exceeded\n+        // ###########################\n+        CAmount target = 49.5L * COIN;\n+        int max_weight = 3000;\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 10; ++j) {\n+                add_coin(available_coins, wallet, CAmount(1 * COIN), CFeeRate(0), 144, false, 0, true);\n+                add_coin(available_coins, wallet, CAmount(2 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }\n+            return available_coins;\n+        });\n+        BOOST_CHECK(!res);\n+        BOOST_CHECK(util::ErrorString(res).original.find(\"The inputs size exceeds the maximum weight\") != std::string::npos);\n+    }\n+\n+    {\n+        // ################################################################################################################\n+        // 3) Test selection when some coins surpass the max allowed weight while others not. --> must find a good solution\n+        // ################################################################################################################\n+        CAmount target = 25.33L * COIN;\n+        int max_weight = 10000;\n+        const auto& res = SelectCoinsSRD(target, cs_params, m_node.chain.get(), m_args, max_weight, [&](CWallet& wallet) {\n+            CoinsResult available_coins;\n+            for (int j = 0; j < 60; ++j) { // 60 UTXO --> 19,8 BTC total --> weight 272 * 60 = 16320 kvb\n+                add_coin(available_coins, wallet, CAmount(0.33 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }\n+            for (int i = 0; i < 10; i++) { // 10 UTXO --> 20 BTC total --> weight 272 * 10 = 2720 kvb\n+                add_coin(available_coins, wallet, CAmount(2 * COIN), CFeeRate(0), 144, false, 0, true);\n+            }",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 91,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "bcb6f22130bdca73b2a084963a574960ac163bce",
      "in_reply_to_id": 1103289270,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ah yeah, good catch. All the numbers are expressed in weight units. And yes, inputs are all P2WPKH (all of them in every `coinselector_tests.cpp` test case).",
      "created_at": "2023-02-11T12:52:10Z",
      "updated_at": "2023-02-11T12:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103622002",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103622002"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": 1021,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1042,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623941",
      "pull_request_review_id": 1294528314,
      "id": 1103623941,
      "node_id": "PRRC_kwDOABII585Bx_cF",
      "diff_hunk": "@@ -97,6 +99,7 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     CAmount best_waste = MAX_MONEY;\n \n     bool is_feerate_high = utxo_pool.at(0).fee > utxo_pool.at(0).long_term_fee;\n+    bool max_tx_size_exceeded = false;",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": 1103290900,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "fixed",
      "created_at": "2023-02-11T13:07:27Z",
      "updated_at": "2023-02-11T13:07:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103623941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623954",
      "pull_request_review_id": 1294528321,
      "id": 1103623954,
      "node_id": "PRRC_kwDOABII585Bx_cS",
      "diff_hunk": "@@ -106,6 +109,9 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n             curr_value > selection_target + cost_of_change || // Selected value is out of range, go back and try other branch\n             (curr_waste > best_waste && is_feerate_high)) { // Don't select things which we know will be more wasteful if the waste is increasing\n             backtrack = true;\n+        } else if (curr_selection_weight > max_weight) { // Exceeding weight for standard tx, cannot find more solutions by adding more inputs\n+            max_tx_size_exceeded = true; // at least one selection attempt exceeded the max weight",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": 1103291613,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2023-02-11T13:07:31Z",
      "updated_at": "2023-02-11T13:07:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103623954",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623962",
      "pull_request_review_id": 1294528328,
      "id": 1103623962,
      "node_id": "PRRC_kwDOABII585Bx_ca",
      "diff_hunk": "@@ -154,13 +161,14 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n                 curr_selection.push_back(utxo_pool_index);\n                 curr_value += utxo.GetSelectionAmount();\n                 curr_waste += utxo.fee - utxo.long_term_fee;\n+                curr_selection_weight += utxo.m_weight;\n             }\n         }\n     }\n \n     // Check for solution\n     if (best_selection.empty()) {\n-        return util::Error();\n+        return max_tx_size_exceeded ? ErrorMaxWeightExceeded() : util::Error();",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "2c9b9507c9b15e47c22d7255763d71d21a91bae7",
      "in_reply_to_id": 1103292025,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2023-02-11T13:07:36Z",
      "updated_at": "2023-02-11T13:07:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103623962",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623989",
      "pull_request_review_id": 1294528349,
      "id": 1103623989,
      "node_id": "PRRC_kwDOABII585Bx_c1",
      "diff_hunk": "@@ -384,9 +384,12 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n  *\n  * @param[in]  utxo_pool    The positive effective value OutputGroups eligible for selection\n  * @param[in]  target_value The target value to select for\n+ * @param[in]  rng The randomness source to shuffle coins\n+ * @param[in] max_weight The maximum allowed weight for a selection result to be valid",
      "path": "src/wallet/coinselection.h",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "c723827ac21e265c9bdbb3e4aa2f8ba79ac48a97",
      "in_reply_to_id": 1103268851,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2023-02-11T13:07:49Z",
      "updated_at": "2023-02-11T13:07:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1103623989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103623989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 388,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156435700",
      "pull_request_review_id": 1369769556,
      "id": 1156435700,
      "node_id": "PRRC_kwDOABII585E7c70",
      "diff_hunk": "@@ -554,25 +554,34 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n {\n     // Vector of results. We will choose the best one based on waste.\n     std::vector<SelectionResult> results;\n+    std::vector<util::Result<SelectionResult>> errors;\n+    auto append_error = [&] (const util::Result<SelectionResult>& result) {\n+        // If any specific error message appears here, then something different from a simple \"no selection found\" happened.\n+        // Let's save it, so it can be retrieved to the user if no other selection algorithm succeeded.\n+        if (HasErrorMsg(result)) {\n+            errors.emplace_back(result);\n+        }\n+    };\n \n     if (auto bnb_result{SelectCoinsBnB(groups.positive_group, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n-    }\n+    } else append_error(bnb_result);",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "1284223691127e76135a46d251c52416104f0ff1",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1284223691127e76135a46d251c52416104f0ff1 (same below)\r\n\r\n> If an if only has a single-statement then-clause, it can appear on the same line as the if, without braces. In every other case, braces are required, and the then and else clauses must appear correctly indented on a new line.\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c\r\n\r\n```suggestion\r\n    } else {\r\n\t\tappend_error(bnb_result);\r\n\t}\r\n```\r\n",
      "created_at": "2023-04-03T20:38:26Z",
      "updated_at": "2023-04-03T21:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156435700",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156435700"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 568,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156451001",
      "pull_request_review_id": 1369769556,
      "id": 1156451001,
      "node_id": "PRRC_kwDOABII585E7gq5",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Maybe rename the variable to `max_inputs_weight` to make it clearer?",
      "created_at": "2023-04-03T20:57:46Z",
      "updated_at": "2023-04-03T21:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156451001",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156451001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156453195",
      "pull_request_review_id": 1369769556,
      "id": 1156453195,
      "node_id": "PRRC_kwDOABII585E7hNL",
      "diff_hunk": "@@ -172,9 +173,20 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     return result;\n }\n \n-util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utxo_pool, CAmount target_value, FastRandomContext& rng)\n+class MinOutputGroupComparator\n+{\n+public:\n+    int operator() (const OutputGroup& group1, const OutputGroup& group2)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4\r\nnit\r\n```suggestion\r\n    const int operator() (const OutputGroup& group1, const OutputGroup& group2)\r\n```",
      "created_at": "2023-04-03T21:00:37Z",
      "updated_at": "2023-04-03T21:32:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156453195",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156453195"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156500169",
      "pull_request_review_id": 1369864379,
      "id": 1156500169,
      "node_id": "PRRC_kwDOABII585E7srJ",
      "diff_hunk": "@@ -554,25 +554,34 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n {\n     // Vector of results. We will choose the best one based on waste.\n     std::vector<SelectionResult> results;\n+    std::vector<util::Result<SelectionResult>> errors;\n+    auto append_error = [&] (const util::Result<SelectionResult>& result) {\n+        // If any specific error message appears here, then something different from a simple \"no selection found\" happened.\n+        // Let's save it, so it can be retrieved to the user if no other selection algorithm succeeded.\n+        if (HasErrorMsg(result)) {\n+            errors.emplace_back(result);\n+        }\n+    };\n \n     if (auto bnb_result{SelectCoinsBnB(groups.positive_group, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n-    }\n+    } else append_error(bnb_result);",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "1284223691127e76135a46d251c52416104f0ff1",
      "in_reply_to_id": 1156435700,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm,  what about something like this https://github.com/furszy/bitcoin-core/commit/0ddd8f4e2672f4826b87b1cfda617a3c15caabea\r\n",
      "created_at": "2023-04-03T22:10:27Z",
      "updated_at": "2023-04-03T22:10:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156500169",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156500169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 568,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156501392",
      "pull_request_review_id": 1369866095,
      "id": 1156501392,
      "node_id": "PRRC_kwDOABII585E7s-Q",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": 1156451001,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "it's the maximum allowed transaction weight, not only for the inputs.",
      "created_at": "2023-04-03T22:12:41Z",
      "updated_at": "2023-04-03T22:12:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156501392",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156501392"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156541825",
      "pull_request_review_id": 1369922559,
      "id": 1156541825,
      "node_id": "PRRC_kwDOABII585E722B",
      "diff_hunk": "@@ -417,10 +418,10 @@ std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_poo\n  * @param[in]  target_value The target value to select for\n  * @returns If successful, a SelectionResult, otherwise, std::nullopt",
      "path": "src/wallet/coinselection.h",
      "position": null,
      "original_position": 19,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "1284223691127e76135a46d251c52416104f0ff1",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit 1284223691127e76135a46d251c52416104f0ff1: this doxygen comment about the return-value has to be adapted w.r.t. `std::nullopt`",
      "created_at": "2023-04-03T23:24:59Z",
      "updated_at": "2023-04-04T00:04:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156541825",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156541825"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156571087",
      "pull_request_review_id": 1369965206,
      "id": 1156571087,
      "node_id": "PRRC_kwDOABII585E79_P",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": 1156451001,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> it's the maximum allowed transaction weight, not only for the inputs.\r\n\r\nI don't think so? The coin selection algos don't have any knowledge about the additional data of the to-be-created tx (static header size + outputs), so they can only work with a weight limit on the inputs.",
      "created_at": "2023-04-04T00:09:23Z",
      "updated_at": "2023-04-04T00:09:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156571087",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156571087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156844031",
      "pull_request_review_id": 1370369681,
      "id": 1156844031,
      "node_id": "PRRC_kwDOABII585E9An_",
      "diff_hunk": "@@ -13,8 +13,16 @@\n \n #include <numeric>\n #include <optional>\n+#include <queue>\n \n namespace wallet {\n+// Common selection error across the algorithms\n+static util::Result<SelectionResult> ErrorMaxWeightExceeded()\n+{\n+    return util::Error{_(\"The inputs size exceeds the maximum weight. \"",
      "path": "src/wallet/coinselection.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I haven't written a test for this, so all the following is not verified and just my guess based on the code understanding.\r\n\r\nThis is not a regression in this particular PR, but this could lead to misleading errors in a situation when a proper solution exists, but our coin selection failed to find it and only found solution that exceeded weight.\r\nLet's imagine following scenario:\r\n- UTXO pool: two big coins 50BTC, a ton of 0.001BTC.\r\n- Target amount: 90BTC\r\n- Proper solution: just take two big coins and create a change output.\r\n\r\nI think none of the coin selection algorithms will be able to **reliably** find the proper solution.\r\n1) BnB won't be able to find it, because proper solution includes change. \r\n2) Knapsack again optimises for the match, therefore it discards the proper solution in favour of a closer match that exceeds the weight limit.\r\n2) SRD misses proper solution with 75% chance, because it checks each coin exactly once. If it skipped at least one of two big coins it will never find the proper solution.\r\n\r\nI think we should a) make the message more explicit about the fact that solution might exist, but we just failed to find one b) propose users to select coins manually as another remedy c) better document the shortcomings of our coin selection.\r\n",
      "created_at": "2023-04-04T07:31:41Z",
      "updated_at": "2023-04-04T07:31:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156844031",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156844031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156851716",
      "pull_request_review_id": 1370381137,
      "id": 1156851716,
      "node_id": "PRRC_kwDOABII585E9CgE",
      "diff_hunk": "@@ -13,8 +13,16 @@\n \n #include <numeric>\n #include <optional>\n+#include <queue>\n \n namespace wallet {\n+// Common selection error across the algorithms\n+static util::Result<SelectionResult> ErrorMaxWeightExceeded()\n+{\n+    return util::Error{_(\"The inputs size exceeds the maximum weight. \"",
      "path": "src/wallet/coinselection.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "in_reply_to_id": 1156844031,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wrote #24580 at some point to capture known to me inefficiencies of current coin selection. The scenario I described above is very close to case no.3 in `test_one_big_and_many_small_coins`",
      "created_at": "2023-04-04T07:38:41Z",
      "updated_at": "2023-04-04T07:38:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1156851716",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1156851716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157298121",
      "pull_request_review_id": 1371056538,
      "id": 1157298121,
      "node_id": "PRRC_kwDOABII585E-vfJ",
      "diff_hunk": "@@ -13,8 +13,16 @@\n \n #include <numeric>\n #include <optional>\n+#include <queue>\n \n namespace wallet {\n+// Common selection error across the algorithms\n+static util::Result<SelectionResult> ErrorMaxWeightExceeded()\n+{\n+    return util::Error{_(\"The inputs size exceeds the maximum weight. \"",
      "path": "src/wallet/coinselection.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "in_reply_to_id": 1156844031,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I haven't written a test for this, so all the following is not verified and just my guess based on the code understanding.\r\n> \r\n> This is not a regression in this particular PR, but this could lead to misleading errors in a situation when a proper solution exists, but our coin selection failed to find it and only found solution that exceeded weight. Let's imagine following scenario:\r\n> \r\n> * UTXO pool: two big coins 50BTC, a ton of 0.001BTC.\r\n> * Target amount: 90BTC\r\n> * Proper solution: just take two big coins and create a change output.\r\n> \r\n> I think none of the coin selection algorithms will be able to **reliably** find the proper solution.\r\n> \r\n> 1. BnB won't be able to find it, because proper solution includes change.\r\n> 2. Knapsack again optimises for the match, therefore it discards the proper solution in favour of a closer match that exceeds the weight limit.\r\n> 3. SRD misses proper solution with 75% chance, because it checks each coin exactly once. If it skipped at least one of two big coins it will never find the proper solution.\r\n\r\nNo wait, have you checked the introduced SRD changes? https://github.com/bitcoin/bitcoin/pull/26720/commits/fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4.\r\n\r\nThe algorithm now uses a min-effective-value heap; it discards the least valuable input/s\r\nwhile the selected weight exceeds the maximum allowed weight.\r\n\r\nSo in your scenario, SRD will always find a solution.\r\n\r\nBasically, it adds coins to a heap while the target is not met. So, if the max weight is exceeded, it pops the least valuable coin and adds the new one. Then keeps walking-through the coins vector until (1) target is covered, or (2) fail due an insufficient funds or (3) fail due having enough funds but the max allowed weight was exceeded.\r\n\r\n> I think we should a) make the message more explicit about the fact that solution might exist, but we just failed to find one b) propose users to select coins manually as another remedy c) better document the shortcomings of our coin selection.\r\n\r\nI think that you are only having in mind part of the process and maybe not contemplating the expanded coin eligibility process.\r\nIf no solution was found in the first selection attempt round, we are running the selection algorithms multiple times. Not only once.\r\n\r\nAn edge case would be that the coins that are needed to create a valid selection are in the last coin eligibility filter, but even in that situation, SRD will find a solution.\r\n\r\nStill, let's say that also SRD doesn't return a result for some reason. And we don't find a solution even when the user has enough funds. The solution shouldn't be placed here.\r\nIt can be placed at the end of `AutomaticCoinSelection`, because there we know the total available balance (and also the discarded coins, which since acf0119d24c9f8fae825093249a46cd38e4a3a91 we are also contemplating) so we can easily return a \"you have enough funds but the wallet coin selection process failed, please select coins manually\" instead of the general \"Insufficient Funds\".\r\n\r\nSide note:\r\nAs this PR isn't conflicting with master, I haven't rebase it. So, there are improvements like the discarded coins early return (due the coin eligibility filtering process) that are not here.",
      "created_at": "2023-04-04T13:56:13Z",
      "updated_at": "2023-04-04T16:20:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157298121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157298121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157441154",
      "pull_request_review_id": 1371273809,
      "id": 1157441154,
      "node_id": "PRRC_kwDOABII585E_SaC",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": 1156451001,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Iâ€™m confused, @aureleoulesâ€™s suggestion makes sense to me. If itâ€™s the maximum allowed transaction weight, why is it reduced by the `tx_noinputs_size`? If itâ€™s supposed to be the allowance for inputs, it might additionally need to be reduced by an allowance for the change output?",
      "created_at": "2023-04-04T15:38:54Z",
      "updated_at": "2023-04-04T15:38:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157441154",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157441154"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157488656",
      "pull_request_review_id": 1371346941,
      "id": 1157488656,
      "node_id": "PRRC_kwDOABII585E_eAQ",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": 1156451001,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> it's the maximum allowed transaction weight, not only for the inputs.\r\nI don't think so? The coin selection algos don't have any knowledge about the additional data of the to-be-created tx (static header size + outputs), so they can only work with a weight limit on the inputs.\r\n\r\noops, I shouldn't answer comments at night. My bad. Un-resolving this.\r\nit's ok to say that is the max inputs weight. Will rename the variable in the next push.\r\n\r\n> If itâ€™s supposed to be the allowance for inputs, it might additionally need to be reduced by an allowance for the change output?\r\n\r\nGood point. Need to also deduce the `change_spend_size` for knapsack and SRD.",
      "created_at": "2023-04-04T16:19:26Z",
      "updated_at": "2023-04-04T16:20:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157488656",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157488656"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157609917",
      "pull_request_review_id": 1371536531,
      "id": 1157609917,
      "node_id": "PRRC_kwDOABII585E_7m9",
      "diff_hunk": "@@ -172,9 +173,20 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     return result;\n }\n \n-util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utxo_pool, CAmount target_value, FastRandomContext& rng)\n+class MinOutputGroupComparator\n+{\n+public:\n+    int operator() (const OutputGroup& group1, const OutputGroup& group2)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4",
      "in_reply_to_id": 1156453195,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "hmm why?\r\n`warning: 'const' type qualifier on return type has no effect`",
      "created_at": "2023-04-04T18:18:09Z",
      "updated_at": "2023-04-04T18:18:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157609917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157609917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157613803",
      "pull_request_review_id": 1371542820,
      "id": 1157613803,
      "node_id": "PRRC_kwDOABII585E_8jr",
      "diff_hunk": "@@ -417,10 +418,10 @@ std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_poo\n  * @param[in]  target_value The target value to select for\n  * @returns If successful, a SelectionResult, otherwise, std::nullopt",
      "path": "src/wallet/coinselection.h",
      "position": null,
      "original_position": 19,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "1284223691127e76135a46d251c52416104f0ff1",
      "in_reply_to_id": 1156541825,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pushed",
      "created_at": "2023-04-04T18:21:30Z",
      "updated_at": "2023-04-04T18:21:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157613803",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157613803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157613941",
      "pull_request_review_id": 1371543027,
      "id": 1157613941,
      "node_id": "PRRC_kwDOABII585E_8l1",
      "diff_hunk": "@@ -563,12 +563,15 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed transaction weight\n+    int max_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "187ce369ff2409d08de6af5cd2144b4d3e714488",
      "in_reply_to_id": 1156451001,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pushed",
      "created_at": "2023-04-04T18:21:38Z",
      "updated_at": "2023-04-04T18:21:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157613941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157613941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 567,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157862081",
      "pull_request_review_id": 1371924348,
      "id": 1157862081,
      "node_id": "PRRC_kwDOABII585FA5LB",
      "diff_hunk": "@@ -172,9 +173,20 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     return result;\n }\n \n-util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utxo_pool, CAmount target_value, FastRandomContext& rng)\n+class MinOutputGroupComparator\n+{\n+public:\n+    int operator() (const OutputGroup& group1, const OutputGroup& group2)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4",
      "in_reply_to_id": 1156453195,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Whoops I meant `int operator() (const OutputGroup& group1, const OutputGroup& group2) const `",
      "created_at": "2023-04-04T23:32:43Z",
      "updated_at": "2023-04-04T23:32:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157862081",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157862081"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157902972",
      "pull_request_review_id": 1371983568,
      "id": 1157902972,
      "node_id": "PRRC_kwDOABII585FBDJ8",
      "diff_hunk": "@@ -172,9 +173,20 @@ util::Result<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool\n     return result;\n }\n \n-util::Result<SelectionResult> SelectCoinsSRD(const std::vector<OutputGroup>& utxo_pool, CAmount target_value, FastRandomContext& rng)\n+class MinOutputGroupComparator\n+{\n+public:\n+    int operator() (const OutputGroup& group1, const OutputGroup& group2)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "fd8cf58d736ed9614f46b4f5b3c92f71ff9c46d4",
      "in_reply_to_id": 1156453195,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sure, pushed",
      "created_at": "2023-04-05T00:40:55Z",
      "updated_at": "2023-04-05T00:40:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1157902972",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1157902972"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158081088",
      "pull_request_review_id": 1372239932,
      "id": 1158081088,
      "node_id": "PRRC_kwDOABII585FBupA",
      "diff_hunk": "@@ -13,8 +13,16 @@\n \n #include <numeric>\n #include <optional>\n+#include <queue>\n \n namespace wallet {\n+// Common selection error across the algorithms\n+static util::Result<SelectionResult> ErrorMaxWeightExceeded()\n+{\n+    return util::Error{_(\"The inputs size exceeds the maximum weight. \"",
      "path": "src/wallet/coinselection.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "ba7970c793f3e8ddb54a02256e7ae52e88e47f08",
      "in_reply_to_id": 1156844031,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ah, yes. You're right, now I see why SRD will always find a solution if it exists. LGTM",
      "created_at": "2023-04-05T06:38:33Z",
      "updated_at": "2023-04-05T06:38:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1158081088",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158081088"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158084125",
      "pull_request_review_id": 1372245210,
      "id": 1158084125,
      "node_id": "PRRC_kwDOABII585FBvYd",
      "diff_hunk": "@@ -563,12 +563,18 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed weight\n+    int max_inputs_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);\n+\n     if (auto bnb_result{SelectCoinsBnB(groups.positive_group, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n     } else append_error(bnb_result);\n \n+    // As Knapsack and SRD can create change, also deduce change weight.\n+    max_inputs_weight -= (coin_selection_params.change_spend_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "e7b4680f1c2417b0abb8996680d3aec97e042e57",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this should be `change_output_size` not `change_spend_size`",
      "created_at": "2023-04-05T06:42:27Z",
      "updated_at": "2023-04-05T07:01:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1158084125",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158084125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 574,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158456950",
      "pull_request_review_id": 1372814280,
      "id": 1158456950,
      "node_id": "PRRC_kwDOABII585FDKZ2",
      "diff_hunk": "@@ -563,12 +563,18 @@ util::Result<SelectionResult> ChooseSelectionResult(const CAmount& nTargetValue,\n         }\n     };\n \n+    // Maximum allowed weight\n+    int max_inputs_weight = MAX_STANDARD_TX_WEIGHT - (coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR);\n+\n     if (auto bnb_result{SelectCoinsBnB(groups.positive_group, nTargetValue, coin_selection_params.m_cost_of_change)}) {\n         results.push_back(*bnb_result);\n     } else append_error(bnb_result);\n \n+    // As Knapsack and SRD can create change, also deduce change weight.\n+    max_inputs_weight -= (coin_selection_params.change_spend_size * WITNESS_SCALE_FACTOR);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "25ab14712b9d80276016f9fc9bff7fb9c1d09635",
      "original_commit_id": "e7b4680f1c2417b0abb8996680d3aec97e042e57",
      "in_reply_to_id": 1158084125,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yep thanks, fixed",
      "created_at": "2023-04-05T12:33:20Z",
      "updated_at": "2023-04-05T12:33:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26720#discussion_r1158456950",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1158456950"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26720"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 574,
      "side": "RIGHT"
    }
  ]
}