{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016",
    "id": 1633360227,
    "node_id": "PR_kwDOABII585hWxlj",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29016",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29016.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29016.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/07008477b8174d00627c5fe75859bc1f85602c69",
    "number": 29016,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "RPC: add new `listmempooltransactions`",
    "user": {
      "login": "niftynei",
      "id": 1097769,
      "node_id": "MDQ6VXNlcjEwOTc3Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niftynei",
      "html_url": "https://github.com/niftynei",
      "followers_url": "https://api.github.com/users/niftynei/followers",
      "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
      "organizations_url": "https://api.github.com/users/niftynei/orgs",
      "repos_url": "https://api.github.com/users/niftynei/repos",
      "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/niftynei/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "## Proposed Update\r\n\r\nAdd a new RPC endpoint, `listmempooltransactions`. Takes as args a `start_sequence` and `verbose`.\r\n\r\nReturns: \r\n- if verbose false, list of txids + their `entry_sequence` where each entry's `entry_sequence` >= the provided `start_sequence.\r\n- if verbose true, raw tx output info including each entry's `entry_sequence`.\r\n\r\n\r\nBuilds on work done in #19572.\r\n\r\n## Rationale\r\nThe current mempool RPCs are lacking an ability to scan for updates in a more efficient manner. You can subscribe for updates via the ZMQ pipeline, but even this is inefficient to recover from if your consumer app falls offline.\r\n\r\nZMQ also is a push protocol, and doesn't provide a rate-limiting mechanism.\r\n\r\nIn the case of core-lightning, we don't assume access to bitcoin-core/ZMQ, so we're unable to do efficient mempool querying. There have been some recent CVEs come to light where having optional access to mempool updates may prove useful.\r\n\r\nPaging, filtering by last seen, and the addition of full tx data in the call makes mempool data more readily available to any client app. This is good for self-sovereignty as it reduces the need for additional dependencies and app data sources to efficiently query and parse mempool data. \r\n\r\n\r\n## Other Things I Considered\r\nMy initial attempt at this modified `getrawmempool` to \r\n- take a `start_sequence` to allow for filtering, and\r\n- adding the txdata (inputs outpoints + outputs (amount + scriptPubKeys)). \r\n\r\nThat was pretty ugly however, given that the current data model for `getrawmempool` is around a concept of \"mempool entry\" data. This new RPC in contrast only returns transaction data (and does not report on information about other mempool dependencies etc; for that you should still call `getrawmempool` or `getmempoolentry`). \r\n\r\nYou could add a `start_sequence` to the existing `getrawmempool` to help with entry data paging/querying but that's secondary to my goals for fetching relevant txdata from the mempool.\r\n\r\n## Additions/Changes\r\n\r\nThis PR could be further improved by\r\n- Add a `page_size` argument which allows a calling application to limit the number of results returned.\r\n\r\n\r\n## Future Work\r\nThe current RPC only supports finding *added* mempool transactions. It'd be interesting to experiment with keeping track of evicted/not mined transactions and adding them to the results.\r\n\r\nThis would require:\r\n- An additional memory buffer (perhaps a configurable memory limited ring buffer?) for evicted tx data and the mempool sequence of the eviction.\r\n- Adding a `sequence_action` field for results, which indicates whether the sequence is for the tx's `addition` or `eviction`.\r\n\r\nYou could also keep track of tx movements into blocks, but this seems less useful/urgent in general.\r\n\r\n## Usage\r\nYou can see an example of this implemented and used in CLN for finding paid onchain invoices in this branch: https://github.com/ElementsProject/lightning/compare/master...niftynei:lightning:nifty/mempool-scan\r\n\r\nNote that the CLN implementation doesn't currently keep the mempool_sequence in disk, so it'll reload/rescan the mempool at start. This *may* be desirable?\r\n\r\nHere's how a caller would use this\r\n\r\n```\r\n1) start node\r\n2) listmempooltransactions 0 to get backlog\r\n3) call listmempooltransactions again with `start_sequence` set to `mempool_sequence` result from last call\r\n```\r\n\r\nNote that this works well with ZMQ as the `mempool_sequence` number is identical.",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-12-06T22:32:25Z",
    "updated_at": "2024-07-09T01:56:27Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "ea33d3265a55e27de5272a58b6252b73d38e5b61",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "niftynei:nifty/listmempoolentry",
      "ref": "nifty/listmempoolentry",
      "sha": "07008477b8174d00627c5fe75859bc1f85602c69",
      "user": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 246689974,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNDY2ODk5NzQ=",
        "name": "bitcoin",
        "full_name": "niftynei/bitcoin",
        "owner": {
          "login": "niftynei",
          "id": 1097769,
          "node_id": "MDQ6VXNlcjEwOTc3Njk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/niftynei",
          "html_url": "https://github.com/niftynei",
          "followers_url": "https://api.github.com/users/niftynei/followers",
          "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
          "organizations_url": "https://api.github.com/users/niftynei/orgs",
          "repos_url": "https://api.github.com/users/niftynei/repos",
          "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/niftynei/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/niftynei/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/niftynei/bitcoin",
        "archive_url": "https://api.github.com/repos/niftynei/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/niftynei/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/niftynei/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/niftynei/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/niftynei/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/niftynei/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/niftynei/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/niftynei/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/niftynei/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/niftynei/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/niftynei/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/niftynei/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/niftynei/bitcoin/events",
        "forks_url": "https://api.github.com/repos/niftynei/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/niftynei/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/niftynei/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/niftynei/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/niftynei/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/niftynei/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/niftynei/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/niftynei/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/niftynei/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/niftynei/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/niftynei/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/niftynei/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/niftynei/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/niftynei/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/niftynei/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/niftynei/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:niftynei/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/niftynei/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/niftynei/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/niftynei/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/niftynei/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/niftynei/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/niftynei/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/niftynei/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/niftynei/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/niftynei/bitcoin/hooks",
        "svn_url": "https://github.com/niftynei/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 230174,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-12-06T07:27:01Z",
        "created_at": "2020-03-11T22:11:43Z",
        "updated_at": "2022-12-05T22:19:05Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2e8ec6b338a825a7155fff1be83993e3834ab655",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35617,
        "stargazers_count": 77136,
        "watchers_count": 77136,
        "size": 262667,
        "default_branch": "master",
        "open_issues_count": 680,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-08T21:28:25Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-09T00:52:23Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 160,
    "deletions": 1,
    "changed_files": 8,
    "commits": 2,
    "review_comments": 2,
    "comments": 13
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNiNDY2ZjQ0NTFlMTA1MDI4ZDQxZDgxNTM1ZTFjOTBjNzI1OWQ0YWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cb466f4451e105028d41d81535e1c90c7259d4ad",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cb466f4451e105028d41d81535e1c90c7259d4ad",
      "tree": {
        "sha": "6fda30e5744361300b012070290fca006916b3b2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fda30e5744361300b012070290fca006916b3b2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6fda30e5744361300b012070290fca006916b3b2\nparent 6d5790956f45e3de5c6c4ee6fda21878b0d1287b\nauthor niftynei <niftynei@gmail.com> 1701748056 -0600\ncommitter niftynei <niftynei@gmail.com> 1701847607 -0600\n\nrpc: add new `listmempooltransactions`\n\nAllow bitcoin-core clients to get more interesting information out\nof the mempool more easily, including by filtering for 'latest txs'.\n\nEventually would be a good interface for grabbing all mempool\ntransaction data, including information about evicted transactions\n(which would be useful for avoiding situations where removed\ntransactions contained data important for bitcoin applications). This\nwould require the addition of a mempool tx log, however the\n`mempool_sequence` id plus this call and the use of a ring buffer(?)\nwould allow for clients to get complete scans of anything a bitcoin\ncore node had seen in its mempool.\n\nThat's future work. For now we start with the interface over existing\ninformation.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMN5pOuDenjez5+trv/D2eBDB7tEFAmVwIjcACgkQv/D2eBDB\n7tGA1w//S5Q3zrMkhF2tewMiAAuXyOMw2HXaxLNV94WEWt8YuqLaGSc2+y917pXU\nN7LIDdzIJ3ufvQQlmuMN3ljxMlafmkl1LruziqFUU6ki0YCkazYDoIbvoGGJm+14\nFXgbiEi2ohqQdNnciHs64cbbqivIxOvVabXxRD6+5j45uWukI/ROiZWm1jkeaVGM\nCyEVq4ZlPByoVvs7oe/zAQidq4oBblJH28jhpLjC7xH/LQiVTEykiGMvehxee4Vc\nDM3ymZbQtJ/fVPg3l/XpIwQN8Sjl4F5nF4MdwKHHPUqliWEn0JxrHcWDYuBOqh3Y\n04TNhkPkOLDV/ZPAKCJTOZ2szFxS81V3gEodfI0NzvM/d5Mp0rOzimSK0i4oFD1a\nxyN6rOAMnJ+rYYGooXercT80srjW/eEnbXh9E/KuBg1lPkp3xzxCiSwi131It9Ot\ngMxJjuT2qGWfyrW25EX2I75pT0XyYzRwVcqgoO4B4f+2J7KaeG51jbkBK5hBEzSt\nD8/jY6iDw9kDCcuhV9/QwY4qbKo0Q+oNN5EsqBEIKwViUVGf0BGphToVAKuT8Jbn\n4zMT94Q6oxfU3OCh73MVvdDwUKrrVysfu4THsAmKo/bmtpHgKgAkboCN1xzB/pAR\ntzkjlgMX6ajizgiymEi5zuGsUIR62vKTHx07gXFj1DfTmZOFgV8=\n=VFwr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d5790956f45e3de5c6c4ee6fda21878b0d1287b",
          "sha": "6d5790956f45e3de5c6c4ee6fda21878b0d1287b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6d5790956f45e3de5c6c4ee6fda21878b0d1287b"
        }
      ],
      "message": "rpc: add new `listmempooltransactions`\n\nAllow bitcoin-core clients to get more interesting information out\nof the mempool more easily, including by filtering for 'latest txs'.\n\nEventually would be a good interface for grabbing all mempool\ntransaction data, including information about evicted transactions\n(which would be useful for avoiding situations where removed\ntransactions contained data important for bitcoin applications). This\nwould require the addition of a mempool tx log, however the\n`mempool_sequence` id plus this call and the use of a ring buffer(?)\nwould allow for clients to get complete scans of anything a bitcoin\ncore node had seen in its mempool.\n\nThat's future work. For now we start with the interface over existing\ninformation.",
      "committer": {
        "name": "niftynei",
        "email": "niftynei@gmail.com",
        "date": "2023-12-06T07:26:47Z"
      },
      "author": {
        "name": "niftynei",
        "email": "niftynei@gmail.com",
        "date": "2023-12-05T03:47:36Z"
      },
      "sha": "cb466f4451e105028d41d81535e1c90c7259d4ad"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA3MDA4NDc3YjgxNzRkMDA2MjdjNWZlNzU4NTliYzFmODU2MDJjNjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/07008477b8174d00627c5fe75859bc1f85602c69",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/07008477b8174d00627c5fe75859bc1f85602c69",
      "tree": {
        "sha": "8b5d3b1992a01f10e6287f6ca58efd69780e01f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8b5d3b1992a01f10e6287f6ca58efd69780e01f0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8b5d3b1992a01f10e6287f6ca58efd69780e01f0\nparent cb466f4451e105028d41d81535e1c90c7259d4ad\nauthor niftynei <niftynei@gmail.com> 1701748247 -0600\ncommitter niftynei <niftynei@gmail.com> 1701847607 -0600\n\nrest: add `listmempooltransactions` to the REST API\n\nMake the `listmempooltransactions` rpc available via the REST api\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMN5pOuDenjez5+trv/D2eBDB7tEFAmVwIjcACgkQv/D2eBDB\n7tFSGhAAjeIHiJ762Tx5r4YH87zIGeyNQwhMEwpHFfXA8jqOxDhPkayvnPdoii4h\nj6feYMYlQzfm3VLJxSS1j4opm8eYvjFFmn55txe8xDuIUZjYn9FW0IeaGdfm+9KF\n1lla03bb2tOJTAkm6Otf1zlInu0t/btVb9Rv4eYdQuTjIul6o2QmHp6VU41SidJy\nfNkpTgL4MQ3tNg+KpdH/5QadrzsrUkEVk4hsI+z7mE6oPgS98mSO0Q+vrvf18uu1\nktp8rTVyh0vKx+g+VBXe4MtAAOSF4hrxqh3k6US+kezPbJegwdmhorlXUgoM+Iuo\ncfZtdw/SSi6ajcc7otr+9SP9f0ev5qwD5VMo+DBIBUvuJs6k+iuJFrSPYKcz6iXM\nRs+esglwLAuC5k/9IGXCDglbjuAd2P/AE5LdpUBehFcZbzZL3Pdn0apYB116WHyT\nbLVTTjbd+bn1Awz71UnQlEkkHV7JAlEc83P9rfnvIr0jKPg5kinsOdg7XmiRYQL4\nsjWOLFa5UvNbIbKbPYJtH1fdhqTgNpHpfF/XeMftRe7T1y4zWwsAZF6HJb4g5r5f\nj+A55hInZK0X0BX6IgSOKC2IyM5Hicebxm9QnxUCCCv/XfLjiR9mdJY5ZHulq9qG\nnJH6+X/Ekx8Tv8eNsZlznG4Nw5pXdOTS+OQebBEQG/qpFvbS1JE=\n=qz0s\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cb466f4451e105028d41d81535e1c90c7259d4ad",
          "sha": "cb466f4451e105028d41d81535e1c90c7259d4ad",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cb466f4451e105028d41d81535e1c90c7259d4ad"
        }
      ],
      "message": "rest: add `listmempooltransactions` to the REST API\n\nMake the `listmempooltransactions` rpc available via the REST api",
      "committer": {
        "name": "niftynei",
        "email": "niftynei@gmail.com",
        "date": "2023-12-06T07:26:47Z"
      },
      "author": {
        "name": "niftynei",
        "email": "niftynei@gmail.com",
        "date": "2023-12-05T03:50:47Z"
      },
      "sha": "07008477b8174d00627c5fe75859bc1f85602c69"
    },
    {
      "event": "commented",
      "id": 1843794495,
      "node_id": "IC_kwDOABII585t5hI_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1843794495",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-06T22:32:27Z",
      "updated_at": "2024-01-09T00:02:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29016).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [kristapsk](https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1880094062), [bordalix](https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1880184679) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24748](https://github.com/bitcoin/bitcoin/pull/24748) (test/BIP324: functional tests for v2 P2P encryption by stratospher)\n* [#19463](https://github.com/bitcoin/bitcoin/pull/19463) (Prune locks by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1843794495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "labeled",
      "id": 11174347007,
      "node_id": "LE_lADOABII585498VmzwAAAAKaCwD_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11174347007",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-06T22:32:30Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 11174680795,
      "node_id": "LE_lADOABII585498VmzwAAAAKaEBjb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11174680795",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-06T23:20:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1768993243,
      "node_id": "PRR_kwDOABII585pcLHb",
      "url": null,
      "actor": null,
      "commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#pullrequestreview-1768993243",
      "submitted_at": "2023-12-07T02:17:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
    },
    {
      "event": "reviewed",
      "id": 1769056893,
      "node_id": "PRR_kwDOABII585pcap9",
      "url": null,
      "actor": null,
      "commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Also, [missing](https://github.com/bitcoin/bitcoin/pull/29016/checks?check_run_id=19389652409) test coverage for the new command:\r\n\r\n```\r\nUncovered RPC commands:\r\n  - listmempooltransactions\r\n```",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#pullrequestreview-1769056893",
      "submitted_at": "2023-12-07T03:33:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
    },
    {
      "event": "commented",
      "id": 1860896797,
      "node_id": "IC_kwDOABII585u6wgd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1860896797",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-18T16:00:09Z",
      "updated_at": "2023-12-18T16:00:09Z",
      "author_association": "MEMBER",
      "body": "> My initial attempt at this modified `getrawmempool` to\r\n> \r\n>     * take a `start_sequence` to allow for filtering, and\r\n> \r\n>     * adding the txdata (inputs outpoints + outputs (amount + scriptPubKeys)).\r\n\r\nThis seems like the best option imo. If we want to return the transaction hex (iiuc that should suffice if you are looking to get the tx data itself) we could add another level of verbosity to `getrawmempool` / `getmempoolentry`.\r\n\r\n> That was pretty ugly however, given that the current data model for `getrawmempool` is around a concept of \"mempool entry\" data. This returns transaction data (and does not report on information about other mempool dependencies etc; for that you should still call `getrawmempool` or `getmempoolentry`).\r\n\r\nNot sure I understand what the difficulty was? `getrawmempool` should give dependencies if you use `verbose` (see the \"depends\" field).\r\n\r\n> Note that this works well with ZMQ as the mempool_sequence number is identical.\r\n\r\nAssuming you mean the sequence emitted from `Transaction{AddedTo,RemovedFrom}Mempool`, note that this is not actually the case (they're usually off by 1 or more due to when the sequence increments happen).",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1860896797",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1879925212,
      "node_id": "IC_kwDOABII585wDWHc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879925212",
      "actor": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-07T03:23:51Z",
      "updated_at": "2024-01-07T03:23:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Assuming you mean the sequence emitted from Transaction{AddedTo,RemovedFrom}Mempool, note that this is not actually the case (they're usually off by 1 or more due to when the sequence increments happen).\r\n\r\nCan you say more about this divergence or point me to a doc that contains more info?\r\n\r\nI should add that one problem with the existing `getrawmempool` RPC semantics is that currently requesting the mempool_sequence *and* asking for verbose results is specifically disallowed. \r\n\r\nI attempted to find a rationale for this but was unsuccessful (some code reorgs had removed the original code commit in the blame).\r\n\r\nRe: returning the raw tx: that suffices but is suboptimal for an application that is scanning for particular output creation or input inclusion in a proposed tx as it creates additional work on the client.\r\n\r\nSpeaking of computation, note that this approach omits the computation required for finding ancestor/descendent txs in the mempool; that seemed like unnecessary work for clients that are solely interested in just the tx info.\r\n",
      "user": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1879925212",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1879925440,
      "node_id": "IC_kwDOABII585wDWLA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879925440",
      "actor": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-07T03:25:41Z",
      "updated_at": "2024-01-07T03:25:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Also, [missing](https://github.com/bitcoin/bitcoin/pull/29016/checks?check_run_id=19389652409) test coverage for the new command:\r\n\r\nYes, will add test coverage when this approach gets a concept ack.\r\n\r\nInstead, working usage of this proposed code change has been included in the original PR",
      "user": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1879925440",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1880094062,
      "node_id": "IC_kwDOABII585wD_Vu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1880094062",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-07T15:44:29Z",
      "updated_at": "2024-01-07T15:44:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1880094062",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1880184679,
      "node_id": "IC_kwDOABII585wEVdn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1880184679",
      "actor": {
        "login": "bordalix",
        "id": 9318412,
        "node_id": "MDQ6VXNlcjkzMTg0MTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9318412?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bordalix",
        "html_url": "https://github.com/bordalix",
        "followers_url": "https://api.github.com/users/bordalix/followers",
        "following_url": "https://api.github.com/users/bordalix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bordalix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bordalix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bordalix/subscriptions",
        "organizations_url": "https://api.github.com/users/bordalix/orgs",
        "repos_url": "https://api.github.com/users/bordalix/repos",
        "events_url": "https://api.github.com/users/bordalix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bordalix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-07T21:42:16Z",
      "updated_at": "2024-01-07T21:42:16Z",
      "author_association": "NONE",
      "body": "Concept ACK",
      "user": {
        "login": "bordalix",
        "id": 9318412,
        "node_id": "MDQ6VXNlcjkzMTg0MTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9318412?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bordalix",
        "html_url": "https://github.com/bordalix",
        "followers_url": "https://api.github.com/users/bordalix/followers",
        "following_url": "https://api.github.com/users/bordalix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bordalix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bordalix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bordalix/subscriptions",
        "organizations_url": "https://api.github.com/users/bordalix/orgs",
        "repos_url": "https://api.github.com/users/bordalix/repos",
        "events_url": "https://api.github.com/users/bordalix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bordalix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1880184679",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "reviewed",
      "id": 1815145958,
      "node_id": "PRR_kwDOABII585sMO3m",
      "url": null,
      "actor": null,
      "commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> > Assuming you mean the sequence emitted from Transaction{AddedTo,RemovedFrom}Mempool, note that this is not actually the case (they're usually off by 1 or more due to when the sequence increments happen).\r\n> \r\n> Can you say more about this divergence or point me to a doc that contains more info?\r\n\r\nIt's more that they just happen to use the same counter, but that doesn't mean they match.\r\nThe mempool entry's sequence number is assigned here;\r\nhttps://github.com/bitcoin/bitcoin/blob/fcacbab4878e10946c518970b630e7dccbbd2d45/src/validation.cpp#L854-L856\r\nAnd the notification fires along with a counter increment here:\r\nhttps://github.com/bitcoin/bitcoin/blob/fcacbab4878e10946c518970b630e7dccbbd2d45/src/validation.cpp#L1272\r\n\r\n~This means the notification is +1 of the entry sequence, +n if it's in a package.~ edit: Woops I might be wrong and that's the same number. A better example is the entry sequences are all the same but are incremented for the notifications in a package. The entry sequence is also hard coded to 0 for a transaction came from a reorg.\r\nIt doesn't look like they were meant to match up exactly, though this potential confusion was [acknowledged](https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-697313899) prior to merge.\r\n\r\n> I should add that one problem with the existing `getrawmempool` RPC semantics is that currently requesting the mempool_sequence _and_ asking for verbose results is specifically disallowed.\r\n> \r\n> I attempted to find a rationale for this but was unsuccessful (some code reorgs had removed the original code commit in the blame).\r\n\r\nI'm not sure why that's the case either, the only context I can see is the [edits in this comment](https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-663088680) after [pushing](https://github.com/bitcoin/bitcoin/compare/c89b73a64b36e52517b2b33757a86bf68f61dff8..606a49bf86306ab1664666add5eb04c4eab066e4) those lines, which indicate it was causing a test failure. I can't open the travis link anymore. Pinging @instagibbs in case he remembers what happened 3+ years ago. Maybe there was a subtle bug, or maybe it was the easiest way to make the tests pass and return the results to the client without adding more params.\r\n\r\n> Re: returning the raw tx: that suffices but is suboptimal for an application that is scanning for particular output creation or input inclusion in a proposed tx as it creates additional work on the client.\r\n\r\nNote that you can use `gettxspendingprevout` to search for mempool transactions spending a particular output, since the mempool does index by that. A watchonly wallet will also scan for its transactions in mempool as they appear.\r\n\r\n> Speaking of computation, note that this approach omits the computation required for finding ancestor/descendent txs in the mempool; that seemed like unnecessary work for clients that are solely interested in just the tx info.\r\n\r\nDon't worry, there's no extra computation, it's all cached in the mempool entry which is already pulled in.\r\n\r\nAnyway, I think it makes sense to have more params/levels to control filters and results for `getrawmempool`. It seems reasonable to have a higher verbosity level or more granular controls to give you the results you want.\r\n\r\nCan you describe in more detail what args you want to pass and what results you want returned? I have no objection to making life easier for clients, it's just that the PR as it looks right now seems like we'd have 2 RPCs that do very similar things, and uses mempool entry sequence in a way that might be buggy.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#pullrequestreview-1815145958",
      "submitted_at": "2024-01-11T10:04:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
    },
    {
      "event": "commented",
      "id": 1887189668,
      "node_id": "IC_kwDOABII585wfDqk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887189668",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T13:42:57Z",
      "updated_at": "2024-01-11T13:42:57Z",
      "author_association": "MEMBER",
      "body": "> what happened 3+ years ago\r\n\r\nI have some bad news, I do not.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1887189668",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "labeled",
      "id": 11631539202,
      "node_id": "LE_lADOABII585498VmzwAAAAK1SzQC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11631539202",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-29T18:12:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1915297174,
      "node_id": "IC_kwDOABII585yKR2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1915297174",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-29T18:12:17Z",
      "updated_at": "2024-01-29T18:12:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nðŸ™ This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1915297174",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1959989869,
      "node_id": "IC_kwDOABII58500xJt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1959989869",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-22T18:05:34Z",
      "updated_at": "2024-02-22T18:05:34Z",
      "author_association": "MEMBER",
      "body": "Are you still working on this? Looks like there are outstanding questions.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1959989869",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 1962057278,
      "node_id": "IC_kwDOABII58508p4-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1962057278",
      "actor": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-23T21:59:12Z",
      "updated_at": "2024-02-23T22:06:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, haven't had time recently due to bitcoin++ work.\r\n\r\n> Note that you can use gettxspendingprevout to search for mempool transactions spending a particular output\r\n\r\nMy use case is to scan for new transactions depositing to addresses or new scripts pertaining to a wallet which is not managed by core. Please see linked PR for CLN.\r\n\r\n> to have more params/levels to control filters and results for getrawmempool.\r\n\r\nAs mentioned in the PR, the data model that this returns is distinct from `getrawmempool`. This is specifically for transaction model data; `getrawmempool`'s data model is around mempool entries.\r\n\r\n> Note that this works well with ZMQ as the mempool_sequence number is identical.\r\n\r\nFound an exception to this: package acceptance sequencing is broken and breaks this assumption. \r\n\r\nAfter some research, it turns out that we can't expose the mempool_sequence until we fix an existing bug in the package acceptance's mempool sequence assignment code.\r\n\r\nCurrently, we assign every tx in a *package* the same sequence  number, but notify via ZMQ using an incrmenting one. The problem stems from copying the behavior the single tx acceptance used for sequence assignment (which is quite well done) to the package context, which broke assumptions the single tx was able to rely on. This should be fixed regardless of the status of this PR, and should be considered a blocker imo for this being shipped. If someone else wants to fix it, that'd be great.",
      "user": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-1962057278",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "referenced",
      "id": 12106188743,
      "node_id": "REFE_lADOABII585498VmzwAAAALRlcfH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12106188743",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8c8f3163f2aca0998f9d7130837be374c2e62912",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/8c8f3163f2aca0998f9d7130837be374c2e62912",
      "created_at": "2024-03-13T16:27:37Z"
    },
    {
      "event": "referenced",
      "id": 12106188776,
      "node_id": "REFE_lADOABII585498VmzwAAAALRlcfo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12106188776",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a4fe132d567aebee31c04d54d2a2995b760ad233",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/a4fe132d567aebee31c04d54d2a2995b760ad233",
      "created_at": "2024-03-13T16:27:37Z"
    },
    {
      "event": "commented",
      "id": 2045315768,
      "node_id": "IC_kwDOABII58556Qq4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2045315768",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-09T14:26:32Z",
      "updated_at": "2024-04-09T14:26:32Z",
      "author_association": "MEMBER",
      "body": "Are you still working on this?",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-2045315768",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "commented",
      "id": 2048493284,
      "node_id": "IC_kwDOABII5856GYbk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2048493284",
      "actor": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T21:49:21Z",
      "updated_at": "2024-04-10T21:49:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes but won't have any progress to show til May or so. Thanks",
      "user": {
        "login": "niftynei",
        "id": 1097769,
        "node_id": "MDQ6VXNlcjEwOTc3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1097769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/niftynei",
        "html_url": "https://github.com/niftynei",
        "followers_url": "https://api.github.com/users/niftynei/followers",
        "following_url": "https://api.github.com/users/niftynei/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/niftynei/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/niftynei/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/niftynei/subscriptions",
        "organizations_url": "https://api.github.com/users/niftynei/orgs",
        "repos_url": "https://api.github.com/users/niftynei/repos",
        "events_url": "https://api.github.com/users/niftynei/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/niftynei/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-2048493284",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    },
    {
      "event": "convert_to_draft",
      "id": 12432280780,
      "node_id": "CTDE_lADOABII585498VmzwAAAALlBYzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12432280780",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-11T07:16:49Z"
    },
    {
      "event": "commented",
      "id": 2215981348,
      "node_id": "IC_kwDOABII586EFTEk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2215981348",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-09T01:16:03Z",
      "updated_at": "2024-07-09T01:16:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--13523179cfe9479db18ec6c5d236f789-->\nâŒ› There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? âž¡ï¸ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? âž¡ï¸ Please close.\n* Did the author lose interest or time to work on this? âž¡ï¸ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#issuecomment-2215981348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29016"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418224065",
      "pull_request_review_id": 1768993243,
      "id": 1418224065,
      "node_id": "PRRC_kwDOABII585UiGHB",
      "diff_hunk": "@@ -375,6 +377,100 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\n     }\n }\n \n+static RPCHelpMan listmempooltransactions()\n+{\n+    return RPCHelpMan{\"listmempooltransactions\",\n+        \"\\nReturns all transactions in the mempool. Can be filtered by mempool_sequence\\n\"\n+        \"\\nAllows for syncing with current mempool entries via polling (not zmq).\",\n+        {\n+            {\"start_sequence\", RPCArg::Type::NUM, RPCArg::Default{0}, \"The mempool_sequence to start the results to. Defaults to 0 (zero, all transactions).\"},\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a json object, false for array of transaction ids\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\",\n+                RPCResult::Type::OBJ, \"\", \"\",\n+                {\n+                    {RPCResult::Type::NUM, \"mempool_sequence\", \"The current max mempool sequence value.\"},\n+                    {RPCResult::Type::ARR, \"txs\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::NUM, \"entry_sequence\", \"The mempool sequence value for this transaction entry.\"},\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The transaction id\"},\n+                        }},\n+                    }},\n+                }},\n+            RPCResult{\"for verbose = true\",\n+                RPCResult::Type::OBJ, \"\", \"\",\n+                {\n+                    {RPCResult::Type::NUM, \"mempool_sequence\", \"The current max mempool sequence value.\"},\n+                    {RPCResult::Type::ARR, \"txs\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                         Cat<std::vector<RPCResult>>(\n+                            {\n+                                {RPCResult::Type::NUM, \"entry_sequence\", \"The mempool sequence value for this transaction entry.\"},\n+                            },\n+                            DecodeTxDoc(/*txid_field_doc=*/\"The transaction id of the mempool transaction\")),\n+                        }},\n+                    }},\n+                }},\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"listmempooltransactions\", \"true\")\n+            + HelpExampleRpc(\"listmempooltransactions\", \"true\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            uint64_t start_mempool_sequence = 0;\n+            if (!request.params[0].isNull()) {\n+                start_mempool_sequence = request.params[0].getInt<uint64_t>();\n+            }\n+\n+            bool fVerbose = false;\n+            if (!request.params[1].isNull())\n+                fVerbose = request.params[1].get_bool();\n+\n+            return MempoolTxsToJSON(EnsureAnyMemPool(request.context), fVerbose, start_mempool_sequence);\n+        },\n+    };\n+}\n+\n+UniValue MempoolTxsToJSON(const CTxMemPool& pool, bool verbose, uint64_t sequence_start)\n+{\n+    uint64_t mempool_sequence;\n+\n+    LOCK(pool.cs);\n+    mempool_sequence = pool.GetSequence();\n+\n+    UniValue o(UniValue::VOBJ);\n+    o.pushKV(\"mempool_sequence\", mempool_sequence);\n+\n+    UniValue a(UniValue::VARR);\n+    for (const CTxMemPoolEntry& e : pool.entryAll()) {\n+        UniValue txentry(UniValue::VOBJ);\n+\n+        // We skip anything not requested.\n+        if (e.GetSequence() < sequence_start)\n+            continue;\n+\n+        txentry.pushKV(\"entry_sequence\", e.GetSequence());\n+\n+        if (verbose) {\n+            // We could also calculate fees etc for this transaction, but yolo.\n+            TxToUniv(e.GetTx(), /*block_hash=*/uint256::ZERO, /*entry=*/txentry, /*inclue_hex=*/false);",
      "path": "src/rpc/mempool.cpp",
      "position": 95,
      "original_position": 95,
      "commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "original_commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "in_reply_to_id": null,
      "user": {
        "login": "kevkevinpal",
        "id": 15950706,
        "node_id": "MDQ6VXNlcjE1OTUwNzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kevkevinpal",
        "html_url": "https://github.com/kevkevinpal",
        "followers_url": "https://api.github.com/users/kevkevinpal/followers",
        "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
        "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
        "repos_url": "https://api.github.com/users/kevkevinpal/repos",
        "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "looks like the tidy ci is getting upset here\r\n\r\n```\r\nrpc/mempool.cpp:462:82: error: argument name 'inclue_hex' in comment does not match parameter name 'include_hex' [bugprone-argument-comment,-warnings-as-errors]\r\n  462 |             TxToUniv(e.GetTx(), /*block_hash=*/uint256::ZERO, /*entry=*/txentry, /*inclue_hex=*/false);\r\n      |                                                                                  ^~~~~~~~~~~~~~~\r\n      |                                                                                  /*include_hex=*/\r\n./core_io.h:57:88: note: 'include_hex' declared here\r\n   57 | void TxToUniv(const CTransaction& tx, const uint256& block_hash, UniValue& entry, bool include_hex = true, bool without_witness = false, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_DETAILS);\r\n   ```",
      "created_at": "2023-12-07T02:17:13Z",
      "updated_at": "2023-12-07T02:17:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#discussion_r1418224065",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418224065"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 462,
      "original_line": 462,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1448596725",
      "pull_request_review_id": 1815145958,
      "id": 1448596725,
      "node_id": "PRRC_kwDOABII585WV9T1",
      "diff_hunk": "@@ -375,6 +377,100 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\n     }\n }\n \n+static RPCHelpMan listmempooltransactions()\n+{\n+    return RPCHelpMan{\"listmempooltransactions\",\n+        \"\\nReturns all transactions in the mempool. Can be filtered by mempool_sequence\\n\"\n+        \"\\nAllows for syncing with current mempool entries via polling (not zmq).\",\n+        {\n+            {\"start_sequence\", RPCArg::Type::NUM, RPCArg::Default{0}, \"The mempool_sequence to start the results to. Defaults to 0 (zero, all transactions).\"},\n+            {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"True for a json object, false for array of transaction ids\"},\n+        },\n+        {\n+            RPCResult{\"for verbose = false\",\n+                RPCResult::Type::OBJ, \"\", \"\",\n+                {\n+                    {RPCResult::Type::NUM, \"mempool_sequence\", \"The current max mempool sequence value.\"},\n+                    {RPCResult::Type::ARR, \"txs\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::NUM, \"entry_sequence\", \"The mempool sequence value for this transaction entry.\"},\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The transaction id\"},\n+                        }},\n+                    }},\n+                }},\n+            RPCResult{\"for verbose = true\",\n+                RPCResult::Type::OBJ, \"\", \"\",\n+                {\n+                    {RPCResult::Type::NUM, \"mempool_sequence\", \"The current max mempool sequence value.\"},\n+                    {RPCResult::Type::ARR, \"txs\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                         Cat<std::vector<RPCResult>>(\n+                            {\n+                                {RPCResult::Type::NUM, \"entry_sequence\", \"The mempool sequence value for this transaction entry.\"},\n+                            },\n+                            DecodeTxDoc(/*txid_field_doc=*/\"The transaction id of the mempool transaction\")),\n+                        }},\n+                    }},\n+                }},\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"listmempooltransactions\", \"true\")\n+            + HelpExampleRpc(\"listmempooltransactions\", \"true\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            uint64_t start_mempool_sequence = 0;\n+            if (!request.params[0].isNull()) {\n+                start_mempool_sequence = request.params[0].getInt<uint64_t>();\n+            }\n+\n+            bool fVerbose = false;\n+            if (!request.params[1].isNull())\n+                fVerbose = request.params[1].get_bool();\n+\n+            return MempoolTxsToJSON(EnsureAnyMemPool(request.context), fVerbose, start_mempool_sequence);\n+        },\n+    };\n+}\n+\n+UniValue MempoolTxsToJSON(const CTxMemPool& pool, bool verbose, uint64_t sequence_start)\n+{\n+    uint64_t mempool_sequence;\n+\n+    LOCK(pool.cs);\n+    mempool_sequence = pool.GetSequence();\n+\n+    UniValue o(UniValue::VOBJ);\n+    o.pushKV(\"mempool_sequence\", mempool_sequence);\n+\n+    UniValue a(UniValue::VARR);\n+    for (const CTxMemPoolEntry& e : pool.entryAll()) {\n+        UniValue txentry(UniValue::VOBJ);\n+\n+        // We skip anything not requested.\n+        if (e.GetSequence() < sequence_start)\n+            continue;",
      "path": "src/rpc/mempool.cpp",
      "position": 89,
      "original_position": 89,
      "commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "original_commit_id": "07008477b8174d00627c5fe75859bc1f85602c69",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do note that a mempool tx from a recently disconnected block would be skipped here",
      "created_at": "2024-01-11T10:01:59Z",
      "updated_at": "2024-01-11T10:04:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29016#discussion_r1448596725",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1448596725"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29016"
        }
      },
      "start_line": 454,
      "original_start_line": 454,
      "start_side": "RIGHT",
      "line": 456,
      "original_line": 456,
      "side": "RIGHT"
    }
  ]
}