{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664",
    "id": 2280235009,
    "node_id": "PR_kwDOABII586H6aAB",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31664",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31664.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31664.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/353cdbd4ff5ae12bc6900b38c4f7382298816b75",
    "number": 31664,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Fees:  add Fee rate Forecaster Manager",
    "user": {
      "login": "ismaelsadeeq",
      "id": 48946461,
      "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ismaelsadeeq",
      "html_url": "https://github.com/ismaelsadeeq",
      "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
      "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
      "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
      "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
      "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "- This PR implements the core component of #30392, introducing a new fee rate forecasting module. \r\nThe primary addition is a `ForecasterManager` that coordinates multiple forecasting strategies to be able to provide better transaction fee rate predictions.\r\n\r\n\r\n### Key Changes  \r\n\r\n1. **Refactoring of `CBlockPolicyEstimator` #33218**  \r\n   - Renames `fees` to `block_policy_estimator` for clarity.  \r\n   - Renames`fees_args` to `block_policy_estimator_args` for clarity\r\n   - Renames `policy_fee_tests` to `feerounder_tests` also for clarity.  \r\n\r\n\r\n2. **Addition of Fee Rate Forecasting Utility Structures**  \r\n   - `Forecaster` abstract class, serving as the base class for all fee rate forecasters.\r\n   - `ForecastResult` (the response from a `Forecaster`) with all metadata.  \r\n   - `ForecastType` enum, identify and distinguish forecasters.    \r\n\r\n3. **Introduce `FeeRateForecasterManager` class**  \r\n   - Adds the `FeeRateForecasterManager` class, responsible for managing all fee rate forecasters, including `CBlockPolicyEstimator`, which is now a forecaster.  \r\n   - Updates the node context to hold a unique pointer to `FeeRateForecasterManager` instead of `CBlockPolicyEstimator`.  \r\n   - Changes `CBlockPolicyEstimator` instance from `unique_ptr` to a `shared_pointer`, allowing it to be registered in the validation interface without requiring explicit unregistration during shutdown (current master behaviour). Registering for `CBlockPolicyEstimator` flushes also get a `shared_pointer`.  \r\n   - Exposes a raw pointer of `CBlockPolicyEstimator` through `FeeRateForecasterManager` for compatibility with `estimateSmartFee`, friends, and node interfaces.  \r\n   -   Modifies `CBlockPolicyEstimator` to inherit from the `Forecaster` class and implement the pure abstract classes\r\n\r\n4. **Introduce `MempoolForecaster` class**  \r\n   - Adds the `MempoolForecaster`, which forecast the fee rate required for a transaction to confirm as soon as possible. It generates a block template and returns the 75th and 50th percentile fee rates  as low-priority and high-priority fee rate forecasts.  \r\n   - Implements caching for the last fee rate forecast, using a 30-second rate limit to avoid frequent block generation via the block assembler.\r\n\r\n\r\nThe `FeeRateForecasterManager` now includes a method `ForecastFeeRateFromForecasters`. This method polls forecasts from all registered forecasters and returns the lowest value. This behavior aligns with discussions and research outlined in [this post](https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703).  But the primary aim of the `FeeRateForecasterManager` is to be able to perform sanity checks and potentially apply heuristics to determine the most appropriate fee rate forecast from polled forecasters, for now it just return the lowest.\r\n\r\nThis PR also add unit tests for the classes.\r\n\r\n\r\n\r\nIn Draft because it depends on #33218\r\n",
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 1648013533,
        "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
        "name": "Review club",
        "description": "",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2025-01-15T21:42:52Z",
    "updated_at": "2025-10-23T21:28:05Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "887d54a89e6dbd4bd2fdabb99246e8d43894caff",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ismaelsadeeq:01-2025-feerate-forecastman",
      "ref": "01-2025-feerate-forecastman",
      "sha": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 577730599,
        "node_id": "R_kgDOIm94Jw",
        "name": "bitcoin",
        "full_name": "ismaelsadeeq/bitcoin",
        "owner": {
          "login": "ismaelsadeeq",
          "id": 48946461,
          "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
          "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ismaelsadeeq",
          "html_url": "https://github.com/ismaelsadeeq",
          "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
          "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
          "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
          "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
          "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/ismaelsadeeq/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ismaelsadeeq/bitcoin",
        "archive_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ismaelsadeeq/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ismaelsadeeq/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ismaelsadeeq/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/hooks",
        "svn_url": "https://github.com/ismaelsadeeq/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 288723,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-23T11:28:56Z",
        "created_at": "2022-12-13T11:54:34Z",
        "updated_at": "2023-03-10T09:46:26Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "7cc9a087069bfcdb79a08ce77eb3a60adf9483af",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38074,
        "stargazers_count": 86379,
        "watchers_count": 86379,
        "size": 295158,
        "default_branch": "master",
        "open_issues_count": 748,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-23T10:19:58Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-10-23T21:54:06Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 767,
    "deletions": 84,
    "changed_files": 37,
    "commits": 14,
    "review_comments": 51,
    "comments": 11
  },
  "events": [
    {
      "event": "commented",
      "id": 2593999478,
      "node_id": "IC_kwDOABII586anUp2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2593999478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-15T21:42:56Z",
      "updated_at": "2025-10-23T21:28:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31664.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2935014000), [frankomosh](https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3180636267), [polespinasa](https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3201704367) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33218](https://github.com/bitcoin/bitcoin/pull/33218) (refactor: rename `fees.{h,cpp}` to `fees/block_policy_estimator.{h,cpp}` by ismaelsadeeq)\n* [#33199](https://github.com/bitcoin/bitcoin/pull/33199) (fees: enable `CBlockPolicyEstimator` return sub 1 sat/vb fee rate estimates by ismaelsadeeq)\n* [#32983](https://github.com/bitcoin/bitcoin/pull/32983) (rpc: refactor: use string_view in Arg/MaybeArg by stickies-v)\n* [#32395](https://github.com/bitcoin/bitcoin/pull/32395) (fees: rpc: `estimatesmartfee` now returns a fee rate estimate during low network activity by ismaelsadeeq)\n* [#31382](https://github.com/bitcoin/bitcoin/pull/31382) (kernel: Flush in ChainstateManager destructor by TheCharlatan)\n* [#31260](https://github.com/bitcoin/bitcoin/pull/31260) (scripted-diff: Type-safe settings retrieval by ryanofsky)\n* [#28690](https://github.com/bitcoin/bitcoin/pull/28690) (build: Introduce internal kernel library by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2593999478",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 16034779326,
      "node_id": "LE_lADOABII586mWxXrzwAAAAO7v1C-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16034779326",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T20:57:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16035664389,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAO7zNIF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035664389",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "created_at": "2025-01-22T22:28:33Z"
    },
    {
      "event": "unlabeled",
      "id": 16036017354,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAO70jTK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16036017354",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T23:17:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 16283665927,
      "node_id": "LE_lADOABII586mWxXrzwAAAAPKlQYH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16283665927",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T16:15:21Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 2750226421,
      "node_id": "PRR_kwDOABII586j7R_1",
      "url": null,
      "actor": null,
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-08T14:32:14Z",
      "author_association": "NONE",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2750226421",
      "submitted_at": "2025-04-08T14:32:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "commented",
      "id": 2786767247,
      "node_id": "IC_kwDOABII586mGrGP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2786767247",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T15:06:55Z",
      "updated_at": "2025-04-08T15:06:55Z",
      "author_association": "MEMBER",
      "body": "There is going to be a review club tomorrow on this PR\r\nhttps://bitcoincore.reviews/31664 notes and questions are up",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2786767247",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 17193152254,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQAyq7-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17193152254",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T17:05:02Z",
      "label": {
        "name": "Review club",
        "color": "0052cc"
      }
    },
    {
      "event": "reviewed",
      "id": 2754169488,
      "node_id": "PRR_kwDOABII586kKUqQ",
      "url": null,
      "actor": null,
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-09T18:12:15Z",
      "author_association": "MEMBER",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2754169488",
      "submitted_at": "2025-04-09T18:12:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "commented",
      "id": 2792149557,
      "node_id": "IC_kwDOABII586mbNI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2792149557",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-10T09:35:02Z",
      "updated_at": "2025-04-10T09:35:02Z",
      "author_association": "MEMBER",
      "body": "I will update the PR to address recent comments, I also want to remove some redundancy and restructure the commits.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2792149557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "reviewed",
      "id": 2757094288,
      "node_id": "PRR_kwDOABII586kVeuQ",
      "url": null,
      "actor": null,
      "commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-10T14:35:27Z",
      "author_association": "MEMBER",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2757094288",
      "submitted_at": "2025-04-10T14:35:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17238766259,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQDgrKz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238766259",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9455f2f0927014f2cc2495d432be635b58cc8fe2",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/9455f2f0927014f2cc2495d432be635b58cc8fe2",
      "created_at": "2025-04-13T14:19:48Z"
    },
    {
      "event": "commented",
      "id": 2799975088,
      "node_id": "IC_kwDOABII586m5Dqw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2799975088",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:51Z",
      "updated_at": "2025-04-13T14:28:51Z",
      "author_association": "MEMBER",
      "body": "Forced pushed c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69..9455f2f0927014f2cc2495d432be635b58cc8fe2\r\n\r\nI've made the following changes:\r\n1. Rebased on `master`.\r\n2. Reorganized the commits (refactor comes first).\r\n3. Squashed the structure-related commits into one.\r\n4. Addressed comments by @glozow.\r\n5. Removed some redundancy and things that seemed like YAGNI.\r\n6. Comparison of forecast results is now based on fee rate, and we now return `\"economical\"` by default—following comments by @polespinasa and @monlovesmango in the recent review club meeting.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2799975088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "mentioned",
      "id": 17238785941,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785941",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:52Z"
    },
    {
      "event": "subscribed",
      "id": 17238785945,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785945",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "mentioned",
      "id": 17238785948,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785948",
      "actor": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "subscribed",
      "id": 17238785950,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785950",
      "actor": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "mentioned",
      "id": 17238785951,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785951",
      "actor": {
        "login": "monlovesmango",
        "id": 96307647,
        "node_id": "U_kgDOBb2Jvw",
        "avatar_url": "https://avatars.githubusercontent.com/u/96307647?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/monlovesmango",
        "html_url": "https://github.com/monlovesmango",
        "followers_url": "https://api.github.com/users/monlovesmango/followers",
        "following_url": "https://api.github.com/users/monlovesmango/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/monlovesmango/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/monlovesmango/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/monlovesmango/subscriptions",
        "organizations_url": "https://api.github.com/users/monlovesmango/orgs",
        "repos_url": "https://api.github.com/users/monlovesmango/repos",
        "events_url": "https://api.github.com/users/monlovesmango/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/monlovesmango/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "subscribed",
      "id": 17238785953,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785953",
      "actor": {
        "login": "monlovesmango",
        "id": 96307647,
        "node_id": "U_kgDOBb2Jvw",
        "avatar_url": "https://avatars.githubusercontent.com/u/96307647?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/monlovesmango",
        "html_url": "https://github.com/monlovesmango",
        "followers_url": "https://api.github.com/users/monlovesmango/followers",
        "following_url": "https://api.github.com/users/monlovesmango/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/monlovesmango/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/monlovesmango/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/monlovesmango/subscriptions",
        "organizations_url": "https://api.github.com/users/monlovesmango/orgs",
        "repos_url": "https://api.github.com/users/monlovesmango/repos",
        "events_url": "https://api.github.com/users/monlovesmango/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/monlovesmango/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "labeled",
      "id": 17257146883,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQEmyoD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17257146883",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-14T22:50:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17266129161,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQFJDkJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17266129161",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a665ff19acf2a1356b7c2376379a9d265fdc8add",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/a665ff19acf2a1356b7c2376379a9d265fdc8add",
      "created_at": "2025-04-15T09:59:42Z"
    },
    {
      "event": "unlabeled",
      "id": 17267517148,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQFOWbc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17267517148",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T11:31:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17408577297,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQNoc8R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17408577297",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9ae158581ba968931a2c5ab5bd829217d5994470",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/9ae158581ba968931a2c5ab5bd829217d5994470",
      "created_at": "2025-04-25T15:42:26Z"
    },
    {
      "event": "reviewed",
      "id": 2795860272,
      "node_id": "PRR_kwDOABII586mpXEw",
      "url": null,
      "actor": null,
      "commit_id": "9ae158581ba968931a2c5ab5bd829217d5994470",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-04-26T09:23:52Z",
      "author_association": "MEMBER",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2795860272",
      "submitted_at": "2025-04-26T09:23:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17423720626,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQOiOCy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17423720626",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "75e6bb5ada83fe44a259d4789e2ebabb31c19557",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/75e6bb5ada83fe44a259d4789e2ebabb31c19557",
      "created_at": "2025-04-27T13:06:12Z"
    },
    {
      "event": "comment_deleted",
      "id": 17425297279,
      "node_id": "CDE_lADOABII586mWxXrzwAAAAQOoO9_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17425297279",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-27T23:47:53Z"
    },
    {
      "event": "labeled",
      "id": 17642794137,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQbl6yZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17642794137",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-13T21:15:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17653488426,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQcOtsq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17653488426",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d5a5d21520d2f7bb7d4f1b0ee2068a5f2398a82d",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/d5a5d21520d2f7bb7d4f1b0ee2068a5f2398a82d",
      "created_at": "2025-05-14T13:11:56Z"
    },
    {
      "event": "unlabeled",
      "id": 17654936419,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQcUPNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17654936419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-14T14:24:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17730674315,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQg1J6L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17730674315",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T09:43:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17741856939,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQhf0Cr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17741856939",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/cc4794b699cc2eea2f3d484cead665bd6605923f",
      "created_at": "2025-05-20T21:12:01Z"
    },
    {
      "event": "unlabeled",
      "id": 17742834903,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQhjizX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17742834903",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T23:06:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17743837115,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQhnXe7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17743837115",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T01:16:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2896186211,
      "node_id": "IC_kwDOABII586soEtj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2896186211",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T01:16:28Z",
      "updated_at": "2025-05-21T01:16:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `previous releases, depends DEBUG`: https://github.com/bitcoin/bitcoin/runs/42588192236</sub>\n<sub>LLM reason (✨ experimental): The CI failure is due to a build error: an uninitialized variable in `forecaster_man.cpp` causes a compilation failure.\n</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2896186211",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "reviewed",
      "id": 2856553062,
      "node_id": "PRR_kwDOABII586qQ4pm",
      "url": null,
      "actor": null,
      "commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-21T07:07:37Z",
      "author_association": "MEMBER",
      "body": "(from the llm linter)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2856553062",
      "submitted_at": "2025-05-21T07:07:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17753364037,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQiLtZF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17753364037",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "created_at": "2025-05-21T12:56:17Z"
    },
    {
      "event": "reviewed",
      "id": 2858027514,
      "node_id": "PRR_kwDOABII586qWgn6",
      "url": null,
      "actor": null,
      "commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-05-21T14:45:34Z",
      "author_association": "MEMBER",
      "body": "(one more lint, also the ci test-each-commit failed)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2858027514",
      "submitted_at": "2025-05-21T14:45:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "unlabeled",
      "id": 17758221877,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQiePY1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17758221877",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T17:30:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17759041800,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQihXkI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17759041800",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7eb2eff225af4cc51d7ce30b2e28db5594adf4b7",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/7eb2eff225af4cc51d7ce30b2e28db5594adf4b7",
      "created_at": "2025-05-21T18:31:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17759394099,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQiitkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17759394099",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/f79873fb512c20a97c5a6286118ef5b85df05027",
      "created_at": "2025-05-21T18:59:29Z"
    },
    {
      "event": "reviewed",
      "id": 2916666132,
      "node_id": "PRR_kwDOABII586t2MsU",
      "url": null,
      "actor": null,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-11T20:22:48Z",
      "author_association": "MEMBER",
      "body": "This looks pretty complete now, nice work.\r\n\r\nSlightly sad it's not wired up to the rpc for so I could do some live testing, but the unit tests confirm the expected behaviour.\r\n\r\nLeft a few comments about possibly allowing some of the mempool-based fee estimator constants to be altered at startup, as I suspect those will be wanted. But otherwise, this looks good to me!",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2916666132",
      "submitted_at": "2025-06-11T20:22:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18112036268,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQ3j72s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18112036268",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bad72f1a24585768f4bac937a17597879063400e",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/bad72f1a24585768f4bac937a17597879063400e",
      "created_at": "2025-06-12T10:09:54Z"
    },
    {
      "event": "commented",
      "id": 2966076465,
      "node_id": "IC_kwDOABII586wyrwx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2966076465",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T10:33:14Z",
      "updated_at": "2025-06-12T10:33:14Z",
      "author_association": "MEMBER",
      "body": "> This looks pretty complete now, nice work.\r\n\r\nThanks 👍🏾 \r\n\r\n> Slightly sad it's not wired up to the rpc for so I could do some live testing, but the unit tests confirm the expected behaviour.\r\n\r\nPlease do it is implemented in the complete PR  https://github.com/bitcoin/bitcoin/pull/30157, the RPC changes is next to review If we manage to get this in.\r\n\r\n> Left a few comments about possibly allowing some of the mempool-based fee estimator constants to be altered at startup, as I suspect those will be wanted. But otherwise, this looks good to me!\r\n\r\nI've responded to all comments and forced pushed from f79873fb512c20a97c5a6286118ef5b85df05027 to bad72f1a24585768f4bac937a17597879063400e [df05027..bad72f1a](https://github.com/bitcoin/bitcoin/compare/f79873fb512c20a97c5a6286118ef5b85df05027..bad72f1a24585768f4bac937a17597879063400e) to address others.\r\n\r\nThe changes are minor:\r\n\r\n- Updated variable name to match doc guideline and be correct\r\n- Improve comments correctness",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2966076465",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "reviewed",
      "id": 2935014000,
      "node_id": "PRR_kwDOABII586u8MJw",
      "url": null,
      "actor": null,
      "commit_id": "bad72f1a24585768f4bac937a17597879063400e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-06-17T11:55:48Z",
      "author_association": "MEMBER",
      "body": "ACK bad72f1a24585768f4bac937a17597879063400e\r\n\r\nReviewed the code and built and ran the tests. Also did various manual tests with commits picked from #30157.\r\n\r\nThis is a great step towards getting a native mempool-based fee estimator, along with providing a clean interface into which additional future fee estimators could more easily be added.\r\n\r\nI'm still of the opinion that folks may want some of the constants here to be configuration options (for better or for worse), but that can easily be done in a follow-up.\r\n\r\nI like that this change as currently structured doesn't conflict with the main cluster mempool changes. Merging here does not require code changes there (other than perhaps a rebase), and upgrading the mempool-based estimator here to take advantage of cluster mempool in the future is a separate, independent change which can be done (or not) after cluster mempool is activated.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2935014000",
      "submitted_at": "2025-06-17T11:55:48Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "labeled",
      "id": 18461550937,
      "node_id": "LE_lADOABII586mWxXrzwAAAARMZOlZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18461550937",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-03T23:13:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18509114232,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAARPOqt4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18509114232",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f9b811cb041c14d514f3e41bc8c944b83b37e066",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/f9b811cb041c14d514f3e41bc8c944b83b37e066",
      "created_at": "2025-07-07T16:30:00Z"
    },
    {
      "event": "commented",
      "id": 3045932178,
      "node_id": "IC_kwDOABII5861jTyS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3045932178",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-07T16:58:36Z",
      "updated_at": "2025-07-07T16:58:36Z",
      "author_association": "MEMBER",
      "body": "Rebased to address conflict [diff](https://github.com/bitcoin/bitcoin/compare/bad72f1a24585768f4bac937a17597879063400e..f9b811cb041c14d514f3e41bc8c944b83b37e066)",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3045932178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "unlabeled",
      "id": 18509648974,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAARPQtRO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18509648974",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-07T17:02:09Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18814221226,
      "node_id": "LE_lADOABII586mWxXrzwAAAARhajuq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18814221226",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-25T12:52:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18881196268,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAARlaDDs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18881196268",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "26632b96f49a2e0a40cda479bd1eba0cb41333e1",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/26632b96f49a2e0a40cda479bd1eba0cb41333e1",
      "created_at": "2025-07-29T15:17:46Z"
    },
    {
      "event": "unlabeled",
      "id": 18882179405,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAARldzFN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18882179405",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-29T16:09:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "review_requested",
      "id": 18941203705,
      "node_id": "RRE_lADOABII586mWxXrzwAAAARo-9T5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18941203705",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T14:39:02Z",
      "requested_reviewer": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18941205810,
      "node_id": "RRE_lADOABII586mWxXrzwAAAARo-90y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18941205810",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T14:39:08Z",
      "requested_reviewer": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18941246284,
      "node_id": "RRE_lADOABII586mWxXrzwAAAARo_HtM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18941246284",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T14:41:26Z",
      "requested_reviewer": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18941247493,
      "node_id": "RRE_lADOABII586mWxXrzwAAAARo_IAF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18941247493",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T14:41:30Z",
      "requested_reviewer": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18941248361,
      "node_id": "RRE_lADOABII586mWxXrzwAAAARo_INp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18941248361",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T14:41:32Z",
      "requested_reviewer": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 3180636267,
      "node_id": "IC_kwDOABII5869lKhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3180636267",
      "actor": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-12T19:06:52Z",
      "updated_at": "2025-08-12T19:06:52Z",
      "author_association": "NONE",
      "body": "ACK 26632b9; forecasting architecture is well designed. I tested locally and code successfully builds and tests pass.",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3180636267",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 19145287955,
      "node_id": "LE_lADOABII586mWxXrzwAAAAR1JekT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19145287955",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-13T20:43:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19172702311,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAR2yDhn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19172702311",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ba33047b6f3ee468eab250c8515e92b595e08322",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/ba33047b6f3ee468eab250c8515e92b595e08322",
      "created_at": "2025-08-15T08:02:40Z"
    },
    {
      "event": "unlabeled",
      "id": 19173432234,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAR201uq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19173432234",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-15T09:08:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3201656913,
      "node_id": "IC_kwDOABII586-1WhR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3201656913",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-19T17:51:18Z",
      "updated_at": "2025-08-19T17:51:18Z",
      "author_association": "MEMBER",
      "body": "I separate the refactoring commits (first four) into it's own PR  in https://github.com/bitcoin/bitcoin/pull/33218\r\n\r\nHence putting this in draft.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3201656913",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "convert_to_draft",
      "id": 19229708357,
      "node_id": "CTDE_lADOABII586mWxXrzwAAAAR6LhBF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19229708357",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-19T17:51:27Z"
    },
    {
      "event": "reviewed",
      "id": 3133291087,
      "node_id": "PRR_kwDOABII5866wjpP",
      "url": null,
      "actor": null,
      "commit_id": "ba33047b6f3ee468eab250c8515e92b595e08322",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-19T17:56:01Z",
      "author_association": "MEMBER",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-3133291087",
      "submitted_at": "2025-08-19T17:56:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "commented",
      "id": 3201704367,
      "node_id": "IC_kwDOABII586-1iGv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3201704367",
      "actor": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-19T18:07:32Z",
      "updated_at": "2025-08-19T18:07:32Z",
      "author_association": "MEMBER",
      "body": "ACK ba33047b6f3ee468eab250c8515e92b595e08322 reviewed the code and build and run the tests locally.\r\nAdding a mempool-based fee estimation is a great step towards improving Core fee estimation.",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3201704367",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 19269856684,
      "node_id": "LE_lADOABII586mWxXrzwAAAAR8kq2s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19269856684",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-21T16:01:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDliZDQxZjM0Zjg1OTBjOGI0MjAwOGQ4YjIxMTJhOGE3NTRjZmVjMTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9bd41f34f8590c8b42008d8b2112a8a754cfec15",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9bd41f34f8590c8b42008d8b2112a8a754cfec15",
      "tree": {
        "sha": "b00e3d2025a71e313509e1920e9f4ec13cfcd5cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b00e3d2025a71e313509e1920e9f4ec13cfcd5cf"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cc9a087069bfcdb79a08ce77eb3a60adf9483af",
          "sha": "7cc9a087069bfcdb79a08ce77eb3a60adf9483af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7cc9a087069bfcdb79a08ce77eb3a60adf9483af"
        }
      ],
      "message": "fees: refactor: rename policy_fee_tests.cpp to feerounder_tests.cpp\n\n- Also remame the test suite name to match the new name.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:07Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-13T14:58:23Z"
      },
      "sha": "9bd41f34f8590c8b42008d8b2112a8a754cfec15"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVjYWRiODEwODExNzljZDdlMmQ4MmRhMmYyZDhiOTQ3NTI3MjM4Nzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cadb81081179cd7e2d82da2f2d8b94752723878",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5cadb81081179cd7e2d82da2f2d8b94752723878",
      "tree": {
        "sha": "80d09621a9427a9095687037be4dad20558573fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80d09621a9427a9095687037be4dad20558573fd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9bd41f34f8590c8b42008d8b2112a8a754cfec15",
          "sha": "9bd41f34f8590c8b42008d8b2112a8a754cfec15",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9bd41f34f8590c8b42008d8b2112a8a754cfec15"
        }
      ],
      "message": "fees: refactor: rename fees to block_policy_estimator\n\n- Also move it to policy/fees and update the includes",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-09T22:31:05Z"
      },
      "sha": "5cadb81081179cd7e2d82da2f2d8b94752723878"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ4ODM5ZGMzYmNkMjYzOTAxMmU2ZThhOTIzMmUxMDI1Y2FkNDRiNzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48839dc3bcd2639012e6e8a9232e1025cad44b74",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/48839dc3bcd2639012e6e8a9232e1025cad44b74",
      "tree": {
        "sha": "de881d7407705cd63ea5ff828b3a31e7c4b31875",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de881d7407705cd63ea5ff828b3a31e7c4b31875"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cadb81081179cd7e2d82da2f2d8b94752723878",
          "sha": "5cadb81081179cd7e2d82da2f2d8b94752723878",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5cadb81081179cd7e2d82da2f2d8b94752723878"
        }
      ],
      "message": "fees: rename fees_args to block_policy_estimator_args\n\n- Also move them to policy/fees/ and update includes\n- Note: the block_policy_estimator_args.h include in block_policy_estimator_args.cpp was done manually.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T18:10:55Z"
      },
      "sha": "48839dc3bcd2639012e6e8a9232e1025cad44b74"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZhODM4MDg4ODNlNWZiMWExYjRmZDAxYzdjNzc1N2M1YTU2MGMwM2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6a83808883e5fb1a1b4fd01c7c7757c5a560c03a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6a83808883e5fb1a1b4fd01c7c7757c5a560c03a",
      "tree": {
        "sha": "c0036a784d70e3169ec02a60cb0925d48ba4c91e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c0036a784d70e3169ec02a60cb0925d48ba4c91e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48839dc3bcd2639012e6e8a9232e1025cad44b74",
          "sha": "48839dc3bcd2639012e6e8a9232e1025cad44b74",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/48839dc3bcd2639012e6e8a9232e1025cad44b74"
        }
      ],
      "message": "fees: return current block height in `estimateSmartFee`",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-08-12T14:40:20Z"
      },
      "sha": "6a83808883e5fb1a1b4fd01c7c7757c5a560c03a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFlNzBmOTVjMzAzZmM5YWQ0NDFkOGU2NzBkYTdiM2Q3MDI3ZDRhODc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ae70f95c303fc9ad441d8e670da7b3d7027d4a87",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ae70f95c303fc9ad441d8e670da7b3d7027d4a87",
      "tree": {
        "sha": "30491fe6cf0eab10917c6fa9a928f29ba5741ad1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/30491fe6cf0eab10917c6fa9a928f29ba5741ad1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6a83808883e5fb1a1b4fd01c7c7757c5a560c03a",
          "sha": "6a83808883e5fb1a1b4fd01c7c7757c5a560c03a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6a83808883e5fb1a1b4fd01c7c7757c5a560c03a"
        }
      ],
      "message": "fees: add forecaster structures\n\ni  - Forecaster abstract class is the base class of fee rate forecasters.\n     Derived classes must provide concrete implementation\n     of the virtual methods.\n\nii - ForecastResult struct represent the response returned by\n     a fee rate forecaster.\n\niii - ForecastType will be used to identify forecasters.\n      Each time a new forecaster is added, a corresponding\n      enum value should be added to ForecastType.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-10T08:54:14Z"
      },
      "sha": "ae70f95c303fc9ad441d8e670da7b3d7027d4a87"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQyNjcxMjIzNDc1MzMyMmMxNGEzNDVhYThiNjQxYTQ4Y2MzMDFjYzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/426712234753322c14a345aa8b641a48cc301cc6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/426712234753322c14a345aa8b641a48cc301cc6",
      "tree": {
        "sha": "cbc6a159acfd757dcd12d03760ab5b68f3685e7e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cbc6a159acfd757dcd12d03760ab5b68f3685e7e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ae70f95c303fc9ad441d8e670da7b3d7027d4a87",
          "sha": "ae70f95c303fc9ad441d8e670da7b3d7027d4a87",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ae70f95c303fc9ad441d8e670da7b3d7027d4a87"
        }
      ],
      "message": "fees: add ForecasterMan class\n\n- Its a module for managing and utilising multiple\n  fee rate forecasters to provide fee rate forecast.\n\n- The ForecasterManager class allows for the registration of\n  multiple fee rate forecasters.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-10T08:35:23Z"
      },
      "sha": "426712234753322c14a345aa8b641a48cc301cc6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc5NGFmM2JjODUxMWZlOGQ3NTgxZTA0OTZhNjk5NWU1MWI5ZGNmOGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/794af3bc8511fe8d7581e0496a6995e51b9dcf8e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/794af3bc8511fe8d7581e0496a6995e51b9dcf8e",
      "tree": {
        "sha": "86822709754e975a9b7fa0148a3637f02bc5c218",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/86822709754e975a9b7fa0148a3637f02bc5c218"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/426712234753322c14a345aa8b641a48cc301cc6",
          "sha": "426712234753322c14a345aa8b641a48cc301cc6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/426712234753322c14a345aa8b641a48cc301cc6"
        }
      ],
      "message": "fees: make block_policy_estimator a forecaster",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-13T22:59:06Z"
      },
      "sha": "794af3bc8511fe8d7581e0496a6995e51b9dcf8e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYyMGFhZDM0ZGE3OWQ5MWRkOTNlYWQzNTE1YmU0ZmVjMWM5NWU2MTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/620aad34da79d91dd93ead3515be4fec1c95e612",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/620aad34da79d91dd93ead3515be4fec1c95e612",
      "tree": {
        "sha": "da59eeefb83b6d765af96ed60b8a40f7dcf71f0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/da59eeefb83b6d765af96ed60b8a40f7dcf71f0d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/794af3bc8511fe8d7581e0496a6995e51b9dcf8e",
          "sha": "794af3bc8511fe8d7581e0496a6995e51b9dcf8e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/794af3bc8511fe8d7581e0496a6995e51b9dcf8e"
        }
      ],
      "message": "fees: add block policy estimator to forecaster manager\n\n- This changes `CBlockPolicyEstimator` to a shared pointer\n  this gives us three advantages.\n   - Registering to validation interface using shared pointer\n   - Scheduling block policy estimator flushes using shared pointer\n   - Registering block policy estimator to forecaster_man",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T18:44:28Z"
      },
      "sha": "620aad34da79d91dd93ead3515be4fec1c95e612"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc4OWY2MzEzMmVkYTEwZmIxOGI5YWM5NjljNGUyNjdjZDM5Nzc3MGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/789f63132eda10fb18b9ac969c4e267cd397770f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/789f63132eda10fb18b9ac969c4e267cd397770f",
      "tree": {
        "sha": "57d830b690878401091238b1b67f2a42b8eec256",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/57d830b690878401091238b1b67f2a42b8eec256"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/620aad34da79d91dd93ead3515be4fec1c95e612",
          "sha": "620aad34da79d91dd93ead3515be4fec1c95e612",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/620aad34da79d91dd93ead3515be4fec1c95e612"
        }
      ],
      "message": "fees: add `forecastTypeToString` method\n\n- This method converts a ForecastType enum to its\n  string representation.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-02T18:46:32Z"
      },
      "sha": "789f63132eda10fb18b9ac969c4e267cd397770f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDllYzI4Njc4ZWZlZmM5NmRhNWFmMWE5ZDdkYjY4MTdkN2QwNDRlODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ec28678efefc96da5af1a9d7db6817d7d044e83",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9ec28678efefc96da5af1a9d7db6817d7d044e83",
      "tree": {
        "sha": "9137f2aa866dd086ea4a31ab7839404754d0b231",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9137f2aa866dd086ea4a31ab7839404754d0b231"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/789f63132eda10fb18b9ac969c4e267cd397770f",
          "sha": "789f63132eda10fb18b9ac969c4e267cd397770f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/789f63132eda10fb18b9ac969c4e267cd397770f"
        }
      ],
      "message": "fees: add `CalculatePercentiles` function\n\n- The CalculatePercentiles function, given\n  a vector of feerates in the order they were added\n  to the block, will return the 25th, 50th, 75th,\n  and 95th percentile feerates.\n\n- Also add a unit test for this function.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T16:26:09Z"
      },
      "sha": "9ec28678efefc96da5af1a9d7db6817d7d044e83"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDliYzNhNGU5MGQyOTFiNzMwMjMzNTI2NGFlOTQxMjIxODY1ZTk1ZjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9bc3a4e90d291b7302335264ae941221865e95f4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9bc3a4e90d291b7302335264ae941221865e95f4",
      "tree": {
        "sha": "0e7ea4196f03e82ba5ed992b297087c760992515",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0e7ea4196f03e82ba5ed992b297087c760992515"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ec28678efefc96da5af1a9d7db6817d7d044e83",
          "sha": "9ec28678efefc96da5af1a9d7db6817d7d044e83",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9ec28678efefc96da5af1a9d7db6817d7d044e83"
        }
      ],
      "message": "fees: add `MemPoolForecaster` class\n\n- The mempool forecaster uses the unconfirmed transactions in the mempool\n  to generate a fee rate that a package should have for it to confirm as soon as possible.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-11-13T18:34:33Z"
      },
      "sha": "9bc3a4e90d291b7302335264ae941221865e95f4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY4NGVjMzY2ZTNjMDI4NWY0NjgzNGFhMTJhOTk3M2RjMDBjNDEzNWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/684ec366e3c0285f46834aa12a9973dc00c4135d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/684ec366e3c0285f46834aa12a9973dc00c4135d",
      "tree": {
        "sha": "bff8309af7886fc40f6a4756c17753b89c56f779",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bff8309af7886fc40f6a4756c17753b89c56f779"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9bc3a4e90d291b7302335264ae941221865e95f4",
          "sha": "9bc3a4e90d291b7302335264ae941221865e95f4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9bc3a4e90d291b7302335264ae941221865e95f4"
        }
      ],
      "message": "test: add mempool forecaster unit test",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-11-13T18:36:45Z"
      },
      "sha": "684ec366e3c0285f46834aa12a9973dc00c4135d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmNjNjNGM0ZjcyZTczYTc5YzllN2Q5YjIxYWRiZjg2Y2MyMDJkN2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e",
      "tree": {
        "sha": "a2254dd3af87cf5b05576bb862f364c4cb7040f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2254dd3af87cf5b05576bb862f364c4cb7040f1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/684ec366e3c0285f46834aa12a9973dc00c4135d",
          "sha": "684ec366e3c0285f46834aa12a9973dc00c4135d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/684ec366e3c0285f46834aa12a9973dc00c4135d"
        }
      ],
      "message": "fees: cache `MemPoolPolicyEstimator` forecasts\n\n- Provide new forecast only when the time delta from previous\n  forecast is older than 30 seconds.\n\n- This caching helps avoid the high cost of frequently generating block templates.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-25T15:18:26Z"
      },
      "sha": "af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM1M2NkYmQ0ZmY1YWUxMmJjNjkwMGIzOGM0ZjczODIyOTg4MTZiNzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "tree": {
        "sha": "76b26a2c238cb222e6c6c5ddd3b56ab362235f6d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/76b26a2c238cb222e6c6c5ddd3b56ab362235f6d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e",
          "sha": "af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/af63c4c4f72e73a79c9e7d9b21adbf86cc202d7e"
        }
      ],
      "message": "fees: add `ForecastFeeRateFromForecasters` method\n\n- Polls all registered forecasters and selects the lowest fee rate.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "abubakarsadiqismail@proton.me",
        "date": "2025-09-01T18:49:27Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T17:57:02Z"
      },
      "sha": "353cdbd4ff5ae12bc6900b38c4f7382298816b75"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19447137090,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAASHI8NC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19447137090",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "created_at": "2025-09-01T19:18:47Z"
    },
    {
      "event": "commented",
      "id": 3243132085,
      "node_id": "IC_kwDOABII587BTkS1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3243132085",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-01T19:20:28Z",
      "updated_at": "2025-09-01T19:20:28Z",
      "author_association": "MEMBER",
      "body": "Rebased due to merge conflict.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-3243132085",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "unlabeled",
      "id": 19447505082,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAASHKWC6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19447505082",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-01T20:07:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033340253",
      "pull_request_review_id": 2750226421,
      "id": 2033340253,
      "node_id": "PRRC_kwDOABII5855Mk9d",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": 1,
      "original_position": 50,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": null,
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "from my understanding here, the manager is to always choose a forecast having the lowest high_priority fee rate from\r\n\r\n```bash\r\nbool operator<(const ForecastResult& other) const { return m_response.high_priority << other.m_response.high_priority; }\r\n\r\n```\r\n\r\nassuming we have mempool congestion spikes or other time-sensitive operations, wouldn’t we have a problem with underpayment if we always taking the minimum fee estimate here?",
      "created_at": "2025-04-08T14:32:14Z",
      "updated_at": "2025-04-08T14:32:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2033340253",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033340253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033410318",
      "pull_request_review_id": 2750348550,
      "id": 2033410318,
      "node_id": "PRRC_kwDOABII5855M2EO",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": 1,
      "original_position": 50,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good question, @frankomosh.\r\n\r\nYou're right to think the lowest fee rate might be an underestimate during instant spikes.\r\n\r\nThis approach was specifically chosen to address the concern raised by @harding here: https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703/6.\r\n\r\nAlthough the concern is currently theoretical, @harding raised a valid point, and it seems reasonable to use mempool forecasts to adjust or correct block policy forecasts.\r\n\r\nEmpirical data also shows that this approach maintains around 60% accuracy, which performs better than the current status quo for economical fee rate forecasts: https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703/8?u=ismaelsadeeq.\r\n\r\nMy goal is to fix these issues with the following steps:\r\n\r\n1. Select the lower value between the mempool forecast and the block policy forecast.\r\n2. Return the certainty level of the mempool fee rate forecast based on statistics from previous block data in the next PR after this — see the POC here: https://github.com/bitcoin/bitcoin/pull/30157.\r\n3. Use fee rate forecast from forecaster manager in the wallet \r\n\r\nPotential Next Steps\r\n\r\n1. Ensure the mempool is not being manipulated, and use the mempool forecast even during congestion for ASAP fee rate estimates. / Or expose the mempool state so users can fee bump when congestion persists and they absolutely need to do so.\r\n2. Switch to a more economical fee rate forecaster for the long term, because the current one pays more than necessary, as by quite a large margin see research https://bitcoin.stackexchange.com/questions/124227/utility-of-longterm-fee-estimation/.\r\n",
      "created_at": "2025-04-08T15:06:05Z",
      "updated_at": "2025-04-08T15:06:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2033410318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033410318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2034696995",
      "pull_request_review_id": 2752429651,
      "id": 2034696995,
      "node_id": "PRRC_kwDOABII5855RwMj",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": 1,
      "original_position": 50,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, @ismaelsadeeq, for sharing more context on this topic. I now see and understand why you took this approach. I think that the plan for improvement is also solid.\r\n\r\nIn `1. Select the lower value between the mempool forecast and the block policy forecast.` I appreciate the approach of selecting the lower value forecasters to avoid fee overpayment. \r\n\r\nAdditionally,  I would like to ask if we could improve accuracy by implementing a weighted selection strategy based on confirmation targets (this is just theoretical thinking since I haven’t done any tests on it).\r\n\r\nFrom the little context I have tried to gather, I see that different forecasters seem to do well in different scenarios i.e `CBlockPolicyEstimator` likely offers a more reliable estimates during periods of stability and for longer confirmation targets, while the `MempoolForecaster` might offer better predictions during rapid changes and for immediate confirmation targets of like (1-2 blocks).\r\n\r\nWould it, therefore, be worth considering a more targeted approach where we prefer MempoolForecaster for short-term targets and gradually shift to CBlockPolicyEstimator for longer-term targets of 3+ blocks? \r\n\r\nI think this could maintain the fee savings of your current approach while improving accuracy in time-sensitive scenarios where underpayment could have repercussions for users. \r\nEven if not for this PR, it might be something to consider for a future enhancement.\r\n\r\n(Note that I’m making assumptions here and have not looked into the overhead of actually doing this.)",
      "created_at": "2025-04-09T07:41:46Z",
      "updated_at": "2025-04-09T07:41:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2034696995",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2034696995"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035021352",
      "pull_request_review_id": 2752914132,
      "id": 2035021352,
      "node_id": "PRRC_kwDOABII5855S_Yo",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": 1,
      "original_position": 50,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Mempool forecaster only provide fee rate forecast for 1-2 blocks.\r\nsee `MEMPOOL_FORECAST_MAX_TARGET` constant in  https://github.com/bitcoin/bitcoin/pull/31664/commits/c7cdeafd7045c794b289e2438cc60baeee7e6f69\r\n\r\n",
      "created_at": "2025-04-09T10:04:26Z",
      "updated_at": "2025-04-09T10:52:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035021352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035021352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035786192",
      "pull_request_review_id": 2754169488,
      "id": 2035786192,
      "node_id": "PRRC_kwDOABII5855V6HQ",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 128,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Are there any specific ideas for another `ConfirmationTargetType`? The only type defined here is a number of blocks (which could just be an integer) so I'm wondering why the complexity?",
      "created_at": "2025-04-09T17:04:05Z",
      "updated_at": "2025-04-09T18:12:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035786192",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035786192"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035883246",
      "pull_request_review_id": 2754169488,
      "id": 2035883246,
      "node_id": "PRRC_kwDOABII5855WRzu",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 1,
      "original_position": 40,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this might just be a personal opinion, but \"low priority\" and \"high priority\" usually mean different block targets to me. people who are accustomed to the mempool.space wording might say the same. but really, here and in the `MempoolForecaster`, it's a measure of how conservative/confident we are in our estimate no?\r\n\r\n![image](https://github.com/user-attachments/assets/11477535-87d2-4ad7-b9ab-4f3d6b95c86a)\r\n",
      "created_at": "2025-04-09T18:11:13Z",
      "updated_at": "2025-04-09T18:12:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035883246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035883246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035947015",
      "pull_request_review_id": 2754452475,
      "id": 2035947015,
      "node_id": "PRRC_kwDOABII5855WhYH",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 1,
      "original_position": 40,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": 2035883246,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point Yes, it will be better to maintain the conservative and economical name?\r\nHappy to update.",
      "created_at": "2025-04-09T18:54:37Z",
      "updated_at": "2025-04-09T18:54:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035947015",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035947015"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035983336",
      "pull_request_review_id": 2754507521,
      "id": 2035983336,
      "node_id": "PRRC_kwDOABII5855WqPo",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 128,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, as is now, it might seem like overkill (though it will be useful in the future). This is just forward-looking I believe that, realistically, businesses and users care more about time in minutes or hours, etc.\r\n\r\nSo, I envision a fee rate forecaster that accepts input based on time in hours rather than blocks. For example: 'Give me a fee rate that will allow my transaction to confirm within the next 4 hours.'\r\n\r\nthis is a wishful thinking for now; no concrete idea or even reviewable design about it\r\nI don’t have a strong opinion on this we can easily refactor and enable it when needed.\r\n\r\nHappy to remove it if we prefer to keep only structures that are used immediately.",
      "created_at": "2025-04-09T19:07:13Z",
      "updated_at": "2025-04-09T19:07:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035983336",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035983336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2036045272",
      "pull_request_review_id": 2754621531,
      "id": 2036045272,
      "node_id": "PRRC_kwDOABII5855W5XY",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 128,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If there aren't any concrete ideas, it seems better to add the extra complexity if/when there is a reason to. fwiw I don't see why translating between hours and blocks would require another target type?",
      "created_at": "2025-04-09T19:48:33Z",
      "updated_at": "2025-04-09T19:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2036045272",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2036045272"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2037576101",
      "pull_request_review_id": 2757094288,
      "id": 2037576101,
      "node_id": "PRRC_kwDOABII5855cvGl",
      "diff_hunk": "@@ -31,6 +31,13 @@ ForecastResult MemPoolForecaster::EstimateFee(ConfirmationTarget& target)\n                                             target.value, MEMPOOL_FORECAST_MAX_TARGET, MEMPOOL_FORECAST_MAX_TARGET));\n     }\n \n+    const auto cached_estimate = cache.get();",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Already commented during the [review club](https://bitcoincore.reviews/31664) but leaving a comment to make it easy to track.\r\n\r\nThe cache should not be returned when there is a chain reorganization. This can be done by simply checking if there was a reorganization during the last `CACHE_LIFE` window or by clearing the cache after a reorganization.\r\n\r\nPersonally, clearing the cache seems to me to be the best option, since the method can also be used for testing, as we may want to call the forecaster several times and do not want the cache to influence it.",
      "created_at": "2025-04-10T14:35:27Z",
      "updated_at": "2025-04-10T14:35:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2037576101",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2037576101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135708",
      "pull_request_review_id": 2762770842,
      "id": 2041135708,
      "node_id": "PRRC_kwDOABII5855qUJc",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 128,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed in recent push.",
      "created_at": "2025-04-13T14:21:45Z",
      "updated_at": "2025-04-13T14:21:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2041135708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135772",
      "pull_request_review_id": 2762770887,
      "id": 2041135772,
      "node_id": "PRRC_kwDOABII5855qUKc",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 1,
      "original_position": 40,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": 2035883246,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is fixed now.",
      "created_at": "2025-04-13T14:22:00Z",
      "updated_at": "2025-04-13T14:22:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2041135772",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060485327",
      "pull_request_review_id": 2794560207,
      "id": 2060485327,
      "node_id": "PRRC_kwDOABII58560ILP",
      "diff_hunk": "@@ -31,6 +31,13 @@ ForecastResult MemPoolForecaster::EstimateFee(ConfirmationTarget& target)\n                                             target.value, MEMPOOL_FORECAST_MAX_TARGET, MEMPOOL_FORECAST_MAX_TARGET));\n     }\n \n+    const auto cached_estimate = cache.get();",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "in_reply_to_id": 2037576101,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Even better, I modified `CachedMempoolForecast` to store the last known tip.\r\nNow, the mempool forecaster will only return the cached fee rate if the last known tip matches the current tip.\r\n\r\nThis also prevents a case where a cache exists but a new block has just been mined and the mempool has been cleared—in such cases, a new block template should be generated instead of using the cache.\r\n\r\nThanks for your review @polespinasa ",
      "created_at": "2025-04-25T15:45:47Z",
      "updated_at": "2025-04-25T15:45:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2060485327",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060485327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2061240293",
      "pull_request_review_id": 2795860272,
      "id": 2061240293,
      "node_id": "PRRC_kwDOABII58563Afl",
      "diff_hunk": "@@ -28,6 +28,13 @@ ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative)\n         return result;\n     }\n \n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto last_tip = cache.get_last_known_tip();\n+    if (cached_estimate && activeTip->nHeight == last_tip) {",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "ed220500c81e91d9c82a287836294ec05187a73c",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I like the new approach!\r\n\r\nWhat do you think about saving the hash and not the heigh? In case of a reorg we could be at the same height and think that nothing happened.\r\n\r\n```\r\nif (chache_estimate && activeTip->phashBlock == last_tip)\r\n...\r\n",
      "created_at": "2025-04-26T09:23:43Z",
      "updated_at": "2025-04-26T09:23:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2061240293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2061240293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2062624207",
      "pull_request_review_id": 2797635809,
      "id": 2062624207,
      "node_id": "PRRC_kwDOABII58568SXP",
      "diff_hunk": "@@ -28,6 +28,13 @@ ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative)\n         return result;\n     }\n \n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto last_tip = cache.get_last_known_tip();\n+    if (cached_estimate && activeTip->nHeight == last_tip) {",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "ed220500c81e91d9c82a287836294ec05187a73c",
      "in_reply_to_id": 2061240293,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-04-27T13:06:38Z",
      "updated_at": "2025-04-27T13:06:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2062624207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2062624207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099526827",
      "pull_request_review_id": 2856553062,
      "id": 2099526827,
      "node_id": "PRRC_kwDOABII5859JDyr",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    ForecastType forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> m_error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's fee rate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return feerate << other.feerate;\n+    }\n+};\n+\n+// Block percentiles fee rate (in BTC/vB).\n+struct Percentiles {\n+    FeeFrac p25; // 25th percentile\n+    FeeFrac p50; // 50th percentile\n+    FeeFrac p75; // 75th percentile\n+    FeeFrac p95; // 5th percentile",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 55,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "could remove the redundant comments, given that at least one of them is wrong?",
      "created_at": "2025-05-21T07:06:59Z",
      "updated_at": "2025-05-21T07:07:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2099526827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099526827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099527580",
      "pull_request_review_id": 2856553062,
      "id": 2099527580,
      "node_id": "PRRC_kwDOABII5859JD-c",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/miner.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <policy/fees/mempool_forecaster.h>\n+#include <policy/policy.h>\n+#include <validation.h>\n+\n+ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = m_forecastType;\n+    LOCK2(cs_main, m_mempool->cs);\n+    auto activeTip = m_chainstate->m_chainman.ActiveTip();\n+    if (!activeTip) {\n+        result.m_error = \"No active chainstate available\";\n+        return result;\n+    }\n+    result.current_block_height = static_cast<unsigned int>(activeTip->nHeight);\n+\n+    if (target > MEMPOOL_FORECAST_MAX_TARGET) {\n+        result.m_error = strprintf(\"Confirmation target %s exceeds the maximum limit of %s. mempool conditions might change\",\n+                                   target, MEMPOOL_FORECAST_MAX_TARGET);\n+        return result;\n+    }\n+\n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto known_chain_tip_hash = cache.get_chain_tip_hash();\n+    if (cached_estimate && *activeTip->phashBlock == known_chain_tip_hash) {\n+        result.feerate = conservative ? cached_estimate->p50 : cached_estimate->p75;\n+        return result;\n+    }\n+\n+    node::BlockAssembler::Options options;\n+    options.test_block_validity = false;\n+    node::BlockAssembler assembler(*m_chainstate, m_mempool, options);\n+\n+    const auto pblocktemplate = assembler.CreateNewBlock();\n+    const auto& m_package_feerates = pblocktemplate->m_package_feerates;\n+    const auto percentiles = CalculatePercentiles(m_package_feerates, DEFAULT_BLOCK_MAX_WEIGHT);\n+    if (percentiles.empty()) {\n+        result.m_error = \"Forecaster unable a fee rate due to insufficient data\";",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 46,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "unable a fee rate -> unable to find a fee rate [Incorrect grammar; \"unable to find\" or \"unable to provide\" would be clearer.]",
      "created_at": "2025-05-21T07:07:25Z",
      "updated_at": "2025-05-21T07:07:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2099527580",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099527580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100220749",
      "pull_request_review_id": 2857613552,
      "id": 2100220749,
      "node_id": "PRRC_kwDOABII5859LtNN",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/miner.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <policy/fees/mempool_forecaster.h>\n+#include <policy/policy.h>\n+#include <validation.h>\n+\n+ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = m_forecastType;\n+    LOCK2(cs_main, m_mempool->cs);\n+    auto activeTip = m_chainstate->m_chainman.ActiveTip();\n+    if (!activeTip) {\n+        result.m_error = \"No active chainstate available\";\n+        return result;\n+    }\n+    result.current_block_height = static_cast<unsigned int>(activeTip->nHeight);\n+\n+    if (target > MEMPOOL_FORECAST_MAX_TARGET) {\n+        result.m_error = strprintf(\"Confirmation target %s exceeds the maximum limit of %s. mempool conditions might change\",\n+                                   target, MEMPOOL_FORECAST_MAX_TARGET);\n+        return result;\n+    }\n+\n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto known_chain_tip_hash = cache.get_chain_tip_hash();\n+    if (cached_estimate && *activeTip->phashBlock == known_chain_tip_hash) {\n+        result.feerate = conservative ? cached_estimate->p50 : cached_estimate->p75;\n+        return result;\n+    }\n+\n+    node::BlockAssembler::Options options;\n+    options.test_block_validity = false;\n+    node::BlockAssembler assembler(*m_chainstate, m_mempool, options);\n+\n+    const auto pblocktemplate = assembler.CreateNewBlock();\n+    const auto& m_package_feerates = pblocktemplate->m_package_feerates;\n+    const auto percentiles = CalculatePercentiles(m_package_feerates, DEFAULT_BLOCK_MAX_WEIGHT);\n+    if (percentiles.empty()) {\n+        result.m_error = \"Forecaster unable a fee rate due to insufficient data\";",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": 1,
      "original_position": 46,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": 2099527580,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thanks fixed.",
      "created_at": "2025-05-21T12:54:36Z",
      "updated_at": "2025-05-21T12:54:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100220749",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100220749"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100227626",
      "pull_request_review_id": 2857623501,
      "id": 2100227626,
      "node_id": "PRRC_kwDOABII5859Lu4q",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    ForecastType forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> m_error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's fee rate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return feerate << other.feerate;\n+    }\n+};\n+\n+// Block percentiles fee rate (in BTC/vB).\n+struct Percentiles {\n+    FeeFrac p25; // 25th percentile\n+    FeeFrac p50; // 50th percentile\n+    FeeFrac p75; // 75th percentile\n+    FeeFrac p95; // 5th percentile",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 55,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": 2099526827,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2025-05-21T12:56:36Z",
      "updated_at": "2025-05-21T12:56:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100227626",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100227626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100486155",
      "pull_request_review_id": 2858027514,
      "id": 2100486155,
      "node_id": "PRRC_kwDOABII5859MuAL",
      "diff_hunk": "@@ -0,0 +1,100 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <logging.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};\n+\n+/**\n+ * CachedMempoolForecast holds a cache of recent fee rate forecast.",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 1,
      "original_position": 28,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "\r\nCachedMempoolForecast holds a cache of recent fee rate forecast. -> CachedMempoolForecast holds a cache of recent fee rate forecasts. [grammatical error: \"forecast\" should be plural when referring to multiple items]\r\n",
      "created_at": "2025-05-21T14:45:18Z",
      "updated_at": "2025-05-21T14:45:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100486155",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100486155"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2101176481",
      "pull_request_review_id": 2859131597,
      "id": 2101176481,
      "node_id": "PRRC_kwDOABII5859PWih",
      "diff_hunk": "@@ -0,0 +1,100 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <logging.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};\n+\n+/**\n+ * CachedMempoolForecast holds a cache of recent fee rate forecast.",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 1,
      "original_position": 28,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "in_reply_to_id": 2100486155,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2025-05-21T21:11:30Z",
      "updated_at": "2025-05-21T21:11:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2101176481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2101176481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139846101",
      "pull_request_review_id": 2916666132,
      "id": 2139846101,
      "node_id": "PRRC_kwDOABII585_i3XV",
      "diff_hunk": "@@ -95,6 +95,7 @@ struct FeeCalculation\n     FeeReason reason = FeeReason::NONE;\n     int desiredTarget = 0;\n     int returnedTarget = 0;\n+    unsigned int bestheight{0};",
      "path": "src/policy/fees/block_policy_estimator.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "73dceb19170f6ce9855cb4bab2499dffc31c42c2",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you touch, to match the rest here?:\r\n\r\n```suggestion\r\n    unsigned int bestHeight{0};\r\n```",
      "created_at": "2025-06-11T11:02:54Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2139846101",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139846101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 98,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139871627",
      "pull_request_review_id": 2916666132,
      "id": 2139871627,
      "node_id": "PRRC_kwDOABII585_i9mL",
      "diff_hunk": "@@ -0,0 +1,47 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    std::optional<ForecastType> forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 30,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n    //! The block height at which the forecast was made.\r\n```",
      "created_at": "2025-06-11T11:13:47Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2139871627",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139871627"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139873433",
      "pull_request_review_id": 2916666132,
      "id": 2139873433,
      "node_id": "PRRC_kwDOABII585_i-CZ",
      "diff_hunk": "@@ -0,0 +1,47 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    std::optional<ForecastType> forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 37,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This could be simplified if you touch:\r\n\r\n```suggestion\r\n     * Compare two ForecastResult objects based on fee rate.\r\n```",
      "created_at": "2025-06-11T11:14:40Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2139873433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139873433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 36,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139979307",
      "pull_request_review_id": 2916666132,
      "id": 2139979307,
      "node_id": "PRRC_kwDOABII585_jX4r",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_H\n+\n+#include <policy/fees/forecaster_util.h>\n+\n+/** \\class Forecaster\n+ *  @brief Abstract base class for fee rate forecasters.\n+ */\n+class Forecaster\n+{\n+protected:\n+    const ForecastType m_forecast_type;\n+\n+public:\n+    explicit Forecaster(ForecastType forecast_type) : m_forecast_type(forecast_type) {}\n+\n+    ForecastType GetForecastType() const { return m_forecast_type; }\n+\n+    /**\n+     * @brief Returns the estimated fee rate for a package to confirm within the given target.\n+     * @param target Confirmation target in blocks.\n+     * @param conservative True if the package cannot be fee bumped later.",
      "path": "src/policy/fees/forecaster.h",
      "position": 1,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```cpp\r\n     * @param conservative True if the package cannot be fee bumped later.\r\n```\r\nIs this description correct? It looks like it passes through to `estimateSmartFee`'s `conservative` param (as I would have expected from the naming), and so not related to fee bumping?",
      "created_at": "2025-06-11T12:14:44Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2139979307",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139979307"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139992763",
      "pull_request_review_id": 2916666132,
      "id": 2139992763,
      "node_id": "PRRC_kwDOABII585_jbK7",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = ForecastType::BLOCK_POLICY;\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate{estimateSmartFee(target, &feeCalcConservative, conservative)};",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 1,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "e50b57a33b7a898616a0abaf63848e200dfa99ca",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you touch, should this really be named `feeCalc*Conservative*`? This might not be a conservative estimate right?",
      "created_at": "2025-06-11T12:21:58Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2139992763",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139992763"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 731,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 732,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140005036",
      "pull_request_review_id": 2916666132,
      "id": 2140005036,
      "node_id": "PRRC_kwDOABII585_jeKs",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;\n+    auto last_tracked_feerate = package_feerates.front();\n+    auto percentiles = Percentiles{};\n+\n+    // Process histogram entries while maintaining monotonicity\n+    for (const auto& curr_feerate : package_feerates) {\n+        accumulated_weight += curr_feerate.size * WITNESS_SCALE_FACTOR;\n+        // Maintain monotonicity by taking the minimum between the current and last tracked fee rate",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 24,
      "original_position": 22,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```\r\n        // Maintain monotonicity by taking the minimum between the current and last tracked fee rate\r\n```\r\n\r\nNice, I like this!",
      "created_at": "2025-06-11T12:28:09Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140005036",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140005036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140023748",
      "pull_request_review_id": 2916666132,
      "id": 2140023748,
      "node_id": "PRRC_kwDOABII585_jivE",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 17,
      "original_position": 15,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I briefly wondered whether it would be worth using `ceil` or `floor` here to avoid any floating point rounding issues, but I can't convince myself that they would cause any practical issues in this case.",
      "created_at": "2025-06-11T12:37:32Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140023748",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140023748"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": 14,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": 17,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140046870",
      "pull_request_review_id": 2916666132,
      "id": 2140046870,
      "node_id": "PRRC_kwDOABII585_joYW",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;\n+    auto last_tracked_feerate = package_feerates.front();\n+    auto percentiles = Percentiles{};\n+\n+    // Process histogram entries while maintaining monotonicity\n+    for (const auto& curr_feerate : package_feerates) {\n+        accumulated_weight += curr_feerate.size * WITNESS_SCALE_FACTOR;\n+        // Maintain monotonicity by taking the minimum between the current and last tracked fee rate\n+        last_tracked_feerate = std::min(last_tracked_feerate, curr_feerate, [](const FeeFrac& a, const FeeFrac& b) {\n+            return std::is_lt(FeeRateCompare(a, b));\n+        });\n+        if (accumulated_weight >= p25_weight && percentiles.p25.IsEmpty()) {\n+            percentiles.p25 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p50_weight && percentiles.p50.IsEmpty()) {\n+            percentiles.p50 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p75_weight && percentiles.p75.IsEmpty()) {\n+            percentiles.p75 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p95_weight && percentiles.p95.IsEmpty()) {\n+            percentiles.p95 = last_tracked_feerate;\n+            break; // Early exit once all percentiles are calculated\n+        }\n+    }\n+\n+    // Return empty percentiles if we couldn't calculate the 95th percentile.",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 43,
      "original_position": 41,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I see why conservatively this might be a sound approach, but does this not make it so that if: \r\n```\r\nsum_of_weights(package_feerates) < (0.95 * DEFAULT_BLOCK_MAX_WEIGHT)\r\n```\r\nthen we would fail to return any estimate at all? This could happen when mempool is (somewhat) empty, for example. And IMO we should be able to return an estimate even in that case?",
      "created_at": "2025-06-11T12:49:01Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140046870",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140046870"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140063685",
      "pull_request_review_id": 2916666132,
      "id": 2140063685,
      "node_id": "PRRC_kwDOABII585_jsfF",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <policy/fees/forecaster.h>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 24,
      "original_position": 16,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I wonder whether we may want to make this value a configuration option? I know some folks definitely look at other mempool-based estimates at time scales longer than this (whilst not being something we'd probably recommend, for the reasons you state)",
      "created_at": "2025-06-11T12:55:45Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140063685",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140063685"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": 22,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140917085",
      "pull_request_review_id": 2916666132,
      "id": 2140917085,
      "node_id": "PRRC_kwDOABII585_m81d",
      "diff_hunk": "@@ -6,14 +6,69 @@\n #define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n \n \n+#include <logging.h>\n #include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n \n class Chainstate;\n class CTxMemPool;\n \n // Fee rate forecasts above this confirmation target are not reliable,\n // as mempool conditions are likely to change.\n constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 1,
      "original_position": 20,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "917750fc164f65134939699c9d379a96836dc78f",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Also wonder here whether folks will want a config option for this...",
      "created_at": "2025-06-11T19:29:15Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140917085",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140917085"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140918271",
      "pull_request_review_id": 2916666132,
      "id": 2140918271,
      "node_id": "PRRC_kwDOABII585_m9H_",
      "diff_hunk": "@@ -22,7 +23,6 @@ class FeeRateForecasterManager\n private:\n     //! Map of all registered forecasters to their shared pointers.\n     std::unordered_map<ForecastType, std::shared_ptr<Forecaster>> forecasters;\n-",
      "path": "src/policy/fees/forecaster_man.h",
      "position": 1,
      "original_position": 12,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you re-touch f79873fb512c20a97c5a6286118ef5b85df05027 you could undo this whitespace change",
      "created_at": "2025-06-11T19:30:10Z",
      "updated_at": "2025-06-11T20:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2140918271",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140918271"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142219150",
      "pull_request_review_id": 2920331695,
      "id": 2142219150,
      "node_id": "PRRC_kwDOABII585_r6uO",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_H\n+\n+#include <policy/fees/forecaster_util.h>\n+\n+/** \\class Forecaster\n+ *  @brief Abstract base class for fee rate forecasters.\n+ */\n+class Forecaster\n+{\n+protected:\n+    const ForecastType m_forecast_type;\n+\n+public:\n+    explicit Forecaster(ForecastType forecast_type) : m_forecast_type(forecast_type) {}\n+\n+    ForecastType GetForecastType() const { return m_forecast_type; }\n+\n+    /**\n+     * @brief Returns the estimated fee rate for a package to confirm within the given target.\n+     * @param target Confirmation target in blocks.\n+     * @param conservative True if the package cannot be fee bumped later.",
      "path": "src/policy/fees/forecaster.h",
      "position": 1,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": 2139979307,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it it correct we also use it to decide which percentile fee rate to return to user in mempool forecaster.\r\n\r\n50th or 75th percentile fee rate.\r\n\r\nThe main idea is that conservative fee rate is for users who are willing to pay a bit higher to increase likelihood of confirmation; because they don't want to fee bump.\r\n\r\nSince all packages can be fee bumped now (due to full rbf).\r\n\r\nI rephrased this to\r\n \"If true, returns a higher fee rate for greater confirmation probability.\" let me know how it sounds.",
      "created_at": "2025-06-12T09:44:32Z",
      "updated_at": "2025-06-12T10:10:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142219150",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142219150"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142250207",
      "pull_request_review_id": 2920331695,
      "id": 2142250207,
      "node_id": "PRRC_kwDOABII585_sCTf",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;\n+    auto last_tracked_feerate = package_feerates.front();\n+    auto percentiles = Percentiles{};\n+\n+    // Process histogram entries while maintaining monotonicity\n+    for (const auto& curr_feerate : package_feerates) {\n+        accumulated_weight += curr_feerate.size * WITNESS_SCALE_FACTOR;\n+        // Maintain monotonicity by taking the minimum between the current and last tracked fee rate\n+        last_tracked_feerate = std::min(last_tracked_feerate, curr_feerate, [](const FeeFrac& a, const FeeFrac& b) {\n+            return std::is_lt(FeeRateCompare(a, b));\n+        });\n+        if (accumulated_weight >= p25_weight && percentiles.p25.IsEmpty()) {\n+            percentiles.p25 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p50_weight && percentiles.p50.IsEmpty()) {\n+            percentiles.p50 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p75_weight && percentiles.p75.IsEmpty()) {\n+            percentiles.p75 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p95_weight && percentiles.p95.IsEmpty()) {\n+            percentiles.p95 = last_tracked_feerate;\n+            break; // Early exit once all percentiles are calculated\n+        }\n+    }\n+\n+    // Return empty percentiles if we couldn't calculate the 95th percentile.",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 43,
      "original_position": 41,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": 2140046870,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice Idea, this lead me to think about doing\r\n```cpp\r\n    const int32_t p95_weight = 0.95 * total_weight;\r\n    int32_t total_package_size = std::accumulate(\r\n        package_feerates.begin(),\r\n        package_feerates.end(),\r\n        0,\r\n        [](int32_t sum, const FeeFrac& f) {\r\n            return sum + f.size;\r\n        }\r\n    );\r\n    // Return empty percentiles if the total packages weight is less than the the 95th percentile weight.\r\n    if (total_package_size < p95_weight) return Percentiles{};\r\n```\r\n\r\nAnd remove the final check at the bottom, but then there might be an edge case were we have more exactly or a little higher weight than the 95th percentile.\r\nBut due to skips while maintaining monotocity we ended up not returning the 95th percentile weight (in such cases we will return incomplete forecast).\r\n\r\n> This could happen when mempool is (somewhat) empty, for example. And IMO we should be able to return an estimate even in that case?\r\n\r\nThis is another seperate discussion of whether we will want to return fee rate forecast when we have sparse data.\r\nI have a PR for that which I ping you for review :) \r\nhttps://github.com/bitcoin/bitcoin/pull/32395",
      "created_at": "2025-06-12T10:01:26Z",
      "updated_at": "2025-06-12T10:10:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142250207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142250207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142268856",
      "pull_request_review_id": 2920412840,
      "id": 2142268856,
      "node_id": "PRRC_kwDOABII585_sG24",
      "diff_hunk": "@@ -95,6 +95,7 @@ struct FeeCalculation\n     FeeReason reason = FeeReason::NONE;\n     int desiredTarget = 0;\n     int returnedTarget = 0;\n+    unsigned int bestheight{0};",
      "path": "src/policy/fees/block_policy_estimator.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "73dceb19170f6ce9855cb4bab2499dffc31c42c2",
      "in_reply_to_id": 2139846101,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think [doc guideline](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c) say camel case, so I switched to that.",
      "created_at": "2025-06-12T10:11:07Z",
      "updated_at": "2025-06-12T10:11:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142268856",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142268856"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 98,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142269615",
      "pull_request_review_id": 2920413810,
      "id": 2142269615,
      "node_id": "PRRC_kwDOABII585_sHCv",
      "diff_hunk": "@@ -0,0 +1,47 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    std::optional<ForecastType> forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 30,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": 2139871627,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2025-06-12T10:11:29Z",
      "updated_at": "2025-06-12T10:11:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142269615",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142269615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142269814",
      "pull_request_review_id": 2920414112,
      "id": 2142269814,
      "node_id": "PRRC_kwDOABII585_sHF2",
      "diff_hunk": "@@ -0,0 +1,47 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    std::optional<ForecastType> forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.",
      "path": "src/policy/fees/forecaster_util.h",
      "position": 1,
      "original_position": 37,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": 2139873433,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Taken",
      "created_at": "2025-06-12T10:11:37Z",
      "updated_at": "2025-06-12T10:11:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142269814",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142269814"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 36,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142270436",
      "pull_request_review_id": 2920415100,
      "id": 2142270436,
      "node_id": "PRRC_kwDOABII585_sHPk",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = ForecastType::BLOCK_POLICY;\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate{estimateSmartFee(target, &feeCalcConservative, conservative)};",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 1,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "e50b57a33b7a898616a0abaf63848e200dfa99ca",
      "in_reply_to_id": 2139992763,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice catch, fixed.",
      "created_at": "2025-06-12T10:12:00Z",
      "updated_at": "2025-06-12T10:12:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142270436",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142270436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 731,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 732,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142273192",
      "pull_request_review_id": 2920419793,
      "id": 2142273192,
      "node_id": "PRRC_kwDOABII585_sH6o",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_H\n+\n+#include <policy/fees/forecaster_util.h>\n+\n+/** \\class Forecaster\n+ *  @brief Abstract base class for fee rate forecasters.\n+ */\n+class Forecaster\n+{\n+protected:\n+    const ForecastType m_forecast_type;\n+\n+public:\n+    explicit Forecaster(ForecastType forecast_type) : m_forecast_type(forecast_type) {}\n+\n+    ForecastType GetForecastType() const { return m_forecast_type; }\n+\n+    /**\n+     * @brief Returns the estimated fee rate for a package to confirm within the given target.\n+     * @param target Confirmation target in blocks.\n+     * @param conservative True if the package cannot be fee bumped later.",
      "path": "src/policy/fees/forecaster.h",
      "position": 1,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "in_reply_to_id": 2139979307,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ok that makes sense to me",
      "created_at": "2025-06-12T10:13:36Z",
      "updated_at": "2025-06-12T10:13:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142273192",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142273192"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142274723",
      "pull_request_review_id": 2920422210,
      "id": 2142274723,
      "node_id": "PRRC_kwDOABII585_sISj",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 17,
      "original_position": 15,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": 2140023748,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The defaults round down I think, not sure if there is any potential difference by rounding up.\r\nSo will leave as is.\r\n",
      "created_at": "2025-06-12T10:14:31Z",
      "updated_at": "2025-06-12T10:14:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142274723",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142274723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": 14,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": 17,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142292007",
      "pull_request_review_id": 2920450615,
      "id": 2142292007,
      "node_id": "PRRC_kwDOABII585_sMgn",
      "diff_hunk": "@@ -6,14 +6,69 @@\n #define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n \n \n+#include <logging.h>\n #include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n \n class Chainstate;\n class CTxMemPool;\n \n // Fee rate forecasts above this confirmation target are not reliable,\n // as mempool conditions are likely to change.\n constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 1,
      "original_position": 20,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "917750fc164f65134939699c9d379a96836dc78f",
      "in_reply_to_id": 2140917085,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think users should configure this. It should be determined by the forecaster, based on the potential increment of the top block in the mempool.\r\n\r\nPreviously, I researched how long it takes for a transaction to finish propagating through the network. @sr-gi responded with an estimate of approximately 17 seconds and ~7 seconds to the 50% of the network:\r\nhttps://bitcoin.stackexchange.com/questions/125776/how-long-does-it-take-for-a-transaction-to-propagate-through-the-network.\r\n\r\nI thought I had updated this accordingly, but I did not. The assumption is that, 7 seconds after the last forecast, potential transactions that could improve the top block template might have entered node mempool\r\n\r\nEarlier, I also discussed with @sipa the possibility of enabling the mempool to determine whether the top block has improved:\r\nhttps://github.com/bitcoin/bitcoin/pull/31283#discussion_r1937550966.\r\n\r\nIf that feature becomes available, it would be a better approach than relying on a hardcoded 7-second delay.\r\n\r\nAfter that, updating this logic should be straightforward.\r\n\r\nA nice + to this cache limit is that it helps prevent a potential DoS due to resource contention from repeatedly requesting forecasts from the mempool forecaster.\r\n\r\n",
      "created_at": "2025-06-12T10:24:10Z",
      "updated_at": "2025-06-12T11:20:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142292007",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142292007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142292170",
      "pull_request_review_id": 2920450890,
      "id": 2142292170,
      "node_id": "PRRC_kwDOABII585_sMjK",
      "diff_hunk": "@@ -22,7 +23,6 @@ class FeeRateForecasterManager\n private:\n     //! Map of all registered forecasters to their shared pointers.\n     std::unordered_map<ForecastType, std::shared_ptr<Forecaster>> forecasters;\n-",
      "path": "src/policy/fees/forecaster_man.h",
      "position": 1,
      "original_position": 12,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "in_reply_to_id": 2140918271,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-06-12T10:24:16Z",
      "updated_at": "2025-06-12T10:24:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142292170",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142292170"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142297543",
      "pull_request_review_id": 2920460037,
      "id": 2142297543,
      "node_id": "PRRC_kwDOABII585_sN3H",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <policy/fees/forecaster.h>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 24,
      "original_position": 16,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
      "in_reply_to_id": 2140063685,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not sure whether that a good idea for ASAP-mempool Forecaster.\r\nBut can good if you want something like https://github.com/FelixWeis/WhatTheFee--legacy\r\nSo far I've not experimented with whatTheFee yet to determine its correctness.",
      "created_at": "2025-06-12T10:27:18Z",
      "updated_at": "2025-06-12T10:27:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2142297543",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2142297543"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": 22,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2151868481",
      "pull_request_review_id": 2935014000,
      "id": 2151868481,
      "node_id": "PRRC_kwDOABII586AQuhB",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_H\n+\n+#include <policy/fees/forecaster_util.h>\n+\n+/** \\class Forecaster\n+ *  @brief Abstract base class for fee rate forecasters.\n+ */\n+class Forecaster\n+{\n+protected:\n+    const ForecastType m_forecast_type;\n+\n+public:\n+    explicit Forecaster(ForecastType forecast_type) : m_forecast_type(forecast_type) {}\n+\n+    ForecastType GetForecastType() const { return m_forecast_type; }\n+\n+    /**\n+     * @brief Returns the estimated fee rate for a package to confirm within the given target.\n+     * @param target Confirmation target in blocks.\n+     * @param conservative If true, returns a higher fee rate for greater confirmation probability.",
      "path": "src/policy/fees/forecaster.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "bad72f1a24585768f4bac937a17597879063400e",
      "in_reply_to_id": null,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Just noting that, although currently we use this wording for `conservative` mode in `estimatesmartfee` rpc help:\r\n\r\n```\r\nconservative estimates use a longer time horizon, making them\r\nless responsive to short-term drops in the prevailing fee market\r\n```\r\n\r\nI think the docstring wording makes sense here, as the time-horizon would not apply to a mempool-based estimator, where it would be expect to simply be higher.",
      "created_at": "2025-06-17T10:03:46Z",
      "updated_at": "2025-06-17T11:55:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2151868481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2151868481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 26,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2151870356",
      "pull_request_review_id": 2935014000,
      "id": 2151870356,
      "node_id": "PRRC_kwDOABII586AQu-U",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <policy/fees/forecaster.h>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": 24,
      "original_position": 16,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
      "in_reply_to_id": 2140063685,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah I agree we should start off scoping the mempool estimator to 2 blocks. You can resolve this.",
      "created_at": "2025-06-17T10:04:42Z",
      "updated_at": "2025-06-17T11:55:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2151870356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2151870356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": 22,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2152055939",
      "pull_request_review_id": 2935014000,
      "id": 2152055939,
      "node_id": "PRRC_kwDOABII586ARcSD",
      "diff_hunk": "@@ -3,6 +3,46 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/fees/forecaster_util.h>\n+#include <policy/policy.h>\n+\n+#include <algorithm>\n+\n+Percentiles CalculatePercentiles(const std::vector<FeeFrac>& package_feerates, const int32_t total_weight)\n+{\n+    if (package_feerates.empty()) return Percentiles{};\n+    int32_t accumulated_weight{0};\n+    const int32_t p25_weight = 0.25 * total_weight;\n+    const int32_t p50_weight = 0.50 * total_weight;\n+    const int32_t p75_weight = 0.75 * total_weight;\n+    const int32_t p95_weight = 0.95 * total_weight;\n+    auto last_tracked_feerate = package_feerates.front();\n+    auto percentiles = Percentiles{};\n+\n+    // Process histogram entries while maintaining monotonicity\n+    for (const auto& curr_feerate : package_feerates) {\n+        accumulated_weight += curr_feerate.size * WITNESS_SCALE_FACTOR;\n+        // Maintain monotonicity by taking the minimum between the current and last tracked fee rate\n+        last_tracked_feerate = std::min(last_tracked_feerate, curr_feerate, [](const FeeFrac& a, const FeeFrac& b) {\n+            return std::is_lt(FeeRateCompare(a, b));\n+        });\n+        if (accumulated_weight >= p25_weight && percentiles.p25.IsEmpty()) {\n+            percentiles.p25 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p50_weight && percentiles.p50.IsEmpty()) {\n+            percentiles.p50 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p75_weight && percentiles.p75.IsEmpty()) {\n+            percentiles.p75 = last_tracked_feerate;\n+        }\n+        if (accumulated_weight >= p95_weight && percentiles.p95.IsEmpty()) {\n+            percentiles.p95 = last_tracked_feerate;\n+            break; // Early exit once all percentiles are calculated\n+        }\n+    }\n+\n+    // Return empty percentiles if we couldn't calculate the 95th percentile.",
      "path": "src/policy/fees/forecaster_util.cpp",
      "position": 43,
      "original_position": 41,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "34f0674e0108c341761783580cb3945c0569ab23",
      "in_reply_to_id": 2140046870,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah OK, I agree this is fine to leave as-is.",
      "created_at": "2025-06-17T11:43:48Z",
      "updated_at": "2025-06-17T11:55:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2152055939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2152055939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2152161877",
      "pull_request_review_id": 2935490188,
      "id": 2152161877,
      "node_id": "PRRC_kwDOABII586AR2JV",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_H\n+\n+#include <policy/fees/forecaster_util.h>\n+\n+/** \\class Forecaster\n+ *  @brief Abstract base class for fee rate forecasters.\n+ */\n+class Forecaster\n+{\n+protected:\n+    const ForecastType m_forecast_type;\n+\n+public:\n+    explicit Forecaster(ForecastType forecast_type) : m_forecast_type(forecast_type) {}\n+\n+    ForecastType GetForecastType() const { return m_forecast_type; }\n+\n+    /**\n+     * @brief Returns the estimated fee rate for a package to confirm within the given target.\n+     * @param target Confirmation target in blocks.\n+     * @param conservative If true, returns a higher fee rate for greater confirmation probability.",
      "path": "src/policy/fees/forecaster.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "bad72f1a24585768f4bac937a17597879063400e",
      "in_reply_to_id": 2151868481,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "yep will update `estimatesmartfee` help text after it's integrated to the forecaster manager",
      "created_at": "2025-06-17T12:39:30Z",
      "updated_at": "2025-06-17T12:39:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2152161877",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2152161877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 26,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2285946865",
      "pull_request_review_id": 3133291087,
      "id": 2285946865,
      "node_id": "PRRC_kwDOABII586IQMfx",
      "diff_hunk": "@@ -724,6 +725,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = ForecastType::BLOCK_POLICY;\n+    FeeCalculation fee_calculation_result;\n+    CFeeRate feerate{estimateSmartFee(target, &fee_calculation_result, conservative)};\n+    result.current_block_height = fee_calculation_result.best_height;\n+    if (feerate == CFeeRate(0)) {\n+        result.error = \"Insufficient data or no feerate found\";\n+        return result;\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    result.feerate = FeeFrac(feerate.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 43,
      "original_position": 43,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "ba33047b6f3ee468eab250c8515e92b595e08322",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe after https://github.com/bitcoin/bitcoin/pull/32750 can use CFeeRate to keep consistency with the rest of the code.",
      "created_at": "2025-08-19T17:56:01Z",
      "updated_at": "2025-08-19T17:56:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2285946865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2285946865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 742,
      "original_line": 742,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2285951930",
      "pull_request_review_id": 3133298531,
      "id": 2285951930,
      "node_id": "PRRC_kwDOABII586IQNu6",
      "diff_hunk": "@@ -724,6 +725,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = ForecastType::BLOCK_POLICY;\n+    FeeCalculation fee_calculation_result;\n+    CFeeRate feerate{estimateSmartFee(target, &fee_calculation_result, conservative)};\n+    result.current_block_height = fee_calculation_result.best_height;\n+    if (feerate == CFeeRate(0)) {\n+        result.error = \"Insufficient data or no feerate found\";\n+        return result;\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    result.feerate = FeeFrac(feerate.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": 43,
      "original_position": 43,
      "commit_id": "353cdbd4ff5ae12bc6900b38c4f7382298816b75",
      "original_commit_id": "ba33047b6f3ee468eab250c8515e92b595e08322",
      "in_reply_to_id": 2285946865,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah makes sense, they are basically identical :P",
      "created_at": "2025-08-19T17:58:45Z",
      "updated_at": "2025-08-19T17:59:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2285951930",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2285951930"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 742,
      "original_line": 742,
      "side": "RIGHT"
    }
  ]
}