{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864",
    "id": 30694614,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2OTQ2MTQ=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5864",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/5864.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/5864.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
    "number": 5864,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "fix possible block db breakage during re-index",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I could really use some more eyes on this. I discussed it briefly with @sipa on IRC a few days ago.\n\nI noticed this while looking into https://github.com/bitcoin/bitcoin/issues/5668 . This is one possible explanation I can come up with for overlapping block data. Whether it has anything to do with that issue or not, I think this still needs to be addressed.\n\nWhen re-indexing, there are a few cases where garbage data may be skipped in the block files. In these cases, the indices are correctly written to the index db, however the pointer to the next position for writing in the current block file is calculated by adding the sizes of the valid blocks found.\n\nAs a result, when the re-index is finished, the index db is correct for all existing blocks, but the next block will be written to an incorrect offset, likely overwriting existing blocks.\n\nRather than using the sum of all valid blocks to determine the next write position, use the end of the last block written to the file. Don't assume that the current block is the last one in the file, since they may be read out-of-order.\n\nI was able to trigger this problem by inserting some garbage data between two valid blocks on disk in the last .dat file, then reindexing. After that, run normally for a few min in order to write a few new blocks to disk, then run with -checkblocks=0.\n\nBefore this change, I would get different errors (de-serialization, eof, etc) depending on what garbage i add and where. After the change, it appears to survive the re-index without issue regardless of the garbage.\n",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/14",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/14",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/14/labels",
      "id": 505738,
      "node_id": "MDk6TWlsZXN0b25lNTA1NzM4",
      "number": 14,
      "state": "closed",
      "title": "0.10.0",
      "description": "",
      "creator": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 134,
      "created_at": "2013-12-05T10:34:42Z",
      "updated_at": "2015-12-03T11:08:31Z",
      "closed_at": "2015-12-03T11:08:31Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2015-03-07T01:48:08Z",
    "updated_at": "2021-09-08T10:44:35Z",
    "closed_at": "2015-03-11T07:34:05Z",
    "mergeable_state": "unknown",
    "merged_at": "2015-03-11T07:34:05Z",
    "merge_commit_sha": "4dfd474f35e34a8ab5728cc7d10bde69313618b0",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "theuni:fix-reindex-corruption",
      "ref": "fix-reindex-corruption",
      "sha": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 10302141,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMDMwMjE0MQ==",
        "name": "bitcoin",
        "full_name": "theuni/bitcoin",
        "owner": {
          "login": "theuni",
          "id": 417043,
          "node_id": "MDQ6VXNlcjQxNzA0Mw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theuni",
          "html_url": "https://github.com/theuni",
          "followers_url": "https://api.github.com/users/theuni/followers",
          "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
          "organizations_url": "https://api.github.com/users/theuni/orgs",
          "repos_url": "https://api.github.com/users/theuni/repos",
          "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theuni/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theuni/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theuni/bitcoin",
        "archive_url": "https://api.github.com/repos/theuni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theuni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theuni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theuni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theuni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theuni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theuni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theuni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theuni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theuni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theuni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theuni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theuni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theuni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theuni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theuni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theuni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theuni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theuni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theuni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theuni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theuni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theuni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theuni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theuni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theuni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theuni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theuni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theuni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theuni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theuni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theuni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theuni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theuni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theuni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theuni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theuni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theuni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theuni/bitcoin/hooks",
        "svn_url": "https://github.com/theuni/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 223311,
        "default_branch": "trivial-next",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-07T14:16:01Z",
        "created_at": "2013-05-26T18:55:06Z",
        "updated_at": "2023-07-29T06:29:25Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8cbe1f4f5870a165be729cabb9b55dcbf0f85e09",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70607,
        "watchers_count": 70607,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T13:59:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:58:20Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 4,
    "deletions": 1,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 5,
    "comments": 5
  },
  "events": [
    {
      "event": "mentioned",
      "id": 247911264,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ3OTExMjY0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/247911264",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-07T01:48:08Z"
    },
    {
      "event": "subscribed",
      "id": 247911265,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0NzkxMTI2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/247911265",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-07T01:48:08Z"
    },
    {
      "event": "commented",
      "id": 77686809,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg2ODA5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77686809",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-07T12:11:28Z",
      "updated_at": "2015-03-07T12:11:28Z",
      "author_association": "MEMBER",
      "body": "Seems very reasonable to me. Even if this doesn't fix anything, it should be safe.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#issuecomment-77686809",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864"
    },
    {
      "event": "commented",
      "id": 77802807,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODAyODA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77802807",
      "actor": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T05:37:32Z",
      "updated_at": "2015-03-09T05:37:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "I ran into this issue today.\n\nPower failured during IBD.\n\nRestarted with -reindex=1\n\nWaited for IBD to finish and then called getblock RPC call for all blocks and got about a dozen ReadBlockFromDisk\n",
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#issuecomment-77802807",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjA0MjcyNzM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "labeled",
      "id": 248362305,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI0ODM2MjMwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248362305",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T08:28:23Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "milestoned",
      "id": 248362362,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDI0ODM2MjM2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248362362",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T08:28:33Z",
      "milestone": {
        "title": "0.10.0"
      }
    },
    {
      "event": "mentioned",
      "id": 248763629,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ4NzYzNjI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248763629",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T18:40:47Z"
    },
    {
      "event": "subscribed",
      "id": 248763630,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0ODc2MzYzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248763630",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T18:40:47Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T18:44:52Z",
      "updated_at": "2015-03-09T18:44:52Z",
      "source": {
        "issue": {
          "id": 54483893,
          "node_id": "MDU6SXNzdWU1NDQ4Mzg5Mw==",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5668",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5668/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5668/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5668/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/5668",
          "number": 5668,
          "state": "closed",
          "state_reason": "completed",
          "title": "ERROR: ReadBlockFromDisk : Deserialize or I/O error - ReadCompactSize() : size too large",
          "body": "Client info\n\n2015-01-15 18:15:21 Bitcoin version v0.10.99.0-4f73a8f-dirty (2015-01-09 20:21:19 -0800)\n2015-01-15 18:15:21 Using OpenSSL version OpenSSL 1.0.1f 6 Jan 2014\n2015-01-15 18:15:21 Using BerkeleyDB version Berkeley DB 5.3.28: (September  9, 2013)\n2015-01-15 18:15:21 Default data directory /home/fredrik/.bitcoin\n2015-01-15 18:15:21 Using data directory /home/fredrik/.bitcoin\n2015-01-15 18:15:21 Using config file /home/fredrik/.bitcoin/bitcoin.conf\n2015-01-15 18:15:21 Using at most 200 connections (1024 file descriptors available)\n2015-01-15 18:15:21 Using 0 threads for script verification\n2015-01-15 18:15:21 Binding RPC on address ::1 port 8332 (IPv4+IPv6 bind any: 0)\n2015-01-15 18:15:21 Binding RPC on address 127.0.0.1 port 8332 (IPv4+IPv6 bind any: 0)\n2015-01-15 18:15:21 Using wallet wallet.dat\n2015-01-15 18:15:21 init message: Verifying wallet...\n2015-01-15 18:15:21 CDBEnv::Open : LogDir=/home/fredrik/.bitcoin/database ErrorFile=/home/fredrik/.bitcoin/db.log\n2015-01-15 18:15:21 Bound to [::]:8333\n2015-01-15 18:15:21 Bound to 0.0.0.0:8333\n2015-01-15 18:15:21 init message: Loading block index...\n2015-01-15 18:15:21 Opening LevelDB in /home/fredrik/.bitcoin/blocks/index\n2015-01-15 18:15:22 Opened LevelDB successfully\n2015-01-15 18:15:22 Opening LevelDB in /home/fredrik/.bitcoin/chainstate\n2015-01-15 18:15:28 Opened LevelDB successfully\n2015-01-15 18:15:32 LoadBlockIndexDB: last block file = 218\n2015-01-15 18:15:32 LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=274, size=115501816, heights=338812...339085, time=2015-01-13...2015-01-15)\n2015-01-15 18:15:32 Checking all blk files are present...\n2015-01-15 18:15:32 LoadBlockIndexDB(): transaction index disabled\n2015-01-15 18:15:32 LoadBlockIndexDB(): hashBestChain=0000000000000000188de542fd76b1676c4be6c380b39ddea119358c290cebd7 height=339085 date=2015-01-15 18:07:14 progress=0.999987\n2015-01-15 18:15:32 init message: Verifying blocks...\n2015-01-15 18:15:32 Verifying last 288 blocks at level 3\n\nlog before crash\n\n2015-01-13 22:15:27 UpdateTip: new best=0000000000000000159e7d66c954312bccb5f12de808f2991b3859205665c442  height=338819  log2_work=81.997891  tx=56658614  date=2015-01-13 22:14:41 progress=0.999999  cache=6969\n2015-01-13 22:15:58 ResendWalletTransactions()\n2015-01-13 22:17:06 receive version message: /Satoshi:0.9.2/opennodes.org:0.1/: version 70002, blocks=338819, us=84.215.171.162:8333, peer=2855\n2015-01-13 22:17:25 receive version message: /libbitcoin:2.0/: version 60000, blocks=0, us=10.0.0.1:8333, peer=2856\n2015-01-13 22:17:25 Added time data, samples 200, offset -5 (+0 minutes)\n2015-01-13 22:18:06 socket recv error Connection reset by peer (104)\n2015-01-13 22:18:13 receive version message: /bitcoinseeder:0.01/: version 60000, blocks=230000, us=84.215.171.162:8333, peer=2857\n2015-01-13 22:18:31 receive version message: /getaddr.bitnodes.io:0.1/: version 70002, blocks=338818, us=84.215.171.162:8333, peer=2858\n2015-01-13 22:19:16 receive version message: /Satoshi:0.9.3/: version 70002, blocks=338817, us=84.215.171.162:8333, peer=2859\n2015-01-13 22:19:16 Added time data, samples 200, offset -2 (+0 minutes)\n2015-01-13 22:19:32 receive version message: /Snoopy:0.1/: version 60001, blocks=0, us=84.215.171.162:8333, peer=2860\n2015-01-13 22:19:47 receive version message: /bitcoinseeder:0.01/: version 60000, blocks=230000, us=84.215.171.162:8333, peer=2861\n2015-01-13 22:22:36 receive version message: /getaddr.bitnodes.io:0.1/: version 70002, blocks=338819, us=84.215.171.162:8333, peer=2862\n2015-01-13 22:22:44 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:22:45 receive version message: /BTCXchange.ro Mapper:0.01/: version 60000, blocks=230000, us=84.215.171.162:8333, peer=2863\n2015-01-13 22:22:47 receive version message: /BitCoinJ:0.11.2/MultiBit:0.5.18/: version 70001, blocks=338819, us=127.0.0.1:8333, peer=2864\n2015-01-13 22:22:47 Added time data, samples 200, offset +10 (+0 minutes)\n2015-01-13 22:23:00 receive version message: /Satoshi:0.8.4/: version 70001, blocks=338819, us=84.215.171.162:8333, peer=2865\n2015-01-13 22:23:00 Added time data, samples 200, offset -7 (+0 minutes)\n2015-01-13 22:23:53 receive version message: /Satoshi:0.8.2.2/: version 70001, blocks=336635, us=84.215.171.162:8333, peer=2866\n2015-01-13 22:23:53 Added time data, samples 200, offset +14 (+0 minutes)\n2015-01-13 22:24:13 receive version message: /Satoshi:0.9.3/: version 70002, blocks=338735, us=84.215.171.162:8333, peer=2867\n2015-01-13 22:24:13 Added time data, samples 200, offset -5 (+0 minutes)\n2015-01-13 22:25:06 receive version message: /Snoopy:0.1/: version 60001, blocks=0, us=84.215.171.162:8333, peer=2868\n2015-01-13 22:25:49 receive version message: /bitcoinseeder:0.01/: version 60000, blocks=230000, us=84.215.171.162:8333, peer=2869\n2015-01-13 22:26:33 UpdateTip: new best=00000000000000001829e20898eaff72aa667d3715a94535afae5ae7ada07bc0  height=338820  log2_work=81.997947  tx=56659414  date=2015-01-13 22:25:41 progress=0.999999  cache=9596\n2015-01-13 22:26:35 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:26:43 ERROR: AcceptToMemoryPool : nonstandard transaction: dust\n2015-01-13 22:26:48 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:26:58 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:27:01 receive version message: /bitcoinseeder:0.01/: version 60000, blocks=230000, us=84.215.171.162:8333, peer=2870\n2015-01-13 22:27:20 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:27:22 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:27:46 UpdateTip: new best=000000000000000008b332686e0043a4b95ca7e46d1b0785536981b543dfc755  height=338821  log2_work=81.998004  tx=56659415  date=2015-01-13 22:36:09 progress=1.000013  cache=9706\n2015-01-13 22:28:29 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:28:34 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:28:48 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:28:52 receive version message: /getaddr.bitnodes.io:0.1/: version 70002, blocks=338819, us=84.215.171.162:8333, peer=2871\n2015-01-13 22:29:22 ERROR: AcceptToMemoryPool : inputs already spent\n2015-01-13 22:30:29 ERROR: ReadBlockFromDisk : Deserialize or I/O error - ReadCompactSize() : size too large\n2015-01-15 18:02:07 \n",
          "user": {
            "login": "eN0Rm",
            "id": 2642101,
            "node_id": "MDQ6VXNlcjI2NDIxMDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2642101?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eN0Rm",
            "html_url": "https://github.com/eN0Rm",
            "followers_url": "https://api.github.com/users/eN0Rm/followers",
            "following_url": "https://api.github.com/users/eN0Rm/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/eN0Rm/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/eN0Rm/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/eN0Rm/subscriptions",
            "organizations_url": "https://api.github.com/users/eN0Rm/orgs",
            "repos_url": "https://api.github.com/users/eN0Rm/repos",
            "events_url": "https://api.github.com/users/eN0Rm/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/eN0Rm/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 323697996,
              "node_id": "MDU6TGFiZWwzMjM2OTc5OTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Data%20corruption",
              "name": "Data corruption",
              "color": "f7c6c7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "comments": 131,
          "closed_at": "2016-11-02T11:41:30Z",
          "created_at": "2015-01-15T18:12:56Z",
          "updated_at": "2021-12-14T07:30:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 77918362,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTE4MzYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77918362",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T18:54:25Z",
      "updated_at": "2015-03-09T18:54:25Z",
      "author_association": "MEMBER",
      "body": "I tested this in the this little RPC test, https://gist.github.com/morcos/ae506817284cd776d5b2.\nWarning it does some raw file IO to munge your block files.\nTested and works with and without the suggested change, but fails on master.\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#issuecomment-77918362",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 248774351,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjQ4Nzc0MzUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248774351",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T18:55:04Z"
    },
    {
      "event": "commented",
      "id": 77929068,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTI5MDY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77929068",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T19:55:07Z",
      "updated_at": "2015-03-09T19:55:07Z",
      "author_association": "MEMBER",
      "body": "Updated for @laanwj's suggestion.\n\n@morcos Big thanks for that, much nicer than my manual testnet dd+hexedit hackery :)\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#issuecomment-77929068",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864"
    },
    {
      "event": "mentioned",
      "id": 248816898,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ4ODE2ODk4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248816898",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T19:55:07Z"
    },
    {
      "event": "subscribed",
      "id": 248816899,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0ODgxNjg5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248816899",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T19:55:07Z"
    },
    {
      "event": "mentioned",
      "id": 248816900,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ4ODE2OTAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248816900",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T19:55:07Z"
    },
    {
      "event": "subscribed",
      "id": 248816901,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0ODgxNjkwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/248816901",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-09T19:55:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 249517929,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjQ5NTE3OTI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/249517929",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-10T17:50:25Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYjZhY2ZmMDc5ODJkZGE2OGI1YzJhYzgxYzk5ZGJkNzI1NWJiOWNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "tree": {
        "sha": "00eb1a97470a5e8d3728c9d00908d5ff5274d285",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/00eb1a97470a5e8d3728c9d00908d5ff5274d285"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c3fbc34aed578398b3f180a621c671ff3837cec",
          "sha": "7c3fbc34aed578398b3f180a621c671ff3837cec",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7c3fbc34aed578398b3f180a621c671ff3837cec"
        }
      ],
      "message": "fix possible block db breakage during re-index\n\nWhen re-indexing, there are a few cases where garbage data may be skipped in\nthe block files. In these cases, the indices are correctly written to the index\ndb, however the pointer to the next position for writing in the current block\nfile is calculated by adding the sizes of the valid blocks found.\n\nAs a result, when the re-index is finished, the index db is correct for all\nexisting blocks, but the next block will be written to an incorrect offset,\nlikely overwriting existing blocks.\n\nRather than using the sum of all valid blocks to determine the next write\nposition, use the end of the last block written to the file. Don't assume that\nthe current block is the last one in the file, since they may be read\nout-of-order.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2015-03-10T17:59:46Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2015-03-07T01:26:09Z"
      },
      "sha": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc"
    },
    {
      "event": "merged",
      "id": 249902961,
      "node_id": "MDExOk1lcmdlZEV2ZW50MjQ5OTAyOTYx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/249902961",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "created_at": "2015-03-11T07:34:05Z"
    },
    {
      "event": "closed",
      "id": 249902962,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjQ5OTAyOTYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/249902962",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-11T07:34:05Z"
    },
    {
      "event": "referenced",
      "id": 249902963,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI0OTkwMjk2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/249902963",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "45b7dc2c25a5e977cc45c483d6dd6094ceb2e7a8",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/45b7dc2c25a5e977cc45c483d6dd6094ceb2e7a8",
      "created_at": "2015-03-11T07:34:05Z"
    },
    {
      "event": "referenced",
      "id": 249907491,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI0OTkwNzQ5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/249907491",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "002c8a24119d205b09ee10484097a4b18f4a17a9",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/002c8a24119d205b09ee10484097a4b18f4a17a9",
      "created_at": "2015-03-11T07:47:52Z"
    },
    {
      "event": "commented",
      "id": 78218305,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjE4MzA1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78218305",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-03-11T07:48:09Z",
      "updated_at": "2015-03-11T07:48:09Z",
      "author_association": "MEMBER",
      "body": "Cherry-picked to 0.10 as 002c8a24119d205b09ee10484097a4b18f4a17a9\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#issuecomment-78218305",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5864"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-31T14:32:58Z",
      "updated_at": "2015-07-31T14:32:58Z",
      "source": {
        "issue": {
          "id": 97999074,
          "node_id": "MDU6SXNzdWU5Nzk5OTA3NA==",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6492",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6492/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6492/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6492/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/6492",
          "number": 6492,
          "state": "closed",
          "state_reason": "completed",
          "title": "\"Read attempted past buffer limit\" error while reindexing",
          "body": "It is possible that this is caused by local corruption, although this is not a system that is known to corrupt data:\n\n```\n2015-07-29 18:13:35 Reindexing block file blk00201.dat...\n2015-07-29 18:13:38 LoadExternalBlockFile: Deserialize or I/O error - Read attempted past buffer limitReindexing block file blk00202.dat...\n```\n\nAt the least the fatal error should probably cancel the reindexing process (and be terminated with a newline).\n\nI'll try running the [troubleshooting tool](https://github.com/laanwj/blockdb-troubleshoot) on the block files and db tomorrow.\n",
          "user": {
            "login": "laanwj",
            "id": 126646,
            "node_id": "MDQ6VXNlcjEyNjY0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laanwj",
            "html_url": "https://github.com/laanwj",
            "followers_url": "https://api.github.com/users/laanwj/followers",
            "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
            "organizations_url": "https://api.github.com/users/laanwj/orgs",
            "repos_url": "https://api.github.com/users/laanwj/repos",
            "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/laanwj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 1,
          "closed_at": "2015-07-31T14:43:51Z",
          "created_at": "2015-07-29T18:23:35Z",
          "updated_at": "2021-09-08T12:48:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3375947934,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzNzU5NDc5MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3375947934",
      "actor": {
        "login": "reddink",
        "id": 10765021,
        "node_id": "MDQ6VXNlcjEwNzY1MDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10765021?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/reddink",
        "html_url": "https://github.com/reddink",
        "followers_url": "https://api.github.com/users/reddink/followers",
        "following_url": "https://api.github.com/users/reddink/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/reddink/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/reddink/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/reddink/subscriptions",
        "organizations_url": "https://api.github.com/users/reddink/orgs",
        "repos_url": "https://api.github.com/users/reddink/repos",
        "events_url": "https://api.github.com/users/reddink/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/reddink/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dd46daf548d90561cf528e1a0d74c69fdfd1b263",
      "commit_url": "https://api.github.com/repos/reddcoin-project/reddcoin/commits/dd46daf548d90561cf528e1a0d74c69fdfd1b263",
      "created_at": "2020-05-27T00:56:11Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "prairiefalcon",
        "id": 4017794,
        "node_id": "MDQ6VXNlcjQwMTc3OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4017794?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prairiefalcon",
        "html_url": "https://github.com/prairiefalcon",
        "followers_url": "https://api.github.com/users/prairiefalcon/followers",
        "following_url": "https://api.github.com/users/prairiefalcon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/prairiefalcon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/prairiefalcon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/prairiefalcon/subscriptions",
        "organizations_url": "https://api.github.com/users/prairiefalcon/orgs",
        "repos_url": "https://api.github.com/users/prairiefalcon/repos",
        "events_url": "https://api.github.com/users/prairiefalcon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/prairiefalcon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-07T03:55:03Z",
      "updated_at": "2021-03-07T03:55:03Z",
      "source": {
        "issue": {
          "id": 823821871,
          "node_id": "MDU6SXNzdWU4MjM4MjE4NzE=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21379",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21379/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21379/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21379/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/21379",
          "number": 21379,
          "state": "closed",
          "state_reason": "completed",
          "title": "Reindex subtly corrupts blknnnnn.dat files and causes subsequent deserialization errors",
          "body": "**Summary** \r\nWhen block downloads restart after a reindex of block files, spurious bytes are inserted in the blk.dat file.  A subsequent reindex will show a deserialization error in the log file.\r\n\r\n**Test system** \r\nCentOS 7, Bitcoin Core v0.21.0 pre-built binaries and reproduced going back to 0.10.3!\r\n\r\n**Problem Description**\r\nPerforming a reindex of the block files reliably introduces spurious bytes, resulting in subsequent deserialization errors.  \r\n\r\nAt the point where block downloads resume and are added to the blk.dat file, 8 extra bytes are introduced in front of the first new data block.  Depending on the scenario, these 8 bytes are either all 0's, or a valid message start string (0xf9beb4d9 \"magic\" sequence) followed by 4 more bytes.  Normal blocks of \\<magic> \\<length> \\<raw block> resume after these 8 bytes.\r\n\r\nInvestigation revealed that the 4 bytes after the magic were actually the length of a previously existing block in the blk.dat file that had been overwritten.\r\n\r\nIt appears what is happening is that after reindexing, a file position is calculated for adding newly downloaded blocks, and this position is incorrectly computed to be 8 bytes beyond the proper place.  If the insert position is at the end of the file, the intervening 8 bytes are zero filled.  If the insert position overwrites pre-existing blocks, the first 8 bytes of the overwritten block(s) are left behind.\r\n\r\nIt appears the problem results from an inconsistency in the operation of FindBlockPos during reindexing, when it returns file positions at the beginning of the raw block, as opposed to the end of previous block/beginning of the magic.\r\n\r\nThe block reading algorithm is apparently able to recover and continue, so this problem is not fatal.  Inspection of the debug.log shows \"LoadExternalBlockFile: Deserialize or I/O error\" when it occurs.  To be clear, the first reindex doesn't show this error, but causes the problem such that a subsequent reindex will generate it.\r\n\r\nResearching old issues, I suspect this problem contributed to symptoms observed in issues #6492 and #14933.  It also looks like like #5864 might have been an attempt to address this or a similar problem.\r\n\r\n**Reproduction Scenarios**\r\nThese scenarios are rather contrived, but are the simplest ones I could come up with to quickly and reliably demonstrate the issue.\r\n\r\n**Scenario 1**\r\nTo create a deterministic scenario, this example uses what I'll refer to as \"canonical\" block files.  That is, block files where the chain blocks are stored in-order up to the file size limit of 128M.  Thus, the canonical blk00000.dat file has the following properties:\r\n\r\nsize: 134214363\r\nblocks: 119965 (up to height 119964)\r\nSHA-256: fe4b764e0ce523cfce6d9e4f326e0d0977ee317a51b4a129cda707cfa4699dd7  \r\n\r\n1) Start with a \"canonical\" blk00000.dat as the only file in a new data dir\r\n2) Start up bitcoin-qt with -reindex.  \r\n3) Once the reindex completes and block downloads resume over the network, terminate the process.\r\n\r\nIn the debug.log, you should see:\r\n2021-03-06T21:41:52Z Leaving block file 0: CBlockFileInfo(blocks=119965, size=134214371, heights=0...119964, time=2009-01-03...2011-04-24)\r\n\r\nNote that the size has grown by 8 bytes.  Inspection of hexdumps show 8 extra zero bytes at the end of the file.\r\n\r\nBefore reindex:\r\n```\r\n07fff2c0  14 9f ce 4e af a6 17 17  d9 24 b1 d0 9b 30 28 3d  |...N.....$...0(=|\r\n07fff2d0  ee a3 f1 e3 fd 88 ac 00  00 00 00                 |...........|\r\n```\r\n\r\nAfter reindex:\r\n```\r\n07fff2c0  14 9f ce 4e af a6 17 17  d9 24 b1 d0 9b 30 28 3d  |...N.....$...0(=|\r\n07fff2d0  ee a3 f1 e3 fd 88 ac 00  00 00 00 00 00 00 00 00  |................|\r\n07fff2e0  00 00 00                                          |...|\r\n```\r\nIn this scenario, blk00000.dat is \"full\", so the new block will go in blk00001.dat.  But, in the process of testing blk00000.dat to see if the new block can be appended, it appears an incorrect file pointer offset winds up adding 8 bytes to the file.\r\n\r\n**Scenario 2 part 1**\r\nThe results of this scenario are more variable due to the random ordering of blocks resulting from parallel block downloads.\r\n\r\n1) Start with a blk00000.dat and blk00001.dat containing out-of-order blocks from a parallel block download.\r\n2) Perform a reindex on these block files.  \r\n3) Wait past header synchronization until new block downloads resume over the network (blk00002.dat is created), then shut the process down.\r\n\r\nWhat you should discover upon inspection of blk00001.dat is that the file has been changed, and at the point where the content changes, the spurious magic and length bytes will appear.  This will be somewhere near but not at the end of the file.  (It appears that the insert point is after the last block that could be verified to be part of the main chain; because of parallel block downloads, some remaining blocks that couldn't be attached are overwritten.)  An example from my run:\r\n\r\nBefore reindex:\r\n```\r\n07f788d0  88 ac 00 00 00 00 f9 be  b4 d9 ad bf 00 00 01 00  |................|\r\n07f788e0  00 00 ea 8d fd 5c 0e 23  08 c8 b3 a6 73 61 5d fa  |.....\\.#....sa].|\r\n```\r\nNote magic at offset 0x07f788d6, block length of 0x0000bfad, version 0x01 byte from raw block\r\n\r\nAfter reindex:\r\n```\r\n07f788d0  88 ac 00 00 00 00 f9 be  b4 d9 ad bf 00 00 f9 be  |................|\r\n07f788e0  b4 d9 61 bf 00 00 01 00  00 00 c3 70 ca 79 eb ed  |..a........p.y..|\r\n```\r\nNote magic at offset 0x07f788d6, length of 0x0000bfad as before, but now followed by another magic and a length 0x0000bf61 before getting to the version 0x01.\r\n\r\n\r\n**Scenario 2 part 2**\r\n1) Save a copy of the block files resulting from the end of the previous scenario.\r\n2) Start another reindex using those files.  Again, wait until new block downloads resume, then shut down.\r\n\r\nIn the debug.log, you should find the following where the corrupted block file was processed:\r\n2021-03-06T22:19:55Z LoadExternalBlockFile: Deserialize or I/O error - ReadCompactSize(): size too large: iostream error\r\n\r\nDepending on exactly how things go off the rails, the error could appear as:\r\n2021-03-06T23:07:48Z LoadExternalBlockFile: Deserialize or I/O error - Read attempted past buffer limit: iostream error\r\n\r\nIf you inspect your last block file from the first reindex and compare it to its state after the second reindex, you should find a second instance of the spurious magic+length bytes.\r\n\r\nIf you perform another reindex with the block files as they stand now, you'll get two deserialize errors in the debug log.  Each additional reindex will add another instance.\r\n\r\n",
          "user": {
            "login": "prairiefalcon",
            "id": 4017794,
            "node_id": "MDQ6VXNlcjQwMTc3OTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4017794?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prairiefalcon",
            "html_url": "https://github.com/prairiefalcon",
            "followers_url": "https://api.github.com/users/prairiefalcon/followers",
            "following_url": "https://api.github.com/users/prairiefalcon/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/prairiefalcon/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/prairiefalcon/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/prairiefalcon/subscriptions",
            "organizations_url": "https://api.github.com/users/prairiefalcon/orgs",
            "repos_url": "https://api.github.com/users/prairiefalcon/repos",
            "events_url": "https://api.github.com/users/prairiefalcon/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/prairiefalcon/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 219890555,
              "node_id": "MDU6TGFiZWwyMTk4OTA1NTU=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Block%20storage",
              "name": "Block storage",
              "color": "000000",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 2,
          "closed_at": "2022-10-12T18:14:41Z",
          "created_at": "2021-03-07T03:55:03Z",
          "updated_at": "2022-10-12T18:14:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 5271460606,
      "node_id": "LOE_lADOABII584DllXuzwAAAAE6NBr-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271460606",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:44:35Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26020106",
      "pull_request_review_id": null,
      "id": 26020106,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDIwMTA2",
      "diff_hunk": "@@ -2455,8 +2455,11 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     nLastBlockFile = nFile;\n-    vinfoBlockFile[nFile].nSize += nAddSize;\n     vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n+    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n+        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "original_commit_id": "9add379b92f961d372803522239574cf3481b5e5",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Looks good to me, although I'm not sure about the `fKnown && vinfoBlockFile[nFile].nSize >= (pos.nPos + nAddSize)` case. Would we want to increase nSize at all? Or is this better:\n\n``` c++\nif (fKnown)\n    vinfoBlockFile[nFile].nSize = std::max(pos.nPos + nAddSize, vinfoBlockFile[nFile].nSize);\nelse\n    vinfoBlockFile[nFile].nSize += nAddSize;\n```\n",
      "created_at": "2015-03-09T08:26:57Z",
      "updated_at": "2015-03-10T17:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26020106",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26020106"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26024283",
      "pull_request_review_id": null,
      "id": 26024283,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDI0Mjgz",
      "diff_hunk": "@@ -2455,8 +2455,11 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     nLastBlockFile = nFile;\n-    vinfoBlockFile[nFile].nSize += nAddSize;\n     vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n+    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n+        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "original_commit_id": "9add379b92f961d372803522239574cf3481b5e5",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ACK this suggested change.\n",
      "created_at": "2015-03-09T10:05:24Z",
      "updated_at": "2015-03-10T17:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26024283",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26024283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26029884",
      "pull_request_review_id": null,
      "id": 26029884,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDI5ODg0",
      "diff_hunk": "@@ -2455,8 +2455,11 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     nLastBlockFile = nFile;\n-    vinfoBlockFile[nFile].nSize += nAddSize;\n     vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n+    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n+        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "original_commit_id": "9add379b92f961d372803522239574cf3481b5e5",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "+1\n",
      "created_at": "2015-03-09T12:00:39Z",
      "updated_at": "2015-03-10T17:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26029884",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26029884"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26037016",
      "pull_request_review_id": null,
      "id": 26037016,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDM3MDE2",
      "diff_hunk": "@@ -2455,8 +2455,11 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     nLastBlockFile = nFile;\n-    vinfoBlockFile[nFile].nSize += nAddSize;\n     vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n+    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n+        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "original_commit_id": "9add379b92f961d372803522239574cf3481b5e5",
      "in_reply_to_id": null,
      "user": {
        "login": "eN0Rm",
        "id": 2642101,
        "node_id": "MDQ6VXNlcjI2NDIxMDE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2642101?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eN0Rm",
        "html_url": "https://github.com/eN0Rm",
        "followers_url": "https://api.github.com/users/eN0Rm/followers",
        "following_url": "https://api.github.com/users/eN0Rm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eN0Rm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eN0Rm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eN0Rm/subscriptions",
        "organizations_url": "https://api.github.com/users/eN0Rm/orgs",
        "repos_url": "https://api.github.com/users/eN0Rm/repos",
        "events_url": "https://api.github.com/users/eN0Rm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eN0Rm/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "When can I fetch latest source code, compile and test?\n\nOn Mon, Mar 9, 2015 at 1:01 PM, Jeff Garzik notifications@github.com\nwrote:\n\n> In src/main.cpp\n> https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26029884:\n> \n> > ```\n> >  vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n> > ```\n> > -    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n> > -        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;\n> \n> +1\n> \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/bitcoin/bitcoin/pull/5864/files#r26029884.\n\n## \n\nMvh\n-fredrik-normann-\n\nSent from my Gmail Account\n",
      "created_at": "2015-03-09T14:02:13Z",
      "updated_at": "2015-03-10T17:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26037016",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26037016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26062658",
      "pull_request_review_id": null,
      "id": 26062658,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDYyNjU4",
      "diff_hunk": "@@ -2455,8 +2455,11 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     nLastBlockFile = nFile;\n-    vinfoBlockFile[nFile].nSize += nAddSize;\n     vinfoBlockFile[nFile].AddBlock(nHeight, nTime);\n+    if (fKnown && vinfoBlockFile[nFile].nSize < (pos.nPos + nAddSize))\n+        vinfoBlockFile[nFile].nSize = pos.nPos + nAddSize;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "bb6acff07982dda68b5c2ac81c99dbd7255bb9cc",
      "original_commit_id": "9add379b92f961d372803522239574cf3481b5e5",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@laanwj Yes, thanks for catching that.\n",
      "created_at": "2015-03-09T18:40:47Z",
      "updated_at": "2015-03-10T17:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5864#discussion_r26062658",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26062658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5864"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}