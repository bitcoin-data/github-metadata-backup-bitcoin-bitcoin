{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149",
    "id": 2143873100,
    "node_id": "PR_kwDOABII585_yOhM",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31149",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31149.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31149.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31149",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31149/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/23560b468c474bbc6a3abd6c0778da62766ac8f7",
    "number": 31149,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "tinyformat: enforce compile-time checks for format string literals",
    "user": {
      "login": "stickies-v",
      "id": 69010457,
      "node_id": "MDQ6VXNlcjY5MDEwNDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stickies-v",
      "html_url": "https://github.com/stickies-v",
      "followers_url": "https://api.github.com/users/stickies-v/followers",
      "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
      "organizations_url": "https://api.github.com/users/stickies-v/orgs",
      "repos_url": "https://api.github.com/users/stickies-v/repos",
      "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/stickies-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "_Carved out of #30928 - this PR doesn't include the controversial change of suppressing `tinyformat::format_error` throwing behaviour, and just adds enforcement of compile-time checks for format string literals._\r\n\r\nReduce unexpected run-time crashes from string formatting by enforcing compile-time format string checks for most* `tfm::format` and `strprintf` usage.\r\n\r\nThis PR should introduce no behaviour change.\r\nThe main changes are:\r\n- remove the `const std::string&` `tfm::format` overload since it's not necessary. Usage of this overload is removed by one of:\r\n  - replacing string concatenation in the format string with just an extra parameter\r\n  - using the `bilingual_str` overload\r\n  - using the new `tfm::format_raw` functions (only for tinyformat implementation or tests)\r\n- rename the non-compile-time-validated `tfm::format` overloads to `tfm::format_raw`, so existing callsites by default use the safer `util::ConstevalFormatString` `tfm::format` overloads. Callsites that for some reason don't pass the compile-time checks (such as in `bitcoin-cli.cpp`) can use `tfm::format_raw`.\r\n\r\nSee https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816650254 for an example on how this PR can prevent a run-time error for a small format string mistake.\r\n\r\n_* See #31061 for `bilingual_str format(const bilingual_str& fmt, const Args&... args)` compile-time checks._",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2024-10-24T14:32:07Z",
    "updated_at": "2024-10-26T01:32:25Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "8173a6f8b14d3e5d76e422c5541a615ada81b0a2",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "stickies-v:2024-10/remove-string-format-overload",
      "ref": "2024-10/remove-string-format-overload",
      "sha": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 431644530,
        "node_id": "R_kgDOGbpfcg",
        "name": "bitcoin",
        "full_name": "stickies-v/bitcoin",
        "owner": {
          "login": "stickies-v",
          "id": 69010457,
          "node_id": "MDQ6VXNlcjY5MDEwNDU3",
          "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/stickies-v",
          "html_url": "https://github.com/stickies-v",
          "followers_url": "https://api.github.com/users/stickies-v/followers",
          "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
          "organizations_url": "https://api.github.com/users/stickies-v/orgs",
          "repos_url": "https://api.github.com/users/stickies-v/repos",
          "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/stickies-v/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/stickies-v/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/stickies-v/bitcoin",
        "archive_url": "https://api.github.com/repos/stickies-v/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/stickies-v/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/stickies-v/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/stickies-v/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/stickies-v/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/stickies-v/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/stickies-v/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/stickies-v/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/stickies-v/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/stickies-v/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/stickies-v/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/stickies-v/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/stickies-v/bitcoin/events",
        "forks_url": "https://api.github.com/repos/stickies-v/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/stickies-v/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/stickies-v/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/stickies-v/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/stickies-v/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/stickies-v/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/stickies-v/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/stickies-v/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/stickies-v/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/stickies-v/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/stickies-v/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/stickies-v/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/stickies-v/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/stickies-v/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/stickies-v/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/stickies-v/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:stickies-v/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/stickies-v/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/stickies-v/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/stickies-v/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/stickies-v/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/stickies-v/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/stickies-v/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/stickies-v/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/stickies-v/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/stickies-v/bitcoin/hooks",
        "svn_url": "https://github.com/stickies-v/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 260434,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-10-25T11:31:57Z",
        "created_at": "2021-11-24T22:26:41Z",
        "updated_at": "2024-06-19T14:39:47Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8f24e492e204b1771370241a0502ba51c9001320",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36279,
        "stargazers_count": 79058,
        "watchers_count": 79058,
        "size": 270216,
        "default_branch": "master",
        "open_issues_count": 645,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-10-25T20:35:28Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-10-26T01:07:56Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 79,
    "deletions": 71,
    "changed_files": 13,
    "commits": 4,
    "review_comments": 19,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 2435466169,
      "node_id": "IC_kwDOABII586RKkO5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2435466169",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-24T14:32:11Z",
      "updated_at": "2024-10-26T01:32:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/31149).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/31149#issuecomment-2437561736), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2395385698) |\n| Stale ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2393618400) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31061](https://github.com/bitcoin/bitcoin/pull/31061) (refactor: Check translatable format strings at compile-time by maflcko)\n* [#31042](https://github.com/bitcoin/bitcoin/pull/31042) (build: Rename `PACKAGE_*` variables to `CLIENT_*` by hebasto)\n* [#30997](https://github.com/bitcoin/bitcoin/pull/30997) (build: Switch to Qt 6 by hebasto)\n* [#30930](https://github.com/bitcoin/bitcoin/pull/30930) (netinfo: add peer services column and outbound-only option by jonatack)\n* [#30221](https://github.com/bitcoin/bitcoin/pull/30221) (wallet: Ensure best block matches wallet scan state by achow101)\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#issuecomment-2435466169",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31149"
    },
    {
      "event": "labeled",
      "id": 14855458427,
      "node_id": "LE_lADOABII586brNH9zwAAAAN1dE57",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14855458427",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-24T17:00:27Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 2435910975,
      "node_id": "IC_kwDOABII586RMQ0_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2435910975",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-24T17:27:24Z",
      "updated_at": "2024-10-24T17:27:24Z",
      "author_association": "MEMBER",
      "body": "Only change since previous review (https://github.com/bitcoin/bitcoin/pull/30928#pullrequestreview-2355129479) is dropping one commit.\r\n\r\nre-ACK 4cf12216951e91550c81db807fe0ecfafe6834c9 ðŸ”¡\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 4cf12216951e91550c81db807fe0ecfafe6834c9 ðŸ”¡\r\n+Wc7LAsLFEv1ml5wXBpRIhY/WbQ/TIxWPVXqF9OJkPsRA7bKmHlMBit5JhDzclgMU5hAfEPaV/gka44cL1CtBQ==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#issuecomment-2435910975",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31149"
    },
    {
      "event": "reviewed",
      "id": 2393618400,
      "node_id": "PRR_kwDOABII586Oq7fg",
      "url": null,
      "actor": null,
      "commit_id": "4cf12216951e91550c81db807fe0ecfafe6834c9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 4cf12216951e91550c81db807fe0ecfafe6834c9\r\n\r\nOnly dropped commit I had [concerns about](https://github.com/bitcoin/bitcoin/pull/30928#issuecomment-2431257072). [l0rinc too](https://github.com/bitcoin/bitcoin/pull/30928#pullrequestreview-2389270316).\r\n\r\nDoes not entirely prevent throwing of exceptions from incorrect format strings (notably translated strings), but is a step in the right direction (validating more format strings at compile time).",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2393618400",
      "submitted_at": "2024-10-24T20:11:09Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
    },
    {
      "event": "reviewed",
      "id": 2394670197,
      "node_id": "PRR_kwDOABII586Ou8R1",
      "url": null,
      "actor": null,
      "commit_id": "4cf12216951e91550c81db807fe0ecfafe6834c9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2394670197",
      "submitted_at": "2024-10-25T08:59:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
    },
    {
      "event": "labeled",
      "id": 14868037850,
      "node_id": "LE_lADOABII586brNH9zwAAAAN2NEDa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14868037850",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T09:08:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM1ZGEyNTVmMzFiMGUwYTRhNzA4ZDk2MzJiMGQ5ODFhNTA4NzBiZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35da255f31b0e0a4a708d9632b0d981a50870bd9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/35da255f31b0e0a4a708d9632b0d981a50870bd9",
      "tree": {
        "sha": "7b77caeb1dc26062998354c1d0b158f4d1b231d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b77caeb1dc26062998354c1d0b158f4d1b231d9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b77caeb1dc26062998354c1d0b158f4d1b231d9\nparent 2ef5004f78c936d3c55a23c953fe2b97bc3f97ae\nauthor stickies-v <stickies-v@protonmail.com> 1727272523 +0100\ncommitter stickies-v <stickies-v@protonmail.com> 1729850804 +0100\n\nmove-only: ConstevalFormatString tfm::format to tinyformat.h\n\nIn future commits, the non-ConstevalFormatString tfm::format\noverloads will be renamed or removed. To avoid all callsites\nhaving to include util/string.h (or to have a circular dependency\nbetween tinyformat.h and util/string.h), just move the\nConstevalFormatString overloads to tinyformat.h\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmcbbbQACgkQXLHObl5m\np1dbQxAAgiXrqlPNnk5aZ96N4FMe6O///oCxt6R93P+K+sdvVokePVKajv953cLe\nayc32mp+yKuL1gR8nC9XevZgE0Ia15SK5oo4FtWTBEXBzqiHxgyzBD3PJH2nVE5o\nyN7yMEjxCXNTQ1FLCRSMkaXQKkM0EJy8H8ibqYaxd60d5zuRIKgvmpW0OvRBWwJo\nm2TjH39M26xmcGUNS+nfd/Stu+B8dUsEvEXr/OQtdmyOytQ3nH1YarM1Q4ajaBTL\nkRMsDfMk2IfEh/quDQ7xFZVhn4s6wRSStcbD/KYg3qd6TaIuLf8esYLAOfLuMm2t\n3yq0bcF+/f5gGl9phGqTQ3PcRnO40rcjrtewEMHWt3ZZrJgHZ9HxxEzOd0sDdVef\nCdPi/eSYyTdV741WTQ84WnfPeQOALPdj+pAz/JqtzkLbi2Xp1gYA1cCQXP8pmA/a\n3/7O/av6sfRHK2Ef+L9zD+Lse0lYB7SG+DRoBeAHqGvCjC8sqE5zDGfZa5zkrMOa\nvT84zHDE2dvL9R159dwHHUaSSuw0gWDXliqqVLoE3DLMKi0X+O/Mq+1jwM+mbLq2\nvnCooBX6TnGNpLGC2UmJa+qIvKprT/6BVOIiGVhBTlqPa45yMJTefD6HdgEnIufn\nPqXq4LAMox5z+BBdN5lwdfQEKvJKKYR6PSYvLxJCDHV4xA5xl2w=\n=s/m2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2ef5004f78c936d3c55a23c953fe2b97bc3f97ae",
          "sha": "2ef5004f78c936d3c55a23c953fe2b97bc3f97ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2ef5004f78c936d3c55a23c953fe2b97bc3f97ae"
        }
      ],
      "message": "move-only: ConstevalFormatString tfm::format to tinyformat.h\n\nIn future commits, the non-ConstevalFormatString tfm::format\noverloads will be renamed or removed. To avoid all callsites\nhaving to include util/string.h (or to have a circular dependency\nbetween tinyformat.h and util/string.h), just move the\nConstevalFormatString overloads to tinyformat.h",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T10:06:44Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-09-25T13:55:23Z"
      },
      "sha": "35da255f31b0e0a4a708d9632b0d981a50870bd9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5YjEyYjVjZmNmNDM4YTU5ZTlmNTRhZDZkMjIyOGJlODZhOWJmZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb",
      "tree": {
        "sha": "ad9fa5da9e94d85ee2b04acac69a5a1510b36a86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad9fa5da9e94d85ee2b04acac69a5a1510b36a86"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ad9fa5da9e94d85ee2b04acac69a5a1510b36a86\nparent 35da255f31b0e0a4a708d9632b0d981a50870bd9\nauthor stickies-v <stickies-v@protonmail.com> 1729853395 +0100\ncommitter stickies-v <stickies-v@protonmail.com> 1729853648 +0100\n\nfuzz: refactor: add fuzz_fmt string helper function\n\nIn a future commit, the tfm::format std::string overload will\nbe removed to enforce usage of a compile-time checked overload.\n\nTo minimize code churn in future commits, add a test-only\nstd::string tfm::format helper function.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmcbeNAACgkQXLHObl5m\np1cAyhAAq024Obf777a8nJJ/soBMj7073JIhfxKTUDdHdtNdvA1ot1l1WyGGa4JQ\nisbqErCAc3A5ZePmDh0TO2cjLsdCTwCWgjNCoQb9x7Bth9VA1E7wwirIoQjgvxyg\n8UVGYauhyPwvEWVMyvVdIVR5OIeYdMsWCgL/iVpA2m77I0wiVZePmYwAxn2LJtBw\nesi5ZpW72GYVqP8G7HRUAD7Ka1hNqDC9M/KivGkWJnS2iZTVfBnjLUNx1bnvMVq4\nBvhBmY+EiQppbUCEAZRMWGlLDgf4KeEsE3WiNpwDAF9bLQmOxXgwCD9y7x3jJ6gv\nG1vK/2d9umy2GRqSHKJcy3ogumMOAT0T8iTF1mENfN57hKzh4B3Hb0eNV2N1BQYX\n8sv79BmZKYal+EAhUYY4SxGLJfearWYxEnjJgUbhOghTxIQJikJsfYdlzQsAvprf\nf5JJEsXPA++sWw52d1LCKwem4Lzuaax/ACixKFJanDF6Xkyro64QPiSLemjjzegc\nRyB6ez3HHnbGBfYiAsgODsAmUQT0sYuOhbcqqBpjcqmS9kOsX0tyC2+A8De/mJb1\nuhn2WX9VgWRliw3fNj5uhjaHV5u6eMZd2S5CKUy3bWfADbDbRikfdtL6fM4Itmbo\nxDfAbl7Bm3yO+liAk2Dq6mO8vw1XpOhYn9o/xWC/8SQnb8WvOMQ=\n=zeMJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35da255f31b0e0a4a708d9632b0d981a50870bd9",
          "sha": "35da255f31b0e0a4a708d9632b0d981a50870bd9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/35da255f31b0e0a4a708d9632b0d981a50870bd9"
        }
      ],
      "message": "fuzz: refactor: add fuzz_fmt string helper function\n\nIn a future commit, the tfm::format std::string overload will\nbe removed to enforce usage of a compile-time checked overload.\n\nTo minimize code churn in future commits, add a test-only\nstd::string tfm::format helper function.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T10:54:08Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T10:49:55Z"
      },
      "sha": "99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY0YjA0MDQzZmIyMzUyNDNlZTFmYTZiMTFiMjdhNzRlNGM3YjQwZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f4b04043fb235243ee1fa6b11b27a74e4c7b40d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f4b04043fb235243ee1fa6b11b27a74e4c7b40d9",
      "tree": {
        "sha": "fedafe9a067aeeee2a2ee45781e4653fc791a2bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fedafe9a067aeeee2a2ee45781e4653fc791a2bc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fedafe9a067aeeee2a2ee45781e4653fc791a2bc\nparent 99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb\nauthor stickies-v <stickies-v@protonmail.com> 1729853671 +0100\ncommitter stickies-v <stickies-v@protonmail.com> 1729853671 +0100\n\ntinyformat: remove std::string overload\n\nAll (non-test) format strings are known at compile-time, so we\ndon't need the std::string overload. Remove it so users use the\nsafer util::ConstevalFormatString where possible, or the\nbilingual_str overload where applicable.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmcbeO8ACgkQXLHObl5m\np1fPrQ/7BrMHjLaCWvfBjcMYP5LGVJ9PGuAUqMQxwZ7wCXMuLDs+Cbv1T+pbnvn5\nzL6fKxTPk+OXbMUSW/bwHBx52lxA+gHOFWXxwHe+khO9VxgRnHpMw4lmE/j3o79g\nQ+7Io9taOLRwU4QCDx6S7PYUnC10mwRLjRD5xXS4ziL/ENxDJgtCEBWa0u4qDRu8\nViA+TFIva7nlzSBFbIkyOlHyq4YdjxKQu59RWBX+3LHw/7QvwKjzdRtZoF8tVdyX\nA/eVLwjiKzT2gd4hk9RK/2K5/m/DNdZTgY+dc54kky2XCIYsvAKtMbRCc8B9ct9Q\n+/MQJVmRQCXntcuxmJfwivMqkTp0i0Tr8vmXiy7X3bxUloX4RKSCnosDavnQYdWk\n7pLSuDuYQ7q8KLQx5E43UoNvG4d+6TWmfn6J1wodFHnDbITEV9cETqBRg9SXTFh1\nIVl7wXWkv6panJuy9F5CTnWgnxKH8E2x4V9bVavCI55kM2q01RfeC9f4XELNdqol\nuTmQvqL3e1t3rPRom+wqFoZ8/KaJrupJWEyHKX0OtmoPzxvDSbpXe7qGLTOSbytJ\nspBF+8QmgZgHxorYxpR/n6xFyFEGQTy5p4ABHk0elOvi2XOZRaBYHMQmo2U6XGrI\n5o84+iCpcFxvKFcfk3t4cuNVN0ZezFvQ8GFCZJ72/gMkZ97Um+0=\n=TP80\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb",
          "sha": "99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb"
        }
      ],
      "message": "tinyformat: remove std::string overload\n\nAll (non-test) format strings are known at compile-time, so we\ndon't need the std::string overload. Remove it so users use the\nsafer util::ConstevalFormatString where possible, or the\nbilingual_str overload where applicable.",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T10:54:31Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T10:54:31Z"
      },
      "sha": "f4b04043fb235243ee1fa6b11b27a74e4c7b40d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIzNTYwYjQ2OGM0NzRiYmM2YTNhYmQ2YzA3NzhkYTYyNzY2YWM4Zjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "tree": {
        "sha": "8679e301fd5ab69924309e96417a4d50854f0009",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8679e301fd5ab69924309e96417a4d50854f0009"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8679e301fd5ab69924309e96417a4d50854f0009\nparent f4b04043fb235243ee1fa6b11b27a74e4c7b40d9\nauthor stickies-v <stickies-v@protonmail.com> 1727274730 +0100\ncommitter stickies-v <stickies-v@protonmail.com> 1729854524 +0100\n\ntinyformat: force compile-time checks for format string literals\n\nCallsites such as bitcoin-cli that (incorrectly) fail compile-time\nvalidation can still use tfm::format_raw.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmcbfDwACgkQXLHObl5m\np1f4oxAAtx81pMP0jtw4xMf9qKFl6Dsv6tM8QusC4sDTtANJrXGq0pR2hnvxeMCh\nBP9imiOPApv7Y97FVUOA1apqF9JEU0fpIddLUZTAlifmfSoMt7VgAxiR1faY5ipD\neOm9cwSCcZVETGu1qhYUAzcUD2OnnrOW5BVAcEALyTl3iVjmeUqaljjYYjqWSZCg\nSVMs0S2UbU39A05Tmyh9MnqrL+B2SimAgADYA/kF5QWDPBtWeekR4hP7ep/gozMP\nR0VhQyt7FE0i1rDsbFDPmE0T7BTOCRyWfCwgKrVPpQ9QSLHfeCjGZbSU+EijHORm\nE5Cl6tiBxeE72w0ldOp/XnbDvYKhx+NR+sYOa6N5u00WV0ft+80LrAWD3B8zZZ34\npcl/AQgu97p22/NsphuqTQNpIPW1f2PE8Nr+8SAj8ffrceCTy/LCcYEOWcCAxqKY\nIuVU+JCjvmr80r90tYVFd7LyHx1Fbu+Tq8s+ALnq6ch67F+5MHDA5zu+78RP+n+h\n3FBBJUrqLoKbRLOAm86h4rL32vBGATRZH+9XzF7BhKHbLo6c4TkqvkN9Uy0gIx58\n821OMI3uPvTLapA7COEmA59pN9GA6qPQNwb/E64oTJjJTitgu+aHL3+wgBthDzrW\nTc1tcPieJsOSk9KUoRmWyJ4o0K4947W/iHZgzkS/K4unvH5rIhQ=\n=f4yW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f4b04043fb235243ee1fa6b11b27a74e4c7b40d9",
          "sha": "f4b04043fb235243ee1fa6b11b27a74e4c7b40d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f4b04043fb235243ee1fa6b11b27a74e4c7b40d9"
        }
      ],
      "message": "tinyformat: force compile-time checks for format string literals\n\nCallsites such as bitcoin-cli that (incorrectly) fail compile-time\nvalidation can still use tfm::format_raw.",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-10-25T11:08:44Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-09-25T14:32:10Z"
      },
      "sha": "23560b468c474bbc6a3abd6c0778da62766ac8f7"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14871299246,
      "node_id": "HRFPE_lADOABII586brNH9zwAAAAN2ZgSu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14871299246",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T11:31:59Z"
    },
    {
      "event": "reviewed",
      "id": 2395013005,
      "node_id": "PRR_kwDOABII586OwP-N",
      "url": null,
      "actor": null,
      "commit_id": "4cf12216951e91550c81db807fe0ecfafe6834c9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Rebased to address merge-conflict from #29936. Also added commit 99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb to minimize `c_str()` usage (an [earlier review concern](https://github.com/bitcoin/bitcoin/pull/30928#issuecomment-2389355374) of @ryanofsky) and minimize code churn, as [suggested](https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816298165) by @maflcko.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2395013005",
      "submitted_at": "2024-10-25T11:32:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
    },
    {
      "event": "commented",
      "id": 2437561736,
      "node_id": "IC_kwDOABII586RSj2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2437561736",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T11:39:23Z",
      "updated_at": "2024-10-25T11:39:23Z",
      "author_association": "MEMBER",
      "body": "re-ACK 23560b468c474bbc6a3abd6c0778da62766ac8f7 ðŸŽ›\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 23560b468c474bbc6a3abd6c0778da62766ac8f7 ðŸŽ›\r\nAo1JTeGWaZ/P4YeyDzYeC0BXiuu/VqnjIy0SbF98ltv2ZirS7plmO4GDfWjCbWSTfMYGkSpCvhNTReEu8OBaAg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#issuecomment-2437561736",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31149"
    },
    {
      "event": "review_requested",
      "id": 14871498263,
      "node_id": "RRE_lADOABII586brNH9zwAAAAN2aQ4X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14871498263",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T11:39:27Z",
      "requested_reviewer": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2395152369,
      "node_id": "PRR_kwDOABII586Owx_x",
      "url": null,
      "actor": null,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2395152369",
      "submitted_at": "2024-10-25T12:33:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
    },
    {
      "event": "unlabeled",
      "id": 14875011536,
      "node_id": "UNLE_lADOABII586brNH9zwAAAAN2nqnQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14875011536",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-25T13:42:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2395385698,
      "node_id": "PRR_kwDOABII586Oxq9i",
      "url": null,
      "actor": null,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Nice, ACK 23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#pullrequestreview-2395385698",
      "submitted_at": "2024-10-25T14:00:33Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816298165",
      "pull_request_review_id": 2394670197,
      "id": 1816298165,
      "node_id": "PRRC_kwDOABII585sQoK1",
      "diff_hunk": "@@ -52,27 +52,27 @@ FUZZ_TARGET(str_printf)\n         CallOneOf(\n             fuzzed_data_provider,\n             [&] {\n-                (void)strprintf(format_string, fuzzed_data_provider.ConsumeRandomLengthString(32));\n+                (void)tinyformat::format_raw(format_string.c_str(), fuzzed_data_provider.ConsumeRandomLengthString(32));",
      "path": "src/test/fuzz/strprintf.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "4cf12216951e91550c81db807fe0ecfafe6834c9",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Maybe to avoid the churn here (changing the same line of code twice), and the c_str bloat, a simple alias could be introduced in an early commit, so that only the alias has to be changed internally in later commits?\r\n\r\nFor example\r\n\r\n```cpp\r\ntemplate<typename... Args>\r\nvoid fuzz_fmt(const std::string &fmt, const Args&... args){(void)tfm::format_raw(fmt.c_str(), args...);}",
      "created_at": "2024-10-25T08:59:52Z",
      "updated_at": "2024-10-25T08:59:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816298165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816298165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816516919",
      "pull_request_review_id": 2395013005,
      "id": 1816516919,
      "node_id": "PRRC_kwDOABII585sRdk3",
      "diff_hunk": "@@ -52,27 +52,27 @@ FUZZ_TARGET(str_printf)\n         CallOneOf(\n             fuzzed_data_provider,\n             [&] {\n-                (void)strprintf(format_string, fuzzed_data_provider.ConsumeRandomLengthString(32));\n+                (void)tinyformat::format_raw(format_string.c_str(), fuzzed_data_provider.ConsumeRandomLengthString(32));",
      "path": "src/test/fuzz/strprintf.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "4cf12216951e91550c81db807fe0ecfafe6834c9",
      "in_reply_to_id": 1816298165,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good idea, thanks - added you as co-author to 99b12b5cfcf438a59e9f54ad6d2228be86a9bfeb ",
      "created_at": "2024-10-25T11:30:57Z",
      "updated_at": "2024-10-25T11:32:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816516919",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816516919"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816599432",
      "pull_request_review_id": 2395152369,
      "id": 1816599432,
      "node_id": "PRRC_kwDOABII585sRxuI",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is all the indentation churn really necessary?\r\n\r\nDoes changing strprintf to tfm_format_raw here catch any potential issues that wouldn't be seen in manual testing?\r\n\r\n> Reduce unexpected run-time crashes from string formatting\r\n\r\nCan you provide an example?",
      "created_at": "2024-10-25T12:33:41Z",
      "updated_at": "2024-10-25T12:40:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816599432",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816599432"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816615151",
      "pull_request_review_id": 2395178014,
      "id": 1816615151,
      "node_id": "PRRC_kwDOABII585sR1jv",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Is all the indentation churn really necessary?\r\n\r\nIt's `clang-format` output which I believe is what we're trying to adhere to.\r\n\r\n> Does changing strprintf to tfm_format_raw here catch any potential issues that wouldn't be seen in manual testing?\r\n\r\nThe code does not compile with `strprintf` because this PR enforces compile-time checks, which fail because of the width specifiers in the format string (there's quite some discussion on these limitations in https://github.com/bitcoin/bitcoin/pull/30546). See also this excerpt from the PR description that addresses this:\r\n\r\n> * rename the non-compile-time-validated `tfm::format` overloads to `tfm::format_raw`, so existing callsites by default use the safer `util::ConstevalFormatString` `tfm::format` overloads. Callsites that for some reason don't pass the compile-time checks (such as in `bitcoin-cli.cpp`) can use `tfm::format_raw`.\r\n\r\n",
      "created_at": "2024-10-25T12:43:00Z",
      "updated_at": "2024-10-25T12:43:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816615151",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816615151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816628934",
      "pull_request_review_id": 2395200609,
      "id": 1816628934,
      "node_id": "PRRC_kwDOABII585sR47G",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Clang-format can be helpful for new code, but I don't think it's necessary to re-indent code for it that isn't otherwise touched -- that's just noisy churn.",
      "created_at": "2024-10-25T12:50:54Z",
      "updated_at": "2024-10-25T12:50:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816628934",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816628934"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816630949",
      "pull_request_review_id": 2395204096,
      "id": 1816630949,
      "node_id": "PRRC_kwDOABII585sR5al",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please provide an example of how this code could crash currently without this change?",
      "created_at": "2024-10-25T12:52:02Z",
      "updated_at": "2024-10-25T12:52:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816630949",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816630949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816643611",
      "pull_request_review_id": 2395224852,
      "id": 1816643611,
      "node_id": "PRRC_kwDOABII585sR8gb",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Clang-format can be helpful for new code, but I don't think it's necessary to re-indent code for it that isn't otherwise touched -- that's just noisy churn.\r\n\r\nI'm just going with our `clang-format` settings as defined in `src/.clang-format` - if you feel like those settings are suboptimal opening a separate pull/issue for that is probably more appropriate?\r\n\r\n> Please provide an example of how this code could crash currently without this change?\r\n\r\nThe PR states that there is no behaviour change, so (unless there are run-time bugs we haven't seen yet) we can't make this code crash without this change. The point of this PR is to make the code more robust against future changes, where a new/modified format string can cause a run-time error, e.g. if not all code-paths are manually tested by reviewers (which is not unusual).",
      "created_at": "2024-10-25T13:00:38Z",
      "updated_at": "2024-10-25T13:00:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816643611",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816643611"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816650254",
      "pull_request_review_id": 2395236095,
      "id": 1816650254,
      "node_id": "PRRC_kwDOABII585sR-IO",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Please provide an example of how this code could crash currently without this change?\r\n\r\nIf you're asking about how such an error could sneak in without this PR, something like this would lead to a run-time exception (on current master b95adf057a4091941c003db4f854f8212b7e99af):\r\n\r\n_(edit: updated example to show something that's actually covered by our new compile-time tests, instead of the explicitly excluded `tfm::format_raw` callsites)_\r\n\r\n<details>\r\n<summary>git diff on b95adf057a</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-cli.cpp b/src/bitcoin-cli.cpp\r\nindex 38fd740b71..4bbef270c5 100644\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -604,7 +604,7 @@ public:\r\n         for (size_t i = 0; i < rows.size(); ++i) {\r\n             result += strprintf(\"\\n%-5s\", rows[i]); // row header\r\n             for (int8_t n : reachable_networks) {\r\n-                result += strprintf(\"%8i\", m_counts.at(i).at(n)); // network peers count\r\n+                result += strprintf(\"%8$i\", m_counts.at(i).at(n)); // network peers count\r\n             }\r\n             result += strprintf(\"   %5i\", m_counts.at(i).at(NETWORKS.size())); // total peers count\r\n             if (i == 1) { // the outbound row has two extra columns for block relay and manual peer counts\r\n\r\n```\r\n</details>\r\n\r\n```\r\n% ./bitcoin-cli -netinfo\r\nerror: tinyformat: Positional argument out of range\r\n```\r\n\r\nWith this PR, it gets caught at compile-time:\r\n\r\n```\r\n[ 51%] Built target bitcoin-wallet\r\n../../src/bitcoin-cli.cpp:607:37: error: call to consteval function 'util::ConstevalFormatString<1>::ConstevalFormatString' is not a constant expression\r\n                result += strprintf(\"%8$i\", m_counts.at(i).at(n)); // network peers count\r\n                                    ^\r\n../../src/util/string.h:77:34: note: subexpression not valid in a constant expression\r\n        if (num_params != count) throw \"Format specifier count must match the argument count!\";\r\n                                 ^\r\n../../src/util/string.h:37:67: note: in call to 'Detail_CheckNumFormatSpecifiers({&\"%8$i\"[0], 4})'\r\n    consteval ConstevalFormatString(const char* str) : fmt{str} { Detail_CheckNumFormatSpecifiers(fmt); }\r\n                                                                  ^\r\n../../src/bitcoin-cli.cpp:607:37: note: in call to 'ConstevalFormatString(&\"%8$i\"[0])'\r\n                result += strprintf(\"%8$i\", m_counts.at(i).at(n)); // network peers count\r\n                                    ^\r\n1 error generated.\r\n```\r\n",
      "created_at": "2024-10-25T13:05:07Z",
      "updated_at": "2024-10-25T13:16:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816650254",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816650254"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816714440",
      "pull_request_review_id": 2395340612,
      "id": 1816714440,
      "node_id": "PRRC_kwDOABII585sSNzI",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the example. As the primary author of this code, I think the run-time error would be more clear, though a compile-time error would catch it one CLI command earlier. I haven't found this kind of error to be an issue for me over the past half decade on this code.\r\n\r\nAlso, this code path is manually tested by myself, reviewers and users. Perhaps for that reason, and because it's non-critical code, a maintainer explicitly asked that no test coverage be written for it.\r\n\r\nSo either way is fine, I suppose, but this conflicts with https://github.com/bitcoin/bitcoin/pull/30930 so it's more an annoyance than helpful for me. The rest of this PR seems fine.",
      "created_at": "2024-10-25T13:42:39Z",
      "updated_at": "2024-10-25T13:50:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816714440",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816714440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816718706",
      "pull_request_review_id": 2395348108,
      "id": 1816718706,
      "node_id": "PRRC_kwDOABII585sSO1y",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'm just going with our clang-format settings as defined in src/.clang-format\r\n\r\nIt's not a hard requirement to retouch existing code with that tool, and I'd prefer avoiding the churn.",
      "created_at": "2024-10-25T13:45:43Z",
      "updated_at": "2024-10-25T13:45:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816718706",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816718706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816740327",
      "pull_request_review_id": 2395382766,
      "id": 1816740327,
      "node_id": "PRRC_kwDOABII585sSUHn",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> As the primary author of this code, I think the run-time error would be more clear\r\n\r\nI'm sorry, what? For what reason would we not use the logic we already have to catch (some/most) of these format errors at compile-time, and defer them to run-time instead, relying on manual review to make sure each code-path is ran, potentially crashing user software? That seems like the opposite of security engineering best practices to me.\r\n\r\n> a maintainer explicitly asked that no test coverage be written for it.\r\n\r\nWe're not writing any test coverage for it here either, it comes for free. How is that a bad thing?\r\n\r\n> It's not a hard requirement to retouch existing code with that tool, and I'd prefer avoiding the churn.\r\n\r\nNoted, but I prefer keeping this as is, I'd rather not override `clang-format` for this.",
      "created_at": "2024-10-25T13:59:23Z",
      "updated_at": "2024-10-25T13:59:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816740327",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816740327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816753074",
      "pull_request_review_id": 2395406196,
      "id": 1816753074,
      "node_id": "PRRC_kwDOABII585sSXOy",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'd prefer avoiding the churn.\r\n\r\nWe usually call things churn that change things multiple times within the same PR. Indenting the lines below a changed line that belong to the same logical unit is a good thing in my eyes. If we would not do that anywhere, the code would look weird and probably make `clang-format` unusable after a while.",
      "created_at": "2024-10-25T14:05:59Z",
      "updated_at": "2024-10-25T14:06:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816753074",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816753074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816767397",
      "pull_request_review_id": 2395432261,
      "id": 1816767397,
      "node_id": "PRRC_kwDOABII585sSaul",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> The rest of this PR seems fine.\r\n\r\nWe can't have the rest of this PR without updating `bitcoin-cli.cpp`, unless someone implements the complete format string validation logic, for which as per my earlier comment, see https://github.com/bitcoin/bitcoin/pull/30546.",
      "created_at": "2024-10-25T14:13:30Z",
      "updated_at": "2024-10-25T14:13:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816767397",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816767397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816776909",
      "pull_request_review_id": 2395448919,
      "id": 1816776909,
      "node_id": "PRRC_kwDOABII585sSdDN",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'm sorry, what? For what reason would we not use the logic we already have to catch (some/most) of these format errors at compile-time, and defer them to run-time instead, relying on manual review to make sure each code-path is ran, potentially crashing user software? \r\n\r\n> relying on manual review to make sure each code-path is ran, potentially crashing user software\r\n\r\nBecause, as I wrote:\r\n\r\n- I think the run-time error is more clear to understand, as the person working on the code\r\n- This code path is manually tested anyway, otherwise the command with any non-zero level won't run\r\n\r\n> That seems like the opposite of security engineering best practices to me.\r\n\r\nOne could argue the same for discouraging test coverage, but that's been the stance.",
      "created_at": "2024-10-25T14:19:07Z",
      "updated_at": "2024-10-25T14:19:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816776909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816776909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816781445",
      "pull_request_review_id": 2395456853,
      "id": 1816781445,
      "node_id": "PRRC_kwDOABII585sSeKF",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> > I'd prefer avoiding the churn.\r\n> \r\n> We usually call things churn that change things multiple times within the same PR. Indenting the lines below a changed line that belong to the same logical unit is a good thing in my eyes. If we would not do that anywhere, the code would look weird and probably make `clang-format` unusable after a while.\r\n\r\nThe lines are changed needlessly. Whether we call it noise or churn is unimportant.",
      "created_at": "2024-10-25T14:21:55Z",
      "updated_at": "2024-10-25T14:42:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816781445",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816781445"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816785037",
      "pull_request_review_id": 2395462690,
      "id": 1816785037,
      "node_id": "PRRC_kwDOABII585sSfCN",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@TheCharlatan mind being explicit what part of my feedback your emoji relates to?",
      "created_at": "2024-10-25T14:24:11Z",
      "updated_at": "2024-10-25T14:24:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816785037",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816785037"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816788216",
      "pull_request_review_id": 2395469001,
      "id": 1816788216,
      "node_id": "PRRC_kwDOABII585sSfz4",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think the run-time error is more clear to understand, as the person working on the code\r\n\r\nAnd I think prioritizing devs getting nicer error messages over increased software run-time stability is almost never a good trade-off. It seems we have fundamentally different views, so I'll leave this thread unresolved but I strongly disagree with your approach and won't change the PR because of it.\r\n\r\n> This code path is manually tested anyway, otherwise the command with any non-zero level won't run\r\n\r\nI understand it's tested, and that's good, because `tfm::format_raw()` doesn't do any compile-time checks.",
      "created_at": "2024-10-25T14:26:14Z",
      "updated_at": "2024-10-25T14:26:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816788216",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816788216"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816806742",
      "pull_request_review_id": 2395497409,
      "id": 1816806742,
      "node_id": "PRRC_kwDOABII585sSkVW",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> mind being explicit what part of my feedback your emoji relates to?\r\n\r\nSure\r\n\r\n> I haven't found this kind of error to be an issue for me over the past half decade on this code.\r\n\r\nI've seen a bunch of positional args errors in fairly recent times, and catching them at compile time is certainly worthwhile. People tried doing this with various linters, but the linters produced false-positives, or missed certain cases.",
      "created_at": "2024-10-25T14:36:40Z",
      "updated_at": "2024-10-25T14:36:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816806742",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816806742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816826831",
      "pull_request_review_id": 2395528823,
      "id": 1816826831,
      "node_id": "PRRC_kwDOABII585sSpPP",
      "diff_hunk": "@@ -540,15 +540,15 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += strprintf(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n-                                m_max_addr_processed_length, \"addrp\",\n-                                m_max_addr_rate_limited_length, \"addrl\",\n-                                m_max_age_length, \"age\");\n+            result += tfm::format_raw(\"<->   type   net  v  mping   ping send recv  txn  blk  hb %*s%*s%*s \",\n+                                      m_max_addr_processed_length, \"addrp\",\n+                                      m_max_addr_rate_limited_length, \"addrl\",\n+                                      m_max_age_length, \"age\");",
      "path": "src/bitcoin-cli.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "original_commit_id": "23560b468c474bbc6a3abd6c0778da62766ac8f7",
      "in_reply_to_id": 1816599432,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> And I think prioritizing devs getting nicer error messages over increased software run-time stability is almost never a good trade-off.\r\n\r\nI think we agree there, given that you wrote \"almost\" ;)",
      "created_at": "2024-10-25T14:48:52Z",
      "updated_at": "2024-10-25T14:56:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31149#discussion_r1816826831",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1816826831"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31149"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 546,
      "original_line": 546,
      "side": "RIGHT"
    }
  ]
}