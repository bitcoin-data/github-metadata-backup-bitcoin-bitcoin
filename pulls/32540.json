{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540",
    "id": 2525856907,
    "node_id": "PR_kwDOABII586WjYSL",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32540",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32540.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32540.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8cb0465defdf96a86b7485ff098d2ba70843e942",
    "number": 32540,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rest: fetch spent transaction outputs by blockhash",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Today, it is possible to fetch a block's spent prevouts in order to build an external index by using the `/rest/block/BLOCKHASH.json` endpoint. However, its performance is low due to JSON serialization overhead.\r\n\r\nWe can significantly optimize it by adding a new REST endpoint, using a binary response format:\r\n\r\n```\r\n$ BLOCKHASH=00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054\r\n\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/$BLOCKHASH.json\r\nDocument Length:        13278152 bytes\r\nRequests per second:    3.53 [#/sec] (mean)\r\nTime per request:       283.569 [ms] (mean)\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:8332/rest/spentoutputs/$BLOCKHASH.bin\r\nDocument Length:        195591 bytes\r\nRequests per second:    254.47 [#/sec] (mean)\r\nTime per request:       3.930 [ms] (mean)\r\n```\r\n\r\nCurrently, this PR is being used and tested by Bindex[^1].\r\n\r\nThis PR would allow to improve the performance of external indexers such as electrs[^2], ElectrumX[^3], Fulcrum[^4] and Blockbook[^5].\r\n\r\n[^1]: https://github.com/romanz/bindex-rs\r\n[^2]: https://github.com/romanz/electrs (also [blockstream.info](https://github.com/Blockstream/electrs) and [mempool.space](https://github.com/mempool/electrs) forks)\r\n[^3]: https://github.com/spesmilo/electrumx\r\n[^4]: https://github.com/cculianu/Fulcrum\r\n[^5]: https://github.com/trezor/blockbook\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2025-05-17T07:27:02Z",
    "updated_at": "2025-05-22T02:26:34Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "90debdd678108a8ce29a605c711eb27866b49b8b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "romanz:spent-prevouts",
      "ref": "spent-prevouts",
      "sha": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 125523455,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjU1MjM0NTU=",
        "name": "bitcoin",
        "full_name": "romanz/bitcoin",
        "owner": {
          "login": "romanz",
          "id": 9900,
          "node_id": "MDQ6VXNlcjk5MDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/romanz",
          "html_url": "https://github.com/romanz",
          "followers_url": "https://api.github.com/users/romanz/followers",
          "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
          "organizations_url": "https://api.github.com/users/romanz/orgs",
          "repos_url": "https://api.github.com/users/romanz/repos",
          "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/romanz/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/romanz/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/romanz/bitcoin",
        "archive_url": "https://api.github.com/repos/romanz/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/romanz/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/romanz/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/romanz/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/romanz/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/romanz/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/romanz/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/romanz/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/romanz/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/romanz/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/romanz/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/romanz/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/romanz/bitcoin/events",
        "forks_url": "https://api.github.com/repos/romanz/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/romanz/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/romanz/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/romanz/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/romanz/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/romanz/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/romanz/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/romanz/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/romanz/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/romanz/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/romanz/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/romanz/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/romanz/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/romanz/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/romanz/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/romanz/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:romanz/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/romanz/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/romanz/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/romanz/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/romanz/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/romanz/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/romanz/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/romanz/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/romanz/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/romanz/bitcoin/hooks",
        "svn_url": "https://github.com/romanz/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 257740,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-19T05:08:46Z",
        "created_at": "2018-03-16T13:59:02Z",
        "updated_at": "2023-11-29T23:29:01Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "7710a31f0cb69a04529f39840196826d0b9770ab",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37246,
        "stargazers_count": 83723,
        "watchers_count": 83723,
        "size": 282357,
        "default_branch": "master",
        "open_issues_count": 729,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-21T13:24:43Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-22T02:55:50Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 88,
    "deletions": 0,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 2,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 2888175145,
      "node_id": "IC_kwDOABII586sJg4p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888175145",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:27:05Z",
      "updated_at": "2025-05-22T02:26:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32540.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [adyshimony](https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2899720171) |\n| Stale ACK | [tapcrafter](https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2848945630) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888175145",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "labeled",
      "id": 17697934865,
      "node_id": "LE_lADOABII5863BCN0zwAAAAQe4Q4R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17697934865",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:27:19Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "subscribed",
      "id": 17698976143,
      "node_id": "SE_lADOABII5863BCN0zwAAAAQe8PGP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698976143",
      "actor": {
        "login": "dn4vzdx8xS15wUV0",
        "id": 211630628,
        "node_id": "U_kgDODJ06JA",
        "avatar_url": "https://avatars.githubusercontent.com/u/211630628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dn4vzdx8xS15wUV0",
        "html_url": "https://github.com/dn4vzdx8xS15wUV0",
        "followers_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/followers",
        "following_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/subscriptions",
        "organizations_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/orgs",
        "repos_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/repos",
        "events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T12:23:40Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17699589547,
      "node_id": "HRFPE_lADOABII5863BCN0zwAAAAQe-k2r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17699589547",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "created_at": "2025-05-17T15:47:07Z"
    },
    {
      "event": "commented",
      "id": 2888466453,
      "node_id": "IC_kwDOABII586sKoAV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888466453",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T15:47:34Z",
      "updated_at": "2025-05-17T15:47:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed to fix a typo in commit description.",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888466453",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2888533229,
      "node_id": "IC_kwDOABII586sK4Tt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888533229",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T18:42:59Z",
      "updated_at": "2025-05-17T18:42:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Nice.  I wonder about just adding a content-type like option so that the api endpoint is the same but you simply say if you want binary or json content returned?  Maybe there's other endpoints that it could then be applied to as well..",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888533229",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2888872800,
      "node_id": "IC_kwDOABII586sMLNg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888872800",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T09:06:34Z",
      "updated_at": "2025-05-18T09:06:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Nice. \r\n\r\nThanks :)\r\n\r\n> I wonder about just adding a content-type like option so that the api endpoint is the same but you simply say if you want binary or json content returned? Maybe there's other endpoints that it could then be applied to as well.\r\n\r\nGood idea - would it be OK to implement it in a separate PR?\r\n\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888872800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "reviewed",
      "id": 2848945630,
      "node_id": "PRR_kwDOABII586pz3Xe",
      "url": null,
      "actor": null,
      "commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "tACK ffe571f461930b7a05a3cf9f7128e843ea9f7e2d\r\n\r\n<details>\r\n\r\n<summary>Test protocol</summary>\r\n\r\nRunning ffe571f461930b7a05a3cf9f7128e843ea9f7e2d:\r\n\r\n```shell\r\n$ ./build/bin/bitcoind -regtest -rpcallowip=::1 -rpcuser=u -rpcpassword=p -rest -txindex\r\n\r\n# Invalid extension:\r\n\r\n$ curl -v -g 'u:p@localhost:18443/rest/spentoutputs/4376e2f945afef224981b665778ec45ebe64745e7d768c2937a8e271b69d708a.json'\r\n\r\n* Host localhost:18443 was resolved.\r\n...\r\n< HTTP/1.1 404 Not Found\r\n< Content-Type: text/plain\r\n< Date: Sun, 18 May 2025 12:28:13 GMT\r\n< Content-Length: 47\r\n< \r\noutput format not found (available: bin, hex)\r\n* Connection #0 to host localhost left intact\r\n\r\n\r\n# Correct extension:\r\n\r\n$ curl -v -g 'u:p@localhost:18443/rest/spentoutputs/4376e2f945afef224981b665778ec45ebe64745e7d768c2937a8e271b69d708a.hex'\r\n* Host localhost:18443 was resolved.\r\n...\r\n< HTTP/1.1 200 OK\r\n< Content-Type: text/plain\r\n< Date: Sun, 18 May 2025 12:28:43 GMT\r\n< Content-Length: 75\r\n< \r\n02000100f2052a010000001976a914090454b16d8fd499365c53a2226373c6d8734b5188ac\r\n* Connection #0 to host localhost left intact\r\n\r\n# Which corresponds to the TxOut of the spent transaction:\r\n\r\n$ bitcoin-cli -regtest -rpcuser=u -rpcpassword=p decoderawtransaction 020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff025500feffffff0200f2052a010000001976a914090454b16d8fd499365c53a2226373c6d8734b5188ac0000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000004000000\r\n{\r\n  \"txid\": \"38e6ad741857df84af27a709c1d99397b6e33c5078b284d49da6ae74b78d9bc6\",\r\n  \"hash\": \"b254f236b5141afd961bf80918b1417aa1d7f7ced2cbdd7a3bfbd243748e2c6f\",\r\n  \"version\": 2,\r\n  \"size\": 170,\r\n  \"vsize\": 143,\r\n  \"weight\": 572,\r\n  \"locktime\": 4,\r\n  \"vin\": [\r\n    {\r\n      \"coinbase\": \"5500\",\r\n      \"txinwitness\": [\r\n        \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n      ],\r\n      \"sequence\": 4294967294\r\n    }\r\n  ],\r\n  \"vout\": [\r\n    {\r\n      \"value\": 50.00000000,\r\n      \"n\": 0,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 090454b16d8fd499365c53a2226373c6d8734b51 OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"desc\": \"addr(mgLdZh69L6Zzs68mfvSkTcnz12XtgSQVJE)#ggfft2ks\",\r\n        \"hex\": \"76a914090454b16d8fd499365c53a2226373c6d8734b5188ac\",\r\n        \"address\": \"mgLdZh69L6Zzs68mfvSkTcnz12XtgSQVJE\",\r\n        \"type\": \"pubkeyhash\"\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.00000000,\r\n      \"n\": 1,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_RETURN aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9\",\r\n        \"desc\": \"raw(6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9)#cav96mf3\",\r\n        \"hex\": \"6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9\",\r\n        \"type\": \"nulldata\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```",
      "user": {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2848945630",
      "submitted_at": "2025-05-18T13:00:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
    },
    {
      "event": "comment_deleted",
      "id": 17703437461,
      "node_id": "CDE_lADOABII5863BCN0zwAAAAQfNQSV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17703437461",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T13:47:41Z"
    },
    {
      "event": "commented",
      "id": 2889002779,
      "node_id": "IC_kwDOABII586sMq8b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2889002779",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T13:50:00Z",
      "updated_at": "2025-05-18T13:50:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Good idea - would it be OK to implement it in a separate PR?\r\n\r\nSure, as you wish.  I'm no authority :)",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2889002779",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhjYjA0NjVkZWZkZjk2YTg2Yjc0ODVmZjA5OGQyYmE3MDg0M2U5NDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8cb0465defdf96a86b7485ff098d2ba70843e942",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8cb0465defdf96a86b7485ff098d2ba70843e942",
      "tree": {
        "sha": "8ae88e34c12ff00151b50b66379e4f511c31ee22",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ae88e34c12ff00151b50b66379e4f511c31ee22"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8ae88e34c12ff00151b50b66379e4f511c31ee22\nparent c461d1528758df8a38b4c2c18b98591e1de8c9c0\nauthor Roman Zeyde <me@romanzey.de> 1719769911 +0300\ncommitter Roman Zeyde <me@romanzey.de> 1747631284 +0300\n\nrest: fetch spent transaction outputs by blockhash\n\nToday, it is possible to fetch a block's spent prevouts in order to\nbuild an external index by using the `/rest/block/HASH.json` endpoint.\nHowever, its performance is low due to JSON serialization overhead.\n\nWe can significantly optimize it by adding a new REST endpoint, using\na binary response format:\n\n```\n$ BLOCKHASH=00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054\n\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/$BLOCKHASH.json\nDocument Length:        13278152 bytes\nRequests per second:    3.53 [#/sec] (mean)\nTime per request:       283.569 [ms] (mean)\n\n$ ab -k -c 1 -n 10000 http://localhost:8332/rest/spentoutputs/$BLOCKHASH.bin\nDocument Length:        195591 bytes\nRequests per second:    254.47 [#/sec] (mean)\nTime per request:       3.930 [ms] (mean)\n```\n\nCurrently, this PR is being used and tested by Bindex:\n\n * https://github.com/romanz/bindex-rs\n\nThis PR would allow to improve the performance of external indexers\nsuch as electrs, ElectrumX, Fulcrum and Blockbook:\n\n * https://github.com/romanz/electrs (also https://github.com/Blockstream/electrs and https://github.com/mempool/electrs)\n * https://github.com/spesmilo/electrumx\n * https://github.com/cculianu/Fulcrum\n * https://github.com/trezor/blockbook\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niIUEABMIAC0WIQQVyMNXSuTx4l8/NcWHyuX6RpF8uwUCaCq8tA8cbWVAcm9tYW56\nZXkuZGUACgkQh8rl+kaRfLvxuwEAxdOquuqpfkS245Gr/2J1ZfSREAdifEOco/br\nDYez2pIA/3Y+bNf42xW98ML+y82bjiBWDpr06xtICKSWd4xUdpF9\n=yz5Y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c461d1528758df8a38b4c2c18b98591e1de8c9c0",
          "sha": "c461d1528758df8a38b4c2c18b98591e1de8c9c0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c461d1528758df8a38b4c2c18b98591e1de8c9c0"
        }
      ],
      "message": "rest: fetch spent transaction outputs by blockhash\n\nToday, it is possible to fetch a block's spent prevouts in order to\nbuild an external index by using the `/rest/block/HASH.json` endpoint.\nHowever, its performance is low due to JSON serialization overhead.\n\nWe can significantly optimize it by adding a new REST endpoint, using\na binary response format:\n\n```\n$ BLOCKHASH=00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054\n\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/$BLOCKHASH.json\nDocument Length:        13278152 bytes\nRequests per second:    3.53 [#/sec] (mean)\nTime per request:       283.569 [ms] (mean)\n\n$ ab -k -c 1 -n 10000 http://localhost:8332/rest/spentoutputs/$BLOCKHASH.bin\nDocument Length:        195591 bytes\nRequests per second:    254.47 [#/sec] (mean)\nTime per request:       3.930 [ms] (mean)\n```\n\nCurrently, this PR is being used and tested by Bindex:\n\n * https://github.com/romanz/bindex-rs\n\nThis PR would allow to improve the performance of external indexers\nsuch as electrs, ElectrumX, Fulcrum and Blockbook:\n\n * https://github.com/romanz/electrs (also https://github.com/Blockstream/electrs and https://github.com/mempool/electrs)\n * https://github.com/spesmilo/electrumx\n * https://github.com/cculianu/Fulcrum\n * https://github.com/trezor/blockbook",
      "committer": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2025-05-19T05:08:04Z"
      },
      "author": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2024-06-30T17:51:51Z"
      },
      "sha": "8cb0465defdf96a86b7485ff098d2ba70843e942"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17707220351,
      "node_id": "HRFPE_lADOABII5863BCN0zwAAAAQfbr1_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17707220351",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/8cb0465defdf96a86b7485ff098d2ba70843e942",
      "created_at": "2025-05-19T05:08:47Z"
    },
    {
      "event": "commented",
      "id": 2899720171,
      "node_id": "IC_kwDOABII586s1jfr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2899720171",
      "actor": {
        "login": "adyshimony",
        "id": 6388409,
        "node_id": "MDQ6VXNlcjYzODg0MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6388409?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adyshimony",
        "html_url": "https://github.com/adyshimony",
        "followers_url": "https://api.github.com/users/adyshimony/followers",
        "following_url": "https://api.github.com/users/adyshimony/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adyshimony/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adyshimony/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adyshimony/subscriptions",
        "organizations_url": "https://api.github.com/users/adyshimony/orgs",
        "repos_url": "https://api.github.com/users/adyshimony/repos",
        "events_url": "https://api.github.com/users/adyshimony/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adyshimony/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T02:26:30Z",
      "updated_at": "2025-05-22T02:26:30Z",
      "author_association": "NONE",
      "body": "tACK \r\n\r\nhttps://github.com/romanz/bitcoin/commit/8cb0465defdf96a86b7485ff098d2ba70843e942\r\n\r\n\r\n\r\nTest:\r\n\r\n```\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/spenttxouts/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.bin\r\nThis is ApacheBench, Version 2.3 <$Revision: 1903618 $>\r\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\r\nLicensed to The Apache Software Foundation, http://www.apache.org/\r\n\r\nBenchmarking localhost (be patient).....done\r\n\r\n\r\nServer Software:        \r\nServer Hostname:        localhost\r\nServer Port:            8332\r\n\r\nDocument Path:          /rest/spenttxouts/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.bin\r\nDocument Length:        195591 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   0.444 seconds\r\nComplete requests:      100\r\nFailed requests:        0\r\nKeep-Alive requests:    100\r\nTotal transferred:      19569800 bytes\r\nHTML transferred:       19559100 bytes\r\nRequests per second:    225.09 [#/sec] (mean)\r\nTime per request:       4.443 [ms] (mean)\r\nTime per request:       4.443 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          43016.55 [Kbytes/sec] received\r\n\r\nConnection Times (ms)\r\n              min  mean[+/-sd] median   max\r\nConnect:        0    0   0.0      0       0\r\nProcessing:     3    4   1.3      4       7\r\nWaiting:        3    4   1.3      4       7\r\nTotal:          3    4   1.3      4       7\r\n\r\nPercentage of the requests served within a certain time (ms)\r\n  50%      4\r\n  66%      5\r\n  75%      6\r\n  80%      6\r\n  90%      7\r\n  95%      7\r\n  98%      7\r\n  99%      7\r\n 100%      7 (longest request)\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nOn my machine there is a significant improvement , well done.\r\n\r\n```\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.json\r\nThis is ApacheBench, Version 2.3 <$Revision: 1903618 $>\r\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\r\nLicensed to The Apache Software Foundation, http://www.apache.org/\r\n\r\nBenchmarking localhost (be patient).....done\r\n\r\n\r\nServer Software:        \r\nServer Hostname:        localhost\r\nServer Port:            8332\r\n\r\nDocument Path:          /rest/block/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.json\r\nDocument Length:        13278152 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   33.053 seconds\r\nComplete requests:      100\r\nFailed requests:        0\r\nKeep-Alive requests:    100\r\nTotal transferred:      1327825300 bytes\r\nHTML transferred:       1327815200 bytes\r\nRequests per second:    3.03 [#/sec] (mean)\r\nTime per request:       330.530 [ms] (mean)\r\nTime per request:       330.530 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          39231.07 [Kbytes/sec] received\r\n\r\nConnection Times (ms)\r\n              min  mean[+/-sd] median   max\r\nConnect:        0    0   0.0      0       0\r\nProcessing:   308  331  17.5    327     396\r\nWaiting:      297  315  16.7    310     386\r\nTotal:        308  331  17.5    327     396\r\n\r\nPercentage of the requests served within a certain time (ms)\r\n  50%    327\r\n  66%    334\r\n  75%    337\r\n  80%    339\r\n  90%    345\r\n  95%    377\r\n  98%    396\r\n  99%    396\r\n 100%    396 (longest request)\r\n\r\n\r\n```",
      "user": {
        "login": "adyshimony",
        "id": 6388409,
        "node_id": "MDQ6VXNlcjYzODg0MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6388409?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adyshimony",
        "html_url": "https://github.com/adyshimony",
        "followers_url": "https://api.github.com/users/adyshimony/followers",
        "following_url": "https://api.github.com/users/adyshimony/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adyshimony/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adyshimony/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adyshimony/subscriptions",
        "organizations_url": "https://api.github.com/users/adyshimony/orgs",
        "repos_url": "https://api.github.com/users/adyshimony/repos",
        "events_url": "https://api.github.com/users/adyshimony/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adyshimony/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2899720171",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094516153",
      "pull_request_review_id": 2848945630,
      "id": 2094516153,
      "node_id": "PRRC_kwDOABII585818e5",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_outputs(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spentoutputs/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spentoutputs/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) return false;\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" undo not available\");\n+    }\n+\n+    DataStream ssSpentResponse{};\n+    WriteCompactSize(ssSpentResponse, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(ssSpentResponse, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(ssSpentResponse, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(ssSpentResponse);",
      "path": "src/rest.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "original_commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "in_reply_to_id": null,
      "user": {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is there a way to document the output of this REST method?\r\nFrom the name alone I would've expected it to return a list of outpoints.\r\nBut it seems to return a list of transaction outputs (`CTxOut` or `Coin` depending on the context).\r\nWhich absolutely makes sense given the use case.\r\nSo perhaps a different name would help make that more clear? Perhaps `rest/spenttxouts`?",
      "created_at": "2025-05-18T12:53:36Z",
      "updated_at": "2025-05-18T13:00:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2094516153",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094516153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 324,
      "original_line": 324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094845671",
      "pull_request_review_id": 2849395124,
      "id": 2094845671,
      "node_id": "PRRC_kwDOABII58583M7n",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_outputs(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spentoutputs/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spentoutputs/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) return false;\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" undo not available\");\n+    }\n+\n+    DataStream ssSpentResponse{};\n+    WriteCompactSize(ssSpentResponse, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(ssSpentResponse, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(ssSpentResponse, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(ssSpentResponse);",
      "path": "src/rest.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "original_commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "in_reply_to_id": 2094516153,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> So perhaps a different name would help make that more clear? Perhaps rest/spenttxouts?\r\n\r\nSounds good, thanks!\r\nFixed in 8cb0465def.",
      "created_at": "2025-05-19T05:09:12Z",
      "updated_at": "2025-05-19T05:39:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2094845671",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094845671"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 324,
      "original_line": 324,
      "side": "RIGHT"
    }
  ]
}