{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540",
    "id": 2525856907,
    "node_id": "PR_kwDOABII586WjYSL",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32540",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32540.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32540.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/1e2b26e4f8498a08072104b12759d91ef8b410db",
    "number": 32540,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rest: fetch spent transaction outputs by blockhash",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Today, it is possible to fetch a block's spent prevouts in order to build an external index by using the `/rest/block/BLOCKHASH.json` endpoint. However, its performance is low due to JSON serialization overhead.\r\n\r\nWe can significantly optimize it by adding a new [REST API](https://github.com/bitcoin/bitcoin/blob/master/doc/REST-interface.md) endpoint, using a binary response format (returning a collection of spent txout lists, one per each block transaction):\r\n\r\n```\r\n$ BLOCKHASH=00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054\r\n\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/$BLOCKHASH.json\r\nDocument Length:        13278152 bytes\r\nRequests per second:    3.53 [#/sec] (mean)\r\nTime per request:       283.569 [ms] (mean)\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:8332/rest/spenttxouts/$BLOCKHASH.bin\r\nDocument Length:        195591 bytes\r\nRequests per second:    254.47 [#/sec] (mean)\r\nTime per request:       3.930 [ms] (mean)\r\n```\r\n\r\nCurrently, this PR is being used and tested by Bindex[^1].\r\n\r\nThis PR would allow to improve the performance of external indexers such as electrs[^2], ElectrumX[^3], Fulcrum[^4] and Blockbook[^5].\r\n\r\n[^1]: https://github.com/romanz/bindex-rs\r\n[^2]: https://github.com/romanz/electrs (also [blockstream.info](https://github.com/Blockstream/electrs) and [mempool.space](https://github.com/mempool/electrs) forks)\r\n[^3]: https://github.com/spesmilo/electrumx\r\n[^4]: https://github.com/cculianu/Fulcrum\r\n[^5]: https://github.com/trezor/blockbook\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2025-05-17T07:27:02Z",
    "updated_at": "2025-05-26T19:15:36Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "2d6d65394e7231bd03f41661b012aaaa459b4e7a",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "romanz:spent-prevouts",
      "ref": "spent-prevouts",
      "sha": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 125523455,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjU1MjM0NTU=",
        "name": "bitcoin",
        "full_name": "romanz/bitcoin",
        "owner": {
          "login": "romanz",
          "id": 9900,
          "node_id": "MDQ6VXNlcjk5MDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/romanz",
          "html_url": "https://github.com/romanz",
          "followers_url": "https://api.github.com/users/romanz/followers",
          "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
          "organizations_url": "https://api.github.com/users/romanz/orgs",
          "repos_url": "https://api.github.com/users/romanz/repos",
          "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/romanz/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/romanz/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/romanz/bitcoin",
        "archive_url": "https://api.github.com/repos/romanz/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/romanz/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/romanz/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/romanz/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/romanz/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/romanz/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/romanz/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/romanz/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/romanz/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/romanz/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/romanz/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/romanz/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/romanz/bitcoin/events",
        "forks_url": "https://api.github.com/repos/romanz/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/romanz/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/romanz/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/romanz/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/romanz/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/romanz/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/romanz/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/romanz/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/romanz/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/romanz/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/romanz/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/romanz/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/romanz/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/romanz/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/romanz/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/romanz/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:romanz/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/romanz/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/romanz/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/romanz/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/romanz/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/romanz/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/romanz/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/romanz/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/romanz/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/romanz/bitcoin/hooks",
        "svn_url": "https://github.com/romanz/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 258028,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-26T06:36:51Z",
        "created_at": "2018-03-16T13:59:02Z",
        "updated_at": "2023-11-29T23:29:01Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "638a4c0bd8b53766faeb437244b2aae4eed28dcf",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37262,
        "stargazers_count": 83816,
        "watchers_count": 83816,
        "size": 282986,
        "default_branch": "master",
        "open_issues_count": 739,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-23T19:35:01Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-26T19:35:04Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 144,
    "deletions": 0,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 11,
    "comments": 11
  },
  "events": [
    {
      "event": "commented",
      "id": 2888175145,
      "node_id": "IC_kwDOABII586sJg4p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888175145",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:27:05Z",
      "updated_at": "2025-05-26T07:00:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32540.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2908773615) |\n| Concept ACK | [adyshimony](https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2899720171) |\n| Stale ACK | [tapcrafter](https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2848945630) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888175145",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "labeled",
      "id": 17697934865,
      "node_id": "LE_lADOABII5863BCN0zwAAAAQe4Q4R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17697934865",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:27:19Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "subscribed",
      "id": 17698976143,
      "node_id": "SE_lADOABII5863BCN0zwAAAAQe8PGP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698976143",
      "actor": {
        "login": "dn4vzdx8xS15wUV0",
        "id": 211630628,
        "node_id": "U_kgDODJ06JA",
        "avatar_url": "https://avatars.githubusercontent.com/u/211630628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dn4vzdx8xS15wUV0",
        "html_url": "https://github.com/dn4vzdx8xS15wUV0",
        "followers_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/followers",
        "following_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/subscriptions",
        "organizations_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/orgs",
        "repos_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/repos",
        "events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T12:23:40Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17699589547,
      "node_id": "HRFPE_lADOABII5863BCN0zwAAAAQe-k2r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17699589547",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "created_at": "2025-05-17T15:47:07Z"
    },
    {
      "event": "commented",
      "id": 2888466453,
      "node_id": "IC_kwDOABII586sKoAV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888466453",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T15:47:34Z",
      "updated_at": "2025-05-17T15:47:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed to fix a typo in commit description.",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888466453",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2888533229,
      "node_id": "IC_kwDOABII586sK4Tt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888533229",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T18:42:59Z",
      "updated_at": "2025-05-17T18:42:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Nice.  I wonder about just adding a content-type like option so that the api endpoint is the same but you simply say if you want binary or json content returned?  Maybe there's other endpoints that it could then be applied to as well..",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888533229",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2888872800,
      "node_id": "IC_kwDOABII586sMLNg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888872800",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T09:06:34Z",
      "updated_at": "2025-05-18T09:06:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Nice. \r\n\r\nThanks :)\r\n\r\n> I wonder about just adding a content-type like option so that the api endpoint is the same but you simply say if you want binary or json content returned? Maybe there's other endpoints that it could then be applied to as well.\r\n\r\nGood idea - would it be OK to implement it in a separate PR?\r\n\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2888872800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "reviewed",
      "id": 2848945630,
      "node_id": "PRR_kwDOABII586pz3Xe",
      "url": null,
      "actor": null,
      "commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "tACK ffe571f461930b7a05a3cf9f7128e843ea9f7e2d\r\n\r\n<details>\r\n\r\n<summary>Test protocol</summary>\r\n\r\nRunning ffe571f461930b7a05a3cf9f7128e843ea9f7e2d:\r\n\r\n```shell\r\n$ ./build/bin/bitcoind -regtest -rpcallowip=::1 -rpcuser=u -rpcpassword=p -rest -txindex\r\n\r\n# Invalid extension:\r\n\r\n$ curl -v -g 'u:p@localhost:18443/rest/spentoutputs/4376e2f945afef224981b665778ec45ebe64745e7d768c2937a8e271b69d708a.json'\r\n\r\n* Host localhost:18443 was resolved.\r\n...\r\n< HTTP/1.1 404 Not Found\r\n< Content-Type: text/plain\r\n< Date: Sun, 18 May 2025 12:28:13 GMT\r\n< Content-Length: 47\r\n< \r\noutput format not found (available: bin, hex)\r\n* Connection #0 to host localhost left intact\r\n\r\n\r\n# Correct extension:\r\n\r\n$ curl -v -g 'u:p@localhost:18443/rest/spentoutputs/4376e2f945afef224981b665778ec45ebe64745e7d768c2937a8e271b69d708a.hex'\r\n* Host localhost:18443 was resolved.\r\n...\r\n< HTTP/1.1 200 OK\r\n< Content-Type: text/plain\r\n< Date: Sun, 18 May 2025 12:28:43 GMT\r\n< Content-Length: 75\r\n< \r\n02000100f2052a010000001976a914090454b16d8fd499365c53a2226373c6d8734b5188ac\r\n* Connection #0 to host localhost left intact\r\n\r\n# Which corresponds to the TxOut of the spent transaction:\r\n\r\n$ bitcoin-cli -regtest -rpcuser=u -rpcpassword=p decoderawtransaction 020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff025500feffffff0200f2052a010000001976a914090454b16d8fd499365c53a2226373c6d8734b5188ac0000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000004000000\r\n{\r\n  \"txid\": \"38e6ad741857df84af27a709c1d99397b6e33c5078b284d49da6ae74b78d9bc6\",\r\n  \"hash\": \"b254f236b5141afd961bf80918b1417aa1d7f7ced2cbdd7a3bfbd243748e2c6f\",\r\n  \"version\": 2,\r\n  \"size\": 170,\r\n  \"vsize\": 143,\r\n  \"weight\": 572,\r\n  \"locktime\": 4,\r\n  \"vin\": [\r\n    {\r\n      \"coinbase\": \"5500\",\r\n      \"txinwitness\": [\r\n        \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n      ],\r\n      \"sequence\": 4294967294\r\n    }\r\n  ],\r\n  \"vout\": [\r\n    {\r\n      \"value\": 50.00000000,\r\n      \"n\": 0,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 090454b16d8fd499365c53a2226373c6d8734b51 OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"desc\": \"addr(mgLdZh69L6Zzs68mfvSkTcnz12XtgSQVJE)#ggfft2ks\",\r\n        \"hex\": \"76a914090454b16d8fd499365c53a2226373c6d8734b5188ac\",\r\n        \"address\": \"mgLdZh69L6Zzs68mfvSkTcnz12XtgSQVJE\",\r\n        \"type\": \"pubkeyhash\"\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.00000000,\r\n      \"n\": 1,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_RETURN aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9\",\r\n        \"desc\": \"raw(6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9)#cav96mf3\",\r\n        \"hex\": \"6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9\",\r\n        \"type\": \"nulldata\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```",
      "user": {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2848945630",
      "submitted_at": "2025-05-18T13:00:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
    },
    {
      "event": "comment_deleted",
      "id": 17703437461,
      "node_id": "CDE_lADOABII5863BCN0zwAAAAQfNQSV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17703437461",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T13:47:41Z"
    },
    {
      "event": "commented",
      "id": 2889002779,
      "node_id": "IC_kwDOABII586sMq8b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2889002779",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T13:50:00Z",
      "updated_at": "2025-05-18T13:50:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Good idea - would it be OK to implement it in a separate PR?\r\n\r\nSure, as you wish.  I'm no authority :)",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2889002779",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17707220351,
      "node_id": "HRFPE_lADOABII5863BCN0zwAAAAQfbr1_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17707220351",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/8cb0465defdf96a86b7485ff098d2ba70843e942",
      "created_at": "2025-05-19T05:08:47Z"
    },
    {
      "event": "commented",
      "id": 2899720171,
      "node_id": "IC_kwDOABII586s1jfr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2899720171",
      "actor": {
        "login": "adyshimony",
        "id": 6388409,
        "node_id": "MDQ6VXNlcjYzODg0MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6388409?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adyshimony",
        "html_url": "https://github.com/adyshimony",
        "followers_url": "https://api.github.com/users/adyshimony/followers",
        "following_url": "https://api.github.com/users/adyshimony/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adyshimony/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adyshimony/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adyshimony/subscriptions",
        "organizations_url": "https://api.github.com/users/adyshimony/orgs",
        "repos_url": "https://api.github.com/users/adyshimony/repos",
        "events_url": "https://api.github.com/users/adyshimony/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adyshimony/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T02:26:30Z",
      "updated_at": "2025-05-22T02:26:30Z",
      "author_association": "NONE",
      "body": "tACK \r\n\r\nhttps://github.com/romanz/bitcoin/commit/8cb0465defdf96a86b7485ff098d2ba70843e942\r\n\r\n\r\n\r\nTest:\r\n\r\n```\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/spenttxouts/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.bin\r\nThis is ApacheBench, Version 2.3 <$Revision: 1903618 $>\r\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\r\nLicensed to The Apache Software Foundation, http://www.apache.org/\r\n\r\nBenchmarking localhost (be patient).....done\r\n\r\n\r\nServer Software:        \r\nServer Hostname:        localhost\r\nServer Port:            8332\r\n\r\nDocument Path:          /rest/spenttxouts/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.bin\r\nDocument Length:        195591 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   0.444 seconds\r\nComplete requests:      100\r\nFailed requests:        0\r\nKeep-Alive requests:    100\r\nTotal transferred:      19569800 bytes\r\nHTML transferred:       19559100 bytes\r\nRequests per second:    225.09 [#/sec] (mean)\r\nTime per request:       4.443 [ms] (mean)\r\nTime per request:       4.443 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          43016.55 [Kbytes/sec] received\r\n\r\nConnection Times (ms)\r\n              min  mean[+/-sd] median   max\r\nConnect:        0    0   0.0      0       0\r\nProcessing:     3    4   1.3      4       7\r\nWaiting:        3    4   1.3      4       7\r\nTotal:          3    4   1.3      4       7\r\n\r\nPercentage of the requests served within a certain time (ms)\r\n  50%      4\r\n  66%      5\r\n  75%      6\r\n  80%      6\r\n  90%      7\r\n  95%      7\r\n  98%      7\r\n  99%      7\r\n 100%      7 (longest request)\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nOn my machine there is a significant improvement , well done.\r\n\r\n```\r\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.json\r\nThis is ApacheBench, Version 2.3 <$Revision: 1903618 $>\r\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\r\nLicensed to The Apache Software Foundation, http://www.apache.org/\r\n\r\nBenchmarking localhost (be patient).....done\r\n\r\n\r\nServer Software:        \r\nServer Hostname:        localhost\r\nServer Port:            8332\r\n\r\nDocument Path:          /rest/block/00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054.json\r\nDocument Length:        13278152 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   33.053 seconds\r\nComplete requests:      100\r\nFailed requests:        0\r\nKeep-Alive requests:    100\r\nTotal transferred:      1327825300 bytes\r\nHTML transferred:       1327815200 bytes\r\nRequests per second:    3.03 [#/sec] (mean)\r\nTime per request:       330.530 [ms] (mean)\r\nTime per request:       330.530 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          39231.07 [Kbytes/sec] received\r\n\r\nConnection Times (ms)\r\n              min  mean[+/-sd] median   max\r\nConnect:        0    0   0.0      0       0\r\nProcessing:   308  331  17.5    327     396\r\nWaiting:      297  315  16.7    310     386\r\nTotal:        308  331  17.5    327     396\r\n\r\nPercentage of the requests served within a certain time (ms)\r\n  50%    327\r\n  66%    334\r\n  75%    337\r\n  80%    339\r\n  90%    345\r\n  95%    377\r\n  98%    396\r\n  99%    396\r\n 100%    396 (longest request)\r\n\r\n\r\n```",
      "user": {
        "login": "adyshimony",
        "id": 6388409,
        "node_id": "MDQ6VXNlcjYzODg0MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6388409?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adyshimony",
        "html_url": "https://github.com/adyshimony",
        "followers_url": "https://api.github.com/users/adyshimony/followers",
        "following_url": "https://api.github.com/users/adyshimony/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/adyshimony/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/adyshimony/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/adyshimony/subscriptions",
        "organizations_url": "https://api.github.com/users/adyshimony/orgs",
        "repos_url": "https://api.github.com/users/adyshimony/repos",
        "events_url": "https://api.github.com/users/adyshimony/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/adyshimony/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2899720171",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "reviewed",
      "id": 2860390650,
      "node_id": "PRR_kwDOABII586qfhj6",
      "url": null,
      "actor": null,
      "commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Not sure we should export a custom binary format for undo data like this. At least there should be a JSON option?",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2860390650",
      "submitted_at": "2025-05-22T09:00:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
    },
    {
      "event": "convert_to_draft",
      "id": 17774709049,
      "node_id": "CTDE_lADOABII5863BCN0zwAAAAQjdIk5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17774709049",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T15:15:51Z"
    },
    {
      "event": "commented",
      "id": 2901770608,
      "node_id": "IC_kwDOABII586s9YFw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2901770608",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T15:58:42Z",
      "updated_at": "2025-05-22T17:14:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Not sure we should export a custom binary format for undo data like this.\r\n\r\nIn my opinion, using a binary format allows us to achieve significantly better performance when building [an external index](https://bit.ly/bindex-slides) (compared to using `/rest/block/HASH.json`). \r\n\r\nI have followed the example of the `/rest/getutxos/` endpoint, which also uses binary encoding when it returns a `std::vector<CCoin> outs`:\r\nhttps://github.com/bitcoin/bitcoin/blob/d2c9fc84e17120f186a54ef92bab76ea7e8d31b5/src/rest.cpp#L906\r\n\r\n\r\n\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2901770608",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2901770885,
      "node_id": "IC_kwDOABII586s9YKF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2901770885",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T15:58:48Z",
      "updated_at": "2025-05-22T16:11:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> At least there should be a JSON option?\r\n\r\nSounds good, added in https://github.com/bitcoin/bitcoin/pull/32540/commits/9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d:\r\n\r\nTested with:\r\n```sh\r\ncurl -s http://localhost:8332/rest/spenttxouts/00000000000034a32d25a4df37018194645cd62bf311b04ce322da9d800d4576.json | jq .\r\n```\r\n```json\r\n[\r\n  [],\r\n  [\r\n    {\r\n      \"value\": 19.9,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 9f1c396fc47b5e8127d8fca2cbe0da12fb65b18b OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"desc\": \"addr(1FWJFZiX8v1y6Mf14bzT2qTjzKgJ948gTN)#n6pdnxnu\",\r\n        \"hex\": \"76a9149f1c396fc47b5e8127d8fca2cbe0da12fb65b18b88ac\",\r\n        \"address\": \"1FWJFZiX8v1y6Mf14bzT2qTjzKgJ948gTN\",\r\n        \"type\": \"pubkeyhash\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      \"value\": 1.13,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 63ecfce5e3b086c6b4c9a8f68b64c70eaf4f579e OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"desc\": \"addr(1A7MoCV1q8L6K2k6sJLnPFDJSR3kmiyubF)#k7amcrpk\",\r\n        \"hex\": \"76a91463ecfce5e3b086c6b4c9a8f68b64c70eaf4f579e88ac\",\r\n        \"address\": \"1A7MoCV1q8L6K2k6sJLnPFDJSR3kmiyubF\",\r\n        \"type\": \"pubkeyhash\"\r\n      }\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      \"value\": 0.129,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 7c78cf144b8bf68372403cf5690aa49560275423 OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"desc\": \"addr(1CM9WjjPScLSfQaYXq9YY5VgqUh6bP87rw)#nrcg7jla\",\r\n        \"hex\": \"76a9147c78cf144b8bf68372403cf5690aa4956027542388ac\",\r\n        \"address\": \"1CM9WjjPScLSfQaYXq9YY5VgqUh6bP87rw\",\r\n        \"type\": \"pubkeyhash\"\r\n      }\r\n    }\r\n  ]\r\n]\r\n```\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2901770885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "ready_for_review",
      "id": 17776485342,
      "node_id": "RFRE_lADOABII5863BCN0zwAAAAQjj6Pe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17776485342",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-22T17:04:07Z"
    },
    {
      "event": "commented",
      "id": 2906824816,
      "node_id": "IC_kwDOABII586tQqBw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2906824816",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-24T13:10:34Z",
      "updated_at": "2025-05-24T13:10:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> would it be OK to implement it in a separate PR?\r\n\r\n\r\nI was thinking it might be not ideal to have this endpoint in addition to adding a content-type.  Unless the plan is to deprecate this after content type is added?  Maybe that's what is meant by the two conflicting types mentioned https://github.com/bitcoin/bitcoin/issues/32583#issuecomment-2901076206",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2906824816",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "commented",
      "id": 2906852632,
      "node_id": "IC_kwDOABII586tQw0Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2906852632",
      "actor": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-24T14:12:41Z",
      "updated_at": "2025-05-24T14:12:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I was thinking it might be not ideal to have this endpoint in addition to adding a content-type. Unless the plan is to deprecate this after content type is added? Maybe that's what is meant by the two conflicting types mentioned https://github.com/bitcoin/bitcoin/issues/32583#issuecomment-2901076206\r\n\r\nPlease disregard",
      "user": {
        "login": "yancyribbens",
        "id": 817736,
        "node_id": "MDQ6VXNlcjgxNzczNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yancyribbens",
        "html_url": "https://github.com/yancyribbens",
        "followers_url": "https://api.github.com/users/yancyribbens/followers",
        "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
        "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
        "repos_url": "https://api.github.com/users/yancyribbens/repos",
        "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2906852632",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "reviewed",
      "id": 2867384351,
      "node_id": "PRR_kwDOABII586q6NAf",
      "url": null,
      "actor": null,
      "commit_id": "9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits\r\n\r\nlgtm ACK 9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2867384351",
      "submitted_at": "2025-05-26T06:23:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
    },
    {
      "event": "review_requested",
      "id": 17808722261,
      "node_id": "RRE_lADOABII5863BCN0zwAAAAQle4lV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17808722261",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T06:24:02Z",
      "requested_reviewer": {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlMmIyNmU0Zjg0OThhMDgwNzIxMDRiMTI3NTlkOTFlZjhiNDEwZGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e2b26e4f8498a08072104b12759d91ef8b410db",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e2b26e4f8498a08072104b12759d91ef8b410db",
      "tree": {
        "sha": "bdf894200aeca4c474d7241c1a13a0b2f3032b9d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bdf894200aeca4c474d7241c1a13a0b2f3032b9d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c461d1528758df8a38b4c2c18b98591e1de8c9c0",
          "sha": "c461d1528758df8a38b4c2c18b98591e1de8c9c0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c461d1528758df8a38b4c2c18b98591e1de8c9c0"
        }
      ],
      "message": "rest: fetch spent transaction outputs by blockhash\n\nToday, it is possible to fetch a block's spent prevouts in order to\nbuild an external index by using the `/rest/block/HASH.json` endpoint.\nHowever, its performance is low due to JSON serialization overhead.\n\nWe can significantly optimize it by adding a new REST endpoint, using\na binary response format:\n\n```\n$ BLOCKHASH=00000000000000000002a7c4c1e48d76c5a37902165a270156b7a8d72728a054\n\n$ ab -k -c 1 -n 100 http://localhost:8332/rest/block/$BLOCKHASH.json\nDocument Length:        13278152 bytes\nRequests per second:    3.53 [#/sec] (mean)\nTime per request:       283.569 [ms] (mean)\n\n$ ab -k -c 1 -n 10000 http://localhost:8332/rest/spentoutputs/$BLOCKHASH.bin\nDocument Length:        195591 bytes\nRequests per second:    254.47 [#/sec] (mean)\nTime per request:       3.930 [ms] (mean)\n```\n\nCurrently, this PR is being used and tested by Bindex:\n\n * https://github.com/romanz/bindex-rs\n\nThis PR would allow to improve the performance of external indexers\nsuch as electrs, ElectrumX, Fulcrum and Blockbook:\n\n * https://github.com/romanz/electrs (also https://github.com/Blockstream/electrs and https://github.com/mempool/electrs)\n * https://github.com/spesmilo/electrumx\n * https://github.com/cculianu/Fulcrum\n * https://github.com/trezor/blockbook",
      "committer": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2025-05-26T06:35:51Z"
      },
      "author": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2024-06-30T17:51:51Z"
      },
      "sha": "1e2b26e4f8498a08072104b12759d91ef8b410db"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17808902879,
      "node_id": "HRFPE_lADOABII5863BCN0zwAAAAQlfkrf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17808902879",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/1e2b26e4f8498a08072104b12759d91ef8b410db",
      "created_at": "2025-05-26T06:36:52Z"
    },
    {
      "event": "commented",
      "id": 2908773615,
      "node_id": "IC_kwDOABII586tYFzv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2908773615",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T07:00:21Z",
      "updated_at": "2025-05-26T07:00:21Z",
      "author_association": "MEMBER",
      "body": "review ACK 1e2b26e4f8498a08072104b12759d91ef8b410db ðŸ‘¤\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 1e2b26e4f8498a08072104b12759d91ef8b410db ðŸ‘¤\r\numcSMyJu+op/g4YObmcufkFh2Q/WLwQJSqCZJWjqXxYHLJJ8sJUi5i8pxOkmKaAisZihoMJKWGgqClMx/SwBCg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#issuecomment-2908773615",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32540"
    },
    {
      "event": "reviewed",
      "id": 2868679170,
      "node_id": "PRR_kwDOABII586q_JIC",
      "url": null,
      "actor": null,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#pullrequestreview-2868679170",
      "submitted_at": "2025-05-26T14:52:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
    },
    {
      "event": "convert_to_draft",
      "id": 17818695124,
      "node_id": "CTDE_lADOABII5863BCN0zwAAAAQmE7XU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17818695124",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-26T19:15:36Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094516153",
      "pull_request_review_id": 2848945630,
      "id": 2094516153,
      "node_id": "PRRC_kwDOABII585818e5",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_outputs(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spentoutputs/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spentoutputs/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) return false;\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" undo not available\");\n+    }\n+\n+    DataStream ssSpentResponse{};\n+    WriteCompactSize(ssSpentResponse, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(ssSpentResponse, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(ssSpentResponse, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(ssSpentResponse);",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "in_reply_to_id": null,
      "user": {
        "login": "tapcrafter",
        "id": 207358173,
        "node_id": "U_kgDODFwI3Q",
        "avatar_url": "https://avatars.githubusercontent.com/u/207358173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tapcrafter",
        "html_url": "https://github.com/tapcrafter",
        "followers_url": "https://api.github.com/users/tapcrafter/followers",
        "following_url": "https://api.github.com/users/tapcrafter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tapcrafter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tapcrafter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tapcrafter/subscriptions",
        "organizations_url": "https://api.github.com/users/tapcrafter/orgs",
        "repos_url": "https://api.github.com/users/tapcrafter/repos",
        "events_url": "https://api.github.com/users/tapcrafter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tapcrafter/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is there a way to document the output of this REST method?\r\nFrom the name alone I would've expected it to return a list of outpoints.\r\nBut it seems to return a list of transaction outputs (`CTxOut` or `Coin` depending on the context).\r\nWhich absolutely makes sense given the use case.\r\nSo perhaps a different name would help make that more clear? Perhaps `rest/spenttxouts`?",
      "created_at": "2025-05-18T12:53:36Z",
      "updated_at": "2025-05-18T13:00:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2094516153",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094516153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094845671",
      "pull_request_review_id": 2849395124,
      "id": 2094845671,
      "node_id": "PRRC_kwDOABII58583M7n",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_outputs(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spentoutputs/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spentoutputs/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) return false;\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" undo not available\");\n+    }\n+\n+    DataStream ssSpentResponse{};\n+    WriteCompactSize(ssSpentResponse, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(ssSpentResponse, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(ssSpentResponse, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(ssSpentResponse);",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "ffe571f461930b7a05a3cf9f7128e843ea9f7e2d",
      "in_reply_to_id": 2094516153,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> So perhaps a different name would help make that more clear? Perhaps rest/spenttxouts?\r\n\r\nSounds good, thanks!\r\nFixed in 8cb0465def.",
      "created_at": "2025-05-19T05:09:12Z",
      "updated_at": "2025-05-19T05:39:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2094845671",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094845671"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102026426",
      "pull_request_review_id": 2860390650,
      "id": 2102026426,
      "node_id": "PRRC_kwDOABII5859SmC6",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: braces required",
      "created_at": "2025-05-22T09:00:04Z",
      "updated_at": "2025-05-22T09:00:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2102026426",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102026426"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102866377",
      "pull_request_review_id": 2861723002,
      "id": 2102866377,
      "node_id": "PRRC_kwDOABII5859VzHJ",
      "diff_hunk": "@@ -281,6 +282,69 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req))",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "8cb0465defdf96a86b7485ff098d2ba70843e942",
      "in_reply_to_id": 2102026426,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed in https://github.com/bitcoin/bitcoin/pull/32540/commits/9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d.",
      "created_at": "2025-05-22T15:39:25Z",
      "updated_at": "2025-05-22T15:39:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2102866377",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2102866377"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106631113",
      "pull_request_review_id": 2867384351,
      "id": 2106631113,
      "node_id": "PRRC_kwDOABII5859kKPJ",
      "diff_hunk": "@@ -281,6 +282,111 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream &stream, const CBlockUndo &block_undo) {",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: clang-format new code?",
      "created_at": "2025-05-26T06:21:20Z",
      "updated_at": "2025-05-26T06:23:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2106631113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106631113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 288,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106654018",
      "pull_request_review_id": 2867418869,
      "id": 2106654018,
      "node_id": "PRRC_kwDOABII5859kP1C",
      "diff_hunk": "@@ -281,6 +282,111 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream &stream, const CBlockUndo &block_undo) {",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "9d7e23e2f505ce6cbe830fc607cf203b1a48ba0d",
      "in_reply_to_id": 2106631113,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks! Fixed in 1e2b26e4f8.",
      "created_at": "2025-05-26T06:37:08Z",
      "updated_at": "2025-05-26T06:37:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2106654018",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2106654018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 288,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107503689",
      "pull_request_review_id": 2868679170,
      "id": 2107503689,
      "node_id": "PRRC_kwDOABII5859nfRJ",
      "diff_hunk": "@@ -281,6 +282,113 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream& stream, const CBlockUndo& block_undo)\n+{\n+    WriteCompactSize(stream, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(stream, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(stream, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(stream);\n+        }\n+    }\n+}\n+\n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using JSON format.\n+ */\n+static void BlockUndoToJSON(const CBlockUndo& block_undo, UniValue& result)\n+{\n+    result.push_back({UniValue::VARR}); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        UniValue tx_prevouts(UniValue::VARR);\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            UniValue prevout(UniValue::VOBJ);\n+            prevout.pushKV(\"value\", ValueFromAmount(coin.out.nValue));\n+\n+            UniValue script_pub_key(UniValue::VOBJ);\n+            ScriptToUniv(coin.out.scriptPubKey, /*out=*/script_pub_key, /*include_hex=*/true, /*include_address=*/true);\n+            prevout.pushKV(\"scriptPubKey\", std::move(script_pub_key));\n+\n+            tx_prevouts.push_back(std::move(prevout));\n+        }\n+        result.push_back(std::move(tx_prevouts));\n+    }\n+}\n+\n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) {\n+        return false;\n+    }\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spenttxouts/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spenttxouts/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+    }\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) {\n+        return false;\n+    }\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {",
      "path": "src/rest.cpp",
      "position": 82,
      "original_position": 82,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Would it be useful if we'd have a `ReadRawBlockUndo`? Similarly to `ReadRawBlock` it could just read the data without any hash integrity checks and without an extra serialization roundtrip. Our internal serialization just skips over the coinbase, but I don't feel like that would be surfacing too much detail either.",
      "created_at": "2025-05-26T14:51:40Z",
      "updated_at": "2025-05-26T14:52:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2107503689",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107503689"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 355,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107711484",
      "pull_request_review_id": 2868970524,
      "id": 2107711484,
      "node_id": "PRRC_kwDOABII5859oR_8",
      "diff_hunk": "@@ -281,6 +282,113 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream& stream, const CBlockUndo& block_undo)\n+{\n+    WriteCompactSize(stream, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(stream, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(stream, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(stream);\n+        }\n+    }\n+}\n+\n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using JSON format.\n+ */\n+static void BlockUndoToJSON(const CBlockUndo& block_undo, UniValue& result)\n+{\n+    result.push_back({UniValue::VARR}); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        UniValue tx_prevouts(UniValue::VARR);\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            UniValue prevout(UniValue::VOBJ);\n+            prevout.pushKV(\"value\", ValueFromAmount(coin.out.nValue));\n+\n+            UniValue script_pub_key(UniValue::VOBJ);\n+            ScriptToUniv(coin.out.scriptPubKey, /*out=*/script_pub_key, /*include_hex=*/true, /*include_address=*/true);\n+            prevout.pushKV(\"scriptPubKey\", std::move(script_pub_key));\n+\n+            tx_prevouts.push_back(std::move(prevout));\n+        }\n+        result.push_back(std::move(tx_prevouts));\n+    }\n+}\n+\n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) {\n+        return false;\n+    }\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spenttxouts/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spenttxouts/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+    }\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) {\n+        return false;\n+    }\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {",
      "path": "src/rest.cpp",
      "position": 82,
      "original_position": 82,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "in_reply_to_id": 2107503689,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks @TheCharlatan! \r\nIt should indeed improve the read performance :)\r\n\r\nWould it be OK if I would open a separate PR for adding `ReadRawBlockUndo`?",
      "created_at": "2025-05-26T18:07:20Z",
      "updated_at": "2025-05-26T18:07:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2107711484",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107711484"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 355,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107740514",
      "pull_request_review_id": 2869010696,
      "id": 2107740514,
      "node_id": "PRRC_kwDOABII5859oZFi",
      "diff_hunk": "@@ -281,6 +282,113 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream& stream, const CBlockUndo& block_undo)\n+{\n+    WriteCompactSize(stream, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(stream, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(stream, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(stream);\n+        }\n+    }\n+}\n+\n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using JSON format.\n+ */\n+static void BlockUndoToJSON(const CBlockUndo& block_undo, UniValue& result)\n+{\n+    result.push_back({UniValue::VARR}); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        UniValue tx_prevouts(UniValue::VARR);\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            UniValue prevout(UniValue::VOBJ);\n+            prevout.pushKV(\"value\", ValueFromAmount(coin.out.nValue));\n+\n+            UniValue script_pub_key(UniValue::VOBJ);\n+            ScriptToUniv(coin.out.scriptPubKey, /*out=*/script_pub_key, /*include_hex=*/true, /*include_address=*/true);\n+            prevout.pushKV(\"scriptPubKey\", std::move(script_pub_key));\n+\n+            tx_prevouts.push_back(std::move(prevout));\n+        }\n+        result.push_back(std::move(tx_prevouts));\n+    }\n+}\n+\n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) {\n+        return false;\n+    }\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spenttxouts/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spenttxouts/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+    }\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) {\n+        return false;\n+    }\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {",
      "path": "src/rest.cpp",
      "position": 82,
      "original_position": 82,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "in_reply_to_id": 2107503689,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it would be ok, but we'd have to change the binary format here to skip over the empty `0` entry for the coinbase?",
      "created_at": "2025-05-26T18:43:53Z",
      "updated_at": "2025-05-26T18:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2107740514",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107740514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 355,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107774051",
      "pull_request_review_id": 2869054239,
      "id": 2107774051,
      "node_id": "PRRC_kwDOABII5859ohRj",
      "diff_hunk": "@@ -281,6 +282,113 @@ static bool rest_headers(const std::any& context,\n     }\n }\n \n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using binary format.\n+ */\n+static void SerializeBlockUndo(DataStream& stream, const CBlockUndo& block_undo)\n+{\n+    WriteCompactSize(stream, block_undo.vtxundo.size() + 1);\n+    WriteCompactSize(stream, 0); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        WriteCompactSize(stream, tx_undo.vprevout.size());\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            coin.out.Serialize(stream);\n+        }\n+    }\n+}\n+\n+/**\n+ * Serialize spent outputs as a list of per-transaction CTxOut lists using JSON format.\n+ */\n+static void BlockUndoToJSON(const CBlockUndo& block_undo, UniValue& result)\n+{\n+    result.push_back({UniValue::VARR}); // block_undo.vtxundo doesn't contain coinbase tx\n+    for (const CTxUndo& tx_undo : block_undo.vtxundo) {\n+        UniValue tx_prevouts(UniValue::VARR);\n+        for (const Coin& coin : tx_undo.vprevout) {\n+            UniValue prevout(UniValue::VOBJ);\n+            prevout.pushKV(\"value\", ValueFromAmount(coin.out.nValue));\n+\n+            UniValue script_pub_key(UniValue::VOBJ);\n+            ScriptToUniv(coin.out.scriptPubKey, /*out=*/script_pub_key, /*include_hex=*/true, /*include_address=*/true);\n+            prevout.pushKV(\"scriptPubKey\", std::move(script_pub_key));\n+\n+            tx_prevouts.push_back(std::move(prevout));\n+        }\n+        result.push_back(std::move(tx_prevouts));\n+    }\n+}\n+\n+static bool rest_spent_txouts(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) {\n+        return false;\n+    }\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+    std::vector<std::string> path = SplitString(param, '/');\n+\n+    std::string hashStr;\n+    if (path.size() == 1) {\n+        // path with query parameter: /rest/spenttxouts/<hash>\n+        hashStr = path[0];\n+    } else {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid URI format. Expected /rest/spenttxouts/<hash>.<ext>\");\n+    }\n+\n+    auto hash{uint256::FromHex(hashStr)};\n+    if (!hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+    }\n+\n+    ChainstateManager* chainman = GetChainman(context, req);\n+    if (!chainman) {\n+        return false;\n+    }\n+\n+    const CBlockIndex* pblockindex = WITH_LOCK(cs_main, return chainman->m_blockman.LookupBlockIndex(*hash));\n+    if (!pblockindex) {\n+        return RESTERR(req, HTTP_NOT_FOUND, hashStr + \" not found\");\n+    }\n+\n+    CBlockUndo block_undo;\n+    if (pblockindex->nHeight > 0 && !chainman->m_blockman.ReadBlockUndo(block_undo, *pblockindex)) {",
      "path": "src/rest.cpp",
      "position": 82,
      "original_position": 82,
      "commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "original_commit_id": "1e2b26e4f8498a08072104b12759d91ef8b410db",
      "in_reply_to_id": 2107503689,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> but we'd have to change the binary format here to skip over the empty 0 entry for the coinbase?\r\n\r\nYes - I'll adapt this PR to return the undo data from storage (with as little overhead as possible).\r\n\r\nIndeed, the binary format will be `vector<vector<Coin>>`[^1], for the all block's transactions (except the first one).\r\n\r\n[^1]: https://github.com/bitcoin/bitcoin/blob/638a4c0bd8b53766faeb437244b2aae4eed28dcf/src/undo.h#L51-L68",
      "created_at": "2025-05-26T19:11:03Z",
      "updated_at": "2025-05-26T19:11:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32540#discussion_r2107774051",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2107774051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32540"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 355,
      "original_line": 355,
      "side": "RIGHT"
    }
  ]
}