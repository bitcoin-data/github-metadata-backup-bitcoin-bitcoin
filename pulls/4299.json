{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299",
    "id": 16838525,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTY4Mzg1MjU=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4299",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/4299.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/4299.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
    "number": 4299,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Using Boost Asio to do async resolving",
    "user": {
      "login": "4tar",
      "id": 882771,
      "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4tar",
      "html_url": "https://github.com/4tar",
      "followers_url": "https://api.github.com/users/4tar/followers",
      "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
      "organizations_url": "https://api.github.com/users/4tar/orgs",
      "repos_url": "https://api.github.com/users/4tar/repos",
      "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/4tar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also create a new CNetAddr() constructor from the BoostAsioToCNetAddr() method.\n\nNOTE: This PR is related to another one (https://github.com/bitcoin/bitcoin/pull/4259).\n\nUsing boost::asio but not getaddrinfo_a() might improve the portability (I'm wondering actually...) but there are two regressions:\n  1) Doesn't like the getaddrinfo_a(), the asio interface provides no timed wait/loop method, so we have to explicitly sleep when waiting for the result, which is known to be not efficient;  And refactor all places which need a dns resolving would be an obvious overkill;\n  2) Doesn't like the getaddrinfo_a(), the asio::async_resolve() is implemented by calling getaddrinfo() in a newly created thread which would block on the call, so for our original purpose, to improve the net thread responsiveness, it only helps when more than one resolving jobs are issued by one thread sequentially (e.g. dnsseed thread), because only when after a resolving job (the blocking call) the thread gets its chance to response for interruption, while the getaddrinfo_a() doesn't block and can be interrupted at any time.\n\nBase on these two issues above, I personally prefer the original PR 4259, and I'd like to submit another PR for the change of a new CNetAddr() constructor which I think is clearer than an independent method.\n\nSigned-off-by: Huang Le 4tarhl@gmail.com\n",
    "labels": [],
    "active_lock_reason": "resolved",
    "created_at": "2014-06-06T19:36:58Z",
    "updated_at": "2021-09-08T10:38:23Z",
    "closed_at": "2014-06-10T05:55:42Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "e6be4733a13fd4661765ab68de33b5d2d4a4a1b8",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "4tar:asio_async_resolve",
      "ref": "asio_async_resolve",
      "sha": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 20330170,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMDMzMDE3MA==",
        "name": "bitcoin",
        "full_name": "4tar/bitcoin",
        "owner": {
          "login": "4tar",
          "id": 882771,
          "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/4tar",
          "html_url": "https://github.com/4tar",
          "followers_url": "https://api.github.com/users/4tar/followers",
          "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
          "organizations_url": "https://api.github.com/users/4tar/orgs",
          "repos_url": "https://api.github.com/users/4tar/repos",
          "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/4tar/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/4tar/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/4tar/bitcoin",
        "archive_url": "https://api.github.com/repos/4tar/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/4tar/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/4tar/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/4tar/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/4tar/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/4tar/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/4tar/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/4tar/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/4tar/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/4tar/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/4tar/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/4tar/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/4tar/bitcoin/events",
        "forks_url": "https://api.github.com/repos/4tar/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/4tar/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/4tar/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/4tar/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/4tar/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/4tar/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/4tar/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/4tar/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/4tar/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/4tar/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/4tar/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/4tar/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/4tar/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/4tar/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/4tar/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/4tar/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:4tar/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/4tar/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/4tar/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/4tar/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/4tar/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/4tar/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/4tar/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/4tar/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/4tar/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/4tar/bitcoin/hooks",
        "svn_url": "https://github.com/4tar/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "TypeScript",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 35441,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2014-08-23T18:53:00Z",
        "created_at": "2014-05-30T13:36:47Z",
        "updated_at": "2018-08-21T18:58:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "db41541bc2e679a5c98ab380837c985e0252ab43",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35474,
        "stargazers_count": 70605,
        "watchers_count": 70605,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T12:42:51Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:04:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 68,
    "deletions": 77,
    "changed_files": 6,
    "commits": 3,
    "review_comments": 4,
    "comments": 9
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3OTdhZWE2Zjk1NDJmN2IzMjFlM2NiZTYxZWYzY2U2MWU2MDczN2Vm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/797aea6f9542f7b321e3cbe61ef3ce61e60737ef",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/797aea6f9542f7b321e3cbe61ef3ce61e60737ef",
      "tree": {
        "sha": "a9fdb7e95ec31d7c5ad884883c5c4725da5de391",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a9fdb7e95ec31d7c5ad884883c5c4725da5de391"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/97ab93f50b6f35bc362990e9dd665b90ca4132df",
          "sha": "97ab93f50b6f35bc362990e9dd665b90ca4132df",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/97ab93f50b6f35bc362990e9dd665b90ca4132df"
        }
      ],
      "message": "Using Boost Asio to do async resolving\n\nSigned-off-by: Huang Le <4tarhl@gmail.com>",
      "committer": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-06T19:09:03Z"
      },
      "author": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-06T19:09:03Z"
      },
      "sha": "797aea6f9542f7b321e3cbe61ef3ce61e60737ef"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YzNiMTU5NzVlYmExYjgwYWM0ODViZmE2MmY3MzM1MjE3NWZiMzQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c3b15975eba1b80ac485bfa62f73352175fb347",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7c3b15975eba1b80ac485bfa62f73352175fb347",
      "tree": {
        "sha": "e3dc3e5b08c8e04862e8434ddb161e87586c2adc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e3dc3e5b08c8e04862e8434ddb161e87586c2adc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/797aea6f9542f7b321e3cbe61ef3ce61e60737ef",
          "sha": "797aea6f9542f7b321e3cbe61ef3ce61e60737ef",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/797aea6f9542f7b321e3cbe61ef3ce61e60737ef"
        }
      ],
      "message": "A null commit for triggering auto testing\n\nSigned-off-by: Huang Le <4tarhl@gmail.com>",
      "committer": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-07T03:01:11Z"
      },
      "author": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-07T03:01:11Z"
      },
      "sha": "7c3b15975eba1b80ac485bfa62f73352175fb347"
    },
    {
      "event": "commented",
      "id": 45399593,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzk5NTkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45399593",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T03:03:24Z",
      "updated_at": "2014-06-07T03:03:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Aha, can't understand the failure log, just pushed a null commit to trigger it again for checking whether it was a random accident in the test box...\n",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45399593",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "commented",
      "id": 45400395,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDAwMzk1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45400395",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T03:55:33Z",
      "updated_at": "2014-06-07T03:55:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Great, looks I guess right:)\n",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45400395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T04:38:51Z",
      "updated_at": "2014-06-07T04:38:51Z",
      "source": {
        "issue": {
          "id": 35199896,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTY4NTEyNjI=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4301",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4301/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4301/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4301/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/4301",
          "number": 4301,
          "state": "closed",
          "state_reason": null,
          "title": "Add another CNetAddr constructor which accepts boost::asio::ip::address",
          "body": "By merging the independent BoostAsioToCNetAddr() function, this makes things a little bit more straightforward and clearer I think.\n\nHas mentioned in previous PR  (https://github.com/bitcoin/bitcoin/pull/4299) which intended to collect feedback.\n\nSigned-off-by: Huang Le 4tarhl@gmail.com\n",
          "user": {
            "login": "4tar",
            "id": 882771,
            "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/4tar",
            "html_url": "https://github.com/4tar",
            "followers_url": "https://api.github.com/users/4tar/followers",
            "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
            "organizations_url": "https://api.github.com/users/4tar/orgs",
            "repos_url": "https://api.github.com/users/4tar/repos",
            "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/4tar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4301",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/4301",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/4301.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/4301.patch"
          },
          "closed_at": "2014-06-07T09:53:08Z",
          "created_at": "2014-06-07T04:38:51Z",
          "updated_at": "2021-09-08T10:51:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTM1NjAzNzA6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 45404699,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA0Njk5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45404699",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T08:23:22Z",
      "updated_at": "2014-06-07T08:23:22Z",
      "author_association": "MEMBER",
      "body": "Looks good apart from my above nit. A lot less cluttered than the previous implementation.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45404699",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "commented",
      "id": 45405731,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA1NzMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45405731",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T09:26:45Z",
      "updated_at": "2014-06-07T09:26:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj Yes the code is simpler than calling getaddrinfo_a(), but as I've mentioned in the PR message, it doesn't fully achieve our purpose because:\n1. There is a lacking of timed wait in asio model, so without refactoring the caller we cannot make it work in an really efficient way, but fall into the waiting loop and face the problem of choosing a suitable waiting interval;\n2. Inside the asio::async_resolve(), a new thread would be created to call getaddrinfo(), which is blocking, and the asio::io_service have to wait the thread exit before it could be destructed, which makes the LookupIntern() uninterruptable during this waiting period, while getaddrinfo_a() doesn't have this issue.\n\nAnd let's go back to the original situation, first I noticed that the dnsseed thread always prevented my bitcoind from quitting immediately, because it works in a loop to collect addresses for all dns seeds.  So I made the first change to add two interruption points inside the dnsseed thread, just around the places where a call placed would go down into LookupIntern().  It does help, by reducing the waiting time from about one quarter to tens of seconds or several minutes, because every call to LookupIntern() would block for seconds or minutes depends on network and requesting name.  However a several minute waiting is still not good enough so I go down to LookupIntern() and change it to use getaddrinfo_a() instead of getaddrinfo(), that change dramatically reduced the waiting to any short time interval you can specified, another benefit is that the getaddrinfo_a() provides a timed wait interface to let the caller get its expected result whenever it is available without having to wait for the fixed time interval.\n\nAs the second issue mentioned above, to the dns seed, choosing asio::async_resolve() inside LookupIntern() is the same as my first change of adding two interruption points around its call going to LookupIntern().\n\nBase on the above reason, I'd rather suggest to pick PR 4259, although this may looks simpler or more portable...\n\nMy two cents.\n",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45405731",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "mentioned",
      "id": 129051251,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDUxMjUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129051251",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T09:26:45Z"
    },
    {
      "event": "subscribed",
      "id": 129051252,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1MTI1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129051252",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T09:26:45Z"
    },
    {
      "event": "commented",
      "id": 45406666,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA2NjY2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45406666",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:24:34Z",
      "updated_at": "2014-06-07T10:24:34Z",
      "author_association": "MEMBER",
      "body": "I know boost::asio to judge whether we should be using it for DNS resolving, but I'd really prefer not to make netbase dependent on it.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45406666",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "commented",
      "id": 45407025,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA3MDI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45407025",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:45:07Z",
      "updated_at": "2014-06-07T10:45:07Z",
      "author_association": "MEMBER",
      "body": "@sipa Agreed\n\n@4tar So boost::asio doesn't even provide a solution in this case, we can't do without the polling loop? Too bad we realize it so late, let's go back to the other pull then.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45407025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "mentioned",
      "id": 129055177,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDU1MTc3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129055177",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:45:07Z"
    },
    {
      "event": "subscribed",
      "id": 129055178,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1NTE3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129055178",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:45:07Z"
    },
    {
      "event": "mentioned",
      "id": 129055179,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDU1MTc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129055179",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:45:07Z"
    },
    {
      "event": "subscribed",
      "id": 129055180,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1NTE4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129055180",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T10:45:07Z"
    },
    {
      "event": "mentioned",
      "id": 129056671,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDU2Njcx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056671",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:15:04Z"
    },
    {
      "event": "subscribed",
      "id": 129056672,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1NjY3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056672",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:15:04Z"
    },
    {
      "event": "commented",
      "id": 45407570,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA3NTcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45407570",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:16:52Z",
      "updated_at": "2014-06-07T11:19:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj @sipa Yes, the boost::asio really doesn't fit in our case, I'd still suggest we pick PR 4259 (https://github.com/bitcoin/bitcoin/pull/4259) for the solution, although it looks a littble bit complicated, or even ugly...\n",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45407570",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "mentioned",
      "id": 129056747,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDU2NzQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056747",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:16:52Z"
    },
    {
      "event": "subscribed",
      "id": 129056748,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1Njc0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056748",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:16:52Z"
    },
    {
      "event": "mentioned",
      "id": 129056749,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTI5MDU2NzQ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056749",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:16:52Z"
    },
    {
      "event": "subscribed",
      "id": 129056750,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEyOTA1Njc1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129056750",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:16:52Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODdiZmQyYzI2OGJjM2Q0OWMyMTAxOWUxNmMzY2JkZWQ2N2VhNGE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "tree": {
        "sha": "a480fe586bebeec20c2819e3e005adc23f9b7667",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a480fe586bebeec20c2819e3e005adc23f9b7667"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c3b15975eba1b80ac485bfa62f73352175fb347",
          "sha": "7c3b15975eba1b80ac485bfa62f73352175fb347",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7c3b15975eba1b80ac485bfa62f73352175fb347"
        }
      ],
      "message": "Insert one interruption_point inside the resolve handler to avoid the wait loop in LookupIntern()\n\nSigned-off-by: Huang Le <4tarhl@gmail.com>",
      "committer": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-07T11:21:18Z"
      },
      "author": {
        "name": "Huang Le",
        "email": "4tarhl@gmail.com",
        "date": "2014-06-07T11:21:18Z"
      },
      "sha": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8"
    },
    {
      "event": "commented",
      "id": 45407749,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA3NzQ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45407749",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:26:48Z",
      "updated_at": "2014-06-07T11:26:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "This latest commit doesn't fullfill our purpose as discussed above, but just push it to show that we can remove the wait loop with ios.poll() inside LookupIntern() by placing interruption_point in the resolve_handler, which makes the code a little bit cleaner and simpler...\n",
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45407749",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "commented",
      "id": 45408282,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA4Mjgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45408282",
      "actor": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-07T11:58:15Z",
      "updated_at": "2014-06-07T11:58:15Z",
      "author_association": "NONE",
      "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/387bfd2c268bc3d49c21019e16c3cbded67ea4a8 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
      "user": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#issuecomment-45408282",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4299"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-09T07:56:52Z",
      "updated_at": "2014-06-09T07:56:52Z",
      "source": {
        "issue": {
          "id": 35205183,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTY4NTMxMTE=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4303",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4303/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4303/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4303/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/4303",
          "number": 4303,
          "state": "closed",
          "state_reason": null,
          "title": "Add another CNetAddr constructor which accepts boost::asio::ip::address",
          "body": "By merging the independent BoostAsioToCNetAddr() function, this makes things a little bit more straightforward and clearer I think.\n\nThis is a renew of PR 4301 (https://github.com/bitcoin/bitcoin/pull/4301), the only change is to pre-declare the boost::asio::ip::address class instead of including asio.hpp in netbase.h to avoid increasing compiling time of those source files including it.\n\nSigned-off-by: Huang Le 4tarhl@gmail.com\n",
          "user": {
            "login": "4tar",
            "id": 882771,
            "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/4tar",
            "html_url": "https://github.com/4tar",
            "followers_url": "https://api.github.com/users/4tar/followers",
            "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
            "organizations_url": "https://api.github.com/users/4tar/orgs",
            "repos_url": "https://api.github.com/users/4tar/repos",
            "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/4tar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4303",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/4303",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/4303.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/4303.patch"
          },
          "closed_at": "2014-06-10T05:55:30Z",
          "created_at": "2014-06-07T10:01:32Z",
          "updated_at": "2021-09-08T10:38:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 129642084,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTI5NjQyMDg0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/129642084",
      "actor": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-06-10T05:55:42Z"
    },
    {
      "event": "locked",
      "id": 5271431295,
      "node_id": "LOE_lADOABII584CGL0gzwAAAAE6M6h_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271431295",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:38:23Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518633",
      "pull_request_review_id": null,
      "id": 13518633,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTE4NjMz",
      "diff_hunk": "@@ -71,42 +82,26 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n         }\n     }\n \n-    struct addrinfo aiHint;\n-    memset(&aiHint, 0, sizeof(struct addrinfo));\n+    boost::system::error_code ec;\n+    boost::asio::ip::address addr;\n \n-    aiHint.ai_socktype = SOCK_STREAM;\n-    aiHint.ai_protocol = IPPROTO_TCP;\n-    aiHint.ai_family = AF_UNSPEC;\n-#ifdef WIN32\n-    aiHint.ai_flags = fAllowLookup ? 0 : AI_NUMERICHOST;\n-#else\n-    aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n-#endif\n-    struct addrinfo *aiRes = NULL;\n-    int nErr = getaddrinfo(pszName, NULL, &aiHint, &aiRes);\n-    if (nErr)\n-        return false;\n+    if (fAllowLookup) {\n+        boost::asio::io_service ios;\n+        boost::asio::ip::tcp::resolver resolver(ios);\n+        boost::asio::ip::tcp::resolver::query query(pszName, \"\");\n \n-    struct addrinfo *aiTrav = aiRes;\n-    while (aiTrav != NULL && (nMaxSolutions == 0 || vIP.size() < nMaxSolutions))\n-    {\n-        if (aiTrav->ai_family == AF_INET)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in*)(aiTrav->ai_addr))->sin_addr));\n-        }\n+        resolver.async_resolve(query, boost::bind(resolve_handler, &vIP, nMaxSolutions, boost::asio::placeholders::error, boost::asio::placeholders::iterator));\n \n-        if (aiTrav->ai_family == AF_INET6)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in6));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in6*)(aiTrav->ai_addr))->sin6_addr));\n+        while (!ios.poll(ec) && !ec) {\n+            boost::this_thread::interruption_point();",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "original_commit_id": "7c3b15975eba1b80ac485bfa62f73352175fb347",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The whole reason for proposing the use of boost::asio was that you don't need a polling loop. There must surely be a better way to wait?\n",
      "created_at": "2014-06-07T08:22:27Z",
      "updated_at": "2014-06-07T11:23:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#discussion_r13518633",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518633"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518699",
      "pull_request_review_id": null,
      "id": 13518699,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTE4Njk5",
      "diff_hunk": "@@ -71,42 +82,26 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n         }\n     }\n \n-    struct addrinfo aiHint;\n-    memset(&aiHint, 0, sizeof(struct addrinfo));\n+    boost::system::error_code ec;\n+    boost::asio::ip::address addr;\n \n-    aiHint.ai_socktype = SOCK_STREAM;\n-    aiHint.ai_protocol = IPPROTO_TCP;\n-    aiHint.ai_family = AF_UNSPEC;\n-#ifdef WIN32\n-    aiHint.ai_flags = fAllowLookup ? 0 : AI_NUMERICHOST;\n-#else\n-    aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n-#endif\n-    struct addrinfo *aiRes = NULL;\n-    int nErr = getaddrinfo(pszName, NULL, &aiHint, &aiRes);\n-    if (nErr)\n-        return false;\n+    if (fAllowLookup) {\n+        boost::asio::io_service ios;\n+        boost::asio::ip::tcp::resolver resolver(ios);\n+        boost::asio::ip::tcp::resolver::query query(pszName, \"\");\n \n-    struct addrinfo *aiTrav = aiRes;\n-    while (aiTrav != NULL && (nMaxSolutions == 0 || vIP.size() < nMaxSolutions))\n-    {\n-        if (aiTrav->ai_family == AF_INET)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in*)(aiTrav->ai_addr))->sin_addr));\n-        }\n+        resolver.async_resolve(query, boost::bind(resolve_handler, &vIP, nMaxSolutions, boost::asio::placeholders::error, boost::asio::placeholders::iterator));\n \n-        if (aiTrav->ai_family == AF_INET6)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in6));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in6*)(aiTrav->ai_addr))->sin6_addr));\n+        while (!ios.poll(ec) && !ec) {\n+            boost::this_thread::interruption_point();",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "original_commit_id": "7c3b15975eba1b80ac485bfa62f73352175fb347",
      "in_reply_to_id": null,
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If we want to fully leverage the asio facility, then we have to refactor all caller to be working in a real async way, so when the result has not been delivered, the caller can do some other useful work without waiting, which unfortunately is not our case.  Now they just want an simple but working utility function which gives back the resolving result.  To refactor them all looks an overkill for our purpose.\n\nTo be more specific, there must be somewhere in the code to wait for the result by calling asio::poll()/asio::run()/etc., and we can only choose to put it inside LookupIntern(), for avoiding the overkill of refactoring of all callers.\n",
      "created_at": "2014-06-07T08:52:45Z",
      "updated_at": "2014-06-07T11:23:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#discussion_r13518699",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518699"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518771",
      "pull_request_review_id": null,
      "id": 13518771,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTE4Nzcx",
      "diff_hunk": "@@ -71,42 +82,26 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n         }\n     }\n \n-    struct addrinfo aiHint;\n-    memset(&aiHint, 0, sizeof(struct addrinfo));\n+    boost::system::error_code ec;\n+    boost::asio::ip::address addr;\n \n-    aiHint.ai_socktype = SOCK_STREAM;\n-    aiHint.ai_protocol = IPPROTO_TCP;\n-    aiHint.ai_family = AF_UNSPEC;\n-#ifdef WIN32\n-    aiHint.ai_flags = fAllowLookup ? 0 : AI_NUMERICHOST;\n-#else\n-    aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n-#endif\n-    struct addrinfo *aiRes = NULL;\n-    int nErr = getaddrinfo(pszName, NULL, &aiHint, &aiRes);\n-    if (nErr)\n-        return false;\n+    if (fAllowLookup) {\n+        boost::asio::io_service ios;\n+        boost::asio::ip::tcp::resolver resolver(ios);\n+        boost::asio::ip::tcp::resolver::query query(pszName, \"\");\n \n-    struct addrinfo *aiTrav = aiRes;\n-    while (aiTrav != NULL && (nMaxSolutions == 0 || vIP.size() < nMaxSolutions))\n-    {\n-        if (aiTrav->ai_family == AF_INET)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in*)(aiTrav->ai_addr))->sin_addr));\n-        }\n+        resolver.async_resolve(query, boost::bind(resolve_handler, &vIP, nMaxSolutions, boost::asio::placeholders::error, boost::asio::placeholders::iterator));\n \n-        if (aiTrav->ai_family == AF_INET6)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in6));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in6*)(aiTrav->ai_addr))->sin6_addr));\n+        while (!ios.poll(ec) && !ec) {\n+            boost::this_thread::interruption_point();",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "original_commit_id": "7c3b15975eba1b80ac485bfa62f73352175fb347",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well, let's keep the impact of this change as small as possible. Let's not refactor anything.\nBut a boost::asio event loop stops after all work items are completed (or at least can be configured as such) and AFAIK is naturally interruptible.\nWouldn't it be enough to just replace this with ios.run() ?\n",
      "created_at": "2014-06-07T09:21:58Z",
      "updated_at": "2014-06-07T11:23:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#discussion_r13518771",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13518771"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13519056",
      "pull_request_review_id": null,
      "id": 13519056,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTE5MDU2",
      "diff_hunk": "@@ -71,42 +82,26 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n         }\n     }\n \n-    struct addrinfo aiHint;\n-    memset(&aiHint, 0, sizeof(struct addrinfo));\n+    boost::system::error_code ec;\n+    boost::asio::ip::address addr;\n \n-    aiHint.ai_socktype = SOCK_STREAM;\n-    aiHint.ai_protocol = IPPROTO_TCP;\n-    aiHint.ai_family = AF_UNSPEC;\n-#ifdef WIN32\n-    aiHint.ai_flags = fAllowLookup ? 0 : AI_NUMERICHOST;\n-#else\n-    aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n-#endif\n-    struct addrinfo *aiRes = NULL;\n-    int nErr = getaddrinfo(pszName, NULL, &aiHint, &aiRes);\n-    if (nErr)\n-        return false;\n+    if (fAllowLookup) {\n+        boost::asio::io_service ios;\n+        boost::asio::ip::tcp::resolver resolver(ios);\n+        boost::asio::ip::tcp::resolver::query query(pszName, \"\");\n \n-    struct addrinfo *aiTrav = aiRes;\n-    while (aiTrav != NULL && (nMaxSolutions == 0 || vIP.size() < nMaxSolutions))\n-    {\n-        if (aiTrav->ai_family == AF_INET)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in*)(aiTrav->ai_addr))->sin_addr));\n-        }\n+        resolver.async_resolve(query, boost::bind(resolve_handler, &vIP, nMaxSolutions, boost::asio::placeholders::error, boost::asio::placeholders::iterator));\n \n-        if (aiTrav->ai_family == AF_INET6)\n-        {\n-            assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in6));\n-            vIP.push_back(CNetAddr(((struct sockaddr_in6*)(aiTrav->ai_addr))->sin6_addr));\n+        while (!ios.poll(ec) && !ec) {\n+            boost::this_thread::interruption_point();",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 66,
      "commit_id": "387bfd2c268bc3d49c21019e16c3cbded67ea4a8",
      "original_commit_id": "7c3b15975eba1b80ac485bfa62f73352175fb347",
      "in_reply_to_id": null,
      "user": {
        "login": "4tar",
        "id": 882771,
        "node_id": "MDQ6VXNlcjg4Mjc3MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/882771?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4tar",
        "html_url": "https://github.com/4tar",
        "followers_url": "https://api.github.com/users/4tar/followers",
        "following_url": "https://api.github.com/users/4tar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/4tar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/4tar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/4tar/subscriptions",
        "organizations_url": "https://api.github.com/users/4tar/orgs",
        "repos_url": "https://api.github.com/users/4tar/repos",
        "events_url": "https://api.github.com/users/4tar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/4tar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@laanwj Yes the asio internal event loop is naturally interruptible, the problem is that it really is only when the interruption is _natural_, e.g. a SIGTERM signal from the OS.  But in our cases, where the event loop resides, say dnsseed thread, generally speaking, would have no chance to receive such a signal, but rely on boost::thread::interrupt() call to notify it the interruption request, so we have to explicitly place one interruption point inside the event loop.\n\nA slightly better / or cleaner manner to avoid a explicit wait loop with ios.poll() in LookupIntern() is to place one interruption point inside the handler, while using ios.run() simply.  By this way, we actually leverage the internal event loop inside ios.run() itself.\n\nHowever, no matter which way we take, as the discussion below, we still have to wait for the current outstanding call to getaddrinfo() returns, that may take quite a long time depends on the network and requested dns name, e.g. on my test box, the \"dnsseed.bluematt.me\" would cost about 5 minutes before return nothing.\n",
      "created_at": "2014-06-07T11:15:04Z",
      "updated_at": "2014-06-07T11:23:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4299#discussion_r13519056",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13519056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4299"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}