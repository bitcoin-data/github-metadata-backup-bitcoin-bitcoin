{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740",
    "id": 619795912,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjE5Nzk1OTEy",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21740",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/21740.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/21740.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/46b025e00df40724175735eb5606ac73067cb3b8",
    "number": 21740,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: add new python linter to check file names and permissions",
    "user": {
      "login": "windsok",
      "id": 8359865,
      "node_id": "MDQ6VXNlcjgzNTk4NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/windsok",
      "html_url": "https://github.com/windsok",
      "followers_url": "https://api.github.com/users/windsok/followers",
      "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
      "organizations_url": "https://api.github.com/users/windsok/orgs",
      "repos_url": "https://api.github.com/users/windsok/repos",
      "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/windsok/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Adds a new python linter test which tests for correct filenames and file permissions in the repository.\r\n\r\nReplaces the existing tests in the `test/lint/lint-filenames.sh` and `test/lint/lint-shebang.sh` linter tests, as well as adding some new and increased testing. This increased coverage is intended to catch issues such as in #21728 and https://github.com/bitcoin/bitcoin/pull/16807/files#r345547050\r\n\r\nSummary of tests:\r\n* Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\r\n\r\n* Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames. Additionally there is an exception regexp for directories or files which are excepted from matching this regexp (This should replicate the existing `test/lint/lint-filenames.sh` test)\r\n\r\n* Checks all files in the repository match an allowed executable or non-executable file permission octal. Additionally checks that for executable files, the file contains a shebang line.\r\n\r\n* Checks that for executable `.py` and `.sh` files, the shebang line used matches an allowable list of shebangs (This should replicate the existing `test/lint/lint-shebang.sh` test)\r\n\r\n* Checks every file that contains a shebang line to ensure it has an executable permission\r\n\r\nAdditionally updates the permissions on various files to comply with the new tests.\r\n\r\nFixes #21729",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2021-04-21T01:50:24Z",
    "updated_at": "2022-08-16T17:22:57Z",
    "closed_at": "2021-05-05T15:17:38Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-05-05T15:17:38Z",
    "merge_commit_sha": "1b9a5236e99f57fcd736b5b4ce09095c2c51aa49",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "windsok:file-permissions-linter",
      "ref": "file-permissions-linter",
      "sha": "46b025e00df40724175735eb5606ac73067cb3b8",
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 111938164,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTE5MzgxNjQ=",
        "name": "bitcoin",
        "full_name": "windsok/bitcoin",
        "owner": {
          "login": "windsok",
          "id": 8359865,
          "node_id": "MDQ6VXNlcjgzNTk4NjU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/windsok",
          "html_url": "https://github.com/windsok",
          "followers_url": "https://api.github.com/users/windsok/followers",
          "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
          "organizations_url": "https://api.github.com/users/windsok/orgs",
          "repos_url": "https://api.github.com/users/windsok/repos",
          "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/windsok/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/windsok/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/windsok/bitcoin",
        "archive_url": "https://api.github.com/repos/windsok/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/windsok/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/windsok/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/windsok/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/windsok/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/windsok/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/windsok/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/windsok/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/windsok/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/windsok/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/windsok/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/windsok/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/windsok/bitcoin/events",
        "forks_url": "https://api.github.com/repos/windsok/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/windsok/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/windsok/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/windsok/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/windsok/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/windsok/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/windsok/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/windsok/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/windsok/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/windsok/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/windsok/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/windsok/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/windsok/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/windsok/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/windsok/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/windsok/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:windsok/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/windsok/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/windsok/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/windsok/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/windsok/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/windsok/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/windsok/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/windsok/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/windsok/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/windsok/bitcoin/hooks",
        "svn_url": "https://github.com/windsok/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 157635,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2021-05-07T01:23:21Z",
        "created_at": "2017-11-24T16:34:21Z",
        "updated_at": "2021-05-06T14:34:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e1e1e708fa0fbc0c51460305da5d401ed8f218f3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 215,
    "deletions": 49,
    "changed_files": 26,
    "commits": 2,
    "review_comments": 36,
    "comments": 12
  },
  "events": [
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-21T01:51:35Z",
      "updated_at": "2021-04-21T01:51:35Z",
      "source": {
        "issue": {
          "id": 861085515,
          "node_id": "MDU6SXNzdWU4NjEwODU1MTU=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21729",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21729/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21729/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21729/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/21729",
          "number": 21729,
          "state": "closed",
          "state_reason": "completed",
          "title": "Write linter to check file permissions",
          "body": "Would be nice to have a linter to check that only files with a hash-bang may set the executable flag. See #21728\r\n\r\n#### Useful skills:\r\n\r\n* git\r\n* Bash\r\n* Python\r\n* Our linter scripts in `./test/lint`\r\n\r\n#### Want to work on this issue?\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\r\n",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 349312277,
              "node_id": "MDU6TGFiZWwzNDkzMTIyNzc=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/good%20first%20issue",
              "name": "good first issue",
              "color": "c2e0c6",
              "default": true
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 12,
          "closed_at": "2021-05-05T15:17:36Z",
          "created_at": "2021-04-19T09:10:18Z",
          "updated_at": "2022-08-18T18:35:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 4622325659,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2MjIzMjU2NTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4622325659",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-21T01:52:19Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "reviewed",
      "id": 640741290,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQwNzQxMjkw",
      "url": null,
      "actor": null,
      "commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK: desired properties should where possible be checked automatically.\r\n\r\nLinters are to \"repo invariants\" what constructors are to class invariants :)\r\n\r\nNice to see the linting being done in Python instead of bash: much better in terms of maintainability, portability and readability.",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-640741290",
      "submitted_at": "2021-04-21T08:26:08Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "commented",
      "id": 824235661,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyNDIzNTY2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/824235661",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-21T17:33:57Z",
      "updated_at": "2021-05-03T16:50:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-824235661",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-21T18:27:23Z",
      "updated_at": "2021-04-21T18:27:23Z",
      "source": {
        "issue": {
          "id": 839117639,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5MTgyNzQ5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21515",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21515/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21515/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21515/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21515",
          "number": 21515,
          "state": "open",
          "state_reason": null,
          "title": "Erlay: bandwidth-efficient transaction relay protocol",
          "body": "I started forking off parts of this big PR so that we can review and merge in chunks with better efficiency.\r\n1. [p2p: Erlay support signaling](https://github.com/bitcoin/bitcoin/pull/23443) — done\r\n2. [Follow-up](https://github.com/bitcoin/bitcoin/pull/26359) — done\r\n3. [p2p: Fill reconciliation sets and request reconciliation (Erlay)](https://github.com/bitcoin/bitcoin/pull/26283) — pending\r\n\r\n-----------\r\n\r\nPlease use this discussion for high-level topics and keep the nitpics for the sub-PRs. The state of this branch might be not the cleanest and the freshest, although last time I rebased in on 2022/05/12 to be in sync {with master, with the latest child PR} and pass CI (modulo one race condition issue).\r\n\r\n-----------\r\n\r\nThis is an implementation of  [Erlay](https://arxiv.org/abs/1905.10518) , using primitives in the BIP-330 (see the updated spec  [here](https://github.com/naumenkogs/bips/blob/bip_0330_updates/bip-0330.mediawiki) ). Please refer to these two to understand the design. My talk is [here](https://youtu.be/YxsjdIl0034?t=670) .\r\n\r\nThis PR supersedes the previous [one](https://github.com/bitcoin/bitcoin/pull/18261), because that one got too much review comments (I tried to resolve all of them for this version), and also it was much refactored since then.\r\n\r\n### Abstract\r\n\r\nErlay uses both flooding (announcing using INV messages to all peers) and reconciliation to announce transactions. Flooding is expensive, so Erlay seeks to use it sparingly and in strategic locations - only well-connected publicly reachable nodes flood transactions to other publicly reachable nodes via outbound connections. Since every unreachable node is directly connected to several reachable nodes, this policy ensures that a transaction is quickly propagated to be within one hop from most of the nodes in the network.\r\n\r\nAll transactions not propagated through flooding are propagated through efficient set reconciliation. To do this, every node keeps a reconciliation set for each peer, in which transactions are placed which would have been announced using INV messages absent this protocol. Every 2 seconds every node chooses a peer from its outbound connections in a predetermined order to reconcile with, resulting in both sides learning the transactions known to the other side. After every reconciliation round, the corresponding reconciliation set is cleared.\r\n\r\nI think both paper and the BIP motives the changes, but I’ll mention them briefly once again here:\r\n* save 40% of the bandwidth consumed by a node\r\n* increase network connectivity for almost no bandwidth or latency cost\r\n* improves privacy as a side-effect\r\n\r\n### How to review\r\n\r\nI suggest doing `make clean && autogen.sh && configure` before you try building it locally.\r\n\r\n-----------\r\n\r\nI created 2 discussion boards, please discuss not-code-related topics there:\r\n1. [Understanding bandwidth savings](https://github.com/naumenkogs/txrelaysim/issues/7)\r\n2. [Joining mainnet testing](https://github.com/naumenkogs/txrelaysim/issues/8)",
          "user": {
            "login": "naumenkogs",
            "id": 7975071,
            "node_id": "MDQ6VXNlcjc5NzUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/naumenkogs",
            "html_url": "https://github.com/naumenkogs",
            "followers_url": "https://api.github.com/users/naumenkogs/followers",
            "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
            "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
            "repos_url": "https://api.github.com/users/naumenkogs/repos",
            "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 27,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21515",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21515",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21515.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21515.patch"
          },
          "created_at": "2021-03-23T20:58:32Z",
          "updated_at": "2023-05-31T20:37:48Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4628187714,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYyODE4NzcxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4628187714",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T02:59:34Z"
    },
    {
      "event": "reviewed",
      "id": 642314272,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQyMzE0Mjcy",
      "url": null,
      "actor": null,
      "commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-642314272",
      "submitted_at": "2021-04-22T15:00:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "reviewed",
      "id": 642353320,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQyMzUzMzIw",
      "url": null,
      "actor": null,
      "commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-642353320",
      "submitted_at": "2021-04-22T15:34:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "reviewed",
      "id": 642375513,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQyMzc1NTEz",
      "url": null,
      "actor": null,
      "commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-642375513",
      "submitted_at": "2021-04-22T15:54:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4633899015,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzMzg5OTAxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4633899015",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T23:25:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4633951025,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzMzk1MTAyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4633951025",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T23:47:53Z"
    },
    {
      "event": "renamed",
      "id": 4634667797,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDYzNDY2Nzc5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4634667797",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-23T04:19:13Z",
      "rename": {
        "from": "test: add new python linter test for checking filenames and file permissions",
        "to": "test: add new python linter to check file names and permissions"
      }
    },
    {
      "event": "commented",
      "id": 825375050,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTM3NTA1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/825375050",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-23T04:22:18Z",
      "updated_at": "2021-04-23T04:23:46Z",
      "author_association": "MEMBER",
      "body": "Can you update the commit message to use the following format:\r\n```bash\r\nprefix: title\r\n\r\ncommit body\r\n```\r\n\r\ni.e:\r\n```bash\r\ntest: add new python linter to check file names and permissions\r\n\r\nexplain what is being done in this commit\r\nexplain some more etc\r\n```\r\n\r\nAlso, for this to me merged. Obviously all [linters](https://github.com/bitcoin/bitcoin/pull/21740/checks?check_run_id=2415315623) / CI need to be passing. So if changes to other files need to be made, they will have to be done either in preceding commits, or as part of the same change.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-825375050",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4639266271,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzOTI2NjI3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639266271",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T00:13:18Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZjZiYjNlYmM3Y2I4ZTE3YTVkZmM4ZWY1NWFhMmQzZjJkYzZiZGVh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea",
      "tree": {
        "sha": "dd112d55ee88f472c36ce95066332b144e08d658",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd112d55ee88f472c36ce95066332b144e08d658"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/90e0faaa442b6ced94aee2fa9d9d21c4063d76be",
          "sha": "90e0faaa442b6ced94aee2fa9d9d21c4063d76be",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/90e0faaa442b6ced94aee2fa9d9d21c4063d76be"
        }
      ],
      "message": "test: fix file permissions on various scripts\n\nUpdates permissions on files to comply with the new test added in the following commit",
      "committer": {
        "name": "windsok",
        "email": "windsok@protonmail.com",
        "date": "2021-04-24T00:13:28Z"
      },
      "author": {
        "name": "windsok",
        "email": "windsok@protonmail.com",
        "date": "2021-04-24T00:11:52Z"
      },
      "sha": "6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea"
    },
    {
      "event": "commented",
      "id": 826002217,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjAwMjIxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826002217",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T00:19:07Z",
      "updated_at": "2021-04-24T00:19:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Can you update the commit message to use the following format:\r\n> \r\nThanks @fanquake  - I've updated the commit messages to the standard format\r\n\r\n> Also, for this to me merged. Obviously all [linters](https://github.com/bitcoin/bitcoin/pull/21740/checks?check_run_id=2415315623) / CI need to be passing. So if changes to other files need to be made, they will have to be done either in preceding commits, or as part of the same change.\r\n\r\nDone - added a new commit before the main commit which updates the permissions on files which are failing the new test.\r\n\r\nWould appreciate any additional review and feedback :) \r\n",
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-826002217",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4639275392,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYzOTI3NTM5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639275392",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T00:19:07Z"
    },
    {
      "event": "subscribed",
      "id": 4639275393,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MzkyNzUzOTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639275393",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T00:19:07Z"
    },
    {
      "event": "ready_for_review",
      "id": 4639275668,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQ0NjM5Mjc1NjY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639275668",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T00:19:17Z"
    },
    {
      "event": "commented",
      "id": 826048425,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjA0ODQyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826048425",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:14:48Z",
      "updated_at": "2021-04-24T07:14:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "cr ACK 52c3fb3c9d4145819bd0fe839ba89482e73fce99: patch looks correct!\r\n\r\nNice first-time contribution @windsok. I hope to see more contributions from you in the future. Warm welcome as a contributor!",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-826048425",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4639653342,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYzOTY1MzM0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639653342",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:14:49Z"
    },
    {
      "event": "subscribed",
      "id": 4639653343,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2Mzk2NTMzNDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639653343",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:14:49Z"
    },
    {
      "event": "labeled",
      "id": 4639667316,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2Mzk2NjczMTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639667316",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:34:39Z",
      "label": {
        "name": "Needs gitian build",
        "color": "8c9e07"
      }
    },
    {
      "event": "commented",
      "id": 826053441,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjA1MzQ0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826053441",
      "actor": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:56:14Z",
      "updated_at": "2021-04-24T08:02:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "@windsok This PR removes `test/lint/lint-shebang.sh` and `test/lint/lint-filenames.sh` and adds `test/lint/lint-filenames-permissions.sh` and adds `test/lint/lint-filenames-permissions.py`. \r\n\r\nThe new file names are confusing to me as they do something different than they hint. Would it make sense to you to rename them from \"lint-filenames-permissions.{py|sh}\" to \"lint-files.{py|sh}\" or something better?\r\n\r\n**Edit:**\r\n\r\n* This PR modifies `https://github.com/bitcoin/bitcoin/blob/master/contrib/gitian-descriptors/assign_DISTNAME` permissions but it may be actually correct to add `.sh` extension - I'm not sure. Just mentioning it here so that others double check correctness of the change.",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-826053441",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4639684460,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYzOTY4NDQ2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639684460",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:56:14Z"
    },
    {
      "event": "subscribed",
      "id": 4639684462,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2Mzk2ODQ0NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4639684462",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-24T07:56:14Z"
    },
    {
      "event": "reviewed",
      "id": 644006100,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ0MDA2MTAw",
      "url": null,
      "actor": null,
      "commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-644006100",
      "submitted_at": "2021-04-24T08:05:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "reviewed",
      "id": 644010999,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ0MDEwOTk5",
      "url": null,
      "actor": null,
      "commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-644010999",
      "submitted_at": "2021-04-24T08:17:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "unlabeled",
      "id": 4641205405,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDY0MTIwNTQwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4641205405",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-25T13:51:48Z",
      "label": {
        "name": "Needs gitian build",
        "color": "8c9e07"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4665914868,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDY2NTkxNDg2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4665914868",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:36:52Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4665946560,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDY2NTk0NjU2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4665946560",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:39:41Z"
    },
    {
      "event": "commented",
      "id": 829701806,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTcwMTgwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/829701806",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:48:47Z",
      "updated_at": "2021-04-29T23:49:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @windsok This PR removes `test/lint/lint-shebang.sh` and `test/lint/lint-filenames.sh` and adds `test/lint/lint-filenames-permissions.sh` and adds `test/lint/lint-filenames-permissions.py`.\r\n> \r\n> The new file names are confusing to me as they do something different than they hint. Would it make sense to you to rename them from \"lint-filenames-permissions.{py|sh}\" to \"lint-files.{py|sh}\" or something better?\r\n\r\nI'm happy to name this test as `lint-files.{py|sh}` - it does seem clearer and less confusing. Thanks for the suggestion :) I've updated this in the latest version commit.\r\n\r\n> * This PR modifies `https://github.com/bitcoin/bitcoin/blob/master/contrib/gitian-descriptors/assign_DISTNAME` permissions but it may be actually correct to add `.sh` extension - I'm not sure. Just mentioning it here so that others double check correctness of the change.\r\n\r\nI am also unsure on this one, but happy to take advice on which direction it should go\r\n",
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-829701806",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4666016279,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY2NjAxNjI3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666016279",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:48:47Z"
    },
    {
      "event": "subscribed",
      "id": 4666016286,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NjYwMTYyODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666016286",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:48:47Z"
    },
    {
      "event": "commented",
      "id": 829702525,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTcwMjUyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/829702525",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:51:02Z",
      "updated_at": "2021-04-29T23:51:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Nice first-time contribution @windsok. I hope to see more contributions from you in the future. Warm welcome as a contributor!\r\n\r\nThanks @practicalswift :) looking forward to getting more involved. Sorry for the delayed response on the last round of feedback.",
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-829702525",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4666027209,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY2NjAyNzIwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666027209",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:51:02Z"
    },
    {
      "event": "subscribed",
      "id": 4666027214,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NjYwMjcyMTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666027214",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:51:02Z"
    },
    {
      "event": "mentioned",
      "id": 4666027223,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY2NjAyNzIyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666027223",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:51:02Z"
    },
    {
      "event": "subscribed",
      "id": 4666027229,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NjYwMjcyMjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666027229",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:51:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4666040855,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDY2NjA0MDg1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666040855",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:53:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4666067353,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDY2NjA2NzM1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4666067353",
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-29T23:59:29Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NmIwMjVlMDBkZjQwNzI0MTc1NzM1ZWI1NjA2YWM3MzA2N2NiM2I4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46b025e00df40724175735eb5606ac73067cb3b8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/46b025e00df40724175735eb5606ac73067cb3b8",
      "tree": {
        "sha": "a98a25326a086c307ebf638cd6028b3dc91a931c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a98a25326a086c307ebf638cd6028b3dc91a931c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea",
          "sha": "6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6f6bb3ebc7cb8e17a5dfc8ef55aa2d3f2dc6bdea"
        }
      ],
      "message": "test: add new python linter to check file names and permissions\n\nReplaces the existing tests in the test/lint/lint-filenames.sh and test/lint/lint-shebang.sh linter tests, as well as adding some new and increased testing.\nSummary of tests:\n- Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n- Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames. Additionally there is an exception regexp for directories or files which are excepted from matching this regexp (This should replicate the existing test/lint/lint-filenames.sh test)\n- Checks all files in the repository match an allowed executable or non-executable file permission octal. Additionally checks that for executable files, the file contains a shebang line.\n- Checks that for executable .py and .sh files, the shebang line used matches an allowable list of shebangs (This should replicate the existing test/lint/lint-shebang.sh test)\n- Checks every file that contains a shebang line to ensure it has an executable permission\n\nFixes #21729",
      "committer": {
        "name": "windsok",
        "email": "windsok@protonmail.com",
        "date": "2021-04-30T00:00:58Z"
      },
      "author": {
        "name": "windsok",
        "email": "windsok@protonmail.com",
        "date": "2021-04-21T01:41:40Z"
      },
      "sha": "46b025e00df40724175735eb5606ac73067cb3b8"
    },
    {
      "event": "commented",
      "id": 829959649,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTk1OTY0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/829959649",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-30T09:13:54Z",
      "updated_at": "2021-04-30T09:13:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "cr re-ACK 46b025e00df40724175735eb5606ac73067cb3b8: patch still looks correct",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-829959649",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "labeled",
      "id": 4668156345,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2NjgxNTYzNDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4668156345",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-30T09:19:09Z",
      "label": {
        "name": "Needs gitian build",
        "color": "8c9e07"
      }
    },
    {
      "event": "comment_deleted",
      "id": 4668157173,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQ0NjY4MTU3MTcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4668157173",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-30T09:19:19Z"
    },
    {
      "event": "reviewed",
      "id": 649768757,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ5NzY4NzU3",
      "url": null,
      "actor": null,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-649768757",
      "submitted_at": "2021-05-01T09:50:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "reviewed",
      "id": 649776162,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ5Nzc2MTYy",
      "url": null,
      "actor": null,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-649776162",
      "submitted_at": "2021-05-01T10:16:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "commented",
      "id": 830607777,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgzMDYwNzc3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/830607777",
      "actor": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-01T10:23:50Z",
      "updated_at": "2021-05-01T10:23:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "code review ACK 46b025e00df40724175735eb5606ac73067cb3b8 if `contrib/gitian-descriptors/assign_DISTNAME` permission change is deemed OK.\r\n\r\nGreat contribution!\r\n\r\n",
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-830607777",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "commented",
      "id": 831141589,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTE0MTU4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831141589",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-03T09:31:55Z",
      "updated_at": "2021-05-03T09:31:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--4a62be1de6b64f3ed646cdc7932c8cf5-->\n🕵️ @achow101 @sipa have been requested to review this pull request as specified in the REVIEWERS file.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-831141589",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "mentioned",
      "id": 4677161538,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY3NzE2MTUzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4677161538",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-03T09:31:55Z"
    },
    {
      "event": "subscribed",
      "id": 4677161545,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NzcxNjE1NDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4677161545",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-03T09:31:56Z"
    },
    {
      "event": "mentioned",
      "id": 4677161557,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY3NzE2MTU1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4677161557",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-03T09:31:56Z"
    },
    {
      "event": "subscribed",
      "id": 4677161560,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NzcxNjE1NjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4677161560",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-03T09:31:56Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-04T12:51:47Z",
      "updated_at": "2021-05-04T12:51:47Z",
      "source": {
        "issue": {
          "id": 873034348,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjI3ODg2MTI1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21817",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21817/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21817/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21817/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21817",
          "number": 21817,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Replace &foo[0] with foo.data()",
          "body": "The main theme of this refactor is to replace `&foo[0]` with `foo.data()`.\r\n\r\nThe first commit is taken from #21781 with the rationale:\r\n\r\n* In CSignatureCache::ComputeEntryECDSA, change the way a vector pointer is resolved to prevent invoking undefined behavior if the vector is empty.\r\n\r\nThe other commits aim to remove all `&foo[0]`, where `foo` is any kind of byte representation. The rationale:\r\n\r\n* Sometimes alternative code without any raw data pointers is easier to read (refer to the respective commit message for details)\r\n* If the raw data pointer is needed, `foo.data()` should be preferred, as pointed out in the developer notes. This addresses the instances that have been missed in commit 592404f03f2b734351d734f0c9ca1fdce997321b, and https://github.com/bitcoin/bitcoin/pull/9804",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21817",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21817",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21817.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21817.patch"
          },
          "closed_at": "2021-05-05T16:25:59Z",
          "created_at": "2021-04-30T18:24:21Z",
          "updated_at": "2022-08-16T17:21:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 832767699,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgzMjc2NzY5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/832767699",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-05T15:10:29Z",
      "updated_at": "2021-05-05T15:10:29Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 46b025e00df40724175735eb5606ac73067cb3b8\r\nAlso ACK on the permission changes in 46b025e00df40724175735eb5606ac73067cb3b8.\r\nThanks for working on this.\r\n\r\n> Nice to see the linting being done in Python instead of bash: much better in terms of maintainability, portability and readability.\r\n\r\nAgree. Shell script tends to become virtually unreviewable quickly when the logic gets more complex than simply executing some commands in a batch.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-832767699",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "reviewed",
      "id": 652430614,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUyNDMwNjE0",
      "url": null,
      "actor": null,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-652430614",
      "submitted_at": "2021-05-05T15:12:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "merged",
      "id": 4689697230,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDY4OTY5NzIzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4689697230",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1b9a5236e99f57fcd736b5b4ce09095c2c51aa49",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1b9a5236e99f57fcd736b5b4ce09095c2c51aa49",
      "created_at": "2021-05-05T15:17:38Z"
    },
    {
      "event": "closed",
      "id": 4689697274,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDY4OTY5NzI3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4689697274",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-05T15:17:38Z"
    },
    {
      "event": "reviewed",
      "id": 652457821,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUyNDU3ODIx",
      "url": null,
      "actor": null,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-652457821",
      "submitted_at": "2021-05-05T15:47:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-05T18:52:44Z",
      "updated_at": "2021-05-05T18:52:44Z",
      "source": {
        "issue": {
          "id": 876742312,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjMwODI2MTY4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21864",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21864/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21864/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21864/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21864",
          "number": 21864,
          "state": "closed",
          "state_reason": null,
          "title": "fix permissions on 00_setup_env_native_fuzz_with_msan.sh",
          "body": "I think there was a silent merge conflict between #21852 and #21740?\r\n\r\nI have a [linter failure](https://cirrus-ci.com/task/5436849834426368):\r\n\r\n```\r\nFile \"ci/test/00_setup_env_native_fuzz_with_msan.sh\" contains a shebang line, but has the file permission 644 instead of the expected executable permission 755. Do \"chmod 755 ci/test/00_setup_env_native_fuzz_with_msan.sh\" (or remove the shebang line).\r\nERROR: There were 1 failed tests in the lint-files.py lint test. Please resolve the above errors.\r\n^---- failure generated from test/lint/lint-files.sh\r\n```",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21864",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21864",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21864.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21864.patch"
          },
          "closed_at": "2021-05-05T19:07:20Z",
          "created_at": "2021-05-05T18:52:44Z",
          "updated_at": "2022-08-16T17:21:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4690870429,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ2OTA4NzA0Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4690870429",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f8575bce311886a09e83d5d1918d65e04b3b3faa",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f8575bce311886a09e83d5d1918d65e04b3b3faa",
      "created_at": "2021-05-05T19:07:16Z"
    },
    {
      "event": "referenced",
      "id": 4691483378,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ2OTE0ODMzNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4691483378",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a7812d7be7cd276a6986892faecffd50805eabbd",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/a7812d7be7cd276a6986892faecffd50805eabbd",
      "created_at": "2021-05-05T21:38:20Z"
    },
    {
      "event": "referenced",
      "id": 4691483397,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ2OTE0ODMzOTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4691483397",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "415bdb814f8990951cf80e928899bb06374f10a6",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/415bdb814f8990951cf80e928899bb06374f10a6",
      "created_at": "2021-05-05T21:38:21Z"
    },
    {
      "event": "commented",
      "id": 833143855,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzE0Mzg1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/833143855",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-06T00:42:59Z",
      "updated_at": "2021-05-06T00:42:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 3f8f238deb5a72db04d29c899cea11df14cd984c<br>(master) | commit 4f1c6e5ae1e8f26799891178b0a353502e22b87d<br>(master and this pull) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`1d782713b323d8b8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-aarch64-linux-gnu-debug.tar.gz) | [`00706d683dc7fdb3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`d6ea38d31834b245...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-aarch64-linux-gnu.tar.gz) | [`7fc438afb1329705...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`4dc746c0a4e127f5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-arm-linux-gnueabihf-debug.tar.gz) | [`1723f3a260829ade...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`ee7559f5ce241e5d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-arm-linux-gnueabihf.tar.gz) | [`4294b3e4f15990e7...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-arm-linux-gnueabihf.tar.gz) |\n| *-osx-unsigned.dmg | [`eef8d656b3f0229d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-osx-unsigned.dmg) | [`87a5702ab3f06d26...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-osx-unsigned.dmg) |\n| *-osx64.tar.gz | [`83f3690cd9006ef3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-osx64.tar.gz) | [`b3c92c583789b2c7...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-osx64.tar.gz) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`4e6bb99605730f87...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-powerpc64-linux-gnu-debug.tar.gz) | [`4345d0a6eee207f6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`f7f89deb2cb0819a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-powerpc64-linux-gnu.tar.gz) | [`0b73302264fe0eae...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-powerpc64-linux-gnu.tar.gz) |\n| *-powerpc64le-linux-gnu-debug.tar.gz | [`e1e9e084d4088dec...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-powerpc64le-linux-gnu-debug.tar.gz) | [`fa3fbbf1bf64614e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-powerpc64le-linux-gnu-debug.tar.gz) |\n| *-powerpc64le-linux-gnu.tar.gz | [`bc95d5e7ba71cd31...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-powerpc64le-linux-gnu.tar.gz) | [`e7633a594fe25426...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-powerpc64le-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`95f182eb1d00e5f5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-riscv64-linux-gnu-debug.tar.gz) | [`0701b7b84a8683ee...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`6e1ee8834e0f17ec...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-riscv64-linux-gnu.tar.gz) | [`94c9e06c8cbc1956...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-riscv64-linux-gnu.tar.gz) |\n| *-win64-debug.zip | [`1a5115bafee424f2...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-win64-debug.zip) | [`9363c1aa27d3ce46...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-win64-debug.zip) |\n| *-win64-setup-unsigned.exe | [`03d79fc50eceea8f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-win64-setup-unsigned.exe) | [`f20c0017ecd90652...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-win64-setup-unsigned.exe) |\n| *-win64.zip | [`4333c2e76bf73c2c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-win64.zip) | [`1ba0d6d65b89a14a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-win64.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`18ce6c08c5bc691e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-x86_64-linux-gnu-debug.tar.gz) | [`8645294ec08c6a64...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`a58dbdea99493df5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a-x86_64-linux-gnu.tar.gz) | [`cc88f00d07b4784c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`7cdbf224e1151aa1...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-3f8f238deb5a.tar.gz) | [`4419dfaa17218c19...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-4f1c6e5ae1e8.tar.gz) |\n| bitcoin-core-linux-22-res.yml | [`97ceb4f415d8c4a2...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-core-linux-22-res.yml) | [`85ce1f40436f8cb5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-linux-22-res.yml) |\n| bitcoin-core-osx-22-res.yml | [`80d164889106ca0a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-core-osx-22-res.yml) | [`96f161a171eddcab...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-osx-22-res.yml) |\n| bitcoin-core-win-22-res.yml | [`dd694a3ccfd5e934...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/bitcoin-core-win-22-res.yml) | [`12fbc619bafb0987...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-win-22-res.yml) |\n| linux-build.log | [`c2df17b298bea4de...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/linux-build.log) | [`521a16a9ead3839a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/linux-build.log) |\n| osx-build.log | [`d185ccafdeb25ee6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/osx-build.log) | [`0d80d2d9f91e6111...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/osx-build.log) |\n| win-build.log | [`0d0ac751380fb5e4...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3f8f238deb5a72db04d29c899cea11df14cd984c/win-build.log) | [`6a72628fc4afefaf...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/win-build.log) |\n| bitcoin-core-linux-22-res.yml.diff |  | [`dcb55fb490600b5b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-linux-22-res.yml.diff) |\n| bitcoin-core-osx-22-res.yml.diff |  | [`e7803ad2ab6f4aa8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-osx-22-res.yml.diff) |\n| bitcoin-core-win-22-res.yml.diff |  | [`04c8390c0da31c97...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/bitcoin-core-win-22-res.yml.diff) |\n| linux-build.log.diff |  | [`4ed426a1862a5aa1...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/linux-build.log.diff) |\n| osx-build.log.diff |  | [`1c2436e98e4c7fbe...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/osx-build.log.diff) |\n| win-build.log.diff |  | [`f6d48e161363f2cf...`](https://drahtbot.space/gitian/bitcoin/bitcoin/4f1c6e5ae1e8f26799891178b0a353502e22b87d/win-build.log.diff) |\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#issuecomment-833143855",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21740"
    },
    {
      "event": "unlabeled",
      "id": 4692210229,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDY5MjIxMDIyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4692210229",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-06T00:43:00Z",
      "label": {
        "name": "Needs gitian build",
        "color": "8c9e07"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-07T01:31:39Z",
      "updated_at": "2021-05-07T01:31:39Z",
      "source": {
        "issue": {
          "id": 878297399,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjMyMTQzNzgx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21873",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21873/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21873/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21873/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21873",
          "number": 21873,
          "state": "closed",
          "state_reason": null,
          "title": "test: minor fixes & improvements for files linter test",
          "body": "Couple of minor fixes & improvements for files linter test added in #21740\r\n\r\n- Use a context manager when opening files, so that files are closed are we are done with them\r\n\r\n- Use the `-z` flag when shelling out to `git ls-files` so that we can catch newlines and other weird control characters in filenames.\r\n\r\nFrom the `git ls-files` manpage:\r\n```\r\n-z \\0 line termination on output and do not quote filenames. See OUTPUT below for more information.\r\n\r\nWithout the -z option, pathnames with \"unusual\" characters are quoted as explained for the configuration variable\r\ncore.quotePath (see git-config(1)). Using -z the filename is output verbatim and the line is terminated by a NUL byte.\r\n```",
          "user": {
            "login": "windsok",
            "id": 8359865,
            "node_id": "MDQ6VXNlcjgzNTk4NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/windsok",
            "html_url": "https://github.com/windsok",
            "followers_url": "https://api.github.com/users/windsok/followers",
            "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
            "organizations_url": "https://api.github.com/users/windsok/orgs",
            "repos_url": "https://api.github.com/users/windsok/repos",
            "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/windsok/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21873",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21873",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21873.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21873.patch"
          },
          "closed_at": "2021-05-07T08:25:32Z",
          "created_at": "2021-05-07T01:31:39Z",
          "updated_at": "2022-08-16T17:21:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4700178566,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3MDAxNzg1NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4700178566",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a33f360fcdd29a05ecbe4ab606a6143f7de4d9dc",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/a33f360fcdd29a05ecbe4ab606a6143f7de4d9dc",
      "created_at": "2021-05-07T08:25:27Z"
    },
    {
      "event": "reviewed",
      "id": 667192877,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjY3MTkyODc3",
      "url": null,
      "actor": null,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#pullrequestreview-667192877",
      "submitted_at": "2021-05-24T21:24:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-06T11:46:01Z",
      "updated_at": "2022-04-06T11:46:01Z",
      "source": {
        "issue": {
          "id": 1194493518,
          "node_id": "I_kwDOABII585HMoZO",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24783",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24783/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24783/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24783/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/24783",
          "number": 24783,
          "state": "closed",
          "state_reason": "completed",
          "title": "Port lint scripts to Python",
          "body": "To prevent endless issues when running the linters locally (say, on specific versions of bash, or system tools having certain names, or a certain implementation of `sed`, etc) , as well as for maintainability/reviewability, it's preferred for linter scripts to be written in Python.\r\n\r\nHere is a list of scripts, feel free to pick up any that haven't been ported:\r\n\r\n- [x] `test/lint/check-doc.py` (added in #7280, was always Python)\r\n- [ ] `test/lint/git-subtree-check.sh` (in progress in #25039)\r\n- [x] `test/lint/lint-all.sh` (ported in #24982)\r\n- [x] `test/lint/lint-assertions.sh` (ported in #24856)\r\n- [x] `test/lint/lint-circular-dependencies.sh` (ported in #24915)\r\n- [x] `test/lint/lint-cpp.sh` (removed in #24785)\r\n- [x] `test/lint/lint-files.py` (added in #21740, was always Python)\r\n- [x] `test/lint/lint-format-strings.sh` (ported in #24802)\r\n- [x] `test/lint/lint-git-commit-check.sh` (ported in #24853)\r\n- [x] `test/lint/lint-include-guards.sh` (ported in #24902)\r\n- [x] `test/lint/lint-includes.sh` (ported in #24895)\r\n- [x] `test/lint/lint-locale-dependence.sh` (ported in #24932)\r\n- [x] `test/lint/lint-logs.sh` (ported in #24849)\r\n- [x] `test/lint/lint-python-dead-code.py` (ported in #24778)\r\n- [x] `test/lint/lint-python-mutable-default-parameters.sh` (ported in #24800)\r\n- [x] `test/lint/lint-python.sh` (ported in #24794)\r\n- [x] `test/lint/lint-python-utf8-encoding.sh` (ported in #24916)\r\n- [x] `test/lint/lint-qt.sh` (removed in #24790)\r\n- [x] `test/lint/lint-shell-locale.sh` (ported in #24929)\r\n- [x] `test/lint/lint-shell.sh` (ported in #24840)\r\n- [x] `test/lint/lint-spelling.py` (ported in #24766)\r\n- [x] `test/lint/lint-submodule.sh` (ported in #24803)\r\n- [x] `test/lint/lint-tests.sh` (ported in #24815)\r\n- [x] `test/lint/lint-whitespace.sh` (ported in #24844)\r\n- [x] `test/lint/run-lint-format-strings.py` (added in #13705, was always Python)\r\n\r\nAlthough I try to keep this post up to date, before starting on a linter, please first do a github search in PRs to see if a PR for that already exists.\r\n\r\n#### Guidelines\r\n\r\n- Don't forget to update `test/README.md` when the name of a script changes.\r\n- Avoid `shell=true` on subprocess calls. Remember that the point here is to avoid shell ambiguities.\r\n- If possible, avoid calling out to subprocesses at all and use what Python APIs provide (say,  `grep`  `sed` `awk` `sha256sum`). An exception if this would introduce further dependencies that need to be installed. These are OK to use subprocess for:\r\n  - `git` subcommands including `git grep`—the alternative would be to require an extra dependency on a Python git module, also, `git` can be assumed to be the same implementation everywhere\r\n  - Other scripts in the source tree.\r\n  - External linters (`vulture`, `codespell`, etc) that provide only a command-based interface.\r\n- Some further recommendations about Python usage here: https://github.com/bitcoin/bitcoin/pull/24766#pullrequestreview-932953476 \r\n\r\n#### Useful skills:\r\n\r\n- Python\r\n- Being able to read shell script\r\n\r\n#### Want to work on this issue?\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\r\n",
          "user": {
            "login": "laanwj",
            "id": 126646,
            "node_id": "MDQ6VXNlcjEyNjY0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laanwj",
            "html_url": "https://github.com/laanwj",
            "followers_url": "https://api.github.com/users/laanwj/followers",
            "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
            "organizations_url": "https://api.github.com/users/laanwj/orgs",
            "repos_url": "https://api.github.com/users/laanwj/repos",
            "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/laanwj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 27,
          "closed_at": "2022-05-09T09:23:30Z",
          "created_at": "2022-04-06T11:46:01Z",
          "updated_at": "2023-05-09T10:00:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 6723196899,
      "node_id": "REFE_lADOABII584zdg_nzwAAAAGQu9fj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6723196899",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6ce592d7cdc1e1b8dd81be63e3bf8c756cad8f5a",
      "commit_url": "https://api.github.com/repos/ElementsProject/elements/commits/6ce592d7cdc1e1b8dd81be63e3bf8c756cad8f5a",
      "created_at": "2022-06-01T21:22:18Z"
    },
    {
      "event": "locked",
      "id": 7199137651,
      "node_id": "LOE_lADOABII584zdg_nzwAAAAGtGh9z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199137651",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:22:57Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617291541",
      "pull_request_review_id": 640741290,
      "id": 617291541,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI5MTU0MQ==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 17,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Consider doing the filtering (`grep`, `cut`) in Python instead to make the script easier to read and maintain. In the Python code a comment could be added that `:1:` is used to make sure only shebangs on the first line are considered.",
      "created_at": "2021-04-21T08:01:38Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r617291541",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617291541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617292317",
      "pull_request_review_id": 640741290,
      "id": 617292317,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI5MjMxNw==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 39,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: `file` is a Python builtin. Consider using `filename/filenames` instead of `file/files` :)",
      "created_at": "2021-04-21T08:02:51Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r617292317",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617292317"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617297965",
      "pull_request_review_id": 640741290,
      "id": 617297965,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI5Nzk2NQ==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    files = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file) and not filename_exception_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_extension = os.path.splitext(file)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(file, \"rb\").readline().strip()\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{file}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{file}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File '{file}' has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions():\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    files = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            print(\n+                f\"\"\"File \"{file}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (or remove the shebang line).\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 122,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This requirement holds for shebang files that expected to be executed directly.\r\n\r\nTo avoid this requirement for files that are not expected to be executed directly but still have shebangs consider adding exclusions for:\r\n* `*.py` files that do not contain `if __name__ == '__main__':` or `if __name__ == \"__main__\":`: these are typically modules that are not expected to be executed directly.\r\n* `*.bash` files: these are typically expected to be sourced and not executed directly.\r\n\r\nIt could be argued that shebangs should be removed from these types of files, but I think shebangs could still be useful to allow for language/dialect auto-detection in editors, `shellcheck`, etc.",
      "created_at": "2021-04-21T08:10:48Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r617297965",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617297965"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618047414",
      "pull_request_review_id": 641739593,
      "id": 618047414,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODA0NzQxNA==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 17,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": 617291541,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "updated to move the filtering into python :)",
      "created_at": "2021-04-22T03:03:05Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618047414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618047414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618047440",
      "pull_request_review_id": 641739621,
      "id": 618047440,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODA0NzQ0MA==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 39,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": 617292317,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "good call, updated",
      "created_at": "2021-04-22T03:03:12Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618047440",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618047440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618048302",
      "pull_request_review_id": 641740601,
      "id": 618048302,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODA0ODMwMg==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    files = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file) and not filename_exception_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_extension = os.path.splitext(file)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(file, \"rb\").readline().strip()\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{file}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{file}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File '{file}' has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions():\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    files = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            print(\n+                f\"\"\"File \"{file}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (or remove the shebang line).\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 122,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": 617297965,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated. I wonder if some other file types should also be skipped along with `*bash`? I notice the test is failing for some files like `contrib/init/bitcoind.init`, `contrib/init/bitcoind.openrc`, `contrib/devtools/split-debug.sh.in` and I'm thinking they might fit into the same category of files which are sourced but not executed?\r\n\r\nThere is also quite a few `.sh` files in `ci/test/` like `ci/test/00_setup_env_android.sh` which fail the test, but I'm not sure if those really should be forced to be executable or not?\r\n\r\nThanks very much for the initial review and feedback :) ",
      "created_at": "2021-04-22T03:06:12Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618048302",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618048302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618483138",
      "pull_request_review_id": 642314272,
      "id": 618483138,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODQ4MzEzOA==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 17,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I wonder is `\"\"\"` required here or would `\"` suffice?",
      "created_at": "2021-04-22T15:00:47Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618483138",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618483138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618511312",
      "pull_request_review_id": 642353320,
      "id": 618511312,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODUxMTMxMg==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 55,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Out of curiosity: Would it make sense to replace `strip()` with `rstrip()` (https://docs.python.org/3/library/stdtypes.html?highlight=rstrip#str.rstrip)?\r\n\r\nJust for fun: There is still one very specific case where this does not work (I hope I'm not missing something): You can add a file like this `git add test/util/zzz.py  ` (note the trailing whitespace) and `strip()` will make sure that `test/util/zzz.py` will be processed and not `test/util/zzz.py  `. I think your code is fine but if it can be improved wrt robustness I'm all in (possibly split first and remove trailing empty entries?)",
      "created_at": "2021-04-22T15:34:14Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618511312",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618511312"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618527730",
      "pull_request_review_id": 642375513,
      "id": 618527730,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODUyNzczMA==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = os.path.splitext(filename)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().strip()",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 81,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe the `strip()` here is not correct. I don't think that you can put whitespace before shebang. \r\n\r\nIt's a question whether one should allow whitespace after shebank AFAIK it's allowed but ... It may be for the best simply remove `.strip()`.\r\n\r\nJust for fun: https://unix.stackexchange.com/questions/276751/is-space-allowed-between-and-bin-bash-in-shebang",
      "created_at": "2021-04-22T15:54:09Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618527730",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618527730"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618676151",
      "pull_request_review_id": 642585082,
      "id": 618676151,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODY3NjE1MQ==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    files = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file) and not filename_exception_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_extension = os.path.splitext(file)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(file, \"rb\").readline().strip()\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{file}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{file}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File '{file}' has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions():\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    files = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            print(\n+                f\"\"\"File \"{file}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (or remove the shebang line).\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 122,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": 617297965,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Updated. I wonder if some other file types should also be skipped along with `*bash`? I notice the test is failing for some files like `contrib/init/bitcoind.init`, `contrib/init/bitcoind.openrc`, `contrib/devtools/split-debug.sh.in` and I'm thinking they might fit into the same category of files which are sourced but not executed?\r\n\r\nSounds reasonable. Skipping the requirement for `*.{init,openrc,sh.in}` should be fine.\r\n\r\n> There is also quite a few `.sh` files in `ci/test/` like `ci/test/00_setup_env_android.sh` which fail the test, but I'm not sure if those really should be forced to be executable or not?\r\n\r\nPerhaps we should simply make these executable to avoid the complexity of making the `+x` requirement depend also on directory (in addition to `#!` presence and suffix).",
      "created_at": "2021-04-22T19:19:22Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618676151",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618676151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618815019",
      "pull_request_review_id": 642770020,
      "id": 618815019,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODgxNTAxOQ==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 17,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": 618483138,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, updated :)",
      "created_at": "2021-04-22T23:25:56Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618815019",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618815019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618817217",
      "pull_request_review_id": 642772517,
      "id": 618817217,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODgxNzIxNw==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 55,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": 618511312,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Great catch!\r\n\r\nI've updated the logic to not use a `strip()` at all, and instead split on the newlines and then remove the trailing empty element, as you suggested. I chose to do this using a list comprehension filtering for empty list elements, rather than a `.pop()` of the last element, as it seemed slightly more robust, but can change it to a `pop()` if I'm overthinking it.\r\n\r\nI tested that this does now catch files with trailing whitespace:\r\n```bash\r\nFile \"test/util/rpcauth-test.py \" does not not match the allowed filename regexp ('^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$').\r\n```",
      "created_at": "2021-04-22T23:32:23Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618817217",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618817217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618817864",
      "pull_request_review_id": 642773308,
      "id": 618817864,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODgxNzg2NA==",
      "diff_hunk": "@@ -0,0 +1,160 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!'\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = os.path.splitext(filename)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().strip()",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 81,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "886315ff36730db6da1cf97b0af0fc66b11e0585",
      "in_reply_to_id": 618527730,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Great catch, thanks.\r\n\r\nI updated this to use `rstrip(b\"\\n\")` to remove only the trailing newline",
      "created_at": "2021-04-22T23:34:23Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618817864",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618817864"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618819108",
      "pull_request_review_id": 642774657,
      "id": 618819108,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODgxOTEwOA==",
      "diff_hunk": "@@ -0,0 +1,141 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"\"\"git grep --full-name --line-number -I '^#!' | grep :1: | cut -d \":\" -f 1\"\"\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def check_all_filenames():\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames():\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    files = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for file in files:\n+        if not filename_regex.match(file) and not filename_exception_regex.match(file):\n+            print(\n+                f\"\"\"File \"{file}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions():\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    files = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_extension = os.path.splitext(file)[1].strip(\".\")\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(file, \"rb\").readline().strip()\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{file}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{file}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File '{file}' has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {file}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions():\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    files = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for file in files:\n+        file_perms = int(oct(os.stat(file).st_mode)[-3:])\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            print(\n+                f\"\"\"File \"{file}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {file}\" (or remove the shebang line).\"\"\"",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 122,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "d0016b1be5b173e3fc70df37d027e5b40f718270",
      "in_reply_to_id": 617297965,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! updated the condition to skip the requirement for `*.{init,openrc,sh.in}` files.\r\n\r\nFor the remaining [files failing the test](https://github.com/bitcoin/bitcoin/pull/21740/checks), what would be the correct way to go about updating those to comply with the test? Should it be a second commit on this PR?\r\n\r\nThanks again for the review and guidance.",
      "created_at": "2021-04-22T23:37:57Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r618819108",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618819108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 122,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/619607936",
      "pull_request_review_id": 644006100,
      "id": 619607936,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxOTYwNzkzNg==",
      "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def get_filename_extension(filename: str) -> Optional[str]:\n+    \"\"\"\n+    Returns the full file extension for a given filename string.\n+    eg:\n+    'ci/lint_run_all.sh' -> 'sh'\n+    'ci/retry/retry' -> None\n+    'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+    \"\"\"\n+    filename_parts = filename.split(os.extsep, 1)\n+    try:\n+        return filename_parts[1]\n+    except IndexError:\n+        return None\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames() -> int:\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions() -> int:\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = get_filename_extension(filename)\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().rstrip(b\"\\n\")\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{filename}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {filename}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{filename}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+                    exit_code = 1\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File \"{filename}\" has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {filename}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {filename}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions() -> int:\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    filenames = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+\n+    # The git grep command we use returns files which contain a shebang on any line within the file\n+    # so we need to filter the list to only files with the shebang on the first line\n+    filenames = [filename.split(\":1:\")[0] for filename in filenames if \":1:\" in filename]\n+\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = get_filename_extension(filename)\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            # These file types are typically expected to be sourced and not executed directly\n+            if file_extension in [\"bash\", \"init\", \"openrc\", \"sh.in\"]:\n+                continue\n+\n+            # *.py files which don't contain an `if __name__ == '__main__'` are not expected to be executed directly\n+            if file_extension == \"py\":\n+                file_data = open(filename, \"r\", encoding=\"utf8\").read()\n+                if not re.search(\"\"\"if __name__ == ['\"]__main__['\"]:\"\"\", file_data):\n+                    continue\n+\n+            print(\n+                f\"\"\"File \"{filename}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {filename}\" (or remove the shebang line).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def main() -> NoReturn:\n+    failed_tests = 0\n+    failed_tests += check_all_filenames()\n+    failed_tests += check_source_filenames()\n+    failed_tests += check_all_file_permissions()\n+    failed_tests += check_shebang_file_permissions()\n+\n+    if failed_tests:\n+        sys.exit(1)",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 176,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Given that `failed_tests` number is computed, one can probably print the number of failed tests too.",
      "created_at": "2021-04-24T08:05:11Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r619607936",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/619607936"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/619611147",
      "pull_request_review_id": 644010999,
      "id": 619611147,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxOTYxMTE0Nw==",
      "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def get_filename_extension(filename: str) -> Optional[str]:\n+    \"\"\"\n+    Returns the full file extension for a given filename string.\n+    eg:\n+    'ci/lint_run_all.sh' -> 'sh'\n+    'ci/retry/retry' -> None\n+    'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+    \"\"\"\n+    filename_parts = filename.split(os.extsep, 1)",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 40,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think people mostly do something like this https://source.dot.net/#System.Private.CoreLib/Path.cs,467ebc0e33e0820c to find a file extension. That is to look for the first `os.extsep` but not from the beginning of the string (filename) but from the end of the filename.\r\n\r\nA counter-example can be `'contrib/devtools/split-debug.my.nice.helper.sh.in'` where you would return `my.nice.helper.sh.in`.\r\n\r\nYour code may be perfectly fine for what you want to achieve in this PR, yet I would be hesitant to use `get_filename_extension` name. \r\n\r\nI have no clear suggestion here, letting it up to you to decide. :)",
      "created_at": "2021-04-24T08:17:04Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r619611147",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/619611147"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/623494542",
      "pull_request_review_id": 648762175,
      "id": 623494542,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMzQ5NDU0Mg==",
      "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def get_filename_extension(filename: str) -> Optional[str]:\n+    \"\"\"\n+    Returns the full file extension for a given filename string.\n+    eg:\n+    'ci/lint_run_all.sh' -> 'sh'\n+    'ci/retry/retry' -> None\n+    'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+    \"\"\"\n+    filename_parts = filename.split(os.extsep, 1)\n+    try:\n+        return filename_parts[1]\n+    except IndexError:\n+        return None\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_source_filenames() -> int:\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    exit_code = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def check_all_file_permissions() -> int:\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = get_filename_extension(filename)\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().rstrip(b\"\\n\")\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":\n+                print(\n+                    f\"\"\"File \"{filename}\" has permission {ALLOWED_PERMISSION_EXECUTABLES} (executable) and is thus expected to contain a shebang '#!'. Add shebang or do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {filename}\" to make it non-executable.\"\"\"\n+                )\n+                exit_code = 1\n+\n+            # For certain file extensions that have been defined, we also check that the shebang conforms to a specific\n+            # allowable set of shebangs\n+            if file_extension in ALLOWED_EXECUTABLE_SHEBANG.keys():\n+                if shebang not in ALLOWED_EXECUTABLE_SHEBANG[file_extension]:\n+                    print(\n+                        f\"\"\"File \"{filename}\" is missing expected shebang \"\"\"\n+                        + \" or \".join(\n+                            [x.decode(\"utf-8\") for x in ALLOWED_EXECUTABLE_SHEBANG[file_extension]]\n+                        )\n+                    )\n+                    exit_code = 1\n+\n+        elif file_perms == ALLOWED_PERMISSION_NON_EXECUTABLES:\n+            continue\n+        else:\n+            print(\n+                f\"\"\"File \"{filename}\" has unexpected permission {file_perms}. Do \"chmod {ALLOWED_PERMISSION_NON_EXECUTABLES} {filename}\" (if non-executable) or \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {filename}\" (if executable).\"\"\"\n+            )\n+            exit_code = 1\n+\n+    return exit_code\n+\n+\n+def check_shebang_file_permissions() -> int:\n+    \"\"\"\n+    Checks every file that contains a shebang line to ensure it has an executable permission\n+    \"\"\"\n+    filenames = check_output(CMD_SHEBANG_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+\n+    # The git grep command we use returns files which contain a shebang on any line within the file\n+    # so we need to filter the list to only files with the shebang on the first line\n+    filenames = [filename.split(\":1:\")[0] for filename in filenames if \":1:\" in filename]\n+\n+    exit_code = 0\n+    for filename in filenames:\n+        file_extension = get_filename_extension(filename)\n+        file_perms = int(oct(os.stat(filename).st_mode)[-3:])\n+\n+        if file_perms != ALLOWED_PERMISSION_EXECUTABLES:\n+            # These file types are typically expected to be sourced and not executed directly\n+            if file_extension in [\"bash\", \"init\", \"openrc\", \"sh.in\"]:\n+                continue\n+\n+            # *.py files which don't contain an `if __name__ == '__main__'` are not expected to be executed directly\n+            if file_extension == \"py\":\n+                file_data = open(filename, \"r\", encoding=\"utf8\").read()\n+                if not re.search(\"\"\"if __name__ == ['\"]__main__['\"]:\"\"\", file_data):\n+                    continue\n+\n+            print(\n+                f\"\"\"File \"{filename}\" contains a shebang line, but has the file permission {file_perms} instead of the expected executable permission {ALLOWED_PERMISSION_EXECUTABLES}. Do \"chmod {ALLOWED_PERMISSION_EXECUTABLES} {filename}\" (or remove the shebang line).\"\"\"\n+            )\n+            exit_code = 1\n+    return exit_code\n+\n+\n+def main() -> NoReturn:\n+    failed_tests = 0\n+    failed_tests += check_all_filenames()\n+    failed_tests += check_source_filenames()\n+    failed_tests += check_all_file_permissions()\n+    failed_tests += check_shebang_file_permissions()\n+\n+    if failed_tests:\n+        sys.exit(1)",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 176,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "in_reply_to_id": 619607936,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Great idea, I've updated to keep track of the number of failures, and print a message with the total number of failures, if any :)",
      "created_at": "2021-04-29T23:41:52Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r623494542",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/623494542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/623496403",
      "pull_request_review_id": 648764103,
      "id": 623496403,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMzQ5NjQwMw==",
      "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def get_filename_extension(filename: str) -> Optional[str]:\n+    \"\"\"\n+    Returns the full file extension for a given filename string.\n+    eg:\n+    'ci/lint_run_all.sh' -> 'sh'\n+    'ci/retry/retry' -> None\n+    'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+    \"\"\"\n+    filename_parts = filename.split(os.extsep, 1)",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 40,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "in_reply_to_id": 619611147,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah yes I originally was using `os.path.splitext(self.file_path)[1].strip(\".\")` which works similar to the linked implementation (only return the final extension, not everything from the first `.`)\r\n\r\nI had changed this as I needed a way to detect `.sh.in` files to exclude them from one of the tests, but you bring up a very good point - with the change I had made it's possible certain files with weird extensions like `split-debug.my.nice.helper.sh` would not actually be detected as a `sh` file, and would not have certain tests enforced.\r\n\r\nIve updated the code to add a new `FileMeta` class, and have changed the logic to use the appropriate version of the extension in each test. Let me know if this makes sense or not :) ",
      "created_at": "2021-04-29T23:47:19Z",
      "updated_at": "2021-04-29T23:59:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r623496403",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/623496403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624476704",
      "pull_request_review_id": 649768757,
      "id": 624476704,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDQ3NjcwNA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: The comment does not correspond with the code actually. \r\n\r\nOne could probably do: `filenames = filenames[:-1]`",
      "created_at": "2021-05-01T09:50:50Z",
      "updated_at": "2021-05-01T09:50:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r624476704",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624476704"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624488354",
      "pull_request_review_id": 649776162,
      "id": 624488354,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDQ4ODM1NA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])",
      "path": "test/lint/lint-files.py",
      "position": 67,
      "original_position": 67,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "super nit: I'm not sure whether `os.stat` should behave have [follow_symlinks](https://docs.python.org/3/library/os.html?highlight=os%20stat#os.stat) equal to `True` (default) or `False`. Possibly relevant is https://stackoverflow.com/questions/954560/how-does-git-handle-symbolic-links/18791647#18791647.\r\n\r\nI don't want to hold up this PR. Leaving this for comment here for the sake of completeness. Maybe it's stupid. IDK.",
      "created_at": "2021-05-01T10:16:17Z",
      "updated_at": "2021-05-01T10:16:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r624488354",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624488354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624488966",
      "pull_request_review_id": 649776444,
      "id": 624488966,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDQ4ODk2Ng==",
      "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+def get_filename_extension(filename: str) -> Optional[str]:\n+    \"\"\"\n+    Returns the full file extension for a given filename string.\n+    eg:\n+    'ci/lint_run_all.sh' -> 'sh'\n+    'ci/retry/retry' -> None\n+    'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+    \"\"\"\n+    filename_parts = filename.split(os.extsep, 1)",
      "path": "test/lint/lint-filenames-permissions.py",
      "position": null,
      "original_position": 40,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "52c3fb3c9d4145819bd0fe839ba89482e73fce99",
      "in_reply_to_id": 619611147,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It looks fine to me. Thanks for updating it. :)",
      "created_at": "2021-05-01T10:21:57Z",
      "updated_at": "2021-05-01T10:21:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r624488966",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624488966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626197144",
      "pull_request_review_id": 651775875,
      "id": 626197144,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjE5NzE0NA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])",
      "path": "test/lint/lint-files.py",
      "position": 67,
      "original_position": 67,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624488354,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm interesting. It seems that there are currently no symbolic links in the repository itself, at least none that I could find with:\r\n```bash\r\nls -lR ~/code/bitcoin | grep ^l\r\n```\r\n\r\nI wonder if that is intentional, or it's just never come up before?\r\n\r\nIn any case, if there were symbolic links my thinking is that we probably would want to follow them, as it seems that symlinks themselves [can't actually have their permissions changed](https://superuser.com/a/303063) (At least on linux), so either we would want to exclude symlinks entirely from the permissions test, or just do the default here and follow the link to check the linked file.",
      "created_at": "2021-05-05T00:51:21Z",
      "updated_at": "2021-05-05T01:13:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626197144",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626197144"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626198427",
      "pull_request_review_id": 651777180,
      "id": 626198427,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjE5ODQyNw==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "right, I chose to remove the trailing element by checking for an empty string as I was worried about some case in the future where the output of the `git ls-files` command changes somehow and the last element is not actually empty. I'm probably overthinking it though.",
      "created_at": "2021-05-05T00:56:23Z",
      "updated_at": "2021-05-05T00:57:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626198427",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626198427"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626200634",
      "pull_request_review_id": 651779600,
      "id": 626200634,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjIwMDYzNA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "On a review of this, I'm fairly certain I can just safely rewrite this code as this one liner, which still catches the original edge case of a file with whitespace at the end of the files list.\r\n\r\n```python\r\nfilenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").rstrip('\\n').split(\"\\n\")\r\n```\r\n\r\nHappy to update this if people don't mind re-reviewing. Let me know.\r\n\r\nEdit: though that said, apparently it _is_ actually [possible for a filename to have a newline in it](https://unix.stackexchange.com/a/23168) so I guess that one-liner would not catch this case, though it does seem fairly unlikely to happen.",
      "created_at": "2021-05-05T01:05:37Z",
      "updated_at": "2021-05-05T01:20:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626200634",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626200634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626433775",
      "pull_request_review_id": 652128416,
      "id": 626433775,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjQzMzc3NQ==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])",
      "path": "test/lint/lint-files.py",
      "position": 67,
      "original_position": 67,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624488354,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "My take on this is: I think that adding a symbolic link should produce a warning so that others can notice the fact. The fact that there are no symbolic links at the moment hints that they are probably not necessary.\r\n\r\nHowever, this is really out of scope of this PR, I guess. If somebody finds it important it's always possible to address this in a follow up PR. :)",
      "created_at": "2021-05-05T10:01:53Z",
      "updated_at": "2021-05-05T10:01:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626433775",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626433775"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626435329",
      "pull_request_review_id": 652130524,
      "id": 626435329,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjQzNTMyOQ==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "kiminuo",
        "id": 58662979,
        "node_id": "MDQ6VXNlcjU4NjYyOTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kiminuo",
        "html_url": "https://github.com/kiminuo",
        "followers_url": "https://api.github.com/users/kiminuo/followers",
        "following_url": "https://api.github.com/users/kiminuo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kiminuo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kiminuo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
        "organizations_url": "https://api.github.com/users/kiminuo/orgs",
        "repos_url": "https://api.github.com/users/kiminuo/repos",
        "events_url": "https://api.github.com/users/kiminuo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kiminuo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> right, I chose to remove the trailing element by checking for an empty string as I was worried about some case in the future where the output of the `git ls-files` command changes somehow and the last element is not actually empty. I'm probably overthinking it though.\r\n\r\nOne would need to ask on a Git mailing list whether the text output of the command is stable or not. But your solution works well, so it's good as it is I think. 👍 ",
      "created_at": "2021-05-05T10:04:31Z",
      "updated_at": "2021-05-05T10:04:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626435329",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626435329"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626657660",
      "pull_request_review_id": 652430614,
      "id": 626657660,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjY1NzY2MA==",
      "diff_hunk": "@@ -0,0 +1,7 @@\n+#!/usr/bin/env bash\n+\n+export LC_ALL=C\n+\n+set -e\n+cd \"$(dirname $0)/../..\"\n+test/lint/lint-files.py",
      "path": "test/lint/lint-files.sh",
      "position": 7,
      "original_position": 7,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just a question (not a blocker): why does this need a bash wrapper?",
      "created_at": "2021-05-05T15:12:20Z",
      "updated_at": "2021-05-05T15:12:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626657660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626657660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626677524",
      "pull_request_review_id": 652457821,
      "id": 626677524,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjY3NzUyNA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If a filename had a newline in its name it would also be split by the `split(\"\\n\")`",
      "created_at": "2021-05-05T15:35:27Z",
      "updated_at": "2021-05-05T15:47:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626677524",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626677524"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626681068",
      "pull_request_review_id": 652457821,
      "id": 626681068,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjY4MTA2OA==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_source_filenames() -> int:\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_all_file_permissions() -> int:\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    failed_tests = 0\n+    for filename in filenames:\n+        file_meta = FileMeta(filename)\n+        if file_meta.permissions == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().rstrip(b\"\\n\")",
      "path": "test/lint/lint-files.py",
      "position": 124,
      "original_position": 124,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: shouldn't `open` be used in a context manager, so that it is closed again?",
      "created_at": "2021-05-05T15:39:47Z",
      "updated_at": "2021-05-05T15:47:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626681068",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626681068"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 124,
      "original_line": 124,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626684555",
      "pull_request_review_id": 652457821,
      "id": 626684555,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjY4NDU1NQ==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_source_filenames() -> int:\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_all_file_permissions() -> int:\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    failed_tests = 0\n+    for filename in filenames:\n+        file_meta = FileMeta(filename)\n+        if file_meta.permissions == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().rstrip(b\"\\n\")\n+\n+            # For any file with executable permissions the first line must contain a shebang\n+            if shebang[:2] != b\"#!\":",
      "path": "test/lint/lint-files.py",
      "position": 127,
      "original_position": 127,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Doesn't matter here, but it could use `startswith` for type safety.",
      "created_at": "2021-05-05T15:43:51Z",
      "updated_at": "2021-05-05T15:47:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626684555",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626684555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 127,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626751889",
      "pull_request_review_id": 652556609,
      "id": 626751889,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjc1MTg4OQ==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_FILENAME_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed filename regexp ('{ALLOWED_FILENAME_REGEXP}').\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_source_filenames() -> int:\n+    \"\"\"\n+    Checks only source files (*.cpp, *.h, *.py, *.sh) against a stricter allowed regexp to make sure only lowercase\n+    alphanumerics (a-z0-9), underscores (_), hyphens (-) and dots (.) are used in source code filenames.\n+\n+    Additionally there is an exception regexp for directories or files which are excepted from matching this regexp.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_SOURCE_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element\n+\n+    filename_regex = re.compile(ALLOWED_SOURCE_FILENAME_REGEXP)\n+    filename_exception_regex = re.compile(ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP)\n+    failed_tests = 0\n+    for filename in filenames:\n+        if not filename_regex.match(filename) and not filename_exception_regex.match(filename):\n+            print(\n+                f\"\"\"File \"{filename}\" does not not match the allowed source filename regexp ('{ALLOWED_SOURCE_FILENAME_REGEXP}'), or the exception regexp ({ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP}).\"\"\"\n+            )\n+            failed_tests += 1\n+    return failed_tests\n+\n+\n+def check_all_file_permissions() -> int:\n+    \"\"\"\n+    Checks all files in the repository match an allowed executable or non-executable file permission octal.\n+\n+    Additionally checks that for executable files, the file contains a shebang line\n+    \"\"\"\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").strip().split(\"\\n\")\n+    failed_tests = 0\n+    for filename in filenames:\n+        file_meta = FileMeta(filename)\n+        if file_meta.permissions == ALLOWED_PERMISSION_EXECUTABLES:\n+            shebang = open(filename, \"rb\").readline().rstrip(b\"\\n\")",
      "path": "test/lint/lint-files.py",
      "position": 124,
      "original_position": 124,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 626681068,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good call, I will address in a follow-up",
      "created_at": "2021-05-05T17:13:03Z",
      "updated_at": "2021-05-05T17:13:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626751889",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626751889"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 124,
      "original_line": 124,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626759388",
      "pull_request_review_id": 652566168,
      "id": 626759388,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjc1OTM4OA==",
      "diff_hunk": "@@ -0,0 +1,7 @@\n+#!/usr/bin/env bash\n+\n+export LC_ALL=C\n+\n+set -e\n+cd \"$(dirname $0)/../..\"\n+test/lint/lint-files.py",
      "path": "test/lint/lint-files.sh",
      "position": 7,
      "original_position": 7,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 626657660,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe the main reason is the the `lint-all.sh` script that CI runs is currently setup to automatically run all `.sh` tests in the `test/lint` directory, but won't automatically run `.py` files.\r\n\r\nIn addition it allows lint tests [to opt in or out of locale dependence](https://github.com/bitcoin/bitcoin/blob/7fcf53f7b4524572d1d0c9a5fdc388e87eb02416/test/lint/lint-all.sh#L10-L12)\r\n\r\nIf we start to move more towards using python based linters, it probably makes sense to make some updates here, so we can get rid of the  requirement for the `.sh` wrapper.\r\n\r\n@practicalswift may have more context here.",
      "created_at": "2021-05-05T17:23:55Z",
      "updated_at": "2021-05-05T17:23:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626759388",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626759388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626761506",
      "pull_request_review_id": 652569034,
      "id": 626761506,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjc2MTUwNg==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll think about a way to handle this case. I think currently if this happens the test overall will still fail, as the permissions test would not be able to locate the file and should error out - we can definitely handle this better, though.",
      "created_at": "2021-05-05T17:27:06Z",
      "updated_at": "2021-05-05T17:27:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626761506",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626761506"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626763857",
      "pull_request_review_id": 652572068,
      "id": 626763857,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNjc2Mzg1Nw==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think `.rstrip('\\n').split(\"\\n\")` as you suggested is fine",
      "created_at": "2021-05-05T17:30:25Z",
      "updated_at": "2021-05-05T17:30:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r626763857",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/626763857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/627867353",
      "pull_request_review_id": 654015392,
      "id": 627867353,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzg2NzM1Mw==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755\n+ALLOWED_EXECUTABLE_SHEBANG = {\n+    \"py\": [b\"#!/usr/bin/env python3\"],\n+    \"sh\": [b\"#!/usr/bin/env bash\", b\"#!/bin/sh\"],\n+}\n+\n+\n+class FileMeta(object):\n+    def __init__(self, file_path: str):\n+        self.file_path = file_path\n+\n+    @property\n+    def extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'in'\n+        \"\"\"\n+        return str(os.path.splitext(self.file_path)[1].strip(\".\") or None)\n+\n+    @property\n+    def full_extension(self) -> Optional[str]:\n+        \"\"\"\n+        Returns the full file extension for a given filename string.\n+        eg:\n+        'ci/lint_run_all.sh' -> 'sh'\n+        'ci/retry/retry' -> None\n+        'contrib/devtools/split-debug.sh.in' -> 'sh.in'\n+        \"\"\"\n+        filename_parts = self.file_path.split(os.extsep, 1)\n+        try:\n+            return filename_parts[1]\n+        except IndexError:\n+            return None\n+\n+    @property\n+    def permissions(self) -> int:\n+        \"\"\"\n+        Returns the octal file permission of the file\n+        \"\"\"\n+        return int(oct(os.stat(self.file_path).st_mode)[-3:])\n+\n+\n+def check_all_filenames() -> int:\n+    \"\"\"\n+    Checks every file in the repository against an allowed regexp to make sure only lowercase or uppercase\n+    alphanumerics (a-zA-Z0-9), underscores (_), hyphens (-), at (@) and dots (.) are used in repository filenames.\n+    \"\"\"\n+    # We avoid using rstrip() to ensure we catch filenames which accidentally include trailing whitespace\n+    filenames = check_output(CMD_ALL_FILES, shell=True).decode(\"utf8\").split(\"\\n\")\n+    filenames = [filename for filename in filenames if filename != \"\"]  # removes the trailing empty list element",
      "path": "test/lint/lint-files.py",
      "position": 77,
      "original_position": 77,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": 624476704,
      "user": {
        "login": "windsok",
        "id": 8359865,
        "node_id": "MDQ6VXNlcjgzNTk4NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8359865?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/windsok",
        "html_url": "https://github.com/windsok",
        "followers_url": "https://api.github.com/users/windsok/followers",
        "following_url": "https://api.github.com/users/windsok/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/windsok/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/windsok/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/windsok/subscriptions",
        "organizations_url": "https://api.github.com/users/windsok/orgs",
        "repos_url": "https://api.github.com/users/windsok/repos",
        "events_url": "https://api.github.com/users/windsok/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/windsok/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Addressed in https://github.com/bitcoin/bitcoin/pull/21873",
      "created_at": "2021-05-07T01:38:13Z",
      "updated_at": "2021-05-07T01:38:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r627867353",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/627867353"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638279072",
      "pull_request_review_id": 667192877,
      "id": 638279072,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODI3OTA3Mg==",
      "diff_hunk": "@@ -0,0 +1,207 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"\n+This checks that all files in the repository have correct filenames and permissions\n+\"\"\"\n+\n+import os\n+import re\n+import sys\n+from subprocess import check_output\n+from typing import Optional, NoReturn\n+\n+CMD_ALL_FILES = \"git ls-files --full-name\"\n+CMD_SOURCE_FILES = 'git ls-files --full-name -- \"*.[cC][pP][pP]\" \"*.[hH]\" \"*.[pP][yY]\" \"*.[sS][hH]\"'\n+CMD_SHEBANG_FILES = \"git grep --full-name --line-number -I '^#!'\"\n+ALLOWED_FILENAME_REGEXP = \"^[a-zA-Z0-9/_.@][a-zA-Z0-9/_.@-]*$\"\n+ALLOWED_SOURCE_FILENAME_REGEXP = \"^[a-z0-9_./-]+$\"\n+ALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\n+    \"^src/(secp256k1/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\n+)\n+ALLOWED_PERMISSION_NON_EXECUTABLES = 644\n+ALLOWED_PERMISSION_EXECUTABLES = 755",
      "path": "test/lint/lint-files.py",
      "position": 25,
      "original_position": 25,
      "commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "original_commit_id": "46b025e00df40724175735eb5606ac73067cb3b8",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since this PR, when I run the linter I see a flood of errors and have to disable it. It seems inappropriate to check user, group, read, and write permissions when the only permission git tracks is whether the file is marked executable. Other permissions are local to the checkout and don't affect the project or other developers. Errors I see are:\r\n\r\n```\r\n[...]\r\nFile \"test/lint/lint-whitespace.sh\" contains a shebang line, but has the file permission 700 instead of the expected executable permission 755. Do \"chmod 755 test/lint/lint-whitespace.sh\" (or remove the shebang line).\r\nFile \"test/util/bitcoin-util-test.py\" contains a shebang line, but has the file permission 700 instead of the expected executable permission 755. Do \"chmod 755 test/util/bitcoin-util-test.py\" (or remove the shebang line).\r\nFile \"test/util/rpcauth-test.py\" contains a shebang line, but has the file permission 700 instead of the expected executable permission 755. Do \"chmod 755 test/util/rpcauth-test.py\" (or remove the shebang line).\r\nERROR: There were 2464 failed tests in the lint-files.py lint test. Please resolve the above errors.\r\n^---- failure generated from test/lint/lint-files.sh\r\n```",
      "created_at": "2021-05-24T21:24:42Z",
      "updated_at": "2021-05-24T21:24:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21740#discussion_r638279072",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638279072"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21740"
        }
      },
      "start_line": 24,
      "original_start_line": 24,
      "start_side": "RIGHT",
      "line": 25,
      "original_line": 25,
      "side": "RIGHT"
    }
  ]
}