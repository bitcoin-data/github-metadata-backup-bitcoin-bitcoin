{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608",
    "id": 3295924536,
    "node_id": "PR_kwDOABII587Ec9E4",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34608",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34608.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34608.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34608",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34608/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fa46ff661f3d5a845c85ae3f782243dd8eaa0cb6",
    "number": 34608,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: Fix broken --valgrind handling after bitcoin wrapper",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Currently, tool_bitcoin.py is failing under `--valgrind`:\r\n\r\n```sh\r\n$ ./bld-cmake/test/functional/tool_bitcoin.py --valgrind\r\nTestFramework (ERROR): Unexpected exception\r\nTraceback (most recent call last):\r\n  File \"./test/functional/test_framework/test_framework.py\", line 138, in main\r\n    self.setup()\r\n    ~~~~~~~~~~^^\r\n  File \"./test/functional/test_framework/test_framework.py\", line 269, in setup\r\n    self.setup_network()\r\n    ~~~~~~~~~~~~~~~~~~^^\r\n  File \"./test/functional/tool_bitcoin.py\", line 38, in setup_network\r\n    assert all(node.args[:len(node_argv)] == node_argv for node in self.nodes)\r\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError\r\n```\r\n\r\nFix this issue by running `bitcoin` under valgrind.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2026-02-17T20:38:21Z",
    "updated_at": "2026-02-18T14:20:09Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "01e740e591cb0ebbbe6522ae33dfbe0202a6dd34",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "maflcko:2602-test-valgrind",
      "ref": "2602-test-valgrind",
      "sha": "fa46ff661f3d5a845c85ae3f782243dd8eaa0cb6",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 269365,
        "default_branch": "master",
        "open_issues_count": 13,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-18T14:19:43Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2025-11-12T21:28:40Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "a7c29df0e5ace05b6186612671d6103c112ec922",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38910,
        "stargazers_count": 88173,
        "watchers_count": 88173,
        "size": 303723,
        "default_branch": "master",
        "open_issues_count": 724,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-18T10:18:29Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-18T14:30:00Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 48,
    "deletions": 34,
    "changed_files": 3,
    "commits": 3,
    "review_comments": 3,
    "comments": 3
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYmQ3MjAwZjExZTNmMTZlMzM2ZWRhMWY0MTFkZDFhZjU4OThjMWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "tree": {
        "sha": "15be4d7b1e9f9e4c04a0512f98e8eda5e79f7a4f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/15be4d7b1e9f9e4c04a0512f98e8eda5e79f7a4f"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 15be4d7b1e9f9e4c04a0512f98e8eda5e79f7a4f\nparent a7c29df0e5ace05b6186612671d6103c112ec922\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771360251 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771360353 +0100\n\ntest: Fix broken --valgrind handling after bitcoin wrapper\n\nPrior to this commit, tool_bitcoin.py was failing:\n\n```sh\n$ ./bld-cmake/test/functional/tool_bitcoin.py --valgrind\nTestFramework (ERROR): Unexpected exception\nTraceback (most recent call last):\n  File \"./test/functional/test_framework/test_framework.py\", line 138, in main\n    self.setup()\n    ~~~~~~~~~~^^\n  File \"./test/functional/test_framework/test_framework.py\", line 269, in setup\n    self.setup_network()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"./test/functional/tool_bitcoin.py\", line 38, in setup_network\n    assert all(node.args[:len(node_argv)] == node_argv for node in self.nodes)\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n```\n\nThis commit fixes this issue by running `bitcoin` under valgrind. Also,\nit comes with other improvements:\n\n* Drop the outdated valgrind 3.14 requirement, because there is no\n  distro that ships a version that old anymore.\n* Drop the VALGRIND_SUPPRESSIONS_FILE env var handling, because it was\n  presumably never used since it was introduced. Also, the use-case\n  seems limited.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQJ0Fb91mK7wEbL7GG2uSsocjdbrKsGyzFRKx4oIQAQQ4LvxFZ6iuyyVguGIQafMsud\nyepsJHBB68TBdv5GRknAM=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a7c29df0e5ace05b6186612671d6103c112ec922",
          "sha": "a7c29df0e5ace05b6186612671d6103c112ec922",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a7c29df0e5ace05b6186612671d6103c112ec922"
        }
      ],
      "message": "test: Fix broken --valgrind handling after bitcoin wrapper\n\nPrior to this commit, tool_bitcoin.py was failing:\n\n```sh\n$ ./bld-cmake/test/functional/tool_bitcoin.py --valgrind\nTestFramework (ERROR): Unexpected exception\nTraceback (most recent call last):\n  File \"./test/functional/test_framework/test_framework.py\", line 138, in main\n    self.setup()\n    ~~~~~~~~~~^^\n  File \"./test/functional/test_framework/test_framework.py\", line 269, in setup\n    self.setup_network()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"./test/functional/tool_bitcoin.py\", line 38, in setup_network\n    assert all(node.args[:len(node_argv)] == node_argv for node in self.nodes)\n           ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n```\n\nThis commit fixes this issue by running `bitcoin` under valgrind. Also,\nit comes with other improvements:\n\n* Drop the outdated valgrind 3.14 requirement, because there is no\n  distro that ships a version that old anymore.\n* Drop the VALGRIND_SUPPRESSIONS_FILE env var handling, because it was\n  presumably never used since it was introduced. Also, the use-case\n  seems limited.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-17T20:32:33Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-17T20:30:51Z"
      },
      "sha": "fabd7200f11e3f16e336eda1f411dd1af5898c1c"
    },
    {
      "event": "labeled",
      "id": 22864649109,
      "node_id": "LE_lADOABII587rtfi-zwAAAAVS1tuV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22864649109",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-17T20:38:25Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 3916976404,
      "node_id": "IC_kwDOABII587peFEU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3916976404",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-17T20:38:44Z",
      "updated_at": "2026-02-18T14:20:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/34608#pullrequestreview-3819833238) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#issuecomment-3916976404",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34608"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZWM2NDhiNWIzOTFjNmJmMTczYjEzYjQ4ZTNkZTkyMDE4YTBjMTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faec648b5b391c6bf173b13b48e3de92018a0c17",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faec648b5b391c6bf173b13b48e3de92018a0c17",
      "tree": {
        "sha": "5c1d2169204b3e4a0f3116e4501aed5a0d019d71",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5c1d2169204b3e4a0f3116e4501aed5a0d019d71"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 5c1d2169204b3e4a0f3116e4501aed5a0d019d71\nparent fabd7200f11e3f16e336eda1f411dd1af5898c1c\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771400577 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771401217 +0100\n\ntest: Remove redundant warning about missing binaries\n\nThe error was added in commit 1ea7e45a1f445d32a2b690d52befb2e63418653b,\nbecause there was an additional confusing `AssertionError: [node 0]\nError: no RPC connection` instead of just a single `FileNotFoundError:\n[Errno 2] No such file or directory`.\n\nThis is no longer needed on current master.\n\nAlso, the test is incomplete, because it was just checking bitcoind and\nbitcoin-cli, not any other missing binaries.\n\nAlso, after the previous commit, it would not work in combination with\n--valgrind.\n\nInstead of trying to make it complete, and work in all combinations,\njust remove it, because the already existing error will be clear in any\ncase.\n\nThis can be tested via:\n\n```sh\n ./test/get_previous_releases.py\n\n mv releases releases_backup\n # Confirm the test is skipped due to missing releases\n ./bld-cmake/test/functional/wallet_migration.py\n # Confirm the test fails due to missing releases\n ./bld-cmake/test/functional/wallet_migration.py --previous-releases\n mv releases_backup releases\n\n mv ./releases/v28.2 ./releases/v28.2_backup\n # Confirm the test fails with a single FileNotFoundError\n ./bld-cmake/test/functional/wallet_migration.py\n mv ./releases/v28.2_backup ./releases/v28.2\n # Confirm the test runs and passes\n ./bld-cmake/test/functional/wallet_migration.py\n\n rm ./bld-cmake/bin/bitcoind\n # Confirm the test fails with a single \"No such file or directory\",\n # testing with and without --valgrind\n ./bld-cmake/test/functional/wallet_migration.py\n ./bld-cmake/test/functional/wallet_migration.py --valgrind\n```\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQF8Ahqlp8kZ1oZCp9hXcpVrRs3I3bzEqnOosX4GLm9I6786FwaqYlQ9reCpLR/aq25\nuPwyCz44Vg+fHOhPkY1Q8=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fabd7200f11e3f16e336eda1f411dd1af5898c1c",
          "sha": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fabd7200f11e3f16e336eda1f411dd1af5898c1c"
        }
      ],
      "message": "test: Remove redundant warning about missing binaries\n\nThe error was added in commit 1ea7e45a1f445d32a2b690d52befb2e63418653b,\nbecause there was an additional confusing `AssertionError: [node 0]\nError: no RPC connection` instead of just a single `FileNotFoundError:\n[Errno 2] No such file or directory`.\n\nThis is no longer needed on current master.\n\nAlso, the test is incomplete, because it was just checking bitcoind and\nbitcoin-cli, not any other missing binaries.\n\nAlso, after the previous commit, it would not work in combination with\n--valgrind.\n\nInstead of trying to make it complete, and work in all combinations,\njust remove it, because the already existing error will be clear in any\ncase.\n\nThis can be tested via:\n\n```sh\n ./test/get_previous_releases.py\n\n mv releases releases_backup\n # Confirm the test is skipped due to missing releases\n ./bld-cmake/test/functional/wallet_migration.py\n # Confirm the test fails due to missing releases\n ./bld-cmake/test/functional/wallet_migration.py --previous-releases\n mv releases_backup releases\n\n mv ./releases/v28.2 ./releases/v28.2_backup\n # Confirm the test fails with a single FileNotFoundError\n ./bld-cmake/test/functional/wallet_migration.py\n mv ./releases/v28.2_backup ./releases/v28.2\n # Confirm the test runs and passes\n ./bld-cmake/test/functional/wallet_migration.py\n\n rm ./bld-cmake/bin/bitcoind\n # Confirm the test fails with a single \"No such file or directory\",\n # testing with and without --valgrind\n ./bld-cmake/test/functional/wallet_migration.py\n ./bld-cmake/test/functional/wallet_migration.py --valgrind\n```",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-18T07:53:37Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-18T07:42:57Z"
      },
      "sha": "faec648b5b391c6bf173b13b48e3de92018a0c17"
    },
    {
      "event": "commented",
      "id": 3919916876,
      "node_id": "IC_kwDOABII587ppS9M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3919916876",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T10:14:49Z",
      "updated_at": "2026-02-18T10:14:49Z",
      "author_association": "MEMBER",
      "body": "cc @Sjors @ryanofsky ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#issuecomment-3919916876",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34608"
    },
    {
      "event": "mentioned",
      "id": 22879523627,
      "node_id": "MEE_lADOABII587rtfi-zwAAAAVTudMr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22879523627",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T10:14:50Z"
    },
    {
      "event": "subscribed",
      "id": 22879523688,
      "node_id": "SE_lADOABII587rtfi-zwAAAAVTudNo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22879523688",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T10:14:50Z"
    },
    {
      "event": "mentioned",
      "id": 22879523724,
      "node_id": "MEE_lADOABII587rtfi-zwAAAAVTudOM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22879523724",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T10:14:50Z"
    },
    {
      "event": "subscribed",
      "id": 22879523743,
      "node_id": "SE_lADOABII587rtfi-zwAAAAVTudOf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22879523743",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T10:14:51Z"
    },
    {
      "event": "reviewed",
      "id": 3819833238,
      "node_id": "PRR_kwDOABII587jrgeW",
      "url": null,
      "actor": null,
      "commit_id": "faec648b5b391c6bf173b13b48e3de92018a0c17",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-18T13:24:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK faec648b5b391c6bf173b13b48e3de92018a0c17. Nice cleanups and fix. It seems good to keep valgrind args separate and add them right before invoking commands instead of baking them into bitcoind args.\n\nThe second commit removing the missing binaries checks added in #31462 and #32921 is probably also ok in most cases but would seem worse in the case where \"only a subset of the necessary previous release binaries are available\" which #31462 was intended to improve. This is not a case I normally deal with, while I do deal with the case where I have done a partial build and the check warns about a missing binary which is not actually needed. So I am ok with getting rid of the check, but maybe @theStack would be less happy.\n\nYou could try scaling back the second commit faec648b5b391c6bf173b13b48e3de92018a0c17 to keep the missing binaries check but only raise the error if `v is not None`, dropping the \"did you compile\" error but keeping the previous releases error.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#pullrequestreview-3819833238",
      "submitted_at": "2026-02-18T13:24:18Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608"
    },
    {
      "event": "commented",
      "id": 3921026693,
      "node_id": "IC_kwDOABII587pth6F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3921026693",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-18T14:06:00Z",
      "updated_at": "2026-02-18T14:06:00Z",
      "author_association": "MEMBER",
      "body": "\r\n> You could try scaling back the second commit [faec648](https://github.com/bitcoin/bitcoin/commit/faec648b5b391c6bf173b13b48e3de92018a0c17) to keep the missing binaries check but only raise the error if `v is not None`, dropping the \"did you compile\" error but keeping the previous releases error.\r\n\r\nYeah, I guess so, but it seems an edge case. Personally, I think the single  FileNotFoundError with the path to the releases folder, and the version number in the path should be enough for a dev to figure out that the specific version executable was not found, and that it may need to be fetched. The prior confusing AssertionError is long fixed on current master.\r\n\r\nBut no strong opinion. Happy to push your suggestion, if another reviewer likes it.\r\n\r\n\r\n\r\n> while I do deal with the case where I have done a partial build and the check warns about a missing binary which is not actually needed. So I am ok with getting rid of the check,\r\n\r\nAh, good point that the check has not only false-negatives, but also false-positives.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#issuecomment-3921026693",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34608"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNDZmZjY2MWYzZDVhODQ1Yzg1YWUzZjc4MjI0M2RkOGVhYTBjYjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa46ff661f3d5a845c85ae3f782243dd8eaa0cb6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa46ff661f3d5a845c85ae3f782243dd8eaa0cb6",
      "tree": {
        "sha": "b87b8a8256bbb2cf4a194a6f277742d2460f4ce3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b87b8a8256bbb2cf4a194a6f277742d2460f4ce3"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree b87b8a8256bbb2cf4a194a6f277742d2460f4ce3\nparent faec648b5b391c6bf173b13b48e3de92018a0c17\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771424381 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1771424370 +0100\n\ntest: valgrind --trace-children=yes for bitcoin wrapper\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQInhc63zgdJO5EB82FdG1NdnfKM8fpaYNkdlUYtC+O2tNHb88Rr/+BHCarP2Fb6kmm\nHZTMFD2XElrod7sV6oNgo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faec648b5b391c6bf173b13b48e3de92018a0c17",
          "sha": "faec648b5b391c6bf173b13b48e3de92018a0c17",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faec648b5b391c6bf173b13b48e3de92018a0c17"
        }
      ],
      "message": "test: valgrind --trace-children=yes for bitcoin wrapper",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-18T14:19:30Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2026-02-18T14:19:41Z"
      },
      "sha": "fa46ff661f3d5a845c85ae3f782243dd8eaa0cb6"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822272615",
      "pull_request_review_id": 3819833238,
      "id": 2822272615,
      "node_id": "PRRC_kwDOABII586oOHZn",
      "diff_hunk": "@@ -192,7 +192,7 @@ def parse_args(self, test_file):\n         parser.add_argument(\"--perf\", dest=\"perf\", default=False, action=\"store_true\",\n                             help=\"profile running nodes with perf for the duration of the test\")\n         parser.add_argument(\"--valgrind\", dest=\"valgrind\", default=False, action=\"store_true\",\n-                            help=\"run nodes under the valgrind memory error detector: expect at least a ~10x slowdown. valgrind 3.14 or later required. Does not apply to previous release binaries.\")\n+                            help=\"Run binaries under the valgrind memory error detector: Expect at least a ~10x slowdown. Does not apply to previous release binaries or binaries called from the bitcoin wrapper executable.\")",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 1,
      "original_position": 5,
      "commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "original_commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"test: Fix broken --valgrind handling after bitcoin wrapper\" (fabd7200f11e3f16e336eda1f411dd1af5898c1c)\n\nIs the new text \"Does not apply to [...] binaries called from the bitcoin wrapper executable\" true? It looks like valgrind args are prepended to `bitcoin_cmd`, not omitted. And the bitcoin command executable internally just calls exec and doesn't even start a separate process so I would think it would not disable valgrind. Maybe this is not the case though? It would be good to clarify help text to say what happens if BITCOIN_CMD is set or IPC tests are running. Like if the wrapper executable itself runs under valgrind but whatever binary it executes isn't. We might want to add valgrind support to the wrapper if that is the case, although it would be beyond the scope of this PR.",
      "created_at": "2026-02-18T13:10:46Z",
      "updated_at": "2026-02-18T13:24:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#discussion_r2822272615",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822272615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 195,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822590174",
      "pull_request_review_id": 3820166367,
      "id": 2822590174,
      "node_id": "PRRC_kwDOABII586oPU7e",
      "diff_hunk": "@@ -192,7 +192,7 @@ def parse_args(self, test_file):\n         parser.add_argument(\"--perf\", dest=\"perf\", default=False, action=\"store_true\",\n                             help=\"profile running nodes with perf for the duration of the test\")\n         parser.add_argument(\"--valgrind\", dest=\"valgrind\", default=False, action=\"store_true\",\n-                            help=\"run nodes under the valgrind memory error detector: expect at least a ~10x slowdown. valgrind 3.14 or later required. Does not apply to previous release binaries.\")\n+                            help=\"Run binaries under the valgrind memory error detector: Expect at least a ~10x slowdown. Does not apply to previous release binaries or binaries called from the bitcoin wrapper executable.\")",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 1,
      "original_position": 5,
      "commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "original_commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "in_reply_to_id": 2822272615,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Checked  by triggering the https://github.com/bitcoin/bitcoin/pull/34597 UB: \r\n\r\n```\r\n$  echo 'pipe' | valgrind --quiet ./bld-cmake/bin/bitcoin rpc -stdinrpcpass uptime\r\nerror: timeout on transient error: Could not connect to the server 127.0.0.1:18443\r\n\r\nMake sure the bitcoind server is running and that you are connecting to the correct RPC port.\r\nUse \"bitcoin-cli -help\" for more info.\r\n```\r\n\r\n```\r\n$  echo 'pipe' | valgrind --quiet --trace-children=yes ./bld-cmake/bin/bitcoin rpc -stdinrpcpass uptime\r\n==841070== Syscall param ioctl(TCSET{S,SW,SF}) points to uninitialised byte(s)\r\n==841070==    at 0x4E65871: tcsetattr (in /usr/lib64/libc.so.6)\r\n==841070==    by 0x40678A7: SetStdinEcho (src/compat/stdin.cpp:39)\r\n==841070==    by 0x40678A7: NoechoInst::NoechoInst() (src/compat/stdin.cpp:67)\r\n==841070==    by 0x403E557: CommandLineRPC(int, char**) (src/bitcoin-cli.cpp:1223)\r\n==841070==    by 0x403D8DC: main (src/bitcoin-cli.cpp:1354)\r\n==841070==  Address 0x1ffefff490 is on thread 1's stack\r\n==841070==  in frame #0, created by tcsetattr (???:)\r\n==841070== \r\n==841070== Syscall param ioctl(TCSET{S,SW,SF}) points to uninitialised byte(s)\r\n==841070==    at 0x4E65871: tcsetattr (in /usr/lib64/libc.so.6)\r\n==841070==    by 0x4067907: SetStdinEcho (src/compat/stdin.cpp:39)\r\n==841070==    by 0x4067907: NoechoInst::~NoechoInst() (src/compat/stdin.cpp:68)\r\n==841070==    by 0x403E65F: CommandLineRPC(int, char**) (src/bitcoin-cli.cpp:1235)\r\n==841070==    by 0x403D8DC: main (src/bitcoin-cli.cpp:1354)\r\n==841070==  Address 0x1ffefff490 is on thread 1's stack\r\n==841070==  in frame #0, created by tcsetattr (???:)\r\n==841070== \r\nerror: timeout on transient error: Could not connect to the server 127.0.0.1:18443\r\n\r\nMake sure the bitcoind server is running and that you are connecting to the correct RPC port.\r\nUse \"bitcoin-cli -help\" for more info.\r\n",
      "created_at": "2026-02-18T14:16:30Z",
      "updated_at": "2026-02-18T14:16:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#discussion_r2822590174",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822590174"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 195,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822606575",
      "pull_request_review_id": 3820187057,
      "id": 2822606575,
      "node_id": "PRRC_kwDOABII586oPY7v",
      "diff_hunk": "@@ -192,7 +192,7 @@ def parse_args(self, test_file):\n         parser.add_argument(\"--perf\", dest=\"perf\", default=False, action=\"store_true\",\n                             help=\"profile running nodes with perf for the duration of the test\")\n         parser.add_argument(\"--valgrind\", dest=\"valgrind\", default=False, action=\"store_true\",\n-                            help=\"run nodes under the valgrind memory error detector: expect at least a ~10x slowdown. valgrind 3.14 or later required. Does not apply to previous release binaries.\")\n+                            help=\"Run binaries under the valgrind memory error detector: Expect at least a ~10x slowdown. Does not apply to previous release binaries or binaries called from the bitcoin wrapper executable.\")",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 1,
      "original_position": 5,
      "commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "original_commit_id": "fabd7200f11e3f16e336eda1f411dd1af5898c1c",
      "in_reply_to_id": 2822272615,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thx, pushed a commit to fix this",
      "created_at": "2026-02-18T14:20:09Z",
      "updated_at": "2026-02-18T14:20:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34608#discussion_r2822606575",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2822606575"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34608"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 195,
      "side": "RIGHT"
    }
  ]
}