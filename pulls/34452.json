{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452",
    "id": 3224735849,
    "node_id": "PR_kwDOABII587ANZBp",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34452",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34452.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34452.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/633d1831199a2ca6ca31b97312130419328d5479",
    "number": 34452,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: split interface_ipc.py",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This test has been growing too large, making it difficult to maintain. Especially when multiple pull requests change it.\r\n\r\n- move helper functions to `ipc_util.py`\r\n- move mining test to `interface_ipc_mining.py`, keeping only an interface sanity check in `interface_ipc.py`\r\n- split the tests in `interface_ipc_mining.py`\r\n- misc tweaks (to reduce churn in the above commits)\r\n\r\nReview hint:\r\n\r\n```sh\r\ngit show --color-moved=dimmed-zebra --color-moved-ws=ignore-space-change\r\n```",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2026-01-29T19:08:43Z",
    "updated_at": "2026-02-07T08:42:19Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "cd3e236152ced6ab3c575bf34ad1c8a60bc8bf21",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Sjors:2026/01/split-ipc-test",
      "ref": "2026/01/split-ipc-test",
      "sha": "633d1831199a2ca6ca31b97312130419328d5479",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 11,
        "stargazers_count": 15,
        "watchers_count": 15,
        "size": 283835,
        "default_branch": "master",
        "open_issues_count": 6,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-06T14:47:14Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2026-02-02T15:20:19Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "28160c1e3dc1266531463ebaed531cd99c7d29dc",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38858,
        "stargazers_count": 87987,
        "watchers_count": 87987,
        "size": 303192,
        "default_branch": "master",
        "open_issues_count": 739,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-07T02:00:30Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-07T08:53:38Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 474,
    "deletions": 347,
    "changed_files": 4,
    "commits": 4,
    "review_comments": 29,
    "comments": 13
  },
  "events": [
    {
      "event": "labeled",
      "id": 22385564408,
      "node_id": "LE_lADOABII587mzIVEzwAAAAU2SJr4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22385564408",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-29T19:08:47Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 3819735102,
      "node_id": "IC_kwDOABII587jrIg-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3819735102",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-29T19:09:39Z",
      "updated_at": "2026-02-07T08:42:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3763699846), [fjahr](https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3763745018), [l0rinc](https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3764229690), [sedited](https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3766721976) |\n| Stale ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3752044057), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860413579) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34422](https://github.com/bitcoin/bitcoin/pull/34422) (Update libmultiprocess subtree to be more stable with rust IPC client by ryanofsky)\n* [#34284](https://github.com/bitcoin/bitcoin/pull/34284) (ipc, test: Add tests for unclean disconnect and thread busy behavior by ryanofsky)\n* [#34184](https://github.com/bitcoin/bitcoin/pull/34184) (mining: add cooldown to createNewBlock() immediately after IBD by Sjors)\n* [#33965](https://github.com/bitcoin/bitcoin/pull/33965) (mining: fix -blockreservedweight shadows IPC option by Sjors)\n* [#33922](https://github.com/bitcoin/bitcoin/pull/33922) (mining: add getMemoryLoad() and track template non-mempool memory footprint by Sjors)\n* [#30437](https://github.com/bitcoin/bitcoin/pull/30437) (ipc: add bitcoin-mine test program by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3819735102",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22385919060,
      "node_id": "HRFPE_lADOABII587mzIVEzwAAAAU2TgRU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22385919060",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "9f80bd7c390409cc1713a0ccc58018bd801758a0",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/9f80bd7c390409cc1713a0ccc58018bd801758a0",
      "created_at": "2026-01-29T19:25:52Z"
    },
    {
      "event": "labeled",
      "id": 22385932836,
      "node_id": "LE_lADOABII587mzIVEzwAAAAU2Tjok",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22385932836",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-29T19:26:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3724666463,
      "node_id": "PRR_kwDOABII587eAeZf",
      "url": null,
      "actor": null,
      "commit_id": "9f80bd7c390409cc1713a0ccc58018bd801758a0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-29T20:02:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 9f80bd7c390409cc1713a0ccc58018bd801758a0. Thanks for the PR! Should make working with this test easier.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3724666463",
      "submitted_at": "2026-01-29T20:02:55Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "reviewed",
      "id": 3724835696,
      "node_id": "PRR_kwDOABII587eBHtw",
      "url": null,
      "actor": null,
      "commit_id": "9f80bd7c390409cc1713a0ccc58018bd801758a0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-29T20:19:02Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3724835696",
      "submitted_at": "2026-01-29T20:19:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "unlabeled",
      "id": 22387407591,
      "node_id": "UNLE_lADOABII587mzIVEzwAAAAU2ZLrn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22387407591",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-29T20:27:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22404640906,
      "node_id": "HRFPE_lADOABII587mzIVEzwAAAAU3a7CK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22404640906",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "836ed1fb88ed66bd966b35eb4aec69fb195a0f77",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/836ed1fb88ed66bd966b35eb4aec69fb195a0f77",
      "created_at": "2026-01-30T11:14:37Z"
    },
    {
      "event": "commented",
      "id": 3823174706,
      "node_id": "IC_kwDOABII587j4QQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3823174706",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T11:14:52Z",
      "updated_at": "2026-01-30T11:14:52Z",
      "author_association": "MEMBER",
      "body": "Applied suggestions from @ryanofsky.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3823174706",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "mentioned",
      "id": 22404646969,
      "node_id": "MEE_lADOABII587mzIVEzwAAAAU3a8g5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22404646969",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T11:14:54Z"
    },
    {
      "event": "subscribed",
      "id": 22404647009,
      "node_id": "SE_lADOABII587mzIVEzwAAAAU3a8hh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22404647009",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T11:14:54Z"
    },
    {
      "event": "labeled",
      "id": 22405855873,
      "node_id": "LE_lADOABII587mzIVEzwAAAAU3fjqB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22405855873",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T12:11:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3823428713,
      "node_id": "IC_kwDOABII587j5ORp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3823428713",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T12:16:20Z",
      "updated_at": "2026-01-30T12:16:20Z",
      "author_association": "MEMBER",
      "body": "The Windows CI failure is (#34354).",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3823428713",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "reviewed",
      "id": 3728699837,
      "node_id": "PRR_kwDOABII587eP3G9",
      "url": null,
      "actor": null,
      "commit_id": "836ed1fb88ed66bd966b35eb4aec69fb195a0f77",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-30T14:31:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 836ed1fb88ed66bd966b35eb4aec69fb195a0f77. Thanks for the updates! Just some suggested renames and moves since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3728699837",
      "submitted_at": "2026-01-30T14:31:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "review_requested",
      "id": 22409169619,
      "node_id": "RRE_lADOABII587mzIVEzwAAAAU3sMrT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22409169619",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T14:31:10Z",
      "requested_reviewer": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "unlabeled",
      "id": 22411359014,
      "node_id": "UNLE_lADOABII587mzIVEzwAAAAU30jMm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22411359014",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T16:01:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3730352078,
      "node_id": "PRR_kwDOABII587eWKfO",
      "url": null,
      "actor": null,
      "commit_id": "836ed1fb88ed66bd966b35eb4aec69fb195a0f77",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-30T20:47:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 836ed1fb88ed66bd966b35eb4aec69fb195a0f77\r\n\r\nNit: The commit messages could be a bit more descriptive.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3730352078",
      "submitted_at": "2026-01-30T20:47:34Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "labeled",
      "id": 22479365139,
      "node_id": "LE_lADOABII587mzIVEzwAAAAU73-QT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22479365139",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-02T23:44:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22500670168,
      "node_id": "HRFPE_lADOABII587mzIVEzwAAAAU9JPrY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22500670168",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "6a60ad0c451cbfb4722552dc6a7ba0d75753ac5b",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/6a60ad0c451cbfb4722552dc6a7ba0d75753ac5b",
      "created_at": "2026-02-03T15:20:52Z"
    },
    {
      "event": "commented",
      "id": 3841971858,
      "node_id": "IC_kwDOABII587k_9aS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3841971858",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T15:20:53Z",
      "updated_at": "2026-02-03T15:20:53Z",
      "author_association": "MEMBER",
      "body": "Rebased after #32420.\r\n\r\n@sedited I expanded the commit messages a bit.\r\n\r\nThis is more tedious to rebase than I thought, so would prefer if it's merged before any other PR that touches this test.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3841971858",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "mentioned",
      "id": 22500671956,
      "node_id": "MEE_lADOABII587mzIVEzwAAAAU9JQHU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22500671956",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T15:20:55Z"
    },
    {
      "event": "subscribed",
      "id": 22500672009,
      "node_id": "SE_lADOABII587mzIVEzwAAAAU9JQIJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22500672009",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T15:20:55Z"
    },
    {
      "event": "unlabeled",
      "id": 22501015641,
      "node_id": "UNLE_lADOABII587mzIVEzwAAAAU9KkBZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22501015641",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T15:33:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3746445264,
      "node_id": "PRR_kwDOABII587fTjfQ",
      "url": null,
      "actor": null,
      "commit_id": "6a60ad0c451cbfb4722552dc6a7ba0d75753ac5b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-03T17:05:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 6a60ad0c451cbfb4722552dc6a7ba0d75753ac5b\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3746445264",
      "submitted_at": "2026-02-03T17:05:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "review_requested",
      "id": 22503628119,
      "node_id": "RRE_lADOABII587mzIVEzwAAAAU9Uh1X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22503628119",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T17:06:26Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22524644906,
      "node_id": "HRFPE_lADOABII587mzIVEzwAAAAU-ks4q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22524644906",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/18b297c8aedc1923a3e6869406958afc372b2653",
      "created_at": "2026-02-04T10:38:32Z"
    },
    {
      "event": "labeled",
      "id": 22526017223,
      "node_id": "LE_lADOABII587mzIVEzwAAAAU-p77H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22526017223",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-04T11:35:29Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3848148684,
      "node_id": "IC_kwDOABII587lXhbM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3848148684",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-04T15:33:32Z",
      "updated_at": "2026-02-04T15:34:10Z",
      "author_association": "MEMBER",
      "body": "Test `mempool_limit.py` failure seems spurious.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3848148684",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "reviewed",
      "id": 3752044057,
      "node_id": "PRR_kwDOABII587fo6YZ",
      "url": null,
      "actor": null,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-04T16:30:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 18b297c8aedc1923a3e6869406958afc372b2653, just simplifying load_capnp_modules a little since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3752044057",
      "submitted_at": "2026-02-04T16:30:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "commented",
      "id": 3848485534,
      "node_id": "IC_kwDOABII587lYzqe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3848485534",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-04T16:34:21Z",
      "updated_at": "2026-02-04T16:34:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Test `mempool_limit.py` failure seems spurious.\r\n\r\nThere's also a message \"error: cannot rebase: Your index contains uncommitted changes.\" that seem unexpected, but maybe it's part of the \"6 ancestors commits\" expected output",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3848485534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "unlabeled",
      "id": 22536146930,
      "node_id": "UNLE_lADOABII587mzIVEzwAAAAU_Qk_y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22536146930",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-04T17:58:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3762378213,
      "node_id": "PRR_kwDOABII587gQVXl",
      "url": null,
      "actor": null,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T11:45:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review 18b297c8aedc1923a3e6869406958afc372b2653.\nI find the current refactors mixed with new changes harder to review that I think it needs to be.\nCould we split out strict move-only changes (formatting and imports are fine) from adjusting method signatures and changing assertions and renaming, etc.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3762378213",
      "submitted_at": "2026-02-06T11:45:19Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "commented",
      "id": 3860022739,
      "node_id": "IC_kwDOABII587mE0XT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860022739",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T11:55:51Z",
      "updated_at": "2026-02-06T11:56:20Z",
      "author_association": "MEMBER",
      "body": "> I find the current refactors mixed with new changes harder to review that I think it needs to be.\r\n\r\nInitially my idea was to change things if the line was touched anyway, e.g. going from `self.some_method_with_ugly_name` to `some_method_with_pretty_name`, but I agree it's too noisy and some other lines are touched too. Let me try to split out another commit. ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860022739",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "commented",
      "id": 3860248594,
      "node_id": "IC_kwDOABII587mFrgS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860248594",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T12:45:54Z",
      "updated_at": "2026-02-06T12:46:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "re: https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3762378213\r\n\r\n> Could we split out strict move-only changes (formatting and imports are fine) from adjusting method signatures and changing assertions and renaming, etc.\r\n\r\nSeems good to make this PR easier to review, but I will say I'm surprised by these comments. I'd agree commit messages should be more accurate and tell reviewers what's changing so they know exactly what to expect and to be surprised if they see any other changes. But the commits themselves seem fine.\r\n\r\nIn the main commit 3b47cc33fca2de2e2a4f684a0dec50c2c4a85435 *every single line* is shown as move-only by git except for import statements and 5 changed signatures:\r\n\r\n```\r\nload_capnp_modules(self)                                  -> load_capnp_modules(config)\r\nmake_capnp_init_ctx(self)                                 -> make_capnp_init_ctx(node, capnp_modules)\r\nparse_and_deserialize_block(self, block_template, ctx)    -> get_block(block_template, ctx)\r\nget_coinbase_raw_tx(self, block_template, ctx)            -> get_coinbase_raw_tx(block_template, ctx)\r\nparse_and_deserialize_coinbase(self, block_template, ctx) -> get_coinbase_tx(block_template, ctx)\r\n```\r\n\r\nSo reviewing the commit feels completely trivial to me, it's just a matter of making sure all the lines are move only, and the only lines that aren't move-only are the simple substitutions above. I think I only spent 1-2 minutes reviewing it myself.\r\n\r\nThat said, it would be nice to split up, maybe by using `@staticmethod` to get rid of the self arguments and by defining global aliases `load_capnp_modules = IPCInterfaceTest.load_capnp_modules` so the signatures can change once in an initial commit and the followup commit can be 100% move-only. \r\n\r\n\r\n\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860248594",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "reviewed",
      "id": 3762691185,
      "node_id": "PRR_kwDOABII587gRhxx",
      "url": null,
      "actor": null,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T12:49:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 18b297c8aedc1923a3e6869406958afc372b2653\r\n\r\nMaybe the changes could have been made a bit easier to review but I've seen much worse too. I couldn't find any issues that I would consider a blocker.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3762691185",
      "submitted_at": "2026-02-06T12:49:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "commented",
      "id": 3860376410,
      "node_id": "IC_kwDOABII587mGKta",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860376410",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T13:12:40Z",
      "updated_at": "2026-02-06T13:12:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "> So reviewing the commit feels completely trivial to me, it's just a matter of making sure all the lines are move only\r\n\r\nSince I expected others to review it like that, I did it differently, I have re-moved it in reverse and check what differences I got - which definitely wasn't trivial, especially since the renames resulted in some duplicates that don't translate back cleanly.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860376410",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "commented",
      "id": 3860413579,
      "node_id": "IC_kwDOABII587mGTyL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860413579",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T13:20:33Z",
      "updated_at": "2026-02-06T13:21:00Z",
      "author_association": "MEMBER",
      "body": "utACK 18b297c8aedc1923a3e6869406958afc372b2653\r\n\r\n> Maybe the changes could have been made a bit easier to review but I've seen much worse too. I couldn't find any issues that I would consider a blocker.\r\n\r\nI agree this is good as is, but I also agree with @l0rinc on untangling move-only commits from commits that make changes, even if the author doesn't apply it this time. I think we should still point out specific improvements personally; those comments have improved me as a PR author. I've used them as a standard for subsequent PRs, so in a way, they ensure we maintain review standards and set the tone for what we accept.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860413579",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "mentioned",
      "id": 22589300049,
      "node_id": "MEE_lADOABII587mzIVEzwAAAAVCbV1R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22589300049",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T13:20:34Z"
    },
    {
      "event": "subscribed",
      "id": 22589300075,
      "node_id": "SE_lADOABII587mzIVEzwAAAAVCbV1r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22589300075",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T13:20:34Z"
    },
    {
      "event": "reviewed",
      "id": 3763319349,
      "node_id": "PRR_kwDOABII587gT7I1",
      "url": null,
      "actor": null,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T14:06:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "crACK 18b297c8aedc1923a3e6869406958afc372b2653\r\n\r\nI agree with @l0rinc about splitting move changes from the refactors changes in separate commits, on principle. I also agree with @fjahr  that in this case it should not be a blocker. \r\nI do not see major issues. ",
      "user": {
        "login": "janb84",
        "id": 608446,
        "node_id": "MDQ6VXNlcjYwODQ0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/608446?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janb84",
        "html_url": "https://github.com/janb84",
        "followers_url": "https://api.github.com/users/janb84/followers",
        "following_url": "https://api.github.com/users/janb84/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janb84/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janb84/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janb84/subscriptions",
        "organizations_url": "https://api.github.com/users/janb84/orgs",
        "repos_url": "https://api.github.com/users/janb84/repos",
        "events_url": "https://api.github.com/users/janb84/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janb84/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3763319349",
      "submitted_at": "2026-02-06T14:06:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "commented",
      "id": 3860706719,
      "node_id": "IC_kwDOABII587mHbWf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860706719",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T14:13:11Z",
      "updated_at": "2026-02-06T14:13:11Z",
      "author_association": "MEMBER",
      "body": "I'm almost done with the cleanup, so might as well, just a minute...",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860706719",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxYTFhZTg4OWU1YWE3MWQ5YWU0YTc2MDAwMjY1NTcyZmZjYWU5OWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "tree": {
        "sha": "9d51d06bcae5a547218e82d38b3229e16dec87d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9d51d06bcae5a547218e82d38b3229e16dec87d6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9d51d06bcae5a547218e82d38b3229e16dec87d6\nparent 0cd309c75e5815e185558ddcd61c31ec8d5d1068\nauthor Sjors Provoost <sjors@sprovoost.nl> 1770128990 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1770389046 +0100\n\ntest: move IPC helpers to ipc_util.py\n\nMove IPC helpers into ipc_util.py and update interface_ipc.py\nto use them.\n\nRename some helpers for clarity:\n- parse_and_deserialize_block -> mining_get_block\n- parse_and_deserialize_coinbase_tx -> mining_get_coinbase_tx\n- get_coinbase_raw_tx -> mining_get_coinbase_raw_tx\n- wait_next_template -> mining_wait_next_template\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmmF/scACgkQV/+b28ww\nEAlTGRAAkWDQ9yXqZdtWqzAWOZProiMGpRL0qq8KFGuSWsOP27MlWJWiT7GbgW0e\nvjM5JXZ123MPXx4Optq+1Yb6OjPreXrucXt/QnDGWjLJvz0/P06PqfYYt0fxgS1j\ngt09/Lp998XsXOU3+svEEdgBPtXeapo8aAXVPFnBjkofPf6ysDnxSIzsOyLI3a/F\nmfii+Ngo0xCkX/HbXu/zc1lt3FB7reNiU7TgYAd/Y6NMtsERPMBvKiyeAaeAMcMr\nwvYhGvRCIZG58blRvc3waY990aIMl9JBajI0VMdElMWI9AlZiV+jCyn9r53q5r2a\npZ3GGQzuqdCeSWN3J+zsUTPuy/OLhDgOJfZdlHEnLmMfpcy2bZgRsNvsXH5rraYF\nuFr3d7aDnJsKoWQy04NoiWrYa4tLkHWroMC4blN+VrvvDg+PXWONnAveylx+ol6s\nYKO+kQFR/01nfSs27JNcfq0lHPJFFK5JNRj1IQXb8qz5A3fnzSidwu8SCJUQkI6h\nGVWJ4pze4WrURTm61jmkZswOIcad/9YcQpWJAg5lUpsk057/PMyseLc3hPNF61we\nxnwuBQKOjfMYQq1xfgV3ogO2+uTdq9FLbW/3VVu/HWqA0LrU5/yVnuF3QLpaXxrv\nBTAbuSC2mnJTiH7XRQf32uSJTDHgBpUOj3Gn3WI57KUUmWrSJp4=\n=8HBJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0cd309c75e5815e185558ddcd61c31ec8d5d1068",
          "sha": "0cd309c75e5815e185558ddcd61c31ec8d5d1068",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0cd309c75e5815e185558ddcd61c31ec8d5d1068"
        }
      ],
      "message": "test: move IPC helpers to ipc_util.py\n\nMove IPC helpers into ipc_util.py and update interface_ipc.py\nto use them.\n\nRename some helpers for clarity:\n- parse_and_deserialize_block -> mining_get_block\n- parse_and_deserialize_coinbase_tx -> mining_get_coinbase_tx\n- get_coinbase_raw_tx -> mining_get_coinbase_raw_tx\n- wait_next_template -> mining_wait_next_template",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T14:44:06Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-03T14:29:50Z"
      },
      "sha": "01a1ae889e5aa71d9ae4a76000265572ffcae99f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRlNDlmYTJhNjg4NDZmMDRjZWMwYmViNjRjODBiYTUzZDMxNjM1Mjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "tree": {
        "sha": "2a0d79be32e9e2b893e7eaa235d7c07e0908e2e9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2a0d79be32e9e2b893e7eaa235d7c07e0908e2e9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2a0d79be32e9e2b893e7eaa235d7c07e0908e2e9\nparent 01a1ae889e5aa71d9ae4a76000265572ffcae99f\nauthor Sjors Provoost <sjors@sprovoost.nl> 1770384345 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1770389191 +0100\n\ntest: add interface_ipc_mining.py\n\nSplit Mining interface tests into interface_ipc_mining.py and keep\ninterface_ipc.py for echo + simple inspectors.\n\nRegister the new test in test_runner.py.\n\nThe setup code around \"Create Mining proxy object\" is duplicated\nin the new test file, but the simple insector checks below it\nare not moved.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmmF/scACgkQV/+b28ww\nEAk+/w//eJqNk8tfhW/u0U+rTns377d3mjWgpVeaugibEFI+HegXvT31HP2/kMpn\nHDMr3HrVgKUPsoPjzzB3nrUXZHkZojUPzQbw7YXDvfVY8f8F2NQZdXGhcRE6apPB\nwJ1HHoHPVJQG1xPCY8aZQu71I9LZwOm7OUbIijDlq/sNu56FnPmIyUlV6WtE985I\nU/cNuao79dPDFtk+/UZcy8g2zHZmy4/KAIZ9hraPzb0BNa5VdiDo4gSOQuN8VF/4\nNF9CQlqvylSSKQ7Hqd14gkDHRLBKffVmXSWK5NcZ8VcyJ9GqxCQpKEnKw0cSfIeP\nPLd9NBRibv0hr5UeXemWzdd8EGgOr0HhCCN1yYfqLB4bTNavK7LoS0tqvyaQ0cZy\nlnYCArAZvs+vtRgjQ91HxUj82ndGwemx9lbwvw4MIAvSLsqkIXxHPghOZ1/kyhah\nZinGSAfEdHKKsmOFhkgiVBx4i4pTL98zKGDTIEZRAUm6o86lRBW4SrrLrXkskO9i\ntQGnlAWSFAqm0t2yA8Lnqa6Z+8HwVRbIjcESGLqcWGN+0FX2K4mu6hakegzONfC6\nisw1HqwKzcsWcosJRsZw/j0nieTXazKNZdHrwq3c3qUwhmJL3TKpSfrXKR6Z993H\n2flNGO+WD2dc3NfEiy/tSDzhBme/l7y7SXUnzaCsJa8xTm3FrqI=\n=IiPP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01a1ae889e5aa71d9ae4a76000265572ffcae99f",
          "sha": "01a1ae889e5aa71d9ae4a76000265572ffcae99f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01a1ae889e5aa71d9ae4a76000265572ffcae99f"
        }
      ],
      "message": "test: add interface_ipc_mining.py\n\nSplit Mining interface tests into interface_ipc_mining.py and keep\ninterface_ipc.py for echo + simple inspectors.\n\nRegister the new test in test_runner.py.\n\nThe setup code around \"Create Mining proxy object\" is duplicated\nin the new test file, but the simple insector checks below it\nare not moved.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T14:46:31Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T13:25:45Z"
      },
      "sha": "4e49fa2a68846f04cec0beb64c80ba53d3163528"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUyY2NkOTIxNWU2NzAwY2UzMDkwYzYzZjNhMzAxN2ExYWUyMWY5OGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
      "tree": {
        "sha": "50f83093c3957473084783156709a41d7cfcf997",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/50f83093c3957473084783156709a41d7cfcf997"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 50f83093c3957473084783156709a41d7cfcf997\nparent 4e49fa2a68846f04cec0beb64c80ba53d3163528\nauthor Sjors Provoost <sjors@sprovoost.nl> 1770382061 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1770389191 +0100\n\ntest: split interface_ipc_mining.py into subtests\n\nSplit the Mining interface test into focused subtests.\n\nKeep the initial tip-change pre-mine check in run_mining_interface_test.\nAs a result run_block_template_test no longer has newblockref.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmmF/scACgkQV/+b28ww\nEAmOXRAAt6AhNnLWSMvu+gz108P76JP4gEbYazMV5lCb8d89zTfn7J1HG/IBppYG\nhWVKF2F4J6rnLlfpJs3HvFZ22wBBz/qCf3XuKUhiuyiNwyjsX/ELvBzuav9VvUEg\ndQvVztDkUuT3CBlpbhb+Sq2MLhtHD4P16u2Uf5qNsBPKm+mqr/WYGTrMaaKwhgSH\n5bUNcAX7YQb4BkqUtpfZcExICdIJBGkkuLzjUF50vQd/uhEfgwA9kXKfucKclc4R\nmSW03gosHXVw/y9OWkJaFMBI5gqaJD0CnkQLJGtNxSINNTNXpyyJ/DJ5h70gRzfw\nVi0yF0z6PWiaZgc2r9ZPBETrjO9VsNhSS9WsxrHzy+5a3ODBL5PEwYVvOvO5f9NI\n0GOrf9tiJm3XLQ90bwiQDhAOGOGbci0ddnMq0jl6uGjuNdB/MZKBWEFfW3JZ0Glm\nJouogm2Q62QPlXIECXQCgqh+jbTj6vse+GQnQlnLQ8mIw3BObKDoVGccyeUO3MwV\nn+r+tWetZMtix+DB278MTf2bjd+w3ry02blOAenECdxggyGENJsqfUs+LcUdbVx3\nv96pd1jZRVproYpIAm1odAlDeXuR84BQuna++Tp8xgZQWMHWcLIK1UbckZq+ntoT\nvSH4islH4IzNEv0McgW1pIIodxqxvIl2X+MazABcFYK/sSqWohg=\n=Pxjt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4e49fa2a68846f04cec0beb64c80ba53d3163528",
          "sha": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4e49fa2a68846f04cec0beb64c80ba53d3163528"
        }
      ],
      "message": "test: split interface_ipc_mining.py into subtests\n\nSplit the Mining interface test into focused subtests.\n\nKeep the initial tip-change pre-mine check in run_mining_interface_test.\nAs a result run_block_template_test no longer has newblockref.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T14:46:31Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T12:47:41Z"
      },
      "sha": "52ccd9215e6700ce3090c63f3a3017a1ae21f98c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYzM2QxODMxMTk5YTJjYTZjYTMxYjk3MzEyMTMwNDE5MzI4ZDU0Nzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/633d1831199a2ca6ca31b97312130419328d5479",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/633d1831199a2ca6ca31b97312130419328d5479",
      "tree": {
        "sha": "cb015119f41853c2fca98dad784ee92f454f4cf5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cb015119f41853c2fca98dad784ee92f454f4cf5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cb015119f41853c2fca98dad784ee92f454f4cf5\nparent 52ccd9215e6700ce3090c63f3a3017a1ae21f98c\nauthor Sjors Provoost <sjors@sprovoost.nl> 1770383427 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1770389191 +0100\n\ntest: misc interface_ipc_mining.py improvements\n\n- share miniwallet and block create options between tests\n- documentation fixes\n- use assert_equal instead of assert ==\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmmF/scACgkQV/+b28ww\nEAlYZg/+ISXWCnSrnYFQrhEXAIcA3DDoWrkhVay+Zx/wHsrMrtVa7N+UQvAlU4Ov\nVbwUs0I/YXu4ZREpldn5jOad4k9FP0Ng32okn2MQNQ7DWI8Pqf44P7PYKbvyYXwf\nyO2Vrwh4WYSVGPCBxbOMkROLx+CAsn9tlzCWtXNv+F6i5UzCQegxr2hF5SLvLfig\n097gxPbIqCtNbMHcCabxyRe7evbMEISBC9mXivlBfx1rlMsdO9WILea2+wTqyinK\njarYa4lCmi925AfhdZGLnNEvGawpuytvLnAwKwmgI85g+4SvYAgUgNac1Rk/n7VZ\nGcnlKrMMrR18XlzvtRxYDoOY6Zk2/DezG+fC4n/6yfgdXZpN2Um8mkIflO0Hu8XD\nDAPb4rqXx/tUn32VK9Kd3f8qaq57LX+LntjrQ3dVgIPiPg1dngowtQRgulDR6FhZ\n78jUMbZiXuGHF29+71sBLc8fDLfLpH46PX5m9l5ZWxjfZXZELJkmKSxRBhF2CAkg\nNUWsE80W99yjVBxvS6CXmssbbMqkJpGcwr3ZCcptRN8surPrF0pK2dDc29nX2dwP\ncCMfeBKRtqwUweDE5+MoF2Y2v5YvPQ2585p8XsYKWlaQR8Hscdu7iS30BtW1QIJF\nxtY5ILQtUb9HORNaxy2w0D2FyCY9xwhqfQsQutNOu0YRDUWNRHU=\n=U9CZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
          "sha": "52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/52ccd9215e6700ce3090c63f3a3017a1ae21f98c"
        }
      ],
      "message": "test: misc interface_ipc_mining.py improvements\n\n- share miniwallet and block create options between tests\n- documentation fixes\n- use assert_equal instead of assert ==",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T14:46:31Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2026-02-06T13:10:27Z"
      },
      "sha": "633d1831199a2ca6ca31b97312130419328d5479"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22591590000,
      "node_id": "HRFPE_lADOABII587mzIVEzwAAAAVCkE5w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22591590000",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/633d1831199a2ca6ca31b97312130419328d5479",
      "created_at": "2026-02-06T14:47:16Z"
    },
    {
      "event": "commented",
      "id": 3860874275,
      "node_id": "IC_kwDOABII587mIEQj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860874275",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T14:48:12Z",
      "updated_at": "2026-02-06T14:48:12Z",
      "author_association": "MEMBER",
      "body": "Rebased and pushed cleanups. There's now a fourth commit that takes some of the churn out of earlier ones. ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860874275",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "commented",
      "id": 3860934495,
      "node_id": "IC_kwDOABII587mIS9f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3860934495",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:01:03Z",
      "updated_at": "2026-02-06T15:01:44Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky wrote:\r\n\r\n> That said, it would be nice to split up, maybe by using `@staticmethod` to get rid of the self arguments and by defining global aliases `load_capnp_modules = IPCInterfaceTest.load_capnp_modules` so the signatures can change once in an initial commit and the followup commit can be 100% move-only\r\n\r\nI missed this and leaving it for a followup, unless I have to make other more invasive changes.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#issuecomment-3860934495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34452"
    },
    {
      "event": "mentioned",
      "id": 22591980715,
      "node_id": "MEE_lADOABII587mzIVEzwAAAAVClkSr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22591980715",
      "actor": {
        "login": "staticmethod",
        "id": 3434126,
        "node_id": "MDQ6VXNlcjM0MzQxMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3434126?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/staticmethod",
        "html_url": "https://github.com/staticmethod",
        "followers_url": "https://api.github.com/users/staticmethod/followers",
        "following_url": "https://api.github.com/users/staticmethod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/staticmethod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/staticmethod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/staticmethod/subscriptions",
        "organizations_url": "https://api.github.com/users/staticmethod/orgs",
        "repos_url": "https://api.github.com/users/staticmethod/repos",
        "events_url": "https://api.github.com/users/staticmethod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/staticmethod/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:01:04Z"
    },
    {
      "event": "subscribed",
      "id": 22591981027,
      "node_id": "SE_lADOABII587mzIVEzwAAAAVClkXj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22591981027",
      "actor": {
        "login": "staticmethod",
        "id": 3434126,
        "node_id": "MDQ6VXNlcjM0MzQxMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3434126?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/staticmethod",
        "html_url": "https://github.com/staticmethod",
        "followers_url": "https://api.github.com/users/staticmethod/followers",
        "following_url": "https://api.github.com/users/staticmethod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/staticmethod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/staticmethod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/staticmethod/subscriptions",
        "organizations_url": "https://api.github.com/users/staticmethod/orgs",
        "repos_url": "https://api.github.com/users/staticmethod/repos",
        "events_url": "https://api.github.com/users/staticmethod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/staticmethod/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:01:05Z"
    },
    {
      "event": "mentioned",
      "id": 22591981103,
      "node_id": "MEE_lADOABII587mzIVEzwAAAAVClkYv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22591981103",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:01:05Z"
    },
    {
      "event": "subscribed",
      "id": 22591981165,
      "node_id": "SE_lADOABII587mzIVEzwAAAAVClkZt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22591981165",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:01:06Z"
    },
    {
      "event": "reviewed",
      "id": 3763699846,
      "node_id": "PRR_kwDOABII587gVYCG",
      "url": null,
      "actor": null,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T15:22:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "re ACK 633d1831199a2ca6ca31b97312130419328d5479\r\n\r\nThanks @Sjors for the cleanup, this makes it easier to review and see what has been changed. lgtm",
      "user": {
        "login": "janb84",
        "id": 608446,
        "node_id": "MDQ6VXNlcjYwODQ0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/608446?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janb84",
        "html_url": "https://github.com/janb84",
        "followers_url": "https://api.github.com/users/janb84/followers",
        "following_url": "https://api.github.com/users/janb84/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janb84/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janb84/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janb84/subscriptions",
        "organizations_url": "https://api.github.com/users/janb84/orgs",
        "repos_url": "https://api.github.com/users/janb84/repos",
        "events_url": "https://api.github.com/users/janb84/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janb84/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3763699846",
      "submitted_at": "2026-02-06T15:22:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "review_requested",
      "id": 22592484926,
      "node_id": "RRE_lADOABII587mzIVEzwAAAAVCnfY-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22592484926",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:22:25Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 22592485591,
      "node_id": "RRE_lADOABII587mzIVEzwAAAAVCnfjX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22592485591",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T15:22:27Z",
      "requested_reviewer": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3763745018,
      "node_id": "PRR_kwDOABII587gVjD6",
      "url": null,
      "actor": null,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T15:33:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 633d1831199a2ca6ca31b97312130419328d5479",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3763745018",
      "submitted_at": "2026-02-06T15:33:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "reviewed",
      "id": 3764229690,
      "node_id": "PRR_kwDOABII587gXZY6",
      "url": null,
      "actor": null,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-06T17:28:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "code review ACK 633d1831199a2ca6ca31b97312130419328d5479\n\nThere are still a few nits in commit messages and PR description and in the imports that I would prefer we fix, but based on my understanding of this area of the code, this split seems correct.\nSince my review, a few interface changes were reverted to simplify review, code splits were simplified, renamed shared IPC mining helpers to mining_*, assertion standardized, docstrings simplified or removed and commit messages were updated to contain additional info.\nTests are skipped for me locally but the rest of the build passes after rebase.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3764229690",
      "submitted_at": "2026-02-06T17:28:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    },
    {
      "event": "reviewed",
      "id": 3766721976,
      "node_id": "PRR_kwDOABII587gg524",
      "url": null,
      "actor": null,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-07T08:42:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re-ACK 633d1831199a2ca6ca31b97312130419328d5479",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#pullrequestreview-3766721976",
      "submitted_at": "2026-02-07T08:42:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743230633",
      "pull_request_review_id": 3724666463,
      "id": 2743230633,
      "node_id": "PRRC_kwDOABII586jgmCp",
      "diff_hunk": "@@ -0,0 +1,151 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Shared utilities for IPC (multiprocess) interface tests.\"\"\"\n+import asyncio\n+import inspect\n+from contextlib import asynccontextmanager\n+from dataclasses import dataclass\n+from io import BytesIO\n+from pathlib import Path\n+import shutil\n+from typing import Optional\n+\n+from test_framework.messages import CBlock, CTransaction\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+# Stores the result of getCoinbaseTx()\n+@dataclass\n+class CoinbaseTxData:\n+    version: int\n+    sequence: int\n+    scriptSigPrefix: bytes\n+    witness: Optional[bytes]\n+    blockRewardRemaining: int\n+    requiredOutputs: list[bytes]\n+    lockTime: int\n+\n+\n+@asynccontextmanager\n+async def destroying(obj, ctx):\n+    \"\"\"Call obj.destroy(ctx) at end of with: block. Similar to contextlib.closing.\"\"\"\n+    try:\n+        yield obj\n+    finally:\n+        await obj.destroy(ctx)\n+\n+\n+async def create_block_template(mining, stack, ctx, opts):\n+    \"\"\"Call mining.createNewBlock() and return template, then call template.destroy() when stack exits.\"\"\"\n+    return await stack.enter_async_context(destroying((await mining.createNewBlock(opts)).result, ctx))\n+\n+\n+async def wait_next_template(template, stack, ctx, opts):\n+    \"\"\"Call template.waitNext() and return template, then call template.destroy() when stack exits.\"\"\"\n+    return await stack.enter_async_context(destroying((await template.waitNext(ctx, opts)).result, ctx))\n+\n+\n+async def wait_and_do(wait_fn, do_fn):\n+    \"\"\"Call wait_fn, then sleep, then call do_fn in a parallel task. Wait for\n+    both tasks to complete.\"\"\"\n+    wait_started = asyncio.Event()\n+    result = None\n+\n+    async def wait():\n+        nonlocal result\n+        wait_started.set()\n+        result = await wait_fn\n+\n+    async def do():\n+        await wait_started.wait()\n+        await asyncio.sleep(0.1)\n+        # Let do_fn be either a callable or an awaitable object\n+        if inspect.isawaitable(do_fn):\n+            await do_fn\n+        else:\n+            do_fn()\n+\n+    await asyncio.gather(wait(), do())\n+    return result\n+\n+\n+def load_capnp_modules(src_dir, modules):\n+    if capnp_bin := shutil.which(\"capnp\"):\n+        # Add the system cap'nproto path so include/capnp/c++.capnp can be found.\n+        capnp_dir = Path(capnp_bin).resolve().parent.parent / \"include\"\n+    else:\n+        # If there is no system cap'nproto, the pycapnp module should have its own \"bundled\"\n+        # includes at this location. If pycapnp was installed with bundled capnp,\n+        # capnp/c++.capnp can be found here.\n+        capnp_dir = Path(capnp.__path__[0]).parent\n+    mp_dir = src_dir / \"ipc\" / \"libmultiprocess\" / \"include\"\n+    # List of import directories. Note: it is important for mp_dir to be\n+    # listed first, in case there are other libmultiprocess installations on\n+    # the system, to ensure that `import \"/mp/proxy.capnp\"` lines load the\n+    # same file as capnp.load() loads directly below, and there are not\n+    # \"failed: Duplicate ID @0xcc316e3f71a040fb\" errors.\n+    imports = [str(mp_dir), str(capnp_dir), str(src_dir)]\n+\n+    module_paths = {\n+        \"proxy\": mp_dir / \"mp\" / \"proxy.capnp\",\n+        \"init\": src_dir / \"ipc\" / \"capnp\" / \"init.capnp\",\n+        \"echo\": src_dir / \"ipc\" / \"capnp\" / \"echo.capnp\",\n+        \"mining\": src_dir / \"ipc\" / \"capnp\" / \"mining.capnp\",\n+    }\n+    return {name: capnp.load(str(module_paths[name]), imports=imports) for name in modules}\n+\n+\n+async def make_capnp_init_ctx(node, capnp_modules):\n+    # Establish a connection, and create Init proxy object.\n+    connection = await capnp.AsyncIoStream.create_unix_connection(node.ipc_socket_path)\n+    client = capnp.TwoPartyClient(connection)\n+    init = client.bootstrap().cast_as(capnp_modules['init'].Init)\n+    # Create a remote thread on the server for the IPC calls to be executed in.\n+    threadmap = init.construct().threadMap\n+    thread = threadmap.makeThread(\"pythread\").result\n+    ctx = capnp_modules['proxy'].Context()\n+    ctx.thread = thread\n+    return ctx, init\n+\n+\n+async def parse_and_deserialize_block(block_template, ctx):",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 118,
      "commit_id": "766c008920c2d45516065e502a826b60d9e8f5f1",
      "original_commit_id": "766c008920c2d45516065e502a826b60d9e8f5f1",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"test: move helpers to ipc_util.py\" (766c008920c2d45516065e502a826b60d9e8f5f1)\n\nNot important, but as long as these function signatures are being changed anyway (dropping `self` parameters) it would be nice to improve their current naming, which I think is misleading as have mentioned, and inconsistent with the names of the remote methods they call:\n\n- `parse_and_deserialize_block` -> `get_block`\n- `parse_and_deserialize_coinbase_tx` -> `get_coinbase_raw_tx`\n- `parse_and_deserialize_coinbase` -> `get_coinbase_tx`\n",
      "created_at": "2026-01-29T19:44:46Z",
      "updated_at": "2026-01-29T20:02:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2743230633",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743230633"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743256261",
      "pull_request_review_id": 3724666463,
      "id": 2743256261,
      "node_id": "PRRC_kwDOABII586jgsTF",
      "diff_hunk": "@@ -0,0 +1,151 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Shared utilities for IPC (multiprocess) interface tests.\"\"\"\n+import asyncio\n+import inspect\n+from contextlib import asynccontextmanager\n+from dataclasses import dataclass\n+from io import BytesIO\n+from pathlib import Path\n+import shutil\n+from typing import Optional\n+\n+from test_framework.messages import CBlock, CTransaction\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+# Stores the result of getCoinbaseTx()\n+@dataclass\n+class CoinbaseTxData:\n+    version: int\n+    sequence: int\n+    scriptSigPrefix: bytes\n+    witness: Optional[bytes]\n+    blockRewardRemaining: int\n+    requiredOutputs: list[bytes]\n+    lockTime: int\n+\n+\n+@asynccontextmanager\n+async def destroying(obj, ctx):\n+    \"\"\"Call obj.destroy(ctx) at end of with: block. Similar to contextlib.closing.\"\"\"\n+    try:\n+        yield obj\n+    finally:\n+        await obj.destroy(ctx)\n+\n+\n+async def create_block_template(mining, stack, ctx, opts):",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 45,
      "commit_id": "766c008920c2d45516065e502a826b60d9e8f5f1",
      "original_commit_id": "766c008920c2d45516065e502a826b60d9e8f5f1",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"test: move helpers to ipc_util.py\" (766c008920c2d45516065e502a826b60d9e8f5f1)\n\nMay be good to move `create_block_template` and `wait_next_template` below near `parse_and_deserialize_block` so the mining functions are grouped together and the file is organized with generic async functions at the top, followed by capnproto functions, followed by mining functions.",
      "created_at": "2026-01-29T19:51:35Z",
      "updated_at": "2026-01-29T20:02:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2743256261",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743256261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743297093",
      "pull_request_review_id": 3724666463,
      "id": 2743297093,
      "node_id": "PRRC_kwDOABII586jg2RF",
      "diff_hunk": "@@ -266,7 +290,15 @@ async def wait_for_block():\n         asyncio.run(capnp.run(async_routine()))\n \n     def run_test(self):\n+        self.miniwallet = MiniWallet(self.nodes[0])",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 297,
      "original_position": 170,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "9f80bd7c390409cc1713a0ccc58018bd801758a0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"test: split interface_ipc_mining.py\" (9f80bd7c390409cc1713a0ccc58018bd801758a0)\n\nSeems good to use a shared `miniwallet` variable like the shared `opts` variable, but also inconsistent to pass one as a parameter and attach other to `self`. It would seem better to pass them both as parameters so it's clear which tests are using them.\n\n\n",
      "created_at": "2026-01-29T20:00:56Z",
      "updated_at": "2026-01-29T20:02:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2743297093",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2743297093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2760077387",
      "pull_request_review_id": 3746445264,
      "id": 2760077387,
      "node_id": "PRRC_kwDOABII586kg3BL",
      "diff_hunk": "@@ -126,59 +59,13 @@ def setup_nodes(self):\n         super().setup_nodes()\n         # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n         # as it is being called before knowing whether capnp is available).\n-        self.capnp_modules = self.load_capnp_modules()\n-\n-    async def make_capnp_init_ctx(self):\n-        node = self.nodes[0]\n-        # Establish a connection, and create Init proxy object.\n-        connection = await capnp.AsyncIoStream.create_unix_connection(node.ipc_socket_path)\n-        client = capnp.TwoPartyClient(connection)\n-        init = client.bootstrap().cast_as(self.capnp_modules['init'].Init)\n-        # Create a remote thread on the server for the IPC calls to be executed in.\n-        threadmap = init.construct().threadMap\n-        thread = threadmap.makeThread(\"pythread\").result\n-        ctx = self.capnp_modules['proxy'].Context()\n-        ctx.thread = thread\n-        # Return both.\n-        return ctx, init\n-\n-    async def parse_and_deserialize_block(self, block_template, ctx):\n-        block_data = BytesIO((await block_template.getBlock(ctx)).result)\n-        block = CBlock()\n-        block.deserialize(block_data)\n-        return block\n-\n-    async def get_coinbase_raw_tx(self, block_template, ctx):\n-        assert block_template is not None\n-        coinbase_data = BytesIO((await block_template.getCoinbaseRawTx(ctx)).result)\n-        tx = CTransaction()\n-        tx.deserialize(coinbase_data)\n-        return tx\n-\n-    async def parse_and_deserialize_coinbase(self, block_template, ctx) -> CoinbaseTxData:\n-        assert block_template is not None\n-        # Note: the template_capnp struct will be garbage-collected when this\n-        # method returns, so it is important to copy any Data fields from it\n-        # which need to be accessed later using the bytes() cast. Starting with\n-        # pycapnp v2.2.0, Data fields have type `memoryview` and are ephemeral.\n-        template_capnp = (await block_template.getCoinbaseTx(ctx)).result\n-        witness: Optional[bytes] = None\n-        if template_capnp._has(\"witness\"):\n-            witness = bytes(template_capnp.witness)\n-        return CoinbaseTxData(\n-            version=int(template_capnp.version),\n-            sequence=int(template_capnp.sequence),\n-            scriptSigPrefix=bytes(template_capnp.scriptSigPrefix),\n-            witness=witness,\n-            blockRewardRemaining=int(template_capnp.blockRewardRemaining),\n-            requiredOutputs=[bytes(output) for output in template_capnp.requiredOutputs],\n-            lockTime=int(template_capnp.lockTime),\n-        )\n+        src_dir = Path(self.config['environment']['SRCDIR']) / \"src\"\n+        self.capnp_modules = load_capnp_modules(src_dir, [\"proxy\", \"init\", \"echo\", \"mining\"])",
      "path": "test/functional/interface_ipc.py",
      "position": 1,
      "original_position": 176,
      "commit_id": "6ce4c3183e1be9d9f6af9c10d8a24734d16b61f8",
      "original_commit_id": "6ce4c3183e1be9d9f6af9c10d8a24734d16b61f8",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"test: move IPC helpers to ipc_util.py\" (6ce4c3183e1be9d9f6af9c10d8a24734d16b61f8)\r\n\r\nNot important, but it seems kludgy that `load_capnp_modules` caller is now responsible for listing the modules, but the list of modules also needs to be maintained inside the function. Also how the caller is responsible for figuring out the beginning of `src_dir` paths but the function is responsible for figuring out the end.\r\n\r\nWould suggest reverting all changes to `load_capnp_modules` except giving it a `config` argument and calling `load_capnp_modules(config)` instead of `self.load_capnp_modules()`\r\n\r\nCurrent implementation is also fine if preferred, though, just a suggestion\r\n\r\n",
      "created_at": "2026-02-03T16:59:54Z",
      "updated_at": "2026-02-03T17:05:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2760077387",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2760077387"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": 62,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2763358469",
      "pull_request_review_id": 3750312996,
      "id": 2763358469,
      "node_id": "PRRC_kwDOABII586ktYEF",
      "diff_hunk": "@@ -126,59 +59,13 @@ def setup_nodes(self):\n         super().setup_nodes()\n         # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n         # as it is being called before knowing whether capnp is available).\n-        self.capnp_modules = self.load_capnp_modules()\n-\n-    async def make_capnp_init_ctx(self):\n-        node = self.nodes[0]\n-        # Establish a connection, and create Init proxy object.\n-        connection = await capnp.AsyncIoStream.create_unix_connection(node.ipc_socket_path)\n-        client = capnp.TwoPartyClient(connection)\n-        init = client.bootstrap().cast_as(self.capnp_modules['init'].Init)\n-        # Create a remote thread on the server for the IPC calls to be executed in.\n-        threadmap = init.construct().threadMap\n-        thread = threadmap.makeThread(\"pythread\").result\n-        ctx = self.capnp_modules['proxy'].Context()\n-        ctx.thread = thread\n-        # Return both.\n-        return ctx, init\n-\n-    async def parse_and_deserialize_block(self, block_template, ctx):\n-        block_data = BytesIO((await block_template.getBlock(ctx)).result)\n-        block = CBlock()\n-        block.deserialize(block_data)\n-        return block\n-\n-    async def get_coinbase_raw_tx(self, block_template, ctx):\n-        assert block_template is not None\n-        coinbase_data = BytesIO((await block_template.getCoinbaseRawTx(ctx)).result)\n-        tx = CTransaction()\n-        tx.deserialize(coinbase_data)\n-        return tx\n-\n-    async def parse_and_deserialize_coinbase(self, block_template, ctx) -> CoinbaseTxData:\n-        assert block_template is not None\n-        # Note: the template_capnp struct will be garbage-collected when this\n-        # method returns, so it is important to copy any Data fields from it\n-        # which need to be accessed later using the bytes() cast. Starting with\n-        # pycapnp v2.2.0, Data fields have type `memoryview` and are ephemeral.\n-        template_capnp = (await block_template.getCoinbaseTx(ctx)).result\n-        witness: Optional[bytes] = None\n-        if template_capnp._has(\"witness\"):\n-            witness = bytes(template_capnp.witness)\n-        return CoinbaseTxData(\n-            version=int(template_capnp.version),\n-            sequence=int(template_capnp.sequence),\n-            scriptSigPrefix=bytes(template_capnp.scriptSigPrefix),\n-            witness=witness,\n-            blockRewardRemaining=int(template_capnp.blockRewardRemaining),\n-            requiredOutputs=[bytes(output) for output in template_capnp.requiredOutputs],\n-            lockTime=int(template_capnp.lockTime),\n-        )\n+        src_dir = Path(self.config['environment']['SRCDIR']) / \"src\"\n+        self.capnp_modules = load_capnp_modules(src_dir, [\"proxy\", \"init\", \"echo\", \"mining\"])",
      "path": "test/functional/interface_ipc.py",
      "position": 1,
      "original_position": 176,
      "commit_id": "6ce4c3183e1be9d9f6af9c10d8a24734d16b61f8",
      "original_commit_id": "6ce4c3183e1be9d9f6af9c10d8a24734d16b61f8",
      "in_reply_to_id": 2760077387,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Good idea, done. It also reduces the diff.",
      "created_at": "2026-02-04T10:44:26Z",
      "updated_at": "2026-02-04T10:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2763358469",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2763358469"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": 62,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773541376",
      "pull_request_review_id": 3762378213,
      "id": 2773541376,
      "node_id": "PRRC_kwDOABII586lUOIA",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 134,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I understand it's move-only, but some people prefer\n```suggestion\n            assert_equal(blockref.result.height, current_block_height)\n```",
      "created_at": "2026-02-06T10:57:34Z",
      "updated_at": "2026-02-06T11:45:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773541376",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773541376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773546588",
      "pull_request_review_id": 3762378213,
      "id": 2773546588,
      "node_id": "PRRC_kwDOABII586lUPZc",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height\n+\n+            self.log.debug(\"Mine a block\")\n+            newblockref = (await wait_and_do(\n+                mining.waitTipChanged(ctx, blockref.result.hash, timeout),\n+                lambda: self.generate(self.nodes[0], 1))).result\n+            assert_equal(len(newblockref.hash), block_hash_size)\n+            assert_equal(newblockref.height, current_block_height + 1)\n+            self.log.debug(\"Wait for timeout\")\n+            oldblockref = (await mining.waitTipChanged(ctx, newblockref.hash, timeout)).result\n+            assert_equal(len(newblockref.hash), block_hash_size)\n+            assert_equal(oldblockref.hash, newblockref.hash)\n+            assert_equal(oldblockref.height, newblockref.height)\n+\n+        asyncio.run(capnp.run(async_routine()))\n+\n+    def run_block_template_test(self):\n+        \"\"\"Test BlockTemplate interface methods: getBlockHeader, getBlock, waitNext, interruptWait.\"\"\"\n+        self.log.info(\"Running BlockTemplate interface test\")\n+        block_header_size = 80\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+\n+            async with AsyncExitStack() as stack:\n+                self.log.debug(\"Create a template\")\n+                template = await create_block_template(mining, stack, ctx, self.default_block_create_options)\n+\n+                self.log.debug(\"Test some inspectors of Template\")\n+                header = (await template.getBlockHeader(ctx)).result\n+                assert_equal(len(header), block_header_size)\n+                block = await get_block(template, ctx)\n+                assert_equal(ser_uint256(block.hashPrevBlock), blockref.result.hash)",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 168,
      "original_position": 168,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "how come we've changes this from\r\n```suggestion\r\n                assert_equal(ser_uint256(block.hashPrevBlock), newblockref.hash)\r\n```\r\n\r\nis it a result of a subtest split? Can we do these in separate commits to clarify?",
      "created_at": "2026-02-06T10:58:41Z",
      "updated_at": "2026-02-06T11:45:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773546588",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773546588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773608650",
      "pull_request_review_id": 3762378213,
      "id": 2773608650,
      "node_id": "PRRC_kwDOABII586lUejK",
      "diff_hunk": "@@ -0,0 +1,151 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Shared utilities for IPC (multiprocess) interface tests.\"\"\"\n+import asyncio\n+import inspect\n+from contextlib import asynccontextmanager\n+from dataclasses import dataclass\n+from io import BytesIO\n+from pathlib import Path\n+import shutil\n+from typing import Optional\n+\n+from test_framework.messages import CBlock, CTransaction\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+# Stores the result of getCoinbaseTx()\n+@dataclass\n+class CoinbaseTxData:\n+    version: int\n+    sequence: int\n+    scriptSigPrefix: bytes\n+    witness: Optional[bytes]\n+    blockRewardRemaining: int\n+    requiredOutputs: list[bytes]\n+    lockTime: int\n+\n+\n+@asynccontextmanager\n+async def destroying(obj, ctx):\n+    \"\"\"Call obj.destroy(ctx) at end of with: block. Similar to contextlib.closing.\"\"\"\n+    try:\n+        yield obj\n+    finally:\n+        await obj.destroy(ctx)\n+\n+\n+async def wait_and_do(wait_fn, do_fn):\n+    \"\"\"Call wait_fn, then sleep, then call do_fn in a parallel task. Wait for\n+    both tasks to complete.\"\"\"\n+    wait_started = asyncio.Event()\n+    result = None\n+\n+    async def wait():\n+        nonlocal result\n+        wait_started.set()\n+        result = await wait_fn\n+\n+    async def do():\n+        await wait_started.wait()\n+        await asyncio.sleep(0.1)\n+        # Let do_fn be either a callable or an awaitable object\n+        if inspect.isawaitable(do_fn):\n+            await do_fn\n+        else:\n+            do_fn()\n+\n+    await asyncio.gather(wait(), do())\n+    return result\n+\n+\n+def load_capnp_modules(config):\n+    if capnp_bin := shutil.which(\"capnp\"):\n+        # Add the system cap'nproto path so include/capnp/c++.capnp can be found.\n+        capnp_dir = Path(capnp_bin).resolve().parent.parent / \"include\"\n+    else:\n+        # If there is no system cap'nproto, the pycapnp module should have its own \"bundled\"\n+        # includes at this location. If pycapnp was installed with bundled capnp,\n+        # capnp/c++.capnp can be found here.\n+        capnp_dir = Path(capnp.__path__[0]).parent\n+    src_dir = Path(config['environment']['SRCDIR']) / \"src\"\n+    mp_dir = src_dir / \"ipc\" / \"libmultiprocess\" / \"include\"\n+    # List of import directories. Note: it is important for mp_dir to be\n+    # listed first, in case there are other libmultiprocess installations on\n+    # the system, to ensure that `import \"/mp/proxy.capnp\"` lines load the\n+    # same file as capnp.load() loads directly below, and there are not\n+    # \"failed: Duplicate ID @0xcc316e3f71a040fb\" errors.\n+    imports = [str(mp_dir), str(capnp_dir), str(src_dir)]\n+    return {\n+        \"proxy\": capnp.load(str(mp_dir / \"mp\" / \"proxy.capnp\"), imports=imports),\n+        \"init\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"init.capnp\"), imports=imports),\n+        \"echo\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"echo.capnp\"), imports=imports),\n+        \"mining\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"mining.capnp\"), imports=imports),\n+    }\n+\n+\n+async def make_capnp_init_ctx(node, capnp_modules):",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 94,
      "commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "we're moving `async def make_capnp_init_ctx(self):` and changing it - can we do these in separate commit, it makes review a lot harder",
      "created_at": "2026-02-06T11:12:23Z",
      "updated_at": "2026-02-06T11:45:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773608650",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773608650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 94,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773618019",
      "pull_request_review_id": 3762378213,
      "id": 2773618019,
      "node_id": "PRRC_kwDOABII586lUg1j",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435\n> parse_and_deserialize_coinbase_tx -> get_coinbase_raw_tx\n\nBut we already had a `get_coinbase_raw_tx` [before](https://github.com/bitcoin/bitcoin/pull/34452/changes/3b47cc33fca2de2e2a4f684a0dec50c2c4a85435#diff-6ebf196cdc153ab836a4f84915ee29dc467840929c3da7025b4e4e1df90e9f56L151)...",
      "created_at": "2026-02-06T11:14:21Z",
      "updated_at": "2026-02-06T11:45:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773618019",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773618019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773665264",
      "pull_request_review_id": 3762378213,
      "id": 2773665264,
      "node_id": "PRRC_kwDOABII586lUsXw",
      "diff_hunk": "@@ -0,0 +1,279 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: waitTipChanged, createNewBlock, checkBlock.\"\"\"\n+        self.log.info(\"Running mining test\")\n+        block_hash_size = 32\n+        block_header_size = 80\n+        timeout = 1000.0 # 1000 milliseconds\n+        miniwallet = MiniWallet(self.nodes[0])\n+\n+        async def async_routine():\n+            ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+            self.log.debug(\"Create Mining proxy object\")\n+            mining = init.makeMining(ctx).result\n+            blockref = await mining.getTip(ctx)",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 132,
      "original_position": 129,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "63434b1b26eb32f06b112a473a5e3259d1659daa",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "in the original we had a few more assertions:\r\n```python\r\n            self.log.debug(\"Test simple inspectors\")\r\n            assert (await mining.isTestChain(ctx)).result\r\n            assert not (await mining.isInitialBlockDownload(ctx)).result\r\n            blockref = await mining.getTip(ctx)\r\n            assert blockref.hasResult\r\n            assert_equal(len(blockref.result.hash), block_hash_size)\r\n```\r\n\r\nIs this just moved elsewhere and we're just avoiding duplication?\r\n\r\n---\r\n\r\nWe're mixing refactors here, makes review more difficult than it should be - could you split low-risk refactors from riskier or slightly more involved changes and explain the non-trivial changes in the commit message?",
      "created_at": "2026-02-06T11:24:56Z",
      "updated_at": "2026-02-06T11:45:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773665264",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773665264"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 132,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773680798",
      "pull_request_review_id": 3762378213,
      "id": 2773680798,
      "node_id": "PRRC_kwDOABII586lUwKe",
      "diff_hunk": "@@ -114,18 +114,21 @@ async def build_coinbase_test(self, template, ctx, miniwallet):\n \n         return coinbase_tx\n \n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n     def run_mining_interface_test(self):\n-        \"\"\"Test Mining interface methods: waitTipChanged, createNewBlock, checkBlock.\"\"\"\n-        self.log.info(\"Running mining test\")\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "isn't `checkBlock` tested in `run_coinbase_and_submission_test` only?",
      "created_at": "2026-02-06T11:28:58Z",
      "updated_at": "2026-02-06T11:45:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773680798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773680798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773783282",
      "pull_request_review_id": 3762691185,
      "id": 2773783282,
      "node_id": "PRRC_kwDOABII586lVJLy",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": 2773618019,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: Adding to that some of these names like `get_block` are close to RPCs so I would have preferred names that are easier to distinguish",
      "created_at": "2026-02-06T11:58:35Z",
      "updated_at": "2026-02-06T12:49:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2773783282",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2773783282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774040539",
      "pull_request_review_id": 3762971384,
      "id": 2774040539,
      "node_id": "PRRC_kwDOABII586lWH_b",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": 2773618019,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> nit: Adding to that some of these names like `get_block` are close to RPCs so I would have preferred names that are easier to distinguish\n\nMakes sense now that they are global to add a `mining_` prefix. Alternately, it could make sense to do `import ipc_util` and call `ipc_util.get_block`,  `ipc_util.get_coinbase_tx` etc, but our current test style seems prefer global imports.",
      "created_at": "2026-02-06T12:58:22Z",
      "updated_at": "2026-02-06T13:01:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774040539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774040539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774079239",
      "pull_request_review_id": 3763014977,
      "id": 2774079239,
      "node_id": "PRRC_kwDOABII586lWRcH",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 134,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": 2773541376,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think you contradict yourself here @l0rinc. You mentioned you prefer clean move-only and also suggested changes here https://github.com/bitcoin/bitcoin/pull/34452/changes/63434b1b26eb32f06b112a473a5e3259d1659daa#r2773665264.\nSo this seems to be out of scope?\nChanging asserts to `assert_equal` for better error message?",
      "created_at": "2026-02-06T13:07:56Z",
      "updated_at": "2026-02-06T13:21:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774079239",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774079239"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774108588",
      "pull_request_review_id": 3763048738,
      "id": 2774108588,
      "node_id": "PRRC_kwDOABII586lWYms",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": 2773618019,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "That was also included in #32420, forgot to adjust the comment after rebase.",
      "created_at": "2026-02-06T13:15:19Z",
      "updated_at": "2026-02-06T13:15:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774108588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774108588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774145241",
      "pull_request_review_id": 3763091493,
      "id": 2774145241,
      "node_id": "PRRC_kwDOABII586lWhjZ",
      "diff_hunk": "@@ -0,0 +1,279 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: waitTipChanged, createNewBlock, checkBlock.\"\"\"\n+        self.log.info(\"Running mining test\")\n+        block_hash_size = 32\n+        block_header_size = 80\n+        timeout = 1000.0 # 1000 milliseconds\n+        miniwallet = MiniWallet(self.nodes[0])\n+\n+        async def async_routine():\n+            ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+            self.log.debug(\"Create Mining proxy object\")\n+            mining = init.makeMining(ctx).result\n+            blockref = await mining.getTip(ctx)",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 132,
      "original_position": 129,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "63434b1b26eb32f06b112a473a5e3259d1659daa",
      "in_reply_to_id": 2773665264,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The simple inspector checks remain in `interface_ipc.py`, so they're _not_ moved.\r\n\r\nI think the `dimmed_zebra` diff is more clear this way then if I were to temporariliy duplicate the code: \r\n\r\n<img width=\"630\" height=\"327\" alt=\"Schermafbeelding 2026-02-06 om 14 23 30\" src=\"https://github.com/user-attachments/assets/53e6d24a-ed26-4f34-945a-812f802c59e1\" />\r\n\r\nI'll make this more clear in the commit message.",
      "created_at": "2026-02-06T13:24:36Z",
      "updated_at": "2026-02-06T13:24:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774145241",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774145241"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 132,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774234935",
      "pull_request_review_id": 3763207205,
      "id": 2774234935,
      "node_id": "PRRC_kwDOABII586lW3c3",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 134,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": 2773541376,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> You mentioned you prefer clean move-only and also suggested changes here https://github.com/bitcoin/bitcoin/commit/63434b1b26eb32f06b112a473a5e3259d1659daa#r2773665264.\r\n\r\nI prefer separating refactors from commits introducing behavioral changes. I also prefer code moves be separated from everything else to simplify code review comparisons. There's no contradiction - except that I personally don't like `assert_equal`, but I know other do so I mentioned it here :)",
      "created_at": "2026-02-06T13:46:52Z",
      "updated_at": "2026-02-06T13:46:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774234935",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774234935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774322302",
      "pull_request_review_id": 3763308214,
      "id": 2774322302,
      "node_id": "PRRC_kwDOABII586lXMx-",
      "diff_hunk": "@@ -114,18 +114,21 @@ async def build_coinbase_test(self, template, ctx, miniwallet):\n \n         return coinbase_tx\n \n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n     def run_mining_interface_test(self):\n-        \"\"\"Test Mining interface methods: waitTipChanged, createNewBlock, checkBlock.\"\"\"\n-        self.log.info(\"Running mining test\")\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 14,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": 2773680798,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I got rid of these lists, too tedious to maintain.",
      "created_at": "2026-02-06T14:04:20Z",
      "updated_at": "2026-02-06T14:04:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774322302",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774322302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774322570",
      "pull_request_review_id": 3763308518,
      "id": 2774322570,
      "node_id": "PRRC_kwDOABII586lXM2K",
      "diff_hunk": "@@ -0,0 +1,151 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Shared utilities for IPC (multiprocess) interface tests.\"\"\"\n+import asyncio\n+import inspect\n+from contextlib import asynccontextmanager\n+from dataclasses import dataclass\n+from io import BytesIO\n+from pathlib import Path\n+import shutil\n+from typing import Optional\n+\n+from test_framework.messages import CBlock, CTransaction\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+# Stores the result of getCoinbaseTx()\n+@dataclass\n+class CoinbaseTxData:\n+    version: int\n+    sequence: int\n+    scriptSigPrefix: bytes\n+    witness: Optional[bytes]\n+    blockRewardRemaining: int\n+    requiredOutputs: list[bytes]\n+    lockTime: int\n+\n+\n+@asynccontextmanager\n+async def destroying(obj, ctx):\n+    \"\"\"Call obj.destroy(ctx) at end of with: block. Similar to contextlib.closing.\"\"\"\n+    try:\n+        yield obj\n+    finally:\n+        await obj.destroy(ctx)\n+\n+\n+async def wait_and_do(wait_fn, do_fn):\n+    \"\"\"Call wait_fn, then sleep, then call do_fn in a parallel task. Wait for\n+    both tasks to complete.\"\"\"\n+    wait_started = asyncio.Event()\n+    result = None\n+\n+    async def wait():\n+        nonlocal result\n+        wait_started.set()\n+        result = await wait_fn\n+\n+    async def do():\n+        await wait_started.wait()\n+        await asyncio.sleep(0.1)\n+        # Let do_fn be either a callable or an awaitable object\n+        if inspect.isawaitable(do_fn):\n+            await do_fn\n+        else:\n+            do_fn()\n+\n+    await asyncio.gather(wait(), do())\n+    return result\n+\n+\n+def load_capnp_modules(config):\n+    if capnp_bin := shutil.which(\"capnp\"):\n+        # Add the system cap'nproto path so include/capnp/c++.capnp can be found.\n+        capnp_dir = Path(capnp_bin).resolve().parent.parent / \"include\"\n+    else:\n+        # If there is no system cap'nproto, the pycapnp module should have its own \"bundled\"\n+        # includes at this location. If pycapnp was installed with bundled capnp,\n+        # capnp/c++.capnp can be found here.\n+        capnp_dir = Path(capnp.__path__[0]).parent\n+    src_dir = Path(config['environment']['SRCDIR']) / \"src\"\n+    mp_dir = src_dir / \"ipc\" / \"libmultiprocess\" / \"include\"\n+    # List of import directories. Note: it is important for mp_dir to be\n+    # listed first, in case there are other libmultiprocess installations on\n+    # the system, to ensure that `import \"/mp/proxy.capnp\"` lines load the\n+    # same file as capnp.load() loads directly below, and there are not\n+    # \"failed: Duplicate ID @0xcc316e3f71a040fb\" errors.\n+    imports = [str(mp_dir), str(capnp_dir), str(src_dir)]\n+    return {\n+        \"proxy\": capnp.load(str(mp_dir / \"mp\" / \"proxy.capnp\"), imports=imports),\n+        \"init\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"init.capnp\"), imports=imports),\n+        \"echo\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"echo.capnp\"), imports=imports),\n+        \"mining\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"mining.capnp\"), imports=imports),\n+    }\n+\n+\n+async def make_capnp_init_ctx(node, capnp_modules):",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 94,
      "commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": 2773608650,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It got rid of the churn.",
      "created_at": "2026-02-06T14:04:24Z",
      "updated_at": "2026-02-06T14:04:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774322570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774322570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 94,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774325979",
      "pull_request_review_id": 3763312684,
      "id": 2774325979,
      "node_id": "PRRC_kwDOABII586lXNrb",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 134,
      "commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": 2773541376,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-02-06T14:05:12Z",
      "updated_at": "2026-02-06T14:05:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774325979",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774325979"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774524998",
      "pull_request_review_id": 3763522181,
      "id": 2774524998,
      "node_id": "PRRC_kwDOABII586lX-RG",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "3b47cc33fca2de2e2a4f684a0dec50c2c4a85435",
      "in_reply_to_id": 2773618019,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I added a `mining_` prefix.",
      "created_at": "2026-02-06T14:47:22Z",
      "updated_at": "2026-02-06T14:47:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774524998",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774524998"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774600568",
      "pull_request_review_id": 3763613496,
      "id": 2774600568,
      "node_id": "PRRC_kwDOABII586lYQt4",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    create_block_template,\n+    load_capnp_modules,\n+    make_capnp_init_ctx,\n+    get_block,\n+    get_coinbase_tx,\n+    get_coinbase_raw_tx,\n+    wait_next_template,\n+    wait_and_do,\n+)\n+\n+# Test may be skipped and not have capnp installed\n+try:\n+    import capnp  # type: ignore[import] # noqa: F401\n+except ModuleNotFoundError:\n+    pass\n+\n+\n+class IPCMiningTest(BitcoinTestFramework):\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_ipc()\n+        self.skip_if_no_py_capnp()\n+\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+\n+    def setup_nodes(self):\n+        self.extra_init = [{\"ipcbind\": True}, {}]\n+        super().setup_nodes()\n+        # Use this function to also load the capnp modules (we cannot use set_test_params for this,\n+        # as it is being called before knowing whether capnp is available).\n+        self.capnp_modules = load_capnp_modules(self.config)\n+\n+    async def build_coinbase_test(self, template, ctx, miniwallet):\n+        self.log.debug(\"Build coinbase transaction using getCoinbaseTx()\")\n+        assert template is not None\n+        coinbase_res = await get_coinbase_tx(template, ctx)\n+        coinbase_tx = CTransaction()\n+        coinbase_tx.version = coinbase_res.version\n+        coinbase_tx.vin = [CTxIn()]\n+        coinbase_tx.vin[0].prevout = NULL_OUTPOINT\n+        coinbase_tx.vin[0].nSequence = coinbase_res.sequence\n+\n+        # Verify there's no dummy extraNonce in the coinbase scriptSig\n+        current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+        expected_scriptsig = CScript([CScriptNum(current_block_height + 1)])\n+        assert_equal(coinbase_res.scriptSigPrefix.hex(), expected_scriptsig.hex())\n+\n+        # Typically a mining pool appends its name and an extraNonce\n+        coinbase_tx.vin[0].scriptSig = coinbase_res.scriptSigPrefix\n+\n+        # We currently always provide a coinbase witness, even for empty\n+        # blocks, but this may change, so always check:\n+        has_witness = coinbase_res.witness is not None\n+        if has_witness:\n+            coinbase_tx.wit.vtxinwit = [CTxInWitness()]\n+            coinbase_tx.wit.vtxinwit[0].scriptWitness.stack = [coinbase_res.witness]\n+\n+        # First output is our payout\n+        coinbase_tx.vout = [CTxOut()]\n+        coinbase_tx.vout[0].scriptPubKey = miniwallet.get_output_script()\n+        coinbase_tx.vout[0].nValue = coinbase_res.blockRewardRemaining\n+        # Add SegWit OP_RETURN. This is currently always present even for\n+        # empty blocks, but this may change.\n+        found_witness_op_return = False\n+        # Compare SegWit OP_RETURN to getCoinbaseCommitment()\n+        coinbase_commitment = (await template.getCoinbaseCommitment(ctx)).result\n+        for output_data in coinbase_res.requiredOutputs:\n+            output = CTxOut()\n+            output.deserialize(BytesIO(output_data))\n+            coinbase_tx.vout.append(output)\n+            if output.scriptPubKey == coinbase_commitment:\n+                found_witness_op_return = True\n+\n+        assert_equal(has_witness, found_witness_op_return)\n+\n+        coinbase_tx.nLockTime = coinbase_res.lockTime\n+        # Compare to dummy coinbase transaction provided by the deprecated\n+        # getCoinbaseRawTx()\n+        coinbase_legacy = await get_coinbase_raw_tx(template, ctx)\n+        assert_equal(coinbase_legacy.vout[0].nValue, coinbase_res.blockRewardRemaining)\n+        # Swap dummy output for our own\n+        coinbase_legacy.vout[0].scriptPubKey = coinbase_tx.vout[0].scriptPubKey\n+        assert_equal(coinbase_tx.serialize().hex(), coinbase_legacy.serialize().hex())\n+\n+        return coinbase_tx\n+\n+    async def make_mining_ctx(self):\n+        \"\"\"Create IPC context and Mining proxy object.\"\"\"\n+        ctx, init = await make_capnp_init_ctx(self.nodes[0], self.capnp_modules)\n+        self.log.debug(\"Create Mining proxy object\")\n+        mining = init.makeMining(ctx).result\n+        return ctx, mining\n+\n+    def run_mining_interface_test(self):\n+        \"\"\"Test Mining interface methods: getTip, waitTipChanged, checkBlock.\"\"\"\n+        self.log.info(\"Running Mining interface test\")\n+        block_hash_size = 32\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+            current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\n+            assert blockref.result.height == current_block_height\n+\n+            self.log.debug(\"Mine a block\")\n+            newblockref = (await wait_and_do(\n+                mining.waitTipChanged(ctx, blockref.result.hash, timeout),\n+                lambda: self.generate(self.nodes[0], 1))).result\n+            assert_equal(len(newblockref.hash), block_hash_size)\n+            assert_equal(newblockref.height, current_block_height + 1)\n+            self.log.debug(\"Wait for timeout\")\n+            oldblockref = (await mining.waitTipChanged(ctx, newblockref.hash, timeout)).result\n+            assert_equal(len(newblockref.hash), block_hash_size)\n+            assert_equal(oldblockref.hash, newblockref.hash)\n+            assert_equal(oldblockref.height, newblockref.height)\n+\n+        asyncio.run(capnp.run(async_routine()))\n+\n+    def run_block_template_test(self):\n+        \"\"\"Test BlockTemplate interface methods: getBlockHeader, getBlock, waitNext, interruptWait.\"\"\"\n+        self.log.info(\"Running BlockTemplate interface test\")\n+        block_header_size = 80\n+        timeout = 1000.0 # 1000 milliseconds\n+\n+        async def async_routine():\n+            ctx, mining = await self.make_mining_ctx()\n+            blockref = await mining.getTip(ctx)\n+\n+            async with AsyncExitStack() as stack:\n+                self.log.debug(\"Create a template\")\n+                template = await create_block_template(mining, stack, ctx, self.default_block_create_options)\n+\n+                self.log.debug(\"Test some inspectors of Template\")\n+                header = (await template.getBlockHeader(ctx)).result\n+                assert_equal(len(header), block_header_size)\n+                block = await get_block(template, ctx)\n+                assert_equal(ser_uint256(block.hashPrevBlock), blockref.result.hash)",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 168,
      "original_position": 168,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "18b297c8aedc1923a3e6869406958afc372b2653",
      "in_reply_to_id": 2773546588,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Addressed in the commit message now.",
      "created_at": "2026-02-06T15:02:36Z",
      "updated_at": "2026-02-06T15:02:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774600568",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774600568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774730966",
      "pull_request_review_id": 3763745018,
      "id": 2774730966,
      "node_id": "PRRC_kwDOABII586lYwjW",
      "diff_hunk": "@@ -0,0 +1,310 @@\n+#!/usr/bin/env python3\n+# Copyright (c) The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the IPC (multiprocess) Mining interface.\"\"\"\n+import asyncio\n+from contextlib import AsyncExitStack\n+from io import BytesIO\n+from test_framework.blocktools import NULL_OUTPOINT\n+from test_framework.messages import (\n+    CTransaction,\n+    CTxIn,\n+    CTxOut,\n+    CTxInWitness,\n+    ser_uint256,\n+    COIN,\n+)\n+from test_framework.script import (\n+    CScript,\n+    CScriptNum,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_not_equal\n+)\n+from test_framework.wallet import MiniWallet\n+from test_framework.ipc_util import (\n+    destroying,\n+    mining_create_block_template,",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 30,
      "original_position": 30,
      "commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "original_commit_id": "633d1831199a2ca6ca31b97312130419328d5479",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "micro-nit: ordering",
      "created_at": "2026-02-06T15:32:39Z",
      "updated_at": "2026-02-06T15:33:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2774730966",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774730966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775161777",
      "pull_request_review_id": 3764229690,
      "id": 2775161777,
      "node_id": "PRRC_kwDOABII586laZux",
      "diff_hunk": "",
      "path": "test/functional/interface_ipc.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "original_commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "4e49fa2a68846f04cec0beb64c80ba53d3163528\nnit: minor typo in commit message: `insector`",
      "created_at": "2026-02-06T17:07:47Z",
      "updated_at": "2026-02-06T17:28:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775161777",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775161777"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775165623",
      "pull_request_review_id": 3764229690,
      "id": 2775165623,
      "node_id": "PRRC_kwDOABII586laaq3",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "original_commit_id": "01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "01a1ae889e5aa71d9ae4a76000265572ffcae99f\r\nnit: commit message claims `parse_and_deserialize_coinbase_tx` was renamed here, but the code indicates it was `parse_and_deserialize_coinbase` (no `_tx` suffix)",
      "created_at": "2026-02-06T17:08:34Z",
      "updated_at": "2026-02-06T17:28:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775165623",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775165623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775183035",
      "pull_request_review_id": 3764229690,
      "id": 2775183035,
      "node_id": "PRRC_kwDOABII586lae67",
      "diff_hunk": "",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
      "original_commit_id": "52ccd9215e6700ce3090c63f3a3017a1ae21f98c",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: we usually end all with a comma, to avoid touching this next time we edit the list",
      "created_at": "2026-02-06T17:12:05Z",
      "updated_at": "2026-02-06T17:28:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775183035",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775183035"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775200762",
      "pull_request_review_id": 3764229690,
      "id": 2775200762,
      "node_id": "PRRC_kwDOABII586lajP6",
      "diff_hunk": "",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "original_commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: the PR description still refers to `ipc_mining.py`",
      "created_at": "2026-02-06T17:15:48Z",
      "updated_at": "2026-02-06T17:28:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775200762",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775200762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775339337",
      "pull_request_review_id": 3764427770,
      "id": 2775339337,
      "node_id": "PRRC_kwDOABII586lbFFJ",
      "diff_hunk": "",
      "path": "test/functional/interface_ipc_mining.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "original_commit_id": "4e49fa2a68846f04cec0beb64c80ba53d3163528",
      "in_reply_to_id": 2775200762,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2026-02-06T17:50:13Z",
      "updated_at": "2026-02-06T17:50:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775339337",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775339337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775344366",
      "pull_request_review_id": 3764433314,
      "id": 2775344366,
      "node_id": "PRRC_kwDOABII586lbGTu",
      "diff_hunk": "",
      "path": "test/functional/test_framework/ipc_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "original_commit_id": "01a1ae889e5aa71d9ae4a76000265572ffcae99f",
      "in_reply_to_id": 2775165623,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Fortunately the raw transaction variant is deprecated and should go away after #34184, so that should stop confusing people including me.",
      "created_at": "2026-02-06T17:51:38Z",
      "updated_at": "2026-02-06T17:51:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34452#discussion_r2775344366",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2775344366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34452"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    }
  ]
}