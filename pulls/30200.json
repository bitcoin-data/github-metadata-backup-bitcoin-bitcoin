{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200",
    "id": 1895929433,
    "node_id": "PR_kwDOABII585xAZZZ",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30200",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30200.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30200.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a9716c53f05082d6d89ebea51a46d4404efb12d7",
    "number": 30200,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Introduce Mining interface",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Introduce a `Mining` interface for the `getblocktemplate`, `generateblock` and other mining RPCs to use now, and for Stratum v2 to use later.\r\n\r\nSuggested here: https://github.com/bitcoin/bitcoin/pull/29346#issuecomment-2108528652\r\n\r\nThe selection of methods added to the interface is mostly based on what the Template Provider in #29432 uses. It could be expanded further so that `rpc/mining.cpp` no longer needs `EnsureMemPool` and `EnsureChainman`.\r\n\r\nThis PR should be a pure refactor.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 118378960,
        "node_id": "MDU6TGFiZWwxMTgzNzg5NjA=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mining",
        "name": "Mining",
        "color": "c7def8",
        "default": false
      }
    ],
    "created_at": "2024-05-30T12:34:31Z",
    "updated_at": "2024-06-25T22:06:43Z",
    "closed_at": "2024-06-24T23:29:58Z",
    "mergeable_state": "unknown",
    "merged_at": "2024-06-24T23:29:58Z",
    "merge_commit_sha": "323b0acfcb9380ce4b3c12a3d0b341d7bb3bfe08",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "Sjors:2024/05/miner-interface",
      "ref": "2024/05/miner-interface",
      "sha": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 5,
        "watchers_count": 5,
        "size": 240336,
        "default_branch": "sv2",
        "open_issues_count": 4,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-25T18:10:23Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2024-06-25T12:17:50Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9c5cdf07f30f816cd134e2cd2dca9c27ef7067a5",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35571,
        "stargazers_count": 77023,
        "watchers_count": 77023,
        "size": 261867,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-25T20:56:37Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-06-25T22:33:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 226,
    "deletions": 52,
    "changed_files": 21,
    "commits": 9,
    "review_comments": 34,
    "comments": 15
  },
  "events": [
    {
      "event": "commented",
      "id": 2139458980,
      "node_id": "IC_kwDOABII585_hY2k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2139458980",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T12:34:34Z",
      "updated_at": "2024-06-24T20:08:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30200).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2128264782), [itornaza](https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2131043232), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2131112731) |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2140862734), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2116792265) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30214](https://github.com/bitcoin/bitcoin/pull/30214) (refactor: Improve assumeutxo state representation by ryanofsky)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#28843](https://github.com/bitcoin/bitcoin/pull/28843) ([refactor] Remove BlockAssembler m_mempool member by TheCharlatan)\n* [#10102](https://github.com/bitcoin/bitcoin/pull/10102) (Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2139458980",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "commented",
      "id": 2139459750,
      "node_id": "IC_kwDOABII585_hZCm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2139459750",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T12:35:03Z",
      "updated_at": "2024-05-30T12:35:12Z",
      "author_association": "MEMBER",
      "body": "The first commit is all the boilerplate plus a single method `isTestChain()` that's used by the `getblocktemplate` RPC.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2139459750",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12987643549,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMGH7ad",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12987643549",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T15:08:58Z"
    },
    {
      "event": "ready_for_review",
      "id": 12987684427,
      "node_id": "RFRE_lADOABII586KnWy7zwAAAAMGIFZL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12987684427",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T15:10:38Z"
    },
    {
      "event": "commented",
      "id": 2140187315,
      "node_id": "IC_kwDOABII585_kKqz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2140187315",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T16:34:12Z",
      "updated_at": "2024-05-30T16:34:12Z",
      "author_association": "MEMBER",
      "body": "Let me know if I should expand the interface to cover more of `rpc/mining.cpp` or stick to this for now.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2140187315",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "reviewed",
      "id": 2088822400,
      "node_id": "PRR_kwDOABII5858gOaA",
      "url": null,
      "actor": null,
      "commit_id": "f04cf9f75054573c204245f7bb1e6813cce1fed8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2088822400",
      "submitted_at": "2024-05-30T16:36:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "reviewed",
      "id": 2088829216,
      "node_id": "PRR_kwDOABII5858gQEg",
      "url": null,
      "actor": null,
      "commit_id": "b30a8aca5191186f56eb1e9bd8f1a1d899a07039",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2088829216",
      "submitted_at": "2024-05-30T16:40:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "commented",
      "id": 2140862734,
      "node_id": "IC_kwDOABII585_mvkO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2140862734",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-30T21:05:18Z",
      "updated_at": "2024-05-30T21:05:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2140862734",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "reviewed",
      "id": 2096918003,
      "node_id": "PRR_kwDOABII5858_G3z",
      "url": null,
      "actor": null,
      "commit_id": "87ba70a2731951a16432ca2d8d55c62bad87dd41",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 87ba70a2731951a16432ca2d8d55c62bad87dd41\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2140187315\r\n\r\n> Let me know if I should expand the interface to cover more of `rpc/mining.cpp` or stick to this for now.\r\n\r\nI think it's just important for the interface to be usable for stratum code so is not too tied to node internals. It should be ok for RPC code to go around the interface and not use it for everything.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2096918003",
      "submitted_at": "2024-06-04T17:41:24Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "review_requested",
      "id": 13039893045,
      "node_id": "RRE_lADOABII586KnWy7zwAAAAMJPPo1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13039893045",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-04T17:41:27Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13078207514,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMLhZwa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13078207514",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T09:55:48Z"
    },
    {
      "event": "commented",
      "id": 2154504861,
      "node_id": "IC_kwDOABII586AayKd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2154504861",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T09:57:00Z",
      "updated_at": "2024-06-07T10:54:27Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky thanks for the review! I rebased and changed a few things to address comments, see inline.\r\n\r\nI'll cherry-pick this into #29432 to see if we need anything more.\r\n\r\n---\r\n\r\nSwitched back to draft.\r\n\r\nI need to add `IsInitialBlockDownload`, which was the last thing `Sv2TemplateProvider` still needs `ChainstateManager& m_chainman;` for.\r\n\r\nI also need to be able to pass `BlockAssembler::Options` into `createNewBlock` (in a serialisable way).\r\n\r\nForgot to rename `miner` on `NodeContext`, and `makeMiner` to `makeMining` in `init.h`. \r\n\r\nAdditionally the template provider needs to wait, to see if there's a new tip, with `g_best_block_cv.wait_until`. How would I go about moving that into this interface?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2154504861",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "mentioned",
      "id": 13078222849,
      "node_id": "MEE_lADOABII586KnWy7zwAAAAMLhdgB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13078222849",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T09:57:01Z"
    },
    {
      "event": "subscribed",
      "id": 13078222865,
      "node_id": "SE_lADOABII586KnWy7zwAAAAMLhdgR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13078222865",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T09:57:02Z"
    },
    {
      "event": "renamed",
      "id": 13078274580,
      "node_id": "RTE_lADOABII586KnWy7zwAAAAMLhqIU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13078274580",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T10:01:08Z",
      "rename": {
        "from": "Introduce Miner interface",
        "to": "Introduce Mining interface"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 13078468506,
      "node_id": "CTDE_lADOABII586KnWy7zwAAAAMLiZea",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13078468506",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T10:16:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13081451302,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMLtxsm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13081451302",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T13:57:53Z"
    },
    {
      "event": "commented",
      "id": 2154903353,
      "node_id": "IC_kwDOABII586AcTc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2154903353",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T13:57:56Z",
      "updated_at": "2024-06-07T13:57:56Z",
      "author_association": "MEMBER",
      "body": "All the above should be fixed now, except for `g_best_block_cv.wait_until` (but that's not blocking).\r\n\r\nThe biggest change is in 914c26bbd4d7e87af4e0d0edf9af69ae76668b7e. It now makes the `options` argument mandatory for `BlockAssembler` constructor, dropping implicit handling of `ArgsManager`. The caller i.e. the `Mining` interface implementation now handles this.\r\n\r\nIn Stratum v2 the pool communicates how many extra bytes it needs for its own outputs (payouts, extra commitments, etc). This needs to be subtracted from what the user set as -blockmaxweight. To achieve that the caller would have to pass in an options object, and not forget to also process `-blockmintxfee` - a mistake I made in #29432.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2154903353",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "commented",
      "id": 2154948888,
      "node_id": "IC_kwDOABII586AcekY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2154948888",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T14:20:29Z",
      "updated_at": "2024-06-07T15:16:57Z",
      "author_association": "MEMBER",
      "body": "You can see the interface in action in https://github.com/bitcoin/bitcoin/pull/29432/commits/5078e51f4ad3c6bd01580d583274dd5faaf01c70, with one additional argument added to `createNewBlock ` in https://github.com/bitcoin/bitcoin/pull/29432/commits/41ac95ea547eef8c79eb8d2e995df8241f53c030\r\n\r\n--- \r\n\r\nOops, 914c26bbd4d7e87af4e0d0edf9af69ae76668b7e broke some tests, e.g. `test/functional/rpc_generate.py` ...",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2154948888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "ready_for_review",
      "id": 13081793442,
      "node_id": "RFRE_lADOABII586KnWy7zwAAAAMLvFOi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13081793442",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T14:20:30Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13082327651,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMLxHpj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13082327651",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T15:04:10Z"
    },
    {
      "event": "labeled",
      "id": 13082328585,
      "node_id": "LE_lADOABII586KnWy7zwAAAAMLxH4J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13082328585",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T15:04:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2155027685,
      "node_id": "IC_kwDOABII586Acxzl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2155027685",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T15:04:18Z",
      "updated_at": "2024-06-07T15:05:11Z",
      "author_association": "MEMBER",
      "body": "The `generateblock` RPC relies on not passing the mempool to `BlockAssembler`, in order to allow manual transaction selection. So I added `bool use_mempool = true` to `createNewBlock`.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2155027685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "unlabeled",
      "id": 13084879056,
      "node_id": "UNLE_lADOABII586KnWy7zwAAAAML62jQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13084879056",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-07T19:42:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2107880187,
      "node_id": "PRR_kwDOABII5859o7L7",
      "url": null,
      "actor": null,
      "commit_id": "febd3d1c3d41cf6083baf990fb2a3a69cade364a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK febd3d1c3d41cf6083baf990fb2a3a69cade364a\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2107880187",
      "submitted_at": "2024-06-10T14:45:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13104019386,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMND3e6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13104019386",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-10T16:00:29Z"
    },
    {
      "event": "commented",
      "id": 2160080256,
      "node_id": "IC_kwDOABII586AwDWA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2160080256",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:14:14Z",
      "updated_at": "2024-06-11T08:14:14Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky do you have any thoughts on this (for this PR or a followup)?\r\n\r\n> Additionally the template provider needs to wait, to see if there's a new tip, with g_best_block_cv.wait_until. How would I go about moving that into this interface?\r\n\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2160080256",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "mentioned",
      "id": 13112658169,
      "node_id": "MEE_lADOABII586KnWy7zwAAAAMNk0j5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13112658169",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:14:15Z"
    },
    {
      "event": "subscribed",
      "id": 13112658186,
      "node_id": "SE_lADOABII586KnWy7zwAAAAMNk0kK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13112658186",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:14:16Z"
    },
    {
      "event": "labeled",
      "id": 13113054870,
      "node_id": "LE_lADOABII586KnWy7zwAAAAMNmVaW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13113054870",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:42:34Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "labeled",
      "id": 13113057424,
      "node_id": "LE_lADOABII586KnWy7zwAAAAMNmWCQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13113057424",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:42:45Z",
      "label": {
        "name": "Mining",
        "color": "c7def8"
      }
    },
    {
      "event": "commented",
      "id": 2160764070,
      "node_id": "IC_kwDOABII586AyqSm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2160764070",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T13:25:39Z",
      "updated_at": "2024-06-11T13:25:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > Additionally the template provider needs to wait, to see if there's a new tip, with g_best_block_cv.wait_until. How would I go about moving that into this interface?\r\n\r\nMaybe the simplest way to do it would be to have a waitTipChanged() method that just blocks waiting for a new tip, and would be interrupted when the node shuts down or the mining interface is destroyed. If needed, the waiting interface could have more features and accept a timeout or return an object with wait() and cancel() methods.\r\n\r\nAnother alternative would be to provide a callback interface instead of a waiting interface like interfaces::Node:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/0fbb8043ce0d6a931d5ce4bc877b6b596976a908/src/interfaces/node.h#L256-L259",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2160764070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "reviewed",
      "id": 2113260997,
      "node_id": "PRR_kwDOABII58599c3F",
      "url": null,
      "actor": null,
      "commit_id": "4f9c3369a453f7e5f0c12179dd629ee8fc042379",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 4f9c3369a453f7e5f0c12179dd629ee8fc042379. Only changes since last review are: restoring ApplyArgsManOptions function and inconclusive-not-best-prevblk check order, splitting up an internal commit, and improving some commit messages.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2113260997",
      "submitted_at": "2024-06-12T14:43:03Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "labeled",
      "id": 13138018514,
      "node_id": "LE_lADOABII586KnWy7zwAAAAMPFkDS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13138018514",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-12T22:26:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13148205833,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMPsbMJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13148205833",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-13T14:48:57Z"
    },
    {
      "event": "commented",
      "id": 2165900439,
      "node_id": "IC_kwDOABII586BGQSX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2165900439",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-13T14:49:32Z",
      "updated_at": "2024-06-13T14:49:32Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review, and for the suggestions. I might add that later to this PR or as a followup.\r\n\r\nTrivial rebase after #29015.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2165900439",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "unlabeled",
      "id": 13148780331,
      "node_id": "UNLE_lADOABII586KnWy7zwAAAAMPuncr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13148780331",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-13T15:24:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2116692613,
      "node_id": "PRR_kwDOABII585-KiqF",
      "url": null,
      "actor": null,
      "commit_id": "5666af2c6e4924bf8e358ab5121c88d14cb085df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 5666af2c6e4924bf8e358ab5121c88d14cb085df, just rebased since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2116692613",
      "submitted_at": "2024-06-13T18:59:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "reviewed",
      "id": 2116792265,
      "node_id": "PRR_kwDOABII585-K6_J",
      "url": null,
      "actor": null,
      "commit_id": "5666af2c6e4924bf8e358ab5121c88d14cb085df",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2116792265",
      "submitted_at": "2024-06-13T19:57:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "reviewed",
      "id": 2120845152,
      "node_id": "PRR_kwDOABII585-aYdg",
      "url": null,
      "actor": null,
      "commit_id": "5666af2c6e4924bf8e358ab5121c88d14cb085df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 5666af2c6e4924bf8e358ab5121c88d14cb085df\r\nGreat job laying groundwork for Sv2.\r\n\r\nLeft some comments (mostly nits).  Ran unit and functional tests (passed).\r\n\r\nOther than running unit/functional tests and exercising test networks (e.g. regtest for `generate` calls), any other good ways you'd like to see these changes exercised `getblocktemplate()` is a pretty crucial RPC, so being extra paranoid here could be prudent.\r\n\r\np.s. May want to update the description, since RPC functions beyond `getblocktemplate()` and `gererateblock()` also use the new Mining interface (e.g. `submitblock()`, `generatetodescriptor()`, `generatetoaddress()`, etc.)\r\n\r\n",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2120845152",
      "submitted_at": "2024-06-15T21:18:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "review_requested",
      "id": 13172209466,
      "node_id": "RRE_lADOABII586KnWy7zwAAAAMRH_c6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13172209466",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-15T21:18:19Z",
      "requested_reviewer": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 2172702822,
      "node_id": "IC_kwDOABII586BgNBm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2172702822",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T08:41:16Z",
      "updated_at": "2024-06-17T10:20:36Z",
      "author_association": "MEMBER",
      "body": "> any other good ways you'd like to see these changes exercised `getblocktemplate()` is a pretty crucial RPC\r\n\r\nYou could test #27433 on top of the changes here. Or try solo CPU mining on a custom signet, e.g. using [pooler/cpuminer](https://github.com/pooler/cpuminer) and then:\r\n\r\n```sh\r\n./minerd -u bitcoin -p bitcoin -o http://127.0.0.1:38332 --coinbase-addr $ADDRESS --no-stratum --algo=sha256d\r\n```\r\n\r\nThe latter requires `signetchallenge=51` and a patch setting `#define GBT_RULES \"[\\\"segwit\\\", \\\"signet\\\"]\"`.\r\n\r\n> update the description\r\n\r\nDone\r\n\r\n---\r\n\r\nPushed an update to add Doxygen comments for functions that take at least one parameter. Also renamed `scriptPubKeyIn` to `script_pub_key`.\r\n\r\nI changed 38315fc9439ec18f3cb21e2c87c1c590dba78ee2 to have `getTipHash()` return an optional. Now that there's only two calls to it, it's not too tedious to (sanity) check for a missing tip.\r\n\r\n\r\nReview [hint](https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md#diff-the-diffs-with-git-range-diff):\r\n\r\n```sh\r\nPREV=5666af2 N=9 && git range-diff `git merge-base --all HEAD $PREV`...$PREV HEAD~$N...HEAD\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2172702822",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13183415769,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMRyvXZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13183415769",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T10:18:06Z"
    },
    {
      "event": "labeled",
      "id": 13184391861,
      "node_id": "LE_lADOABII586KnWy7zwAAAAMR2dq1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13184391861",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T11:36:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2173170961,
      "node_id": "IC_kwDOABII586Bh_UR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2173170961",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T11:45:19Z",
      "updated_at": "2024-06-17T12:03:47Z",
      "author_association": "MEMBER",
      "body": "Oops, `'TestBlockValidity failed: bad-txns-inputs-missingorspent'` in `rpc_generate.py` (changed to `testBlockValidity`).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2173170961",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13184529386,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMR2_Pq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13184529386",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T11:48:57Z"
    },
    {
      "event": "unlabeled",
      "id": 13185770696,
      "node_id": "UNLE_lADOABII586KnWy7zwAAAAMR7uTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13185770696",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T13:21:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlY2I2ODE2NzgxYzdjN2Y0MjNiNTAxY2JiMmRlM2FiZDcyNTAxMTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ecb6816781c7c7f423b501cbb2de3abd7250119",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ecb6816781c7c7f423b501cbb2de3abd7250119",
      "tree": {
        "sha": "33f35e170a988b4b4718eb9ddf55a1ae13742938",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33f35e170a988b4b4718eb9ddf55a1ae13742938"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 33f35e170a988b4b4718eb9ddf55a1ae13742938\nparent 9c5cdf07f30f816cd134e2cd2dca9c27ef7067a5\nauthor Sjors Provoost <sjors@sprovoost.nl> 1717752164 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729271 +0200\n\nIntroduce Mining interface\n\nStart out with a single method isTestChain() that's used by the getblocktemplate RPC.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujcACgkQV/+b28ww\nEAlW7w/9F4J0koE+jrVO41sOCsHZN7dv6HvaKmLeJNSua1ML5qzDdcfwv5X55JAz\nBJwOlLbBNA5MLm+yyb6evNQmGB42COSVMSOxksyP8Ca/zjr/S5esQpbAxCaXw2uS\nVURVzmi/Zkp6UNckiC01smzP4vcGlF2h8tFWoWIaaqebA2hS3dJTwumXO7Z1+TZl\nm+KWrCQTUc/ZmEVNLAlCMZJiIr/8M4KU1T1jpNpQQgHHHsO0jtveCu6wS7DIFkIg\nnTxZzfZtasMAlj+pB+2VcgIZvrpgRPHgNHP2aACnhcb/pXe9FGBkVX/2LdFxrBCI\n3wWb1O12Mqa3PLH5+0axYdVOdhgrDTiXr/uCQxPWm3W30Ek1kBnQJ4JXu6fyzluX\nHPCR+EcMiw6d8zVnFQbRFIT1PQuu5ck0Iym2F8lwpOkoE3wCSJiy3G3MIneF9zDM\ncXIKGh/u5FEzEhvDf8vCUsIS2B8zI/HzWm466kkv52+4AwdpzaeKbYQ3kNjA9xxh\nXigr/f98YdCSqnUabazbX5LfMB3xGU4PRLthLcSyFaGlz8R5y3G1hWnHygtMWlm6\nYmTfXsctISnOqxIvdHv+7iMPE+lY8Q6kHUc8yZvy/Dv0CwRDgqLRwF7ILE10dxxe\nc/UUpgYFt7Fr+XHiu1hJM8WqGTab1U3Sj8KJCPCdZCTSgcR/lUw=\n=d9M2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c5cdf07f30f816cd134e2cd2dca9c27ef7067a5",
          "sha": "9c5cdf07f30f816cd134e2cd2dca9c27ef7067a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9c5cdf07f30f816cd134e2cd2dca9c27ef7067a5"
        }
      ],
      "message": "Introduce Mining interface\n\nStart out with a single method isTestChain() that's used by the getblocktemplate RPC.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-07T09:22:44Z"
      },
      "sha": "8ecb6816781c7c7f423b501cbb2de3abd7250119"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4YTM0OTZiNWFkMjdiZWE0Yzc5ZWEwMzQ0ZjU5NWNjMWI5NWYwZDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "tree": {
        "sha": "0aac30137fb85c4fd26398c43f4b2da75002cdc9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0aac30137fb85c4fd26398c43f4b2da75002cdc9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0aac30137fb85c4fd26398c43f4b2da75002cdc9\nparent 8ecb6816781c7c7f423b501cbb2de3abd7250119\nauthor Sjors Provoost <sjors@sprovoost.nl> 1718035093 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729271 +0200\n\nrpc: call TestBlockValidity via miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujcACgkQV/+b28ww\nEAkGyA//fiLkdIcfzPxZyQpZYnaqtdEXCj2Tiirwq8SvMZpzdw/1tZlnLtuSUVEb\nH8TlKIsaLcokIZREPVOoNLaeaB0z0/S9asCECDQ6ynYGU6jHcwCz7u50TTaSkfAv\n6MrRCK01jkL5C5/G5tqQaxZr771skAdxkqMrPav10Xm3pkjKWcVefu7VSIDpuH+q\nJHkjXZw+nvCFm8+FyVIAb7u8UuthqlLSr5bcUMXm2nSiwrikkt5s6F8cX4LU0r30\nM5c3ATuk+mpArf7VMRkJ8yzIClUqmjtn4y7gCFHWt+WCR8/1cY/g0MlqVRHqy6ls\n2m9jlDAsAqrB/6yK13ufoN70H7TVDPTOUVh5hxqZQdFtX2PGmvGTDilrOQ0R6ejk\nu6YNKdYTgH6HNZoo/234FjwpdmiTC5R/4Cb5PEv1UT9R22rEhZL1fsJbuAlto9ow\nYd7JU9li7yOuo2bdfpu/l1HtEZDx312JoZx0eIhb3/TKx6Qf4Sz/dhQjD8r1bGfs\nbDMDNh+apsxqWpPsIAGvpYWsQUCcJRjdDcZ0ngR+mOGmBrrrvFW0BzKqIpZYyQc6\nGjCktOPfvEu6qPvcITb0dkeAOHPlDVrhgacvMtx7D6nWgUximJ/W7D9Zssz1N7As\nNlq6Yze/k0IY81vSJ6G5SeaGPJfTKcIRgJxlnQAS66hdi0uDlaU=\n=Et9j\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ecb6816781c7c7f423b501cbb2de3abd7250119",
          "sha": "8ecb6816781c7c7f423b501cbb2de3abd7250119",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ecb6816781c7c7f423b501cbb2de3abd7250119"
        }
      ],
      "message": "rpc: call TestBlockValidity via miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-10T15:58:13Z"
      },
      "sha": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQwNGIwMWM0MzYxMjJiOTUxZTllMDZlZDI2ZDc5ZGJhNDY1MTY4NWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/404b01c436122b951e9e06ed26d79dba4651685e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/404b01c436122b951e9e06ed26d79dba4651685e",
      "tree": {
        "sha": "5186748a7dbc8720724f4a9c5fb6ffd6006250e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5186748a7dbc8720724f4a9c5fb6ffd6006250e4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5186748a7dbc8720724f4a9c5fb6ffd6006250e4\nparent d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3\nauthor Sjors Provoost <sjors@sprovoost.nl> 1717077302 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729271 +0200\n\nrpc: getblocktemplate getTipHash() via Miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujcACgkQV/+b28ww\nEAndhA/+KSBqgek5r+4re52VQr7gjBpARyCapsf1Euc5FpYicN6jOUBNPzaIZnmB\nUhEZwfoSGk1X9p3noDHLcjxINurvDrL0UrH6uWtAuK48VW8kBfWIVgJmToLAEdSG\n0sGQqIA4pMnkk7dDYNIDu/cIEGbRCvKRz5J5zeEg9m8iW+a+F0nbHpAV0WVYzDXr\nWZxdj7+GXx/bOMtou9ZwSSOF+yQQitM5BdOcyzL+UJ+8fbNE71n/L/4pe9b5KXDV\n553wQaZmr3TaoaneRbgFT1w39ITNGfFXffs9rBtpa0x9yDznrde7Qitsqy6ekVmp\n6SrmRHtRp1vDOoebBwdZux3oTulnqfpwgITPYw+StoT0csIX0uI+GeHgGf9puGSN\n/KuoKZBtUETS27HDCd4zzcV9y+Xo/Oa9guZ8IyxbQIfsMfTIFAhxsOu5b8WAY4AQ\nJWZi+2igBizh77x+3g8gvA0e3nRvScpeTZGIbxgEVsmsJYCKFB0Llpk0XD497NUM\n2aowYbLx3R/Dd0i+te1KgzFW2jFAkFVBYBp3maL2rf5GykwXQAJAblesMPbDCYoV\n1YTGTN30F55GzavxlZ0MtYGr9q9qehIqPooznKWYhoYSxys+TYGfUglQS39rJ1cd\nGucxpolviRLegz2wsar5zGLJJ7xQJky9tOvCHw40I3ZEnuS2/k4=\n=PP3L\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
          "sha": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3"
        }
      ],
      "message": "rpc: getblocktemplate getTipHash() via Miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-30T13:55:02Z"
      },
      "sha": "404b01c436122b951e9e06ed26d79dba4651685e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRiZjJlMzYxZGExOTY0ZjdjMjc4YjQ5Mzk5NjdhMGU1YWZkZTIwYjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4bf2e361da1964f7c278b4939967a0e5afde20b0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4bf2e361da1964f7c278b4939967a0e5afde20b0",
      "tree": {
        "sha": "ea724943b5c9af260bd631da0bacaa5755c862ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea724943b5c9af260bd631da0bacaa5755c862ef"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ea724943b5c9af260bd631da0bacaa5755c862ef\nparent 404b01c436122b951e9e06ed26d79dba4651685e\nauthor Sjors Provoost <sjors@sprovoost.nl> 1718031813 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729271 +0200\n\nrpc: call CreateNewBlock via miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujcACgkQV/+b28ww\nEAkGtg/9EI7XqIM92vhEoPFX5K3ktGQ2lNd7RYn4OvmdpzLVe4oUQp2B6DGbOM9C\n7z8tCezHpj599yh3ns5+XLAxqPVPKhTGDlAE8/rDrP2DC8zU1n8NxovAsUW3GVPc\nBupE7opHtbJhiv7P8boiIPwJVToZX9mGmdkAsYvSF7M+R/PXQKjjCXAUQGVmWWGR\nyauR9rv7F/wfF9qy4SXWgMrkAhqzXi27IPh/TjtdC0+k2C0kDxe3XboFzZX1Ok4p\n30bWj8ihKmt4QN2wwF8/fo+s5DEuijuXon0I4MakB8W/ZBBhH/pylq8lXrI79oH2\nkFQXOFaYXJa/zojLaAqwNv4p1drWKP7KTo91gCt1YvqYI7oz98H6NOt9ibe/ztVU\nOWkBna9lZmHQx2PzTeMkhTQ09NgOL0K4G+F6ZYDn1efo2Gy74Ux8IFwo8Oh5CP2A\n/yigGiL23a3BjVHKG1W+Wb77q6JpS2NhNVteuGk+RylOglMkAriArxkukmSUob+q\nXurONsacc5YxKIBOfslvWZocK+twI2isE6kcobPij41KFMy5Hox1lXCEv1WShr4O\njN7x8kZqMgJPI4G5AdfDWJeAYrtyVnbA566M5FBp22ZddE8yQNh48ZSSn1a2Vp1z\nObaiBvM0gIKoNyfzHAQ8yz4oB+MKSMQxF+1WGx6AI49eooh2XrQ=\n=I8hN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/404b01c436122b951e9e06ed26d79dba4651685e",
          "sha": "404b01c436122b951e9e06ed26d79dba4651685e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/404b01c436122b951e9e06ed26d79dba4651685e"
        }
      ],
      "message": "rpc: call CreateNewBlock via miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-10T15:03:33Z"
      },
      "sha": "4bf2e361da1964f7c278b4939967a0e5afde20b0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0ZWJiMGY5NzE3ODY4NzUxN2MyMDYwYmY2Yjk5MzEwNjQ2MDc4ODg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64ebb0f97178687517c2060bf6b9931064607888",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64ebb0f97178687517c2060bf6b9931064607888",
      "tree": {
        "sha": "9ac06633db47c0545052e61727d8351bf0d98a91",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ac06633db47c0545052e61727d8351bf0d98a91"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9ac06633db47c0545052e61727d8351bf0d98a91\nparent 4bf2e361da1964f7c278b4939967a0e5afde20b0\nauthor Sjors Provoost <sjors@sprovoost.nl> 1718033232 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729271 +0200\n\nAlways pass options to BlockAssembler constructor\n\nThis makes the options argument for BlockAssembler constructor mandatory,\ndropping implicit use of ArgsManager. The caller i.e. the Mining\ninterface implementation now handles this.\n\nIn a future Stratum v2 change the Options object needs to be\nmofified after arguments have been processed. Specifically\nthe pool communicates how many extra bytes it needs for\nits own outputs (payouts, extra commitments, etc). This will need\nto be substracted from what the user set as -blockmaxweight.\n\nSuch a change can be implemented in createNewBlock, after\nApplyArgsManOptions.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujgACgkQV/+b28ww\nEAl/0g/9FFwZbO6XFWuUQf3SX8fbf+vWj5UKtwjx08/Ky/P1V+ICR31l4Pzk+uji\ngkmvA8qfxiwqq4xEh6oOkShNdFJtSNvagAvw/PR+LptUyg9XtnJSKbejHHQxJc+i\nxlF2OBb6ouQRs1Q/Ctv8StplP+kd/yeO7g5VxQaIL66mkLmxOZFw2Dw02ljyoNtM\nG/ctfT+D4bUsXIpiKu9S1HVLxmG5UuQ+qMU6rH0kpcmphVnoXcE3VDlrgr3WYeYD\nA1GCRrkWAjNum5Vu+b9NhYKJ5G1nr3GpCyPor9HBsWlpn5zWOxHttgqVO7iFge/z\n1OF2Drlx7NAHeP6cx6/aPsJPR14uyLEJ+Y0+vi4FTKh4kvTsz/glAFIBi+tjXtfz\n6Dxgs+IgV/MebpQpoM7ot7747sS0amKleycCNTr6zuWeqHy5YBX3rBoEpWEoh7Ex\nKHizp5rW7LhNqb06w2oveZCsIAZ//TjZ5IT6RmGKwU7vbXxwdcgksXBY/jzf7H3R\nBU2PIyzki0NtG5u7M5Sj4J7GlS/P+8oBpTGXAoaQUtrt7X1B/8fIe6RbpvKjX7z/\nltUuSLqTWZg1jFSUeXpz10rHTpa4xWnlTly4v14p08NE80ptX1y9FltfoZ2y23gH\nWLnJTsg1evKtSveD7u/lZ4ii57yhF1ye7ahcRYPQgrVDAqXdnD8=\n=60Pw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4bf2e361da1964f7c278b4939967a0e5afde20b0",
          "sha": "4bf2e361da1964f7c278b4939967a0e5afde20b0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4bf2e361da1964f7c278b4939967a0e5afde20b0"
        }
      ],
      "message": "Always pass options to BlockAssembler constructor\n\nThis makes the options argument for BlockAssembler constructor mandatory,\ndropping implicit use of ArgsManager. The caller i.e. the Mining\ninterface implementation now handles this.\n\nIn a future Stratum v2 change the Options object needs to be\nmofified after arguments have been processed. Specifically\nthe pool communicates how many extra bytes it needs for\nits own outputs (payouts, extra commitments, etc). This will need\nto be substracted from what the user set as -blockmaxweight.\n\nSuch a change can be implemented in createNewBlock, after\nApplyArgsManOptions.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-10T15:27:12Z"
      },
      "sha": "64ebb0f97178687517c2060bf6b9931064607888"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDllMjI4MzUxZTc2MWQ4ZDI0NDEzYmJjNGFjMTYxMGI0ZjNkZWMyYmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e228351e761d8d24413bbc4ac1610b4f3dec2bf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9e228351e761d8d24413bbc4ac1610b4f3dec2bf",
      "tree": {
        "sha": "ffc6e235eda844e355b17e9451b50b265f1dd310",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ffc6e235eda844e355b17e9451b50b265f1dd310"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ffc6e235eda844e355b17e9451b50b265f1dd310\nparent 64ebb0f97178687517c2060bf6b9931064607888\nauthor Sjors Provoost <sjors@sprovoost.nl> 1717080389 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729272 +0200\n\nrpc: getTransactionsUpdated via miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujgACgkQV/+b28ww\nEAkVTA/9GqXAQ8ESBzClWbAenk0w1aTAt1c582Wx6pMHb/iRJxbQ8L2YooMzsB/t\nUEugMlsbIymCYNijo3scGbU+AlSQXyTxb15/f0p1b0dieS9xji1mJHPa/ue30WFO\nh3jdYITRPAZHtLQlPtbdDnG53IjDDLkc3UeZ1XzET4oxxPdHNzqX3l95uRgTknyB\n/MtrfXi0b/DyIrwNJWizDZ3lzfhIBc+IbcwBvNQr+7dt2AMMJFjN1BDQ34VRNn06\nOGSbOvHXjGCF8X89m+DmWl+peyhOAuxJptCBSFEAEuP/4efJgiKLyFfNp1GHl+eT\nkFz5R/Nb4BmN06XTTl0NV0CJogSZfXrqOiX2WjX1PyZ5yXgzT7/P5+iTSkPzVljj\nUKtpWK8iiQcEcTHYjWIsNpJjKKKxWcz/JVgwkjliNoQZU0HQhp61PSibGeLTDyt8\n2E2FuTBg/0mQIKGv+pqDdz5WpsGmPeolZQRJawknNjLmIrkbUvTYZqFjx9nQP70S\nosalpsTg9Ab73sWf9Bnr46Z6hLtmlJ1s6AWNpLLRaKa8sj/e+m9K9oJFvwx2kJjU\nJCEm1nB3zm8rKxaIIYnxRrx97IIiCneLBI6frSlOxobv9ykPfufgsKLaShKii+GS\nlNT/OqjO5Elaj4amBc42NawE8ySJn1yHdYfhrITYx6r4Ue9BKn4=\n=gZw8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64ebb0f97178687517c2060bf6b9931064607888",
          "sha": "64ebb0f97178687517c2060bf6b9931064607888",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/64ebb0f97178687517c2060bf6b9931064607888"
        }
      ],
      "message": "rpc: getTransactionsUpdated via miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-30T14:46:29Z"
      },
      "sha": "9e228351e761d8d24413bbc4ac1610b4f3dec2bf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdiNGQzMjQ5Y2VkOTNlYzU5ODY1MDBlNDNiMzI0MDA1ZWQ4OTUwMmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b4d3249ced93ec5986500e43b324005ed89502f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7b4d3249ced93ec5986500e43b324005ed89502f",
      "tree": {
        "sha": "4403ed205051e0873ff424b1bb2ac523645c9393",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4403ed205051e0873ff424b1bb2ac523645c9393"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4403ed205051e0873ff424b1bb2ac523645c9393\nparent 9e228351e761d8d24413bbc4ac1610b4f3dec2bf\nauthor Sjors Provoost <sjors@sprovoost.nl> 1717081619 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729272 +0200\n\nrpc: call processNewBlock via miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujgACgkQV/+b28ww\nEAlxZQ/+NoufNyBa7DqEeyvGaFgdvMoqbc1SQ42O1GtEgDFTY/168vpwgZdb1AJ6\nN7/gKTN9Dn65ygyWhTsgVrNOKNHcv6j+TSduTlf88jfZwSHNkHt3Nf8caBnZfY8C\nTJLLFZp6gFx/arHMRYpTERvsJoF3l0bYw7gOOz93p+hvA8aZhTmExDbvaL/Qdm/D\nHiET9cuiPCvEDR449yyBil8164eDQpD1xNBipxCqcfKTec01NtUz/9eqzSYe4t3x\n1tLkF41woD9Z+3lhMY12m5LhFAUg2Moh7nlNCatVLK+F72IEOvvxOXKN78jU+ywZ\n0G4r5YVbQp79T652tz4QAtoJyyqZBsUZ7R24CzfEOLLOi1XwV4vnOL2dlq23shYN\nBXtu2IRdpvQqH4wExfU/o1EqPIF01uS3zXsT+URePIHQwEUq/99UkdOqR5WdlFEm\n88Z5Wo1imClTFQtc9+DcfnHzXHZjlYeqZMtaG16bd4z2x+1rvgC9nINJILe3u+jQ\n0ljkcumCwQaA7KXk3hRBNt5QfK+RtP1Ba5sBwaMSU1WpwcDWEGawa4r2+W0qMNj9\nhH+kGDmGnLWexuvWGkpS5151My0r/ifkoOOmUcF+FK+5nzeBle6adcrRlYUgoyV4\n7cSkErTrHY602bT2R1jTmxC9B8H+IVG0V/63IFnanEjDaB2Sq8U=\n=B+gZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e228351e761d8d24413bbc4ac1610b4f3dec2bf",
          "sha": "9e228351e761d8d24413bbc4ac1610b4f3dec2bf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9e228351e761d8d24413bbc4ac1610b4f3dec2bf"
        }
      ],
      "message": "rpc: call processNewBlock via miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-30T15:06:59Z"
      },
      "sha": "7b4d3249ced93ec5986500e43b324005ed89502f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRkYTBiMDgzNGZhZjdiZTdlODkzOGJmNjNlN2JiMDFjZDU0YTQxNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dda0b0834faf7be7e8938bf63e7bb01cd54a416a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dda0b0834faf7be7e8938bf63e7bb01cd54a416a",
      "tree": {
        "sha": "c63148232d2de5d4cb3a7b8125bdc952813a53d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c63148232d2de5d4cb3a7b8125bdc952813a53d8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c63148232d2de5d4cb3a7b8125bdc952813a53d8\nparent 7b4d3249ced93ec5986500e43b324005ed89502f\nauthor Sjors Provoost <sjors@sprovoost.nl> 1717753878 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718729272 +0200\n\nrpc: minize getTipHash() calls in gbt\n\nSet tip at the start of the function and only update it for a long poll.\n\nAdditionally have getTipHash return an optional, so the\ncaller can explicitly check that a tip exists.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZxujgACgkQV/+b28ww\nEAmpARAAikQwrt7+jnMPW6wAFJWHKyCZJqKwhpa91P3OyuDHxqKux+gKdx6sfdju\nGsNIZS3zJgKKzTxZYng9QEPVIqL4sSHyTWKKU3orfLsmGTGoL0b6lnVZPHr3v4Qa\nSxtjLA7V8LT3eTs/x+s6RvmzgllJBAeNHr9m/jx1wulEqWiWfQOgAjQhAqC5Lv73\n5O3Z1+jXDjqeF9xI5C/uDeZnsYrrrm/ybu0f118BL+aOU0Rh2LJCOD6/YzgLWpVr\nOVJQUjM+THgYENdU3a1/lK1v7cIGs94n6Y61zboZdQzwpHKQ629ot100xRP/7o6N\nr8pPOWhbFptWo8MALw9RpYXsm4uIJBit3ym3SC/rwq/Pi5hWg/AhEKlQT9FST7dZ\nuL/TFo1rPqFYGAsGoJENoVifNrhNiYMjjpKhdn/RhEheWx70lPhJuCyEz1iAqhLh\nmXQ6/+m2PKeg8Nyyug+DVQEoo/egaiuq4GU406osd+An0Nn11Anv+eecOoVQGa0h\nZWRenYUU1g8vLE76gbmZ9iTl0NEoNktKNTycAbLaqnTw8c0ubeYKprEB1VNSLLoG\n6Fyglguos1x8l66bpZpoU7/g6SzOhAIrDTZdX2I3FMxrm/jwiViUDMlDpBqw53X2\npM0JHFUTYftZFFdugozBRcw8JhPyxJ3KNEDytcQuUTM4sT4uxTk=\n=uylt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b4d3249ced93ec5986500e43b324005ed89502f",
          "sha": "7b4d3249ced93ec5986500e43b324005ed89502f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7b4d3249ced93ec5986500e43b324005ed89502f"
        }
      ],
      "message": "rpc: minize getTipHash() calls in gbt\n\nSet tip at the start of the function and only update it for a long poll.\n\nAdditionally have getTipHash return an optional, so the\ncaller can explicitly check that a tip exists.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T16:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-07T09:51:18Z"
      },
      "sha": "dda0b0834faf7be7e8938bf63e7bb01cd54a416a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13204011024,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMTBTgQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13204011024",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T16:49:49Z"
    },
    {
      "event": "commented",
      "id": 2176551584,
      "node_id": "IC_kwDOABII586Bu4qg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2176551584",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T16:49:52Z",
      "updated_at": "2024-06-18T16:49:52Z",
      "author_association": "MEMBER",
      "body": "Rebased and added some missing `#include`s and `class`es.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2176551584",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5NzE2YzUzZjA1MDgyZDZkODllYmVhNTFhNDZkNDQwNGVmYjEyZDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "tree": {
        "sha": "37be64fee93d82fa4b095e466ee98e5fb53dea15",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/37be64fee93d82fa4b095e466ee98e5fb53dea15"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 37be64fee93d82fa4b095e466ee98e5fb53dea15\nparent dda0b0834faf7be7e8938bf63e7bb01cd54a416a\nauthor Sjors Provoost <sjors@sprovoost.nl> 1718737671 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1718737671 +0200\n\nrpc: call IsInitialBlockDownload via miner interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmZx2wgACgkQV/+b28ww\nEAke6hAAwwSLRKF8ZyWg42RXJKscCXH81gHZzc+y2LvGc0Ti/YUqXFAaNPhbxDuS\nZt2P/O/5JYxgGFjP1M21nlQx3sIQEJOR+J3rmT94noROpsO2eUq4mfoNxwyk+UKG\n8mAPSPiSqsQDXOxFhHX+7tAWqyddBD40s5QdLWfuNf1hGXGQcWcshPNnDc5v0Ir9\nbAI32BLCldoqy+2/F54msohqYKN/v0gHtzuMDNMWVHdThzMjHPoAhSMRqW1f4cWj\npB2piUpGlHZwOjQCSjMllUFnBtAsYw5blq5WvvGiBFulkfkZm86ekn2Hj42t1ght\nQMrCvxNdL7FSFNW7h0z7kFUqwlKntt6Rj2xXcboie7RR2JT7j/WjUrWAswt4Smhv\nOQH7lhyxVI2ak3gqTxYrgd1xhcHuMis9Ir/pLonAdud+kcOFa/NDi1PYX4daHj9y\n+gr2sCnd9E6PTt8LzjDpDR5Ybv2T9Ccxu7cmDz0kihN0UnDOzpiDLmtVzqOrcFQ3\nA8OOReusjGH5DdqPt66EriQcCI7OjdcBXxySbXrDWTriEuedE+6RqUVP7TT4jzl5\n27eafaCMcDOtwxO39ZMUiy583REzBDzNoetcMEjRXQ/ptTu3V2VhyUhU+tSKyZmB\nkBlDfngw1Bgvyi3R5wmk//CN7Sj1Uii1bqsxgRIVL7Y8xeIlkTk=\n=j32O\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dda0b0834faf7be7e8938bf63e7bb01cd54a416a",
          "sha": "dda0b0834faf7be7e8938bf63e7bb01cd54a416a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dda0b0834faf7be7e8938bf63e7bb01cd54a416a"
        }
      ],
      "message": "rpc: call IsInitialBlockDownload via miner interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T19:07:51Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-06-18T19:07:51Z"
      },
      "sha": "a9716c53f05082d6d89ebea51a46d4404efb12d7"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13205413395,
      "node_id": "HRFPE_lADOABII586KnWy7zwAAAAMTGp4T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13205413395",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T19:08:26Z"
    },
    {
      "event": "reviewed",
      "id": 2128264782,
      "node_id": "PRR_kwDOABII585-2r5O",
      "url": null,
      "actor": null,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re ACK a9716c53f05082d6d89ebea51a46d4404efb12d7\r\n\r\nRe-built and ran unit/functional tests (passed).\r\nTested https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2172702822 by mining with cpuminer (https://github.com/pooler/cpuminer) for a custom signet (with `signetchallenge=51` set in bitcoin.conf to allow mining without signature).\r\n\r\nMined for 5000 blocks, and created and spent several transactions (one from 135 coinbase outputs and two derivative transactions).  Temporarily paused mining, created and broadcasted three additional transactions.  Called getblocktemplate to verify that the transactions were included (`src/bitcoin-cli -datadir=/home/dev/customsignet getblocktemplate '{\"rules\":[\"segwit\",\"signet\"]}'`), then continued mining to confirm the transactions.  All mining and spending was successful.\r\n\r\nThis Issue from the cpuminer repo was helpful in bootstrapping (thanks @sjors): https://github.com/pooler/cpuminer/issues/285\r\n\r\nUseful conf and cli:\r\n\r\nbitcoin.conf:\r\n```\r\nsignet=1\r\nrpcuser=bitcoin\r\nrpcpassword=bitcoin\r\n[signet]\r\nsignetchallenge=51\r\n```\r\n\r\n```\r\nsrc/bitcoin-cli -datadir=/home/dev/customsignet getblocktemplate '{\"rules\":[\"segwit\",\"signet\"]}'\r\n```\r\n\r\ncpuminer:\r\n```\r\n./minerd -u bitcoin -p bitcoin -o http://127.0.0.1:38332 --coinbase-addr tb1qwz06m34zc9e5cy8tjz7f3x5xemega5rn0waq0v --no-stratum --algo=sha256d\r\n```",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2128264782",
      "submitted_at": "2024-06-19T13:18:35Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "review_requested",
      "id": 13216426044,
      "node_id": "RRE_lADOABII586KnWy7zwAAAAMTwqg8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13216426044",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T13:18:38Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2131043232,
      "node_id": "PRR_kwDOABII585_BSOg",
      "url": null,
      "actor": null,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "Code review and std-tests ACK a9716c53f05082d6d89ebea51a46d4404efb12d7\r\n\r\nRedirected to this PR from https://github.com/bitcoin/bitcoin/pull/29346#issuecomment-2139460402. I really like how clearly the mining interface is layed out after @ryanofsky comment https://github.com/bitcoin/bitcoin/pull/29346#issuecomment-2108528652 to further support @Sjors work on integrating the noise protocol that seems to be needed for stratum v2.\r\n\r\nI have closely followed the commit history, built and run all standard unit, functional and extended tests, and all of them pass.\r\n\r\nSince `src/interface/mining.h` is a new source file, I included a couple of non-blocking styling nits.",
      "user": {
        "login": "itornaza",
        "id": 11520757,
        "node_id": "MDQ6VXNlcjExNTIwNzU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11520757?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/itornaza",
        "html_url": "https://github.com/itornaza",
        "followers_url": "https://api.github.com/users/itornaza/followers",
        "following_url": "https://api.github.com/users/itornaza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/itornaza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/itornaza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/itornaza/subscriptions",
        "organizations_url": "https://api.github.com/users/itornaza/orgs",
        "repos_url": "https://api.github.com/users/itornaza/repos",
        "events_url": "https://api.github.com/users/itornaza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/itornaza/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2131043232",
      "submitted_at": "2024-06-20T18:14:14Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "reviewed",
      "id": 2131112731,
      "node_id": "PRR_kwDOABII585_BjMb",
      "url": null,
      "actor": null,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK a9716c53f05082d6d89ebea51a46d4404efb12d7 with one minor suggestion in case you update. Only changes since last review were other small changes to the interface.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2131112731",
      "submitted_at": "2024-06-20T18:59:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "reviewed",
      "id": 2131153722,
      "node_id": "PRR_kwDOABII585_BtM6",
      "url": null,
      "actor": null,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#pullrequestreview-2131153722",
      "submitted_at": "2024-06-20T19:00:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
    },
    {
      "event": "merged",
      "id": 13272945921,
      "node_id": "ME_lADOABII586KnWy7zwAAAAMXIRUB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13272945921",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "323b0acfcb9380ce4b3c12a3d0b341d7bb3bfe08",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/323b0acfcb9380ce4b3c12a3d0b341d7bb3bfe08",
      "created_at": "2024-06-24T23:29:58Z"
    },
    {
      "event": "closed",
      "id": 13272946006,
      "node_id": "CE_lADOABII586KnWy7zwAAAAMXIRVW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13272946006",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-24T23:29:58Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 13276243192,
      "node_id": "HRDE_lADOABII586KnWy7zwAAAAMXU2T4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13276243192",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-25T07:05:30Z"
    },
    {
      "event": "commented",
      "id": 2190051885,
      "node_id": "IC_kwDOABII586CiYot",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2190051885",
      "actor": {
        "login": "AngusP",
        "id": 1328814,
        "node_id": "MDQ6VXNlcjEzMjg4MTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1328814?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/AngusP",
        "html_url": "https://github.com/AngusP",
        "followers_url": "https://api.github.com/users/AngusP/followers",
        "following_url": "https://api.github.com/users/AngusP/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/AngusP/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/AngusP/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/AngusP/subscriptions",
        "organizations_url": "https://api.github.com/users/AngusP/orgs",
        "repos_url": "https://api.github.com/users/AngusP/repos",
        "events_url": "https://api.github.com/users/AngusP/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/AngusP/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-25T22:06:41Z",
      "updated_at": "2024-06-25T22:06:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "(late) Code Review ACK a9716c53f05082d6d89ebea51a46d4404efb12d7\r\n\r\nAlso this was good to read to get more familair with the code touched, thanks!",
      "user": {
        "login": "AngusP",
        "id": 1328814,
        "node_id": "MDQ6VXNlcjEzMjg4MTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1328814?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/AngusP",
        "html_url": "https://github.com/AngusP",
        "followers_url": "https://api.github.com/users/AngusP/followers",
        "following_url": "https://api.github.com/users/AngusP/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/AngusP/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/AngusP/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/AngusP/subscriptions",
        "organizations_url": "https://api.github.com/users/AngusP/orgs",
        "repos_url": "https://api.github.com/users/AngusP/repos",
        "events_url": "https://api.github.com/users/AngusP/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/AngusP/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2190051885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30200"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621067334",
      "pull_request_review_id": 2088822400,
      "id": 1621067334,
      "node_id": "PRRC_kwDOABII585gn4ZG",
      "diff_hunk": "@@ -854,6 +856,13 @@ class MinerImpl : public Miner\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, chainman().ActiveChain().Tip(), /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& scriptPubKeyIn) override\n+    {\n+        LOCK(::cs_main);\n+        // TODO pass mempool sanely\n+        return BlockAssembler{chainman().ActiveChainstate(), &*(context()->mempool)}.CreateNewBlock(scriptPubKeyIn);",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f04cf9f75054573c204245f7bb1e6813cce1fed8",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "f04cf9f75054573c204245f7bb1e6813cce1fed8: I guess I should change the `BlockAssembler` constructor",
      "created_at": "2024-05-30T16:36:58Z",
      "updated_at": "2024-05-30T16:36:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1621067334",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621067334"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 863,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621071328",
      "pull_request_review_id": 2088829216,
      "id": 1621071328,
      "node_id": "PRRC_kwDOABII585gn5Xg",
      "diff_hunk": "@@ -31,6 +34,7 @@ ChainstateManager& EnsureAnyChainman(const std::any& context);\n CBlockPolicyEstimator& EnsureFeeEstimator(const node::NodeContext& node);\n CBlockPolicyEstimator& EnsureAnyFeeEstimator(const std::any& context);\n CConnman& EnsureConnman(const node::NodeContext& node);\n+interfaces::Miner& EnsureMiner(const node::NodeContext& node);",
      "path": "src/rpc/server_util.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "b30a8aca5191186f56eb1e9bd8f1a1d899a07039",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@ryanofsky I'm not sure what the design philophy is behind `Ensure` and `EnsureAny`. The other methods here return more low level objects.\r\n\r\nPerhaps related to what you said in https://github.com/bitcoin/bitcoin/pull/29346#issuecomment-2110376536:\r\n\r\n> I think of \"Context\" as being a passive container for state instead of an object you would call methods on. The top level interfaces like `interfaces::Chain` `interface::Node` `interfaces::Wallet` are actually stateless themselves, and only point to state stored in other places. (The idea is to let interface instances be created and destroyed freely, since with multiprocess support new processes can connect and create interface pointers that get destroyed on disconnection, and the state of the node shouldn't be affected too much from connections and disconnections. Anyway, the mining interface could follow this pattern.)",
      "created_at": "2024-05-30T16:40:43Z",
      "updated_at": "2024-05-30T16:41:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1621071328",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621071328"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626320289",
      "pull_request_review_id": 2096918003,
      "id": 1626320289,
      "node_id": "PRRC_kwDOABII585g762h",
      "diff_hunk": "@@ -31,6 +34,7 @@ ChainstateManager& EnsureAnyChainman(const std::any& context);\n CBlockPolicyEstimator& EnsureFeeEstimator(const node::NodeContext& node);\n CBlockPolicyEstimator& EnsureAnyFeeEstimator(const std::any& context);\n CConnman& EnsureConnman(const node::NodeContext& node);\n+interfaces::Miner& EnsureMiner(const node::NodeContext& node);",
      "path": "src/rpc/server_util.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "b30a8aca5191186f56eb1e9bd8f1a1d899a07039",
      "in_reply_to_id": 1621071328,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1621071328\r\n\r\nIn commit \"Introduce Miner interface\" (b30a8aca5191186f56eb1e9bd8f1a1d899a07039)\r\n\r\n> @ryanofsky I'm not sure what the design philophy is behind `Ensure` and `EnsureAny`. The other methods here return more low level objects.\r\n\r\nThis looks good to me. Ensure functions are just supposed to make it possible to access node/wallet state from RPCs in a type-safe way. There are similar functions for the wallet in src/wallet/rpc/util.h.\r\n\r\nIt is true that existing RPC methods just call node and wallet functions directly, instead of going through interface classes like the GUI does, because there hasn't been a need for preventing RPC methods from accessing node or wallet internals.\r\n\r\nBut it would be nice if we could prevent Stratum code from accessing node internals, so having a mining interface seems useful, and having the mining RPCs use the interface is a nice way to test it and make sure it is full-featured.",
      "created_at": "2024-06-04T16:43:01Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626320289",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626320289"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626328774",
      "pull_request_review_id": 2096918003,
      "id": 1626328774,
      "node_id": "PRRC_kwDOABII585g787G",
      "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINER_H\n+#define BITCOIN_INTERFACES_MINER_H\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class CBlockIndex;\n+class BlockValidationState;\n+class CBlockIndex;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Miner\n+{\n+public:\n+    virtual ~Miner() {}\n+\n+    /** If this chain is exclusively used for testing */\n+    virtual bool isTestChain() = 0;\n+\n+    //! Returns the index entry for the tip of this chain, or nullptr if none.\n+    virtual CBlockIndex* getTip() = 0;",
      "path": "src/interfaces/miner.h",
      "position": null,
      "original_position": 31,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "87ba70a2731951a16432ca2d8d55c62bad87dd41",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: getblocktemplate getTip() via Miner interface\" (d5b354ed93266d76ab9e2dd2af9c9b611583a1ee)\r\n\r\nIt looks like all the other `Miner` parameters and return values are serializable except this CBlockIndex pointer. \r\n\r\nThis is fine for this PR, but if you wanted to support stratum code running in another process and calling this, you could change this return value to a struct containing whatever information the miner needs to know about the tip (block hash, previous block hash, block time, etc), instead returning of this pointer to a tree of blocks, which can't easily be used from another process.",
      "created_at": "2024-06-04T16:50:24Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626328774",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626328774"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626346904",
      "pull_request_review_id": 2096918003,
      "id": 1626346904,
      "node_id": "PRRC_kwDOABII585g8BWY",
      "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINER_H\n+#define BITCOIN_INTERFACES_MINER_H\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class CBlockIndex;\n+class BlockValidationState;\n+class CBlockIndex;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Miner",
      "path": "src/interfaces/miner.h",
      "position": null,
      "original_position": 22,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "87ba70a2731951a16432ca2d8d55c62bad87dd41",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Introduce Miner interface\" (b30a8aca5191186f56eb1e9bd8f1a1d899a07039)\r\n\r\nNot important, but could consider renaming this class.\r\n\r\n- interfaces::Node is an interface used by the gui to control the node\r\n- interfaces::Wallet is an interface used by the gui to control the node\r\n- interface::Chain is an interface used by the wallet and indexes to sync with the chain\r\n\r\ninterfaces::Miner sounds like an interface that would be used to control a miner, which is not really what this is. Maybe interfaces::Mining or interfaces::MiningService would be better.",
      "created_at": "2024-06-04T17:05:24Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626346904",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626346904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626351637",
      "pull_request_review_id": 2096918003,
      "id": 1626351637,
      "node_id": "PRRC_kwDOABII585g8CgV",
      "diff_hunk": "@@ -694,6 +696,7 @@ static RPCHelpMan getblocktemplate()\n                 throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"Block decode failed\");\n \n             uint256 hash = block.GetHash();\n+",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d880aa0ebe374394b2f8c061ebc7d428f899b59b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: call TestBlockValidity via miner interface\" (d880aa0ebe374394b2f8c061ebc7d428f899b59b)\r\n\r\nMaybe unintended whitespace change here",
      "created_at": "2024-06-04T17:09:37Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626351637",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626351637"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 699,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626371955",
      "pull_request_review_id": 2096918003,
      "id": 1626371955,
      "node_id": "PRRC_kwDOABII585g8Hdz",
      "diff_hunk": "@@ -761,7 +759,7 @@ static RPCHelpMan getblocktemplate()\n         else\n         {\n             // NOTE: Spec does not specify behaviour for non-string longpollid, but this makes testing easier\n-            hashWatchedChain = active_chain.Tip()->GetBlockHash();\n+            hashWatchedChain = miner.getTip()->GetBlockHash();",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d5b354ed93266d76ab9e2dd2af9c9b611583a1ee",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: getblocktemplate getTip() via Miner interface\" (d5b354ed93266d76ab9e2dd2af9c9b611583a1ee)\r\n\r\nWould suggest introducing a `CBlockIndex* tip{miner.getTip()};` variable, using it where possible, and updating it as needed instead of calling `miner.getTip()` repeatedly in this function.\r\n\r\nIt seems like the reason it is ok to make multiple getTip() calls is that cs_main is locked for most of this function. But more ideally, this function would not be locking cs_main directly, only calling interface methods which lock cs_main internally. Using a tip variable in this code, instead of just assuming tip cannot change, would get closer to this state.",
      "created_at": "2024-06-04T17:24:56Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626371955",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626371955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 762,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626379012",
      "pull_request_review_id": 2096918003,
      "id": 1626379012,
      "node_id": "PRRC_kwDOABII585g8JME",
      "diff_hunk": "@@ -854,6 +856,13 @@ class MinerImpl : public Miner\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, chainman().ActiveChain().Tip(), /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& scriptPubKeyIn) override\n+    {\n+        LOCK(::cs_main);\n+        // TODO pass mempool sanely\n+        return BlockAssembler{chainman().ActiveChainstate(), &*(context()->mempool)}.CreateNewBlock(scriptPubKeyIn);",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f04cf9f75054573c204245f7bb1e6813cce1fed8",
      "in_reply_to_id": 1621067334,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1621067334\r\n\r\n> I guess I should change the `BlockAssembler` constructor\r\n\r\nIn commit \"rpc: call CreateNewBlock via miner interface\" (f04cf9f75054573c204245f7bb1e6813cce1fed8)\r\n\r\nI don't actually understand the TODO here. The way the mempool is passed seems ok. You could do mempool.get() instead of &*mempool, but both should be equivalent.",
      "created_at": "2024-06-04T17:30:34Z",
      "updated_at": "2024-06-04T17:41:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1626379012",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626379012"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 863,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967421",
      "pull_request_review_id": 2104138088,
      "id": 1630967421,
      "node_id": "PRRC_kwDOABII585hNpZ9",
      "diff_hunk": "@@ -761,7 +759,7 @@ static RPCHelpMan getblocktemplate()\n         else\n         {\n             // NOTE: Spec does not specify behaviour for non-string longpollid, but this makes testing easier\n-            hashWatchedChain = active_chain.Tip()->GetBlockHash();\n+            hashWatchedChain = miner.getTip()->GetBlockHash();",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d5b354ed93266d76ab9e2dd2af9c9b611583a1ee",
      "in_reply_to_id": 1626371955,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm now setting `uint256 tip{miner.getTipHash()};` at the top. For long polls it's updated after the wait. See d1be135e568605539fa3932da6e7c5032816825b.",
      "created_at": "2024-06-07T09:56:37Z",
      "updated_at": "2024-06-07T09:56:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1630967421",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967421"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 762,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967487",
      "pull_request_review_id": 2104138185,
      "id": 1630967487,
      "node_id": "PRRC_kwDOABII585hNpa_",
      "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINER_H\n+#define BITCOIN_INTERFACES_MINER_H\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class CBlockIndex;\n+class BlockValidationState;\n+class CBlockIndex;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Miner",
      "path": "src/interfaces/miner.h",
      "position": null,
      "original_position": 22,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "87ba70a2731951a16432ca2d8d55c62bad87dd41",
      "in_reply_to_id": 1626346904,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Renamed to `Mining`",
      "created_at": "2024-06-07T09:56:40Z",
      "updated_at": "2024-06-07T09:56:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1630967487",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967487"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967663",
      "pull_request_review_id": 2104138482,
      "id": 1630967663,
      "node_id": "PRRC_kwDOABII585hNpdv",
      "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINER_H\n+#define BITCOIN_INTERFACES_MINER_H\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class CBlockIndex;\n+class BlockValidationState;\n+class CBlockIndex;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Miner\n+{\n+public:\n+    virtual ~Miner() {}\n+\n+    /** If this chain is exclusively used for testing */\n+    virtual bool isTestChain() = 0;\n+\n+    //! Returns the index entry for the tip of this chain, or nullptr if none.\n+    virtual CBlockIndex* getTip() = 0;",
      "path": "src/interfaces/miner.h",
      "position": null,
      "original_position": 31,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "87ba70a2731951a16432ca2d8d55c62bad87dd41",
      "in_reply_to_id": 1626328774,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I replaced `getTip()` with `getTipHash()`. `Sv2TemplateProvider` doesn't need it, so for now I use it in a few places in `rpc/mining.cpp`, but then fall back to `chainman.m_blockman.LookupBlockIndex(miner.getTipHash())` where we need more info.\r\n\r\nA future refactor could move more of `getblocktemplate` implementation details out of the RPC.",
      "created_at": "2024-06-07T09:56:48Z",
      "updated_at": "2024-06-07T09:56:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1630967663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967783",
      "pull_request_review_id": 2104138685,
      "id": 1630967783,
      "node_id": "PRRC_kwDOABII585hNpfn",
      "diff_hunk": "@@ -854,6 +856,13 @@ class MinerImpl : public Miner\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, chainman().ActiveChain().Tip(), /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& scriptPubKeyIn) override\n+    {\n+        LOCK(::cs_main);\n+        // TODO pass mempool sanely\n+        return BlockAssembler{chainman().ActiveChainstate(), &*(context()->mempool)}.CreateNewBlock(scriptPubKeyIn);",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f04cf9f75054573c204245f7bb1e6813cce1fed8",
      "in_reply_to_id": 1621067334,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, replaced it with `get()`.",
      "created_at": "2024-06-07T09:56:55Z",
      "updated_at": "2024-06-07T09:56:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1630967783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630967783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 863,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633296276",
      "pull_request_review_id": 2107880187,
      "id": 1633296276,
      "node_id": "PRRC_kwDOABII585hWh-U",
      "diff_hunk": "@@ -703,12 +706,14 @@ static RPCHelpMan getblocktemplate()\n                 return \"duplicate-inconclusive\";\n             }\n \n+            BlockValidationState state;\n+            miner.testBlockValidity(state, block, /*check_merkle_root=*/true);",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "8589e6c44726d6b5760095d72c37934e4be3315c",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: call TestBlockValidity via miner interface\" (8589e6c44726d6b5760095d72c37934e4be3315c)\r\n\r\nWhy is the `testBlockValidity` check being moved before the block.hashPrevBlock != tip check? The previous ordering seemed more straightforward and consistent with \"TestBlockValidity only supports blocks built on the current Tip\" comment",
      "created_at": "2024-06-10T13:54:43Z",
      "updated_at": "2024-06-10T14:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633296276",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633296276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633297880",
      "pull_request_review_id": 2107880187,
      "id": 1633297880,
      "node_id": "PRRC_kwDOABII585hWiXY",
      "diff_hunk": "@@ -25,6 +26,9 @@ class Mining\n     /** If this chain is exclusively used for testing */\n     virtual bool isTestChain() = 0;\n \n+    //! Returns the hash for the tip of this chain, 0 if none\n+    virtual uint256 getTipHash() = 0;",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 13,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "9c226c5c3818ef157fc50a5f6ecc534a612ac1d0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: getblocktemplate getTip() via Miner interface\" (9c226c5c3818ef157fc50a5f6ecc534a612ac1d0)\r\n\r\nCommit message could be updated since this now called getTipHash",
      "created_at": "2024-06-10T13:55:39Z",
      "updated_at": "2024-06-10T14:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633297880",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633297880"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633318785",
      "pull_request_review_id": 2107880187,
      "id": 1633318785,
      "node_id": "PRRC_kwDOABII585hWneB",
      "diff_hunk": "@@ -203,9 +202,6 @@ int64_t UpdateTime(CBlockHeader* pblock, const Consensus::Params& consensusParam\n \n /** Update an old GenerateCoinbaseCommitment from CreateNewBlock after the block txs have changed */\n void RegenerateCommitments(CBlock& block, ChainstateManager& chainman);\n-\n-/** Apply -blockmintxfee and -blockmaxweight options from ArgsManager to BlockAssembler options. */\n-void ApplyArgsManOptions(const ArgsManager& gArgs, BlockAssembler::Options& options);",
      "path": "src/node/miner.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f375fb9a0dff7ccead80626f4aee853db7799e6f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: call CreateNewBlock via miner interface\" (f375fb9a0dff7ccead80626f4aee853db7799e6f)\r\n\r\nIt might be good to keep this ApplyArgsManOptions function for more consistency with other options parsing code. The node/interfaces.cpp createNewBlock function could call ApplyArgsManOptions instead of parsing options itself. The current approach also seems ok though if you prefer it.",
      "created_at": "2024-06-10T14:08:15Z",
      "updated_at": "2024-06-10T14:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633318785",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633318785"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 208,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633363110",
      "pull_request_review_id": 2107880187,
      "id": 1633363110,
      "node_id": "PRRC_kwDOABII585hWySm",
      "diff_hunk": "@@ -856,6 +859,20 @@ class MinerImpl : public Mining\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, chainman().ActiveChain().Tip(), /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& scriptPubKeyIn, bool use_mempool) override\n+    {\n+        BlockAssembler::Options options;\n+\n+        // Block resource limits\n+        options.nBlockMaxWeight = gArgs.GetIntArg(\"-blockmaxweight\", options.nBlockMaxWeight);\n+        if (const auto blockmintxfee{gArgs.GetArg(\"-blockmintxfee\")}) {\n+            if (const auto parsed{ParseMoney(*blockmintxfee)}) options.blockMinFeeRate = CFeeRate{*parsed};\n+        }",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f375fb9a0dff7ccead80626f4aee853db7799e6f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: call CreateNewBlock via miner interface\" (f375fb9a0dff7ccead80626f4aee853db7799e6f)\r\n\r\nI'm not clear how this implementation lines up with the commit description which says \"the pool communicates how many extra bytes it needs for its own outputs (payouts, extra commitments, etc). This needs to be substracted from what the user set as -blockmaxweight.\"\r\n\r\nIs the commit description just saying that this implementation is not complete and it will need to be extended in the future? Would be helpful to clarify.",
      "created_at": "2024-06-10T14:34:50Z",
      "updated_at": "2024-06-10T14:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633363110",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633363110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": 867,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 870,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633391557",
      "pull_request_review_id": 2108037087,
      "id": 1633391557,
      "node_id": "PRRC_kwDOABII585hW5PF",
      "diff_hunk": "@@ -856,6 +859,20 @@ class MinerImpl : public Mining\n         return TestBlockValidity(state, chainman().GetParams(), chainman().ActiveChainstate(), block, chainman().ActiveChain().Tip(), /*fCheckPOW=*/false, check_merkle_root);\n     }\n \n+    std::unique_ptr<CBlockTemplate> createNewBlock(const CScript& scriptPubKeyIn, bool use_mempool) override\n+    {\n+        BlockAssembler::Options options;\n+\n+        // Block resource limits\n+        options.nBlockMaxWeight = gArgs.GetIntArg(\"-blockmaxweight\", options.nBlockMaxWeight);\n+        if (const auto blockmintxfee{gArgs.GetArg(\"-blockmintxfee\")}) {\n+            if (const auto parsed{ParseMoney(*blockmintxfee)}) options.blockMinFeeRate = CFeeRate{*parsed};\n+        }",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f375fb9a0dff7ccead80626f4aee853db7799e6f",
      "in_reply_to_id": 1633363110,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, this is a reference to the future change in sv2. I reworded it in 6b7c8c3e27ae529306d18019e7bd94b4ae5b9a21.",
      "created_at": "2024-06-10T14:52:05Z",
      "updated_at": "2024-06-10T16:01:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633391557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633391557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": 867,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 870,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492530",
      "pull_request_review_id": 2108202167,
      "id": 1633492530,
      "node_id": "PRRC_kwDOABII585hXR4y",
      "diff_hunk": "@@ -203,9 +202,6 @@ int64_t UpdateTime(CBlockHeader* pblock, const Consensus::Params& consensusParam\n \n /** Update an old GenerateCoinbaseCommitment from CreateNewBlock after the block txs have changed */\n void RegenerateCommitments(CBlock& block, ChainstateManager& chainman);\n-\n-/** Apply -blockmintxfee and -blockmaxweight options from ArgsManager to BlockAssembler options. */\n-void ApplyArgsManOptions(const ArgsManager& gArgs, BlockAssembler::Options& options);",
      "path": "src/node/miner.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "f375fb9a0dff7ccead80626f4aee853db7799e6f",
      "in_reply_to_id": 1633318785,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I split f375fb9a0dff7ccead80626f4aee853db7799e6f in two parts:\r\n\r\n1. 6d6ddcb759465c7375ff772faa960cf92805468a simply adds and uses the interface\r\n2. 6b7c8c3e27ae529306d18019e7bd94b4ae5b9a21 drops the `BlockAssembler` constructor without `options` argument\r\n\r\nI changed this second commit to keep `ApplyArgsManOptions`.",
      "created_at": "2024-06-10T16:00:46Z",
      "updated_at": "2024-06-10T16:00:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633492530",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492530"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 208,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492626",
      "pull_request_review_id": 2108202322,
      "id": 1633492626,
      "node_id": "PRRC_kwDOABII585hXR6S",
      "diff_hunk": "@@ -25,6 +26,9 @@ class Mining\n     /** If this chain is exclusively used for testing */\n     virtual bool isTestChain() = 0;\n \n+    //! Returns the hash for the tip of this chain, 0 if none\n+    virtual uint256 getTipHash() = 0;",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 13,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "9c226c5c3818ef157fc50a5f6ecc534a612ac1d0",
      "in_reply_to_id": 1633297880,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2024-06-10T16:00:51Z",
      "updated_at": "2024-06-10T16:00:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633492626",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492703",
      "pull_request_review_id": 2108202457,
      "id": 1633492703,
      "node_id": "PRRC_kwDOABII585hXR7f",
      "diff_hunk": "@@ -703,12 +706,14 @@ static RPCHelpMan getblocktemplate()\n                 return \"duplicate-inconclusive\";\n             }\n \n+            BlockValidationState state;\n+            miner.testBlockValidity(state, block, /*check_merkle_root=*/true);",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "8589e6c44726d6b5760095d72c37934e4be3315c",
      "in_reply_to_id": 1633296276,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that was by accident. Moved it back in 609c9ca052d90d029435e24ec3331ef145c11fcf.",
      "created_at": "2024-06-10T16:00:55Z",
      "updated_at": "2024-06-10T16:01:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1633492703",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1633492703"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641433677",
      "pull_request_review_id": 2120845152,
      "id": 1641433677,
      "node_id": "PRRC_kwDOABII585h1kpN",
      "diff_hunk": "@@ -22,6 +25,13 @@ class Mining\n     /** If this chain is exclusively used for testing */\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     * */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root) = 0;",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 19,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "2833c3ccf6ea0b43c296b5dd4f8e3107697590ff",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:  Since this is an interface, to maximize clarity it might be good to add Doxygen-ey style `@param` and `@returns` statements in the function comment, similar to `processNewBlock()`.\r\nSame for `createNewBlock()`.\r\n\r\nAlso, would it make sense to provide a default value for `check_merkle_root` (e.g. default true)?  Or do we want users of the interface to explicitly state whether or not they want merkle root checking performed?",
      "created_at": "2024-06-15T19:59:22Z",
      "updated_at": "2024-06-15T21:19:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1641433677",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641433677"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641438112",
      "pull_request_review_id": 2120845152,
      "id": 1641438112,
      "node_id": "PRRC_kwDOABII585h1lug",
      "diff_hunk": "@@ -706,10 +708,11 @@ static RPCHelpMan getblocktemplate()\n \n             CBlockIndex* const pindexPrev = active_chain.Tip();\n             // TestBlockValidity only supports blocks built on the current Tip\n-            if (block.hashPrevBlock != pindexPrev->GetBlockHash())\n+            if (block.hashPrevBlock != pindexPrev->GetBlockHash()) {\n                 return \"inconclusive-not-best-prevblk\";\n+            }\n             BlockValidationState state;\n-            TestBlockValidity(state, chainman.GetParams(), active_chainstate, block, pindexPrev, false, true);\n+            miner.testBlockValidity(state, block, /*check_merkle_root=*/true);",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "2833c3ccf6ea0b43c296b5dd4f8e3107697590ff",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: If a default value for `check_merkle_root` is added to `testBlockValidity()`, this call could be updated as well.",
      "created_at": "2024-06-15T20:17:22Z",
      "updated_at": "2024-06-15T21:18:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1641438112",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641438112"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641440653",
      "pull_request_review_id": 2120845152,
      "id": 1641440653,
      "node_id": "PRRC_kwDOABII585h1mWN",
      "diff_hunk": "@@ -844,6 +844,14 @@ class MinerImpl : public Mining\n         return chainman().GetParams().IsTestChain();\n     }\n \n+    uint256 getTipHash() override\n+    {\n+        LOCK(::cs_main);\n+        CBlockIndex* tip{chainman().ActiveChain().Tip()};\n+        if (!tip) return uint256{0};\n+        return tip->GetBlockHash();",
      "path": "src/node/interfaces.cpp",
      "position": 59,
      "original_position": 9,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "a78bc3ac4f600e656bf839aad9989c8bce51ae71",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Although extraordinarily improbable, is the value of 0 reserved as an invalid hash (maybe I'm forgetting something)? If not, maybe it's worth updating this function to return something like `std::optional<uint256>` instead?",
      "created_at": "2024-06-15T20:29:39Z",
      "updated_at": "2024-06-15T21:18:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1641440653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641440653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 860,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641492827",
      "pull_request_review_id": 2120845152,
      "id": 1641492827,
      "node_id": "PRRC_kwDOABII585h1zFb",
      "diff_hunk": "@@ -816,9 +815,10 @@ static RPCHelpMan getblocktemplate()\n \n         // Create new block\n         CScript scriptDummy = CScript() << OP_TRUE;\n-        pblocktemplate = BlockAssembler{active_chainstate, &mempool}.CreateNewBlock(scriptDummy);\n-        if (!pblocktemplate)\n+        pblocktemplate = miner.createNewBlock(scriptDummy);\n+        if (!pblocktemplate) {\n             throw JSONRPCError(RPC_OUT_OF_MEMORY, \"Out of memory\");\n+        }\n \n         // Need to update only after we know CreateNewBlock succeeded",
      "path": "src/rpc/mining.cpp",
      "position": null,
      "original_position": 70,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "9c7402bba8a6320bbe095e4b585c33a99f02315f",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:  this comment (and the one on 811) still mention `CreateNewBlock` rather than the new `createNewBlock`.  Feel free to ignore unless touching this file for something else.",
      "created_at": "2024-06-15T20:54:42Z",
      "updated_at": "2024-06-15T21:18:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1641492827",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1641492827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 823,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1642458226",
      "pull_request_review_id": 2122321591,
      "id": 1642458226,
      "node_id": "PRRC_kwDOABII585h5exy",
      "diff_hunk": "@@ -844,6 +844,14 @@ class MinerImpl : public Mining\n         return chainman().GetParams().IsTestChain();\n     }\n \n+    uint256 getTipHash() override\n+    {\n+        LOCK(::cs_main);\n+        CBlockIndex* tip{chainman().ActiveChain().Tip()};\n+        if (!tip) return uint256{0};\n+        return tip->GetBlockHash();",
      "path": "src/node/interfaces.cpp",
      "position": 59,
      "original_position": 9,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "a78bc3ac4f600e656bf839aad9989c8bce51ae71",
      "in_reply_to_id": 1641440653,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`GetBlockHash()`, which was called directly before this commit, has an `assert` that `tip` must exist. So `return uint256{0};` should never happen. An optional does seem more robust though, will look into it.\r\n\r\nUpdate: done",
      "created_at": "2024-06-17T09:00:48Z",
      "updated_at": "2024-06-17T10:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1642458226",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1642458226"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 860,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1642459287",
      "pull_request_review_id": 2122323356,
      "id": 1642459287,
      "node_id": "PRRC_kwDOABII585h5fCX",
      "diff_hunk": "@@ -22,6 +25,13 @@ class Mining\n     /** If this chain is exclusively used for testing */\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     * */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root) = 0;",
      "path": "src/interfaces/mining.h",
      "position": null,
      "original_position": 19,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "2833c3ccf6ea0b43c296b5dd4f8e3107697590ff",
      "in_reply_to_id": 1641433677,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I added a default `true` to mimic `TestBlockValidity` in `validation.h`.",
      "created_at": "2024-06-17T09:01:43Z",
      "updated_at": "2024-06-17T09:01:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1642459287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1642459287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647945526",
      "pull_request_review_id": 2131043232,
      "id": 1647945526,
      "node_id": "PRRC_kwDOABII585iOac2",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINING_H\n+#define BITCOIN_INTERFACES_MINING_H\n+\n+#include <optional>\n+#include <uint256.h>\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class BlockValidationState;\n+class CBlock;\n+class CScript;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Mining\n+{\n+public:\n+    virtual ~Mining() {}\n+\n+    //! If this chain is exclusively used for testing\n+    virtual bool isTestChain() = 0;\n+\n+    //! Returns whether IBD is still in progress.\n+    virtual bool isInitialBlockDownload() = 0;\n+\n+    //! Returns the hash for the tip of this chain\n+    virtual std::optional<uint256> getTipHash() = 0;\n+\n+   /**\n+     * Construct a new block template\n+     *\n+     * @param[in] script_pub_key the coinbase output\n+     * @param[in] use_mempool set false to omit mempool transactions\n+     * @returns a block template\n+     */\n+    virtual std::unique_ptr<node::CBlockTemplate> createNewBlock(const CScript& script_pub_key, bool use_mempool = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 46,
      "original_position": 46,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "in_reply_to_id": null,
      "user": {
        "login": "itornaza",
        "id": 11520757,
        "node_id": "MDQ6VXNlcjExNTIwNzU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11520757?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/itornaza",
        "html_url": "https://github.com/itornaza",
        "followers_url": "https://api.github.com/users/itornaza/followers",
        "following_url": "https://api.github.com/users/itornaza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/itornaza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/itornaza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/itornaza/subscriptions",
        "organizations_url": "https://api.github.com/users/itornaza/orgs",
        "repos_url": "https://api.github.com/users/itornaza/repos",
        "events_url": "https://api.github.com/users/itornaza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/itornaza/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "non-blocking nit: In case you revise this file for a more serious reason, maybe consider adding an empty line here for more readability and consistence with the rest of this source file.",
      "created_at": "2024-06-20T17:54:59Z",
      "updated_at": "2024-06-20T18:14:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1647945526",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647945526"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647947327",
      "pull_request_review_id": 2131043232,
      "id": 1647947327,
      "node_id": "PRRC_kwDOABII585iOa4_",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINING_H\n+#define BITCOIN_INTERFACES_MINING_H\n+\n+#include <optional>\n+#include <uint256.h>\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class BlockValidationState;\n+class CBlock;\n+class CScript;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Mining\n+{\n+public:\n+    virtual ~Mining() {}\n+\n+    //! If this chain is exclusively used for testing\n+    virtual bool isTestChain() = 0;\n+\n+    //! Returns whether IBD is still in progress.\n+    virtual bool isInitialBlockDownload() = 0;\n+\n+    //! Returns the hash for the tip of this chain\n+    virtual std::optional<uint256> getTipHash() = 0;\n+\n+   /**\n+     * Construct a new block template\n+     *\n+     * @param[in] script_pub_key the coinbase output\n+     * @param[in] use_mempool set false to omit mempool transactions\n+     * @returns a block template\n+     */\n+    virtual std::unique_ptr<node::CBlockTemplate> createNewBlock(const CScript& script_pub_key, bool use_mempool = true) = 0;\n+    /**\n+     * Processes new block. A valid new block is automatically relayed to peers.\n+     *\n+     * @param[in]   block The block we want to process.",
      "path": "src/interfaces/mining.h",
      "position": 50,
      "original_position": 50,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "in_reply_to_id": null,
      "user": {
        "login": "itornaza",
        "id": 11520757,
        "node_id": "MDQ6VXNlcjExNTIwNzU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11520757?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/itornaza",
        "html_url": "https://github.com/itornaza",
        "followers_url": "https://api.github.com/users/itornaza/followers",
        "following_url": "https://api.github.com/users/itornaza/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/itornaza/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/itornaza/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/itornaza/subscriptions",
        "organizations_url": "https://api.github.com/users/itornaza/orgs",
        "repos_url": "https://api.github.com/users/itornaza/repos",
        "events_url": "https://api.github.com/users/itornaza/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/itornaza/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "non-blocking nit: For consistency with the rest of the headers in this file, you may want to convert the tabs after params to spaces.",
      "created_at": "2024-06-20T17:56:41Z",
      "updated_at": "2024-06-20T18:14:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1647947327",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647947327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647987176",
      "pull_request_review_id": 2131112731,
      "id": 1647987176,
      "node_id": "PRRC_kwDOABII585iOkno",
      "diff_hunk": "@@ -22,6 +25,18 @@ class Mining\n     //! If this chain is exclusively used for testing\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     *\n+     * @param[out] state details of why a block failed to validate\n+     * @param[in] block the block to validate\n+     * @param[in] check_merkle_root call CheckMerkleRoot()\n+     * @returns false if any of the checks fail\n+     */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 70,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: call TestBlockValidity via miner interface\" (d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3)\r\n\r\nNot important, but it might be good to move the `state` output parameter last. The reason would be to work with the libmultiprocess code generator in case we want to expose this interface over IPC. The code generator only knows how to parse Cap'n Proto declarations, not C++ code, so when it encounters a Cap'n Proto method declaration with output parameters like:\r\n\r\n```capnp\r\ntestBlockValidity @1 (block: Data, maxTxFee :Bool) -> (state: ValidationState, result :Bool);\r\n```\r\n\r\nit just assumes a corresponding C++ method exists with the listed input parameters first and output parameters last.\r\n\r\n(Also I just noticed information about output parameters was changed in the developer notes. Suggestion to put output parameters last used used to be mentioned in the \"internal interface\" style section, but it looks like commit e66b321fd1ddfffd9bfc59d407ad8f03490b873c from #25092 turned that advice into a bigger, broader rule, which I'm not sure is a great change..)",
      "created_at": "2024-06-20T18:36:17Z",
      "updated_at": "2024-06-20T19:00:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1647987176",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647987176"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648509473",
      "pull_request_review_id": 2131938915,
      "id": 1648509473,
      "node_id": "PRRC_kwDOABII585iQkIh",
      "diff_hunk": "@@ -22,6 +25,18 @@ class Mining\n     //! If this chain is exclusively used for testing\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     *\n+     * @param[out] state details of why a block failed to validate\n+     * @param[in] block the block to validate\n+     * @param[in] check_merkle_root call CheckMerkleRoot()\n+     * @returns false if any of the checks fail\n+     */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 70,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "in_reply_to_id": 1647987176,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I'll change this if I have to retouch.",
      "created_at": "2024-06-21T07:06:17Z",
      "updated_at": "2024-06-21T07:06:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1648509473",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648509473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652111765",
      "pull_request_review_id": 2137573527,
      "id": 1652111765,
      "node_id": "PRRC_kwDOABII585ieTmV",
      "diff_hunk": "@@ -22,6 +25,18 @@ class Mining\n     //! If this chain is exclusively used for testing\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     *\n+     * @param[out] state details of why a block failed to validate\n+     * @param[in] block the block to validate\n+     * @param[in] check_merkle_root call CheckMerkleRoot()\n+     * @returns false if any of the checks fail\n+     */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 70,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "in_reply_to_id": 1647987176,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I made a note to do this along with a PR to add something like `waitTipChanged()` \r\nhttps://github.com/bitcoin/bitcoin/pull/30200#issuecomment-2160764070",
      "created_at": "2024-06-25T07:08:21Z",
      "updated_at": "2024-06-25T07:08:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1652111765",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652111765"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652627253",
      "pull_request_review_id": 2138397578,
      "id": 1652627253,
      "node_id": "PRRC_kwDOABII585igRc1",
      "diff_hunk": "@@ -22,6 +25,18 @@ class Mining\n     //! If this chain is exclusively used for testing\n     virtual bool isTestChain() = 0;\n \n+    /**\n+     * Check a block is completely valid from start to finish.\n+     * Only works on top of our current best block.\n+     * Does not check proof-of-work.\n+     *\n+     * @param[out] state details of why a block failed to validate\n+     * @param[in] block the block to validate\n+     * @param[in] check_merkle_root call CheckMerkleRoot()\n+     * @returns false if any of the checks fail\n+     */\n+    virtual bool testBlockValidity(BlockValidationState& state, const CBlock& block, bool check_merkle_root = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 70,
      "original_position": 24,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "d8a3496b5ad27bea4c79ea0344f595cc1b95f0d3",
      "in_reply_to_id": 1647987176,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually, doing this now since I ran into another (minor) issue: #30335",
      "created_at": "2024-06-25T11:38:33Z",
      "updated_at": "2024-06-25T11:38:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1652627253",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652627253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652645443",
      "pull_request_review_id": 2138423691,
      "id": 1652645443,
      "node_id": "PRRC_kwDOABII585igV5D",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERFACES_MINING_H\n+#define BITCOIN_INTERFACES_MINING_H\n+\n+#include <optional>\n+#include <uint256.h>\n+\n+namespace node {\n+struct CBlockTemplate;\n+struct NodeContext;\n+} // namespace node\n+\n+class BlockValidationState;\n+class CBlock;\n+class CScript;\n+\n+namespace interfaces {\n+\n+//! Interface giving clients (RPC, Stratum v2 Template Provider in the future)\n+//! ability to create block templates.\n+\n+class Mining\n+{\n+public:\n+    virtual ~Mining() {}\n+\n+    //! If this chain is exclusively used for testing\n+    virtual bool isTestChain() = 0;\n+\n+    //! Returns whether IBD is still in progress.\n+    virtual bool isInitialBlockDownload() = 0;\n+\n+    //! Returns the hash for the tip of this chain\n+    virtual std::optional<uint256> getTipHash() = 0;\n+\n+   /**\n+     * Construct a new block template\n+     *\n+     * @param[in] script_pub_key the coinbase output\n+     * @param[in] use_mempool set false to omit mempool transactions\n+     * @returns a block template\n+     */\n+    virtual std::unique_ptr<node::CBlockTemplate> createNewBlock(const CScript& script_pub_key, bool use_mempool = true) = 0;",
      "path": "src/interfaces/mining.h",
      "position": 46,
      "original_position": 46,
      "commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "original_commit_id": "a9716c53f05082d6d89ebea51a46d4404efb12d7",
      "in_reply_to_id": 1647945526,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in #30335",
      "created_at": "2024-06-25T11:43:16Z",
      "updated_at": "2024-06-25T11:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30200#discussion_r1652645443",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1652645443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30200"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    }
  ]
}