{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862",
    "id": 1192167602,
    "node_id": "PR_kwDOABII585HDwiy",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/26862",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/26862.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/26862.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
    "number": 26862,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Customize onion port & disable bind if service not started",
    "user": {
      "login": "andyoknen",
      "id": 24531527,
      "node_id": "MDQ6VXNlcjI0NTMxNTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andyoknen",
      "html_url": "https://github.com/andyoknen",
      "followers_url": "https://api.github.com/users/andyoknen/followers",
      "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
      "organizations_url": "https://api.github.com/users/andyoknen/orgs",
      "repos_url": "https://api.github.com/users/andyoknen/repos",
      "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andyoknen/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The problem is caused by the inability to run multiple nodes on the same PC due to a conflict in the listening port for Tor connections.\r\n\r\nHere also people faced a similar problem:\r\nhttps://github.com/bitcoin/bitcoin/issues/22668\r\n\r\nMy idea is to prevent the array of ports for the onion process from filling up before running ConnMan - thus, the listenonion=0 option will not only prevent the Tor service from starting, but will also not occupy the port.\r\n\r\nAdditionally, I added port initialization for onion to keep the ability to run multiple nodes with Tor functionality.",
    "labels": [],
    "created_at": "2023-01-10T10:46:56Z",
    "updated_at": "2024-01-18T12:25:37Z",
    "closed_at": "2023-01-11T08:06:13Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "da93e388dd27d1797dac03c5cd0c8d62e3877e19",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "andyoknen:feat/customize-onion-port",
      "ref": "feat/customize-onion-port",
      "sha": "a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
      "user": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 342829034,
        "node_id": "MDEwOlJlcG9zaXRvcnkzNDI4MjkwMzQ=",
        "name": "bitcoin",
        "full_name": "andyoknen/bitcoin",
        "owner": {
          "login": "andyoknen",
          "id": 24531527,
          "node_id": "MDQ6VXNlcjI0NTMxNTI3",
          "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andyoknen",
          "html_url": "https://github.com/andyoknen",
          "followers_url": "https://api.github.com/users/andyoknen/followers",
          "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
          "organizations_url": "https://api.github.com/users/andyoknen/orgs",
          "repos_url": "https://api.github.com/users/andyoknen/repos",
          "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andyoknen/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/andyoknen/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/andyoknen/bitcoin",
        "archive_url": "https://api.github.com/repos/andyoknen/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andyoknen/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andyoknen/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andyoknen/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andyoknen/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andyoknen/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andyoknen/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andyoknen/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andyoknen/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andyoknen/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/andyoknen/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/andyoknen/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/andyoknen/bitcoin/events",
        "forks_url": "https://api.github.com/repos/andyoknen/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/andyoknen/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andyoknen/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andyoknen/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andyoknen/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/andyoknen/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andyoknen/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andyoknen/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andyoknen/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andyoknen/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andyoknen/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/andyoknen/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/andyoknen/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andyoknen/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andyoknen/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andyoknen/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:andyoknen/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/andyoknen/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/andyoknen/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andyoknen/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/andyoknen/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/andyoknen/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/andyoknen/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/andyoknen/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andyoknen/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/andyoknen/bitcoin/hooks",
        "svn_url": "https://github.com/andyoknen/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 215361,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-01-11T08:06:22Z",
        "created_at": "2021-02-27T10:26:31Z",
        "updated_at": "2023-01-10T10:30:32Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "0e81d119e09dba13dddb42506855ba8eba761238",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36531,
        "stargazers_count": 73404,
        "watchers_count": 73404,
        "size": 247643,
        "default_branch": "master",
        "open_issues_count": 688,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-01-18T11:53:54Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-01-18T10:22:17Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862"
      }
    },
    "author_association": "NONE",
    "draft": false,
    "additions": 15,
    "deletions": 10,
    "changed_files": 2,
    "commits": 4,
    "review_comments": 2,
    "comments": 4
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY1MmUzODhmMjVhOTk4NzRkNmQyYjBmMmNhZWJkOGMzMGE2M2QwNDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/652e388f25a99874d6d2b0f2caebd8c30a63d044",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/652e388f25a99874d6d2b0f2caebd8c30a63d044",
      "tree": {
        "sha": "7b783fe2436fc56ba4acae51327b34d6b567992b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b783fe2436fc56ba4acae51327b34d6b567992b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b783fe2436fc56ba4acae51327b34d6b567992b\nparent 0e81d119e09dba13dddb42506855ba8eba761238\nauthor Andy Oknen <andy.oknen@yandex.ru> 1673347209 +0300\ncommitter GitHub <noreply@github.com> 1673347209 +0300\n\nAdded argument -onionport for customize Tor connections port & disable bind onion port if service not started",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjvUCJCRBK7hj4Ov3rIwAAb0wIAAq46Z+J0H2un7IjDDLz8TFQ\nZTL8jtN8Kk7SevZhxhNQxq5OgH+8Y7aWs0gdIiF5Gm0vhUqci+T500tGV6nGEu+v\n99RugmqLkzna7IWdw3/uuk7KxJt79bViYmhyIzwUTdt9aY1BAAc2amPjMGK36nRa\nhuSe/hRqBq6Iva0Cj3cNPJS5gQvd7b6c4amqp/X26LyjFh/5nRNORok+Rx0Klfhw\nxcWuMleg7KY4nHH4bridy2+p1G8TxbotXAy9fFc1jK9m5j5zdUplUCrM8cday3b6\nN4dyOvHAiaDfhR3XqjdAtR8ou1BoWDYzTVh8ZbE1Er4VJDknYkcq6odCYqD2EKw=\n=RIGZ\n-----END PGP SIGNATURE-----\n"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e81d119e09dba13dddb42506855ba8eba761238",
          "sha": "0e81d119e09dba13dddb42506855ba8eba761238",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0e81d119e09dba13dddb42506855ba8eba761238"
        }
      ],
      "message": "Added argument -onionport for customize Tor connections port & disable bind onion port if service not started",
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2023-01-10T10:40:09Z"
      },
      "author": {
        "name": "Andy Oknen",
        "email": "andy.oknen@yandex.ru",
        "date": "2023-01-10T10:40:09Z"
      },
      "sha": "652e388f25a99874d6d2b0f2caebd8c30a63d044"
    },
    {
      "event": "commented",
      "id": 1377064104,
      "node_id": "IC_kwDOABII585SFFSo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1377064104",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-10T10:46:59Z",
      "updated_at": "2023-01-10T18:13:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/26862#pullrequestreview-1241978416) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26177](https://github.com/bitcoin/bitcoin/pull/26177) (refactor / kernel: Move non-gArgs chainparams functionality to kernel by TheCharlatan)\n* [#22729](https://github.com/bitcoin/bitcoin/pull/22729) (Make it possible to disable Tor binds and abort startup on bind failure by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#issuecomment-1377064104",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5NjEyYWZiN2E2YmNiNTQ4NjBiMDA3NzA2M2Y3MDQ2YTI1Y2M2ODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99612afb7a6bcb54860b0077063f7046a25cc689",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99612afb7a6bcb54860b0077063f7046a25cc689",
      "tree": {
        "sha": "a2adf35fc32333922ca9290d90b54c61a3852829",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2adf35fc32333922ca9290d90b54c61a3852829"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a2adf35fc32333922ca9290d90b54c61a3852829\nparent 652e388f25a99874d6d2b0f2caebd8c30a63d044\nauthor Andy Oknen <andy.oknen@yandex.ru> 1673348221 +0300\ncommitter GitHub <noreply@github.com> 1673348221 +0300\n\nUpdate torcontrol.cpp",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjvUR9CRBK7hj4Ov3rIwAAifIIADIbOcJpHwSRgd8BHoeKp4oD\nupM8FKXr9kkrDFE0C7QEh/o+axGbQnCyR99rIdL/fSn5j3UswRnhGIuB4WJmxTN2\nVVl1cBJotQPD5y9lSElz1KDR8UO8dbqQ/74Q91FsmP5zrLkB+OvLLVQD/upqOyW/\nTyJJEVbcHVhdWM8FW//rmBPGDbmu/f9C5AEGjr/GNLZSoBTAmf36TJH8x5gR8TU9\n7GZSdm5iju8f6rB5WUVfWtk01bOC8BrFrwUxKSapfbVlSaFWex3LE/ELlZtLKfcN\njRntD+nfDId+yRRxIPi7CunputtTOy6WyG2YV8iD2yllJjvEPhsCIfMnWKlYABQ=\n=lu+e\n-----END PGP SIGNATURE-----\n"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/652e388f25a99874d6d2b0f2caebd8c30a63d044",
          "sha": "652e388f25a99874d6d2b0f2caebd8c30a63d044",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/652e388f25a99874d6d2b0f2caebd8c30a63d044"
        }
      ],
      "message": "Update torcontrol.cpp",
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2023-01-10T10:57:01Z"
      },
      "author": {
        "name": "Andy Oknen",
        "email": "andy.oknen@yandex.ru",
        "date": "2023-01-10T10:57:01Z"
      },
      "sha": "99612afb7a6bcb54860b0077063f7046a25cc689"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkzNDAzNDI5OWFiNDYxNWRiMzRjYjJjOTVmZWM1ODk2MWNiMjc5MjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/934034299ab4615db34cb2c95fec58961cb27921",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/934034299ab4615db34cb2c95fec58961cb27921",
      "tree": {
        "sha": "4f4909f0c1822536de41980bfde1ee1783ac0c14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4f4909f0c1822536de41980bfde1ee1783ac0c14"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4f4909f0c1822536de41980bfde1ee1783ac0c14\nparent 99612afb7a6bcb54860b0077063f7046a25cc689\nauthor Andy Oknen <andy.oknen@yandex.ru> 1673348899 +0300\ncommitter GitHub <noreply@github.com> 1673348899 +0300\n\nUpdate torcontrol.cpp",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjvUcjCRBK7hj4Ov3rIwAArsoIAEl7ZxpSw+QlYPnc25RpZOIF\nBO+dWwl33jQlcpbemfYwMVDVvW8sf/T+QSSOchZ6q5rkGJAw27rQw3ZLQmLkQBJr\nVAXYp2OEmoI8ecvEGk7Rp3AQCAOGsgGj2jga7klVHKZ+avXxm1NslltWP5AHcdRa\nckmoBgRTPkQXs0pYGe6SZiTRMkY6f5/o7GEyfG5DKfdygrNctKCh8xIoiCVoK42B\nnQCxJzT3Y6xv1zOd0dFfqdjZiZPkOeoauUHRIDsQM/6c52f2tWr+MNucZ99PEtUT\ne4wZtnQvDIR58SQ3kIDpoxkAs78Wouh/XXA3HkvCoQ0hGYspZrDVd4lWSEAyz00=\n=+C8V\n-----END PGP SIGNATURE-----\n"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99612afb7a6bcb54860b0077063f7046a25cc689",
          "sha": "99612afb7a6bcb54860b0077063f7046a25cc689",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99612afb7a6bcb54860b0077063f7046a25cc689"
        }
      ],
      "message": "Update torcontrol.cpp",
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2023-01-10T11:08:19Z"
      },
      "author": {
        "name": "Andy Oknen",
        "email": "andy.oknen@yandex.ru",
        "date": "2023-01-10T11:08:19Z"
      },
      "sha": "934034299ab4615db34cb2c95fec58961cb27921"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE2ZjZmMzg2MTk3MGE3ZDE2YmZhZGM2NDQwZmRkZDY4ODFjMmI3NmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
      "tree": {
        "sha": "b04357dec98b32062455dcba6df82234d5680d2e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b04357dec98b32062455dcba6df82234d5680d2e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b04357dec98b32062455dcba6df82234d5680d2e\nparent 934034299ab4615db34cb2c95fec58961cb27921\nauthor Andy Oknen <andy.oknen@yandex.ru> 1673349249 +0300\ncommitter GitHub <noreply@github.com> 1673349249 +0300\n\nUpdate torcontrol.cpp",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjvUiBCRBK7hj4Ov3rIwAAYWMIABfiZgdqXbZ49BzzK3ibbEc4\nEf3khDZpG9ZFrUm6Ne66xnZLSXQXuiozit4YJeCS44jJNK8PpW3diMSFpHsbocVE\nUfwf3Ytd+s6pA6EvDlF6FRPbAplJmeK3zOwvycKKXOF4jGQo3wvUBf8v29V0CH4u\nqs3Mzu6iPZoijQLaqy0nDUry6PqXHBfQy7ywBBVIMq9LnGW/UrazlD4+sQLE82J1\nLyR7xaoJraX53u3wrl6M35TFOfvzDwIVVupDmo/e7ixB5Y/b8lTHm2k0HlkzqbQL\ns56GRkpyjBeIfKtmnw1RNqUtQmEViiNNBig8eZZ8jpDC8SOXpso75jaFk5YTAOk=\n=o5zy\n-----END PGP SIGNATURE-----\n"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/934034299ab4615db34cb2c95fec58961cb27921",
          "sha": "934034299ab4615db34cb2c95fec58961cb27921",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/934034299ab4615db34cb2c95fec58961cb27921"
        }
      ],
      "message": "Update torcontrol.cpp",
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2023-01-10T11:14:09Z"
      },
      "author": {
        "name": "Andy Oknen",
        "email": "andy.oknen@yandex.ru",
        "date": "2023-01-10T11:14:09Z"
      },
      "sha": "a6f6f3861970a7d16bfadc6440fddd6881c2b76c"
    },
    {
      "event": "reviewed",
      "id": 1241978416,
      "node_id": "PRR_kwDOABII585KBxYw",
      "url": null,
      "actor": null,
      "commit_id": "934034299ab4615db34cb2c95fec58961cb27921",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nThanks for looking into this. Also related:\r\nhttps://github.com/bitcoin/bitcoin/issues/22726\r\nhttps://github.com/bitcoin/bitcoin/issues/22727\r\nhttps://github.com/bitcoin/bitcoin/pull/22729\r\n\r\nI think a better approach is described in:\r\nhttps://github.com/bitcoin/bitcoin/pull/22729#issuecomment-927802257\r\nor, in other words:\r\n* If `bind=...=onion` is explicitly specified by the user, then bind on it, same behavior as of now\r\n* If `bind=...onion` is not explicitly specified by the user, then change the behavior to:\r\n  * not bind at startup by `CConnman::Start()` / `CConnman::InitBinds()` to a Tor port\r\n  * if `listenonion=1` this means that the Tor control thread will be started and it will try to connect to torcontrol and create the hidden service, telling it to send connections to e.g. `127.0.0.1:8334`. Bind on that only then, from the tor control thread, either immediately before or immediately after creating the hidden service.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#pullrequestreview-1241978416",
      "submitted_at": "2023-01-10T11:21:28Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-10T21:46:38Z",
      "updated_at": "2023-01-10T21:46:38Z",
      "source": {
        "issue": {
          "id": 1384719233,
          "node_id": "PR_kwDOABII584_iyfL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
          "number": 26177,
          "state": "closed",
          "state_reason": null,
          "title": "refactor / kernel: Move non-gArgs chainparams functionality to kernel",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/24303 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\". dongcarl is the original author of this patchset, these commits were taken from https://github.com/dongcarl/bitcoin/tree/2022-03-libbitcoinkernel-chainparams-args-only. \r\n\r\n#### Context \r\n\r\nThe bitcoin kernel library currently relies on code containing user configurations through the `ArgsManager`. This is not optimal, since as a stand-alone library it should not rely on bitcoind's argument parsing logic. Instead, its interfaces should accept control and options structs that control the kernel library's desired configuration.\r\n\r\n\r\nSimilar work towards decoupling the `ArgsManager` from the kernel has been done in \r\nhttps://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487, https://github.com/bitcoin/bitcoin/pull/25527 and https://github.com/bitcoin/bitcoin/pull/25862.\r\n\r\n#### Changes\r\n\r\nBy moving the `CChainParams` class definition into the kernel and giving it new factory functions `CChainParams::{RegTest,SigNet,Main,TestNet}`it can be constructed without an `ArgsManager` reference, unlike the current factory function `CreateChainParams`.\r\n\r\nThe first few commits remove uses of `ArgsManager` within `CChainParams`. Then the `CChainParams` definition is moved to a new file in the `kernel/` subdirectory.\r\n\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26177",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26177.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26177.patch"
          },
          "closed_at": "2023-03-16T13:56:49Z",
          "created_at": "2022-09-24T15:42:36Z",
          "updated_at": "2023-03-17T15:30:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T01:15:36Z",
      "updated_at": "2023-01-11T01:15:36Z",
      "source": {
        "issue": {
          "id": 972740288,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzE0MjkyMTQ4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22729/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22729/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22729/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22729",
          "number": 22729,
          "state": "open",
          "state_reason": null,
          "title": "Make it possible to disable Tor binds and abort startup on bind failure",
          "body": "Make it possible to disable the Tor binding on `127.0.0.1:8334` and stop startup if any P2P bind fails instead of \"if all P2P binds fail\".\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/22726\r\nFixes https://github.com/bitcoin/bitcoin/issues/22727",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22729",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22729.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22729.patch"
          },
          "created_at": "2021-08-17T14:16:34Z",
          "updated_at": "2024-01-18T11:54:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1378370996,
      "node_id": "IC_kwDOABII585SKEW0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1378370996",
      "actor": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T08:06:13Z",
      "updated_at": "2023-01-11T08:06:13Z",
      "author_association": "NONE",
      "body": "Thanks for your review!\r\n\r\nIn general, I understood how to avoid the problem of duplicating the port bind in tests through `bind=address:port=onion` by increasing the `port` for each subsequent node.\r\n\r\nIn this case, it remains only to exclude the forced onion binding of the port.. I think one simple argument is missing, something like `usetor=1|0` - which would include or exclude all functionality. Although I understand that this is a major change, given the reach of users.\r\n\r\nI think I'll close this PR, since I don't have a solution yet)",
      "user": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#issuecomment-1378370996",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862"
    },
    {
      "event": "closed",
      "id": 8199028084,
      "node_id": "CE_lADOABII585bBp5DzwAAAAHosz10",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8199028084",
      "actor": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T08:06:13Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 8199029344,
      "node_id": "HRDE_lADOABII585bBp5DzwAAAAHos0Jg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8199029344",
      "actor": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-11T08:06:23Z"
    },
    {
      "event": "commented",
      "id": 1382729695,
      "node_id": "IC_kwDOABII585Sasff",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1382729695",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-14T12:45:07Z",
      "updated_at": "2023-01-14T12:45:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "> it remains only to exclude the forced onion binding of the port\r\n\r\nWhat is that \"forced onion binding\"?",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#issuecomment-1382729695",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862"
    },
    {
      "event": "commented",
      "id": 1386511762,
      "node_id": "IC_kwDOABII585SpH2S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1386511762",
      "actor": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-18T05:29:58Z",
      "updated_at": "2023-01-18T05:29:58Z",
      "author_association": "NONE",
      "body": "> > it remains only to exclude the forced onion binding of the port\r\n> \r\n> What is that \"forced onion binding\"?\r\n\r\nI mean that port binding happens anyway whether I want to use TOR or not",
      "user": {
        "login": "andyoknen",
        "id": 24531527,
        "node_id": "MDQ6VXNlcjI0NTMxNTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/24531527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andyoknen",
        "html_url": "https://github.com/andyoknen",
        "followers_url": "https://api.github.com/users/andyoknen/followers",
        "following_url": "https://api.github.com/users/andyoknen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andyoknen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andyoknen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andyoknen/subscriptions",
        "organizations_url": "https://api.github.com/users/andyoknen/orgs",
        "repos_url": "https://api.github.com/users/andyoknen/repos",
        "events_url": "https://api.github.com/users/andyoknen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andyoknen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#issuecomment-1386511762",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26862"
    },
    {
      "event": "locked",
      "id": 11524563602,
      "node_id": "LOE_lADOABII585bBp5DzwAAAAKu6uKS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11524563602",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-18T12:25:37Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1065638842",
      "pull_request_review_id": 1241978416,
      "id": 1065638842,
      "node_id": "PRRC_kwDOABII584_hFu6",
      "diff_hunk": "@@ -1741,7 +1742,8 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n             }\n         } else {\n             const std::string network_type = bind_arg.substr(index + 1);\n-            if (network_type == \"onion\") {\n+            // Do not fill in connOptions.onion_binds if you are not running the Tor service\n+            if (args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION) && network_type == \"onion\") {",
      "path": "src/init.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
      "original_commit_id": "99612afb7a6bcb54860b0077063f7046a25cc689",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This would ignore `bind=...=onion` if `listenonion=0`. That will break the static Tor configurations where the hidden service is configured in the Tor daemon and `bitcoind` is running with `-bind=...=onion -listenonion=0`.\r\n\r\nSee `## 3. Manually create a Bitcoin Core onion service` in `doc/tor.md`.",
      "created_at": "2023-01-10T11:05:43Z",
      "updated_at": "2023-01-10T11:21:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#discussion_r1065638842",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1065638842"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1746,
      "original_line": 1746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1065641070",
      "pull_request_review_id": 1241978416,
      "id": 1065641070,
      "node_id": "PRRC_kwDOABII584_hGRu",
      "diff_hunk": "@@ -472,6 +472,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by outbound peers forward or backward by this amount (default: %u seconds).\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target per 24h. Limit does not apply to peers with 'download' permission or blocks created within past week. 0 = no limit (default: %s). Optional suffix units [k|K|m|M|g|G|t|T] (default: M). Lowercase is 1000 base while uppercase is 1024 base\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionport=<port>\", strprintf(\"Use this port for Tor connections (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), signetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY, OptionsCategory::RPC);",
      "path": "src/init.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "a6f6f3861970a7d16bfadc6440fddd6881c2b76c",
      "original_commit_id": "99612afb7a6bcb54860b0077063f7046a25cc689",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This option conflicts with `-bind=addr:port=onion` because both provide a way to specify the port. Better have one way to specify things.",
      "created_at": "2023-01-10T11:08:05Z",
      "updated_at": "2023-01-10T11:21:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26862#discussion_r1065641070",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1065641070"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26862"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 475,
      "original_line": 475,
      "side": "RIGHT"
    }
  ]
}