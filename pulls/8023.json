{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "id": 69264245,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyNjQyNDU=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/8023.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/8023.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/64133202a7b927839bd706e6a957e8f43797f4b8",
    "number": 8023,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "RFC: Interruptible threads",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The intention here is to create a drop-in replacement for:\nboost::thread\nboost::thread_group\nboost::condition_variable\nboost::this_thread\n\nThese are just interruptible wrappers around the c++11 std:: versions. There are no dependencies, and afaik it's completely portable.\n\nThis allows us to move away from boost threads (which block the movement of other things like mutexes, function, bind, chrono, etc), without having to worry about refactoring to cope with our dependence on interruption points, interruptible condition variables, and interruptible sleeps.\n\nFor the places that don't require interruption, they can just move directly to std::.\n\nThe code needs some refinements, comments, and more tests, but I'd like to get a few concept ack's before continuing. Obviously the next step is to start plugging it all in.\n\nAlso, to avoid conflicting with segwit changes and backporting, it may be easier to replace things in some places and not others.\n\nThe condition_variable is actually an implementation of condition_variable_any, which means that it will accept any Lockable. So we can mix and match boost::mutex/boost::unique_lock/std::mutex/std::unique_lock without any trouble, if that eases the migration.\n",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
      "id": 1823680,
      "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
      "number": 21,
      "state": "closed",
      "title": "0.14.0",
      "description": "",
      "creator": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 156,
      "created_at": "2016-06-13T14:18:51Z",
      "updated_at": "2017-03-08T16:39:44Z",
      "closed_at": "2017-03-08T16:39:44Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2016-05-08T09:00:03Z",
    "updated_at": "2021-09-08T11:21:45Z",
    "closed_at": "2016-08-31T01:46:53Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "13a3ece252c7f62caad71dd26e9e43808bcf576d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "theuni:interruptible-thread",
      "ref": "interruptible-thread",
      "sha": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 10302141,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMDMwMjE0MQ==",
        "name": "bitcoin",
        "full_name": "theuni/bitcoin",
        "owner": {
          "login": "theuni",
          "id": 417043,
          "node_id": "MDQ6VXNlcjQxNzA0Mw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theuni",
          "html_url": "https://github.com/theuni",
          "followers_url": "https://api.github.com/users/theuni/followers",
          "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
          "organizations_url": "https://api.github.com/users/theuni/orgs",
          "repos_url": "https://api.github.com/users/theuni/repos",
          "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theuni/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theuni/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theuni/bitcoin",
        "archive_url": "https://api.github.com/repos/theuni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theuni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theuni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theuni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theuni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theuni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theuni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theuni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theuni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theuni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theuni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theuni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theuni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theuni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theuni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theuni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theuni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theuni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theuni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theuni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theuni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theuni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theuni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theuni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theuni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theuni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theuni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theuni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theuni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theuni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theuni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theuni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theuni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theuni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theuni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theuni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theuni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theuni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theuni/bitcoin/hooks",
        "svn_url": "https://github.com/theuni/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 223311,
        "default_branch": "trivial-next",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-07T14:16:01Z",
        "created_at": "2013-05-26T18:55:06Z",
        "updated_at": "2023-07-29T06:29:25Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "44c1b1c9bb54082625c7ad76af25473abf79f866",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 668,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T14:29:40Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T14:31:15Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 784,
    "deletions": 0,
    "changed_files": 12,
    "commits": 6,
    "review_comments": 6,
    "comments": 9
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ODMxMDM1OTBmNDJiNjA5YzI2NmM1NGQ0MzlkZGM3MWYwMDAxYTE5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/483103590f42b609c266c54d439ddc71f0001a19",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/483103590f42b609c266c54d439ddc71f0001a19",
      "tree": {
        "sha": "effa9f6fa1332331f0cfee7091a5b437c1a2cba9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/effa9f6fa1332331f0cfee7091a5b437c1a2cba9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbd84788e676c9cbd126f6236ec46bb2f342bd00",
          "sha": "fbd84788e676c9cbd126f6236ec46bb2f342bd00",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fbd84788e676c9cbd126f6236ec46bb2f342bd00"
        }
      ],
      "message": "threads: add interruptible threads\n\nThese should be drop-in replacements for:\nboost::thread\nboost::thread_group\nboost::condition_variable\nboost::this_thread::sleep_for",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T08:42:50Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-06T07:02:52Z"
      },
      "sha": "483103590f42b609c266c54d439ddc71f0001a19"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozM2RkNmM4NWI5MmUxZDA5MDQ4MzI5YzMxZTcwMTQxZmIwZWVmNDJj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/33dd6c85b92e1d09048329c31e70141fb0eef42c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/33dd6c85b92e1d09048329c31e70141fb0eef42c",
      "tree": {
        "sha": "432b89e8927de775d7f00391c92d20c24fb1718d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/432b89e8927de775d7f00391c92d20c24fb1718d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/483103590f42b609c266c54d439ddc71f0001a19",
          "sha": "483103590f42b609c266c54d439ddc71f0001a19",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/483103590f42b609c266c54d439ddc71f0001a19"
        }
      ],
      "message": "threads: add some tests for interruptible threads",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T08:42:50Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T08:37:16Z"
      },
      "sha": "33dd6c85b92e1d09048329c31e70141fb0eef42c"
    },
    {
      "event": "commented",
      "id": 217725758,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzcyNTc1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217725758",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T15:08:14Z",
      "updated_at": "2016-05-08T15:08:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "`thread` is the only owner of the `m_data` shared pointer, but `this_thread` is given a raw pointer to the same object. If the `thread` is destroyed while the thread is still running, it will destroy the `thread_data` object the thread's still using via `this_thread`'s pointer.\n",
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217725758",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "commented",
      "id": 217727730,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzcyNzczMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217727730",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T15:44:39Z",
      "updated_at": "2016-05-08T15:44:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Boost's `thread_group.remove_thread` doesn't destroy the thread object.\n",
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217727730",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDEzNTMyNzQ6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYjMxZmZiZGE1ZTlmYzRjNWM4NTRhNTFkNzI3NTRiNzJlZjYzYzUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb31ffbda5e9fc4c5c854a51d72754b72ef63c50",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bb31ffbda5e9fc4c5c854a51d72754b72ef63c50",
      "tree": {
        "sha": "732cd9988a983df3a1f04a6ff97176a4b7d9e82c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/732cd9988a983df3a1f04a6ff97176a4b7d9e82c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/33dd6c85b92e1d09048329c31e70141fb0eef42c",
          "sha": "33dd6c85b92e1d09048329c31e70141fb0eef42c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/33dd6c85b92e1d09048329c31e70141fb0eef42c"
        }
      ],
      "message": "squashme: fixup thread_data pointer\n\nas kazcw points out, the raw thread may be running free after the interruptible\nhas been destroyed, so its data needs to remain valid.\n\nTODO: This probably isn't enough to cope with detaching, need to poke at it and\nadd some tests.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:04:25Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T16:32:42Z"
      },
      "sha": "bb31ffbda5e9fc4c5c854a51d72754b72ef63c50"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODNlMDg3YzQ4ZDExYjg4NTEwYTBmZDU2MzU4OWEyYjVhMmU1MGJj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/383e087c48d11b88510a0fd563589a2b5a2e50bc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/383e087c48d11b88510a0fd563589a2b5a2e50bc",
      "tree": {
        "sha": "030164a66562a293199e86bc8855d7dfd1c51e6a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/030164a66562a293199e86bc8855d7dfd1c51e6a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb31ffbda5e9fc4c5c854a51d72754b72ef63c50",
          "sha": "bb31ffbda5e9fc4c5c854a51d72754b72ef63c50",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bb31ffbda5e9fc4c5c854a51d72754b72ef63c50"
        }
      ],
      "message": "squashme: cleanup tests\n\nClarify some wait_until, and make doubly-sure that exceptions have been thrown.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:04:29Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T16:44:05Z"
      },
      "sha": "383e087c48d11b88510a0fd563589a2b5a2e50bc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ODRjZDhjZTk3MjNiYTU3YzdjZjRiY2VjZDg0YzY4YzI4M2I2ZGQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5",
      "tree": {
        "sha": "ec5b88fa38d134701480dc9ce2f6ed1a9bf2ea2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ec5b88fa38d134701480dc9ce2f6ed1a9bf2ea2c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/383e087c48d11b88510a0fd563589a2b5a2e50bc",
          "sha": "383e087c48d11b88510a0fd563589a2b5a2e50bc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/383e087c48d11b88510a0fd563589a2b5a2e50bc"
        }
      ],
      "message": "squashme: fixup thread_group\n\nThanks to kazcw for pointing out that boost's thread_group only deletes threads\nin its own dtor.\n\nAlso updated create_thread to return a pointer to the thread to match the boost\nfunctionality.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:04:29Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:01:39Z"
      },
      "sha": "584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5"
    },
    {
      "event": "commented",
      "id": 217734412,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzczNDQxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217734412",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T17:17:52Z",
      "updated_at": "2016-05-08T17:17:52Z",
      "author_association": "MEMBER",
      "body": "@kazcw Thanks for the great review! It's much appreciated. This surely needs lots more tests, and there are still some rough edges.\n\nI'll be away for a few days, if others agree this is a good plan, I'll work on cleanup and test coverage when I get back.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217734412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "mentioned",
      "id": 653757559,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjUzNzU3NTU5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/653757559",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T17:17:52Z"
    },
    {
      "event": "subscribed",
      "id": 653757560,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDY1Mzc1NzU2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/653757560",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T17:17:52Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NDEzMzIwMmE3YjkyNzgzOWJkNzA2ZTZhOTU3ZThmNDM3OTdmNGI4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64133202a7b927839bd706e6a957e8f43797f4b8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64133202a7b927839bd706e6a957e8f43797f4b8",
      "tree": {
        "sha": "3f0f734855f2f69a7b25a715a5c91d4d483b5086",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f0f734855f2f69a7b25a715a5c91d4d483b5086"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5",
          "sha": "584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/584cd8ce9723ba57c7cf4bcecd84c68c283b6dd5"
        }
      ],
      "message": "squashme: fixup condition_variable::wait_until",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:20:38Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-05-08T17:19:31Z"
      },
      "sha": "64133202a7b927839bd706e6a957e8f43797f4b8"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDEzNTMyNzc6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 217738836,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzczODgzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217738836",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T18:44:50Z",
      "updated_at": "2016-05-08T18:44:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK on moving away from boost for threading.\n\nSince most threads are in the same `thread_group`, we'd have to switch over almost everything at once, right? Shouldn't be too hard with a drop-in replacement though...\n",
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217738836",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "commented",
      "id": 217740912,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc0MDkxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217740912",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T19:24:55Z",
      "updated_at": "2016-05-08T19:24:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "The relationship between `int_lock` and `thread_data` does seem a bit funky, especially around the `m_wake_mutex` lock. What about switching the ownership: `unique_lock` in `thread_data`, reference to it in the `int_lock`? `int_lock` could become a generic utility class that takes two lock references and dispatch to both of them in tandem. `condition_variable` would need to `set_cond` after taking the double-lock, but I think it's a clearer division of the concerns.\n",
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217740912",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "labeled",
      "id": 653788832,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDY1Mzc4ODgzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/653788832",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T19:49:21Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 217744227,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc0NDIyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217744227",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T20:28:28Z",
      "updated_at": "2016-05-08T20:28:28Z",
      "author_association": "MEMBER",
      "body": "@kazcw The problem with that is that you still have to access the private condvar pointer after grabbing the double-lock, or use a getter that provides unguarded access, so the lock isn't actually providing any protection other than the understanding that the caller will use it to change the pointer (If I'm understanding you correctly). I tried that approach, and it led to the creation of an RAII wrapper holding a `unique_lock` and `condition_variable_any` which null'd the pointer at destruction. But The concept of grabbing a lock just to pass into another lock to be combined with a 3rd user lock was just too wonky.\n\nBut by all means, I'd be happy to see something more intuitive than what's here now :)\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217744227",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "mentioned",
      "id": 653798208,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjUzNzk4MjA4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/653798208",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T20:28:28Z"
    },
    {
      "event": "subscribed",
      "id": 653798209,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDY1Mzc5ODIwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/653798209",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-08T20:28:28Z"
    },
    {
      "event": "commented",
      "id": 217759125,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc1OTEyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217759125",
      "actor": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-09T01:29:00Z",
      "updated_at": "2016-05-09T01:29:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "I see. Yeah, I don't see any way for `thread_data` to expose a data-race-safe API that doesn't require some funky business. The current approach would work fine.\n",
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217759125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "commented",
      "id": 218616508,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxODYxNjUwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218616508",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-11T23:08:07Z",
      "updated_at": "2016-05-11T23:08:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "I appreciate all the work thats gone into this, and I think it should be merged eventually, but as our agreed-upon timeline has been that only new code should use C++11 features until after 0.13, I have to say NACK.\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-218616508",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "milestoned",
      "id": 667192971,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDY2NzE5Mjk3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/667192971",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-20T14:13:39Z",
      "milestone": {
        "title": "Future"
      }
    },
    {
      "event": "commented",
      "id": 220616970,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYxNjk3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/220616970",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-20T14:13:58Z",
      "updated_at": "2016-05-20T14:13:58Z",
      "author_association": "MEMBER",
      "body": "Re: C++11 changes - changing utility classes to use C++11 is fine as long as the code using it  is not or hardly impacted (e.g. the change to make tinyformat use C++11 variadic templates). But here we have to change all use/call sites as well (unless we do a terrible hack to disguise as boost) so yes, need to postpone this a bit.\n\nBut Concept ACK. Makes sense for 0.14 along with more compatibility changes to get rid of boost. Added the \"future\" milestone.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-220616970",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023"
    },
    {
      "event": "milestoned",
      "id": 700047690,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDcwMDA0NzY5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/700047690",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-06-22T06:44:58Z",
      "milestone": {
        "title": "0.14"
      }
    },
    {
      "event": "demilestoned",
      "id": 700047691,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50NzAwMDQ3Njkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/700047691",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-06-22T06:44:58Z",
      "milestone": {
        "title": "Future"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-07-28T23:14:40Z",
      "updated_at": "2016-07-28T23:14:40Z",
      "source": {
        "issue": {
          "id": 168218151,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzkyODQyNjU=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8421",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8421/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8421/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8421/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/8421",
          "number": 8421,
          "state": "closed",
          "state_reason": null,
          "title": "httpserver: drop boost (#8023 dependency)",
          "body": "This is a prerequisite for #8023. The httpserver depends on boost::thread::try_join_for, which has no equivalent in std::thread. Rather than going to the effort of porting try_join_for to our interruptible thread wrapper, it's simpler and more efficient to not rely on it in the first place.\n\n755aa05174e06effd758eeb78c5af9fb465e9611 replaces the try_join_for with a future which is set when the callable function finishes. The flow is otherwise the same. I tested that this works as intended by inserting sleeps to force the event_base_loopbreak.\n\nd3773ca9aeb0d2f12dc0c5a0726778050c8cb455 Fixes an incompatibility between boost and std threads. This was likely to be an issue in the future with boost anyway.\n\nLastly, with the incompatibilities removed, just go ahead and switch to std::thread since there's need for interruption here.\n",
          "user": {
            "login": "theuni",
            "id": 417043,
            "node_id": "MDQ6VXNlcjQxNzA0Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theuni",
            "html_url": "https://github.com/theuni",
            "followers_url": "https://api.github.com/users/theuni/followers",
            "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
            "organizations_url": "https://api.github.com/users/theuni/orgs",
            "repos_url": "https://api.github.com/users/theuni/repos",
            "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theuni/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8421",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/8421",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/8421.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/8421.patch"
          },
          "closed_at": "2016-07-29T09:29:22Z",
          "created_at": "2016-07-28T23:14:40Z",
          "updated_at": "2021-09-08T11:21:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 738967481,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDczODk2NzQ4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/738967481",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b77bb95b3cb414ffef91d4ac11c4b15720200712",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b77bb95b3cb414ffef91d4ac11c4b15720200712",
      "created_at": "2016-07-29T09:29:22Z"
    },
    {
      "event": "closed",
      "id": 773028396,
      "node_id": "MDExOkNsb3NlZEV2ZW50NzczMDI4Mzk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/773028396",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-08-31T01:46:53Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-08-31T02:33:56Z",
      "updated_at": "2016-08-31T02:33:56Z",
      "source": {
        "issue": {
          "id": 174170706,
          "node_id": "MDExOlB1bGxSZXF1ZXN0ODMzNzkzODM=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8631",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8631/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8631/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8631/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/8631",
          "number": 8631,
          "state": "closed",
          "state_reason": null,
          "title": "Nuke boost::thread and boost::thread_group",
          "body": "This replaces #8023 with a solution that moves us directly to std::thread, rather than using an intermediate wrapper.\n### Background\n\nstd::thread is pretty much a drop-in replacement for boost::thread, except that boost::thread is interruptible. We've used those interruptions, but we'll have to drop them eventually as they didn't become part of the spec.\n\nWhen an interruption point is hit, it throws an instance of boost::thread_interrupted. boost::thread catches these automatically by default.\n\nThe interruption points are defined as:\n\n```\n\n    boost::thread::join()\n    boost::thread::timed_join()\n    boost::thread::try_join_for(),\n    boost::thread::try_join_until(),\n    boost::condition_variable::wait()\n    boost::condition_variable::timed_wait()\n    boost::condition_variable::wait_for()\n    boost::condition_variable::wait_until()\n    boost::condition_variable_any::wait()\n    boost::condition_variable_any::timed_wait()\n    boost::condition_variable_any::wait_for()\n    boost::condition_variable_any::wait_until()\n    boost::thread::sleep()\n    boost::this_thread::sleep_for()\n    boost::this_thread::sleep_until()\n    boost::this_thread::interruption_point()\n```\n\nThe ones relevant to us are primarily `boost::condition_variable_any::wait()`, `boost::this_thread::sleep_for()`, and of course `boost::this_thread::interruption_point()`\n\nAny boost::thread will immediately throw boost::thread_interrupted if those are hit at any point. So we can't simply s/boost::thread/std::thread/g, as we would never be able to exit.\n### Changes\n- All threads are now externally interruptible. Rather than having a single bool for shutting down, I've attempted to notify each relevant subsystem. But because they're not well-defined, the notifications are somewhat arbitrary as well.\n- For long-running threads, our own `thread_interrupted` and `interruption_point` have been added.\n- Threads should call TraceThread if they may hit an interruption_point.\n- MilliSleep is no longer interruptible.\n- boost::thread_group is gone. All threads are now managed individually\n### Future changes\n\nThere is lots of cleanup to be done post-merge. I was very tempted to include cleanups here, but I've elected to keep the changes minimal. Todo:\n- s/boost::mutex/std::mutex/\n- s/boost::condition_variable/std::condition_variable/\n- s/boost::chrono/std::chrono/\n- Drop a ton of boost includes\n- Drop other boost cruft (like catching `boost::thread_interrupted`)\n\nAlso, I started on this by creating a base class for launching threads. Each instance would be responsible for implementing Interrupt() and Stop(). But because this is already a complex set of changes, I think it's best to do that as a separate step.\n",
          "user": {
            "login": "theuni",
            "id": 417043,
            "node_id": "MDQ6VXNlcjQxNzA0Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theuni",
            "html_url": "https://github.com/theuni",
            "followers_url": "https://api.github.com/users/theuni/followers",
            "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
            "organizations_url": "https://api.github.com/users/theuni/orgs",
            "repos_url": "https://api.github.com/users/theuni/repos",
            "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theuni/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
            "id": 1823680,
            "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
            "number": 21,
            "state": "closed",
            "title": "0.14.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 156,
            "created_at": "2016-06-13T14:18:51Z",
            "updated_at": "2017-03-08T16:39:44Z",
            "closed_at": "2017-03-08T16:39:44Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8631",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/8631",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/8631.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/8631.patch"
          },
          "closed_at": "2016-12-06T03:01:52Z",
          "created_at": "2016-08-31T02:33:56Z",
          "updated_at": "2021-09-08T11:42:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 1255585486,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEyNTU1ODU0ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1255585486",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "784153102c3dddf7ef97230ebf1a1d45397e53db",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/784153102c3dddf7ef97230ebf1a1d45397e53db",
      "created_at": "2017-09-19T14:38:16Z"
    },
    {
      "event": "referenced",
      "id": 1404639463,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MDQ2Mzk0NjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1404639463",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9df93b6f8665aa8d775ecc62d2ec4334c3346be8",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/9df93b6f8665aa8d775ecc62d2ec4334c3346be8",
      "created_at": "2017-12-29T15:49:57Z"
    },
    {
      "event": "referenced",
      "id": 1414100389,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MTQxMDAzODk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1414100389",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c03c42116b144e4a88d91a3c7b9f835c89792783",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/c03c42116b144e4a88d91a3c7b9f835c89792783",
      "created_at": "2018-01-08T17:44:10Z"
    },
    {
      "event": "referenced",
      "id": 1513278833,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTMyNzg4MzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1513278833",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "46b5b86be5da3d95ac69f70c34c4345e91f84e3e",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/46b5b86be5da3d95ac69f70c34c4345e91f84e3e",
      "created_at": "2018-03-09T13:30:37Z"
    },
    {
      "event": "referenced",
      "id": 1513337352,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTMzMzczNTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1513337352",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dadc2880a10e59734d4c8b662ebd760f81c9820a",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/dadc2880a10e59734d4c8b662ebd760f81c9820a",
      "created_at": "2018-03-09T14:04:27Z"
    },
    {
      "event": "referenced",
      "id": 1515994703,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTU5OTQ3MDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1515994703",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6d4a55878acee2b78b847fcb92537cd8c9b870b5",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/6d4a55878acee2b78b847fcb92537cd8c9b870b5",
      "created_at": "2018-03-12T11:28:18Z"
    },
    {
      "event": "referenced",
      "id": 1516112018,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYxMTIwMTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516112018",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6db640a39343ec3d5c1283e48425430c44b9ef35",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/6db640a39343ec3d5c1283e48425430c44b9ef35",
      "created_at": "2018-03-12T12:36:21Z"
    },
    {
      "event": "referenced",
      "id": 1516156157,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYxNTYxNTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516156157",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "76cf243311f6316f410e934bdc5dea3d09d5b51b",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/76cf243311f6316f410e934bdc5dea3d09d5b51b",
      "created_at": "2018-03-12T13:00:38Z"
    },
    {
      "event": "referenced",
      "id": 1516211623,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYyMTE2MjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516211623",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "44280562525ebb440fe7f05788aa2a2fc5b2cc72",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/44280562525ebb440fe7f05788aa2a2fc5b2cc72",
      "created_at": "2018-03-12T13:27:12Z"
    },
    {
      "event": "referenced",
      "id": 2056234964,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIwNTYyMzQ5NjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2056234964",
      "actor": {
        "login": "andvgal",
        "id": 6080632,
        "node_id": "MDQ6VXNlcjYwODA2MzI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6080632?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andvgal",
        "html_url": "https://github.com/andvgal",
        "followers_url": "https://api.github.com/users/andvgal/followers",
        "following_url": "https://api.github.com/users/andvgal/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andvgal/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andvgal/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andvgal/subscriptions",
        "organizations_url": "https://api.github.com/users/andvgal/orgs",
        "repos_url": "https://api.github.com/users/andvgal/repos",
        "events_url": "https://api.github.com/users/andvgal/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andvgal/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b29ac790c8c9676fd507294de1d8c0214365fece",
      "commit_url": "https://api.github.com/repos/energicryptocurrency/gen2-energi/commits/b29ac790c8c9676fd507294de1d8c0214365fece",
      "created_at": "2019-01-06T10:40:06Z"
    },
    {
      "event": "locked",
      "id": 5271647349,
      "node_id": "LOE_lADOABII584JKG9WzwAAAAE6NvR1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271647349",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:21:45Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62434688",
      "pull_request_review_id": null,
      "id": 62434688,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM0Njg4",
      "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+#define BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+\n+#include \"interruptible/lock.h\"\n+#include \"interruptible/this_thread.h\"\n+\n+#include <chrono>\n+#include <condition_variable>\n+#include <mutex>\n+#include <thread>\n+\n+namespace interruptible\n+{\n+class condition_variable\n+{\n+public:\n+    typedef int_lock<std::unique_lock<std::mutex> > lock_type;\n+\n+    condition_variable() = default;\n+    ~condition_variable() = default;\n+\n+    condition_variable(const condition_variable&) = delete;\n+    condition_variable& operator=(const condition_variable&) = delete;\n+\n+    inline void notify_one() noexcept\n+    {\n+        m_condvar.notify_one();\n+    }\n+\n+    inline void notify_all() noexcept\n+    {\n+        m_condvar.notify_all();\n+    }\n+\n+    template <class Lockable>\n+    inline void wait(Lockable& user_lock)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        m_condvar.wait(lock);\n+        this_thread::interruption_point();\n+    }\n+\n+    template <class Lockable, class Predicate>\n+    void wait(Lockable& user_lock, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            m_condvar.wait(lock);\n+            this_thread::interruption_point();\n+        }\n+    }\n+\n+    template <class Lockable, class Clock, class Duration>\n+    std::cv_status wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        std::cv_status ret = m_condvar.wait_until(lock, abs_time);\n+        this_thread::interruption_point();\n+        return ret;\n+    }\n+\n+    template <class Lockable, class Clock, class Duration, class Predicate>\n+    bool wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            bool ret = m_condvar.wait_until(lock, abs_time) == std::cv_status::timeout;\n+            this_thread::interruption_point();\n+            if (!ret)",
      "path": "src/interruptible/condition_variable.h",
      "position": null,
      "original_position": 77,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "33dd6c85b92e1d09048329c31e70141fb0eef42c",
      "in_reply_to_id": null,
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The loop spins after timeout. Should this test be `if (ret)`?\n",
      "created_at": "2016-05-08T16:45:47Z",
      "updated_at": "2016-05-08T17:14:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62434688",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62434688"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62435221",
      "pull_request_review_id": null,
      "id": 62435221,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM1MjIx",
      "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+#define BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+\n+#include \"interruptible/lock.h\"\n+#include \"interruptible/this_thread.h\"\n+\n+#include <chrono>\n+#include <condition_variable>\n+#include <mutex>\n+#include <thread>\n+\n+namespace interruptible\n+{\n+class condition_variable\n+{\n+public:\n+    typedef int_lock<std::unique_lock<std::mutex> > lock_type;\n+\n+    condition_variable() = default;\n+    ~condition_variable() = default;\n+\n+    condition_variable(const condition_variable&) = delete;\n+    condition_variable& operator=(const condition_variable&) = delete;\n+\n+    inline void notify_one() noexcept\n+    {\n+        m_condvar.notify_one();\n+    }\n+\n+    inline void notify_all() noexcept\n+    {\n+        m_condvar.notify_all();\n+    }\n+\n+    template <class Lockable>\n+    inline void wait(Lockable& user_lock)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        m_condvar.wait(lock);\n+        this_thread::interruption_point();\n+    }\n+\n+    template <class Lockable, class Predicate>\n+    void wait(Lockable& user_lock, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            m_condvar.wait(lock);\n+            this_thread::interruption_point();\n+        }\n+    }\n+\n+    template <class Lockable, class Clock, class Duration>\n+    std::cv_status wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        std::cv_status ret = m_condvar.wait_until(lock, abs_time);\n+        this_thread::interruption_point();\n+        return ret;\n+    }\n+\n+    template <class Lockable, class Clock, class Duration, class Predicate>\n+    bool wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            bool ret = m_condvar.wait_until(lock, abs_time) == std::cv_status::timeout;\n+            this_thread::interruption_point();\n+            if (!ret)",
      "path": "src/interruptible/condition_variable.h",
      "position": null,
      "original_position": 77,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "33dd6c85b92e1d09048329c31e70141fb0eef42c",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yep!\n",
      "created_at": "2016-05-08T17:15:06Z",
      "updated_at": "2016-05-08T17:15:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62435221",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62435221"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62436328",
      "pull_request_review_id": null,
      "id": 62436328,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM2MzI4",
      "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
      "path": "src/interruptible/thread_data.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "in_reply_to_id": null,
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This needs to be at least `memory_order_acquire` so it happens before the notify. Locking the mutex is only an acquire operation and won't act as a suitable fence.\n",
      "created_at": "2016-05-08T18:33:54Z",
      "updated_at": "2016-05-08T18:33:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62436328",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62436328"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62437695",
      "pull_request_review_id": null,
      "id": 62437695,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM3Njk1",
      "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
      "path": "src/interruptible/thread_data.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yep, thanks. This and the load should've both been marked for TODO, as I don't understand their interaction with the notify well enough. The orderings seem like pure voodoo :)\n",
      "created_at": "2016-05-08T20:18:49Z",
      "updated_at": "2016-05-08T20:18:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62437695",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62437695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62442773",
      "pull_request_review_id": null,
      "id": 62442773,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDQyNzcz",
      "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
      "path": "src/interruptible/thread_data.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "in_reply_to_id": null,
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it's wild stuff. I don't really understand it either.\n\nThe synchronization effects of `notify` on non-`condition_variable` values aren't specified, so I think we have to be conservative. One approach would be a release fence after the store and an acquire load operation. There may be marginally better-performing options on the store side, but this has the benefit that acquire/release pairs are relatively comprehensible. The load could technically be relaxed and the compiler still \"should\" make sure thread that's doing the loads sees the update \"in a reasonable amount of time\", but the compiler can hoist relaxed loads out of loops if it sees fit and who knows what's a reasonable amount of time to a compiler. Acquire and release are both cheap on x86 and anyway, interrupt points are going to be places that we expect time consuming operations to be happening, not in tight loops.\n",
      "created_at": "2016-05-09T01:21:02Z",
      "updated_at": "2016-05-09T01:21:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62442773",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62442773"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62938901",
      "pull_request_review_id": null,
      "id": 62938901,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTM4OTAx",
      "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
      "path": "src/interruptible/thread_data.h",
      "position": 35,
      "original_position": 35,
      "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
      "in_reply_to_id": null,
      "user": {
        "login": "kazcw",
        "id": 1047859,
        "node_id": "MDQ6VXNlcjEwNDc4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kazcw",
        "html_url": "https://github.com/kazcw",
        "followers_url": "https://api.github.com/users/kazcw/followers",
        "following_url": "https://api.github.com/users/kazcw/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kazcw/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kazcw/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
        "organizations_url": "https://api.github.com/users/kazcw/orgs",
        "repos_url": "https://api.github.com/users/kazcw/repos",
        "events_url": "https://api.github.com/users/kazcw/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kazcw/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've been thinking about this... I think it was actually fine as is. The store and the notify don't need to be ordered relative to each other because the release of the lock at the exit of the scope is synchronized-with the acquire of the lock that `wait` must perform before returning.\n",
      "created_at": "2016-05-11T22:34:33Z",
      "updated_at": "2016-05-11T22:34:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62938901",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62938901"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}