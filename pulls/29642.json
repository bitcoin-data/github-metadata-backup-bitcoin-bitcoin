{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642",
    "id": 1768952247,
    "node_id": "PR_kwDOABII585pcBG3",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29642",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29642.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29642.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/bd0a9bb5da64425f85f0dea00c043dcdbc06a9a5",
    "number": 29642,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Handle fatal errors through return values",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Based on #25665.\r\n\r\nCurrently functions issuing fatal errors call the `fatalError` notification method to issue a shutdown procedure. This makes it hard for higher level functions to figure out if an error deeper in the call stack occurred. For users of the kernel it might also be difficult to assert which function call issued a fatal error if they are being run concurrently. If the kernel would eventually be used by external users, getting fatal error information through a callback instead of function return values would also be cumbersome and limiting. Unit, bench, and fuzz tests currently don't have a way to effectively test against fatal errors.\r\n\r\nThis patch set is an attempt to make fatal error handling in the kernel code more transparent. Fatal errors are now passed up the call stack through `util::Result<T, FatalError>` failure values. A previous attempt at this by theuni always immediately returned failure values if a function call returned a failure. However, this is not always desirable (see discussion [here](https://github.com/bitcoin/bitcoin/pull/27866#discussion_r1256378064)). Sometimes, further operations can still be completed even if a fatal error was issued. The solution to this is that these \"ignored\" errors are still moved through `util::Result`'s error string values with its `.MoveMessages` method, even while a failure value in the result is not present.\r\n\r\nNext to some smaller behavior changes, the most significant change is that the issuing of a shutdown procedure is delayed until a potential fatal error is handled as opposed to immediately when it is first encountered. Another effect is that potential fatal errors are now asserted in the bench, fuzz and unit tests. Some of the currently not immediately returned fatal errors need some further scrutiny. These are marked with a `TODO (fatal error)` comment and could be tackled in a later PR.\r\n\r\nTo validate this approach a new clang-tidy check is introduced. It implements the following checks:\r\n\r\n1. If a function calls another function with a `util::Result<T, FatalCondition>` return type, its return type has to be `util::Result<T, FatalCondition>` too, or it has to handle the value returned by the function with one of `CheckFatal`, `HandleFatalError`,\r\n`UnwrapFatalError`, or `CheckFatalFailure`.\r\n2. In functions returning a `util::Result<T, FatalCondition>` a call to a function returning a `util::Result<T, FatalCondition>` needs to propagate the value by either:\r\n   - Returning it immediately\r\n   - Assigning it immediately to an existing result with `.MoveMessages()` or `.Set()`\r\n   - Eventually passing it as an argument to a `.MoveMessages()`\r\n\r\n---\r\n\r\nThis PR is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587) and is a step towards stage 2, creating a more refined kernel API.",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-03-12T21:34:45Z",
    "updated_at": "2024-03-26T20:15:13Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "64f9ce41df407870d682a464e26b106c8c11196f",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:returnTypeShutdown",
      "ref": "returnTypeShutdown",
      "sha": "bd0a9bb5da64425f85f0dea00c043dcdbc06a9a5",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 232924,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-26T19:20:34Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2023-10-20T10:28:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d04324a7056a735c1127ba8ccdc720a16e7281a3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34927,
        "stargazers_count": 75062,
        "watchers_count": 75062,
        "size": 253852,
        "default_branch": "master",
        "open_issues_count": 710,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-26T20:32:16Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-26T20:49:08Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 2058,
    "deletions": 700,
    "changed_files": 70,
    "commits": 27,
    "review_comments": 0,
    "comments": 8
  },
  "events": [
    {
      "event": "commented",
      "id": 1992625857,
      "node_id": "IC_kwDOABII5852xQ7B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992625857",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T21:34:47Z",
      "updated_at": "2024-03-20T00:25:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29642).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1999854726), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29672](https://github.com/bitcoin/bitcoin/pull/29672) (validation: Make translations of fatal errors consistent by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint by maflcko)\n* [#29553](https://github.com/bitcoin/bitcoin/pull/29553) (assumeutxo: Add dumptxoutset height param, remove shell scripts by fjahr)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n* [#29402](https://github.com/bitcoin/bitcoin/pull/29402) (mempool: Log added for dumping mempool transactions to disk by kevkevinpal)\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n* [#29231](https://github.com/bitcoin/bitcoin/pull/29231) (logging: Update to new logging API by ajtowns)\n* [#28843](https://github.com/bitcoin/bitcoin/pull/28843) ([refactor] Remove BlockAssembler m_mempool member by TheCharlatan)\n* [#28687](https://github.com/bitcoin/bitcoin/pull/28687) (C++20 std::views::reverse by stickies-v)\n* [#28280](https://github.com/bitcoin/bitcoin/pull/28280) (Don't empty dbcache on prune flushes: >30% faster IBD by andrewtoth)\n* [#28233](https://github.com/bitcoin/bitcoin/pull/28233) (validation: don't clear cache on periodic flush by andrewtoth)\n* [#27039](https://github.com/bitcoin/bitcoin/pull/27039) (blockstorage: do not flush block to disk if it is already there by pinheadmz)\n* [#27006](https://github.com/bitcoin/bitcoin/pull/27006) (reduce cs_main scope, guard block index 'nFile' under a local mutex by furszy)\n* [#26593](https://github.com/bitcoin/bitcoin/pull/26593) (tracing: Only prepare tracepoint arguments when actually tracing by 0xB10C)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1992625857",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "labeled",
      "id": 12095290758,
      "node_id": "LE_lADOABII586CGcByzwAAAALQ732G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12095290758",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T21:34:50Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12095669292,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALQ9UQs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12095669292",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T22:19:00Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T07:51:43Z",
      "updated_at": "2024-03-13T07:51:43Z",
      "source": {
        "issue": {
          "id": 2182604130,
          "node_id": "PR_kwDOABII585pbmSj",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29641",
          "number": 29641,
          "state": "open",
          "state_reason": null,
          "title": "scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint",
          "body": "`LogPrintf/LogPrint` are problematic, because:\r\n\r\n* They are deprecated aliases, where code is using either the deprecated or non-deprecated alias, which is inconsistent and confusing.\r\n* Their name is non-descriptive of what the function does (info logging or debug logging).\r\n\r\nFix all issues by replacing the usage.\r\n\r\nWhile the diff is large and may cause merge conflicts or backport conflicts, I don't see the deprecated aliases being kept forever, so this will have to be done at some point. All conflicts should be trivial to solve, in any case.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29641",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29641",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29641.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29641.patch"
          },
          "created_at": "2024-03-12T20:21:40Z",
          "updated_at": "2024-03-25T21:36:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T08:31:06Z",
      "updated_at": "2024-03-13T08:31:06Z",
      "source": {
        "issue": {
          "id": 2167184322,
          "node_id": "PR_kwDOABII585om7vm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29553",
          "number": 29553,
          "state": "open",
          "state_reason": null,
          "title": "assumeutxo: Add dumptxoutset height param, remove shell scripts",
          "body": "This adds a height parameter to the `dumptxoutset` RPC. This internalizes the workflow that was previously done by scripts: roll back the chain to the height we actually want the snapshot from, create the snapshot, roll forward to the real tip again.\r\n\r\nThe nice thing about internalizing this functionality is that we can write tests for the code and it gives us more options to make the functionality robust. The shell scripts we have so far will be more cumbersome to maintain in the long run, especially since we will only notice later when we have broken them. I think it's safe to remove these `test_utxo_snapshots.sh` as well when we have this option in `dumptxoutset` because we have also added some good additional functional test coverage for this functionality.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29553",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29553.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29553.patch"
          },
          "created_at": "2024-03-04T15:58:11Z",
          "updated_at": "2024-03-26T09:42:48Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T08:36:08Z",
      "updated_at": "2024-03-13T08:36:08Z",
      "source": {
        "issue": {
          "id": 2164982107,
          "node_id": "PR_kwDOABII585ofgIV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29538",
          "number": 29538,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Improve naming of CBlock::GetHash() -> GetHeaderHash()",
          "body": "dergoegge noted [here](https://github.com/bitcoin/bitcoin/pull/29412/commits/49257c0304828a185c273fcb99742c54bbef0c8e) that `CBlock::GetHash()` is a footgun since it only calculates the hash of the header and not the full block. I agree with that sentiment and think it would be beneficial to make this explicit by renaming the inherited function.\r\n\r\nThe same goes for `ConstructBlockHash()`.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29538",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29538",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29538.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29538.patch"
          },
          "closed_at": "2024-03-17T14:04:30Z",
          "created_at": "2024-03-02T21:18:08Z",
          "updated_at": "2024-03-17T15:57:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T09:34:45Z",
      "updated_at": "2024-03-13T09:34:45Z",
      "source": {
        "issue": {
          "id": 2127176950,
          "node_id": "PR_kwDOABII585me8Nn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29415",
          "number": 29415,
          "state": "open",
          "state_reason": null,
          "title": "Broadcast own transactions only via short-lived Tor or I2P connections",
          "body": "To improve privacy, broadcast locally submitted transactions (from the `sendrawtransaction` RPC) to the P2P network only via Tor or I2P short-lived connections.\r\n\r\n* Introduce a new connection type for private broadcast of transactions with the following properties:\r\n  * started whenever there are local transactions to be sent\r\n  * only opened to Tor or I2P peers\r\n  * opened regardless of max connections limits\r\n  * after handshake is completed one local transaction is pushed to the peer, `PING` is sent and after receiving `PONG` the connection is closed\r\n  * ignore all incoming messages after handshake is completed (except `PONG`)\r\n\r\n* Broadcast transactions submitted via `sendrawtransaction` using this new mechanism, to a few Tor or I2P peers. Keep doing this until we receive an `INV` about this transaction from one of our ordinary peers (this takes about 1 second on mainnet).\r\n\r\n* The transaction is stored in peerman and does not enter the mempool.\r\n\r\n* Once we get an `INV` from somebody, then the normal flow executes: we request the transaction with `GETDATA`, receive it with a `TX` message, put it in our mempool and broadcast it to all our existent connections (as if we see it for the first time).\r\n\r\n* After we receive the full transaction as a `TX` message, in reply to our `GETDATA` request, only then consider the transaction has propagated through the network and remove it from the storage in peerman, ending the private broadcast attempts.\r\n\r\nThe messages exchange should look like this:\r\n\r\n```\r\ntx-sender >--- connect -------> tx-recipient\r\ntx-sender >--- VERSION -------> tx-recipient (dummy VERSION with no revealing data)\r\ntx-sender <--- VERSION -------< tx-recipient\r\ntx-sender <--- WTXIDRELAY ----< tx-recipient (maybe)\r\ntx-sender <--- SENDADDRV2 ----< tx-recipient (maybe)\r\ntx-sender <--- SENDTXRCNCL ---< tx-recipient (maybe)\r\ntx-sender <--- VERACK --------< tx-recipient\r\ntx-sender >--- VERACK --------> tx-recipient\r\ntx-sender >--- TX ------------> tx-recipient\r\ntx-sender >--- PING ----------> tx-recipient\r\ntx-sender <--- PONG ----------< tx-recipient\r\ntx-sender disconnects\r\n```\r\n\r\nWhenever a new transaction is received from `sendrawtransaction` RPC, the node will send it to 5 (`NUM_PRIVATE_BROADCAST_PER_TX`) recipients right away. If after 10-15 mins we still have not heard anything about the transaction from the network, then it will be sent to 1 more peer (see `PeerManagerImpl::ReattemptPrivateBroadcast()`).\r\n\r\nA few considerations:\r\n* The short-lived private broadcast connections are very cheap and fast wrt network traffic. It is expected that some of those peers could blackhole the transaction. Just one honest/proper peer is enough for successful propagation.\r\n* The peers that receive the transaction could deduce that this is initial transaction broadcast from the transaction originator. This is ok, they can't identify the sender.\r\n\r\n---\r\n\r\nSome explanation of the commits:\r\n\r\n* Independent improvement (also opened as a standalone PR at https://github.com/bitcoin/bitcoin/pull/29419):\r\n  * `log: deduplicate category names and improve logging.cpp`\r\n\r\n* New logging category and config option to enable private broadcast\r\n  * `log: introduce a new category for private broadcast`\r\n  * `init: introduce a new option to enable/disable private broadcast`\r\n\r\n* Implement the private broadcast connection handling on the `CConnman` side:\r\n  * `net: introduce a new connection type for private broadcast`\r\n  * `net: move peers counting before grant acquisition in ThreadOpenConnections()`\r\n  * `net: implement opening PRIVATE_BROADCAST connections`\r\n\r\n* Prepare `BroadcastTransaction()` for private broadcast requests:\r\n  * `net_processing: rename RelayTransaction to better describe what it does`\r\n  * `node: change a tx-relay on/off flag to a tri-state`\r\n  * `net_processing: store transactions for private broadcast in PeerManager`\r\n\r\n* Implement the private broadcast connection handling on the `PeerManager` side:\r\n  * `net_processing: reorder the code that handles the VERSION message`\r\n  * `net_processing: handle ConnectionType::PRIVATE_BROADCAST connections`\r\n  * `net_processing: stop private broadcast of a transaction after round-trip`\r\n  * `net_processing: retry private broadcast`\r\n\r\n* Engage the new functionality from `sendrawtransaction`:\r\n  * `rpc: use private broadcast from sendrawtransaction RPC if -privatebroadcast is ON`\r\n\r\n* Independent test framework improvements (also opened as a standalone PR at https://github.com/bitcoin/bitcoin/pull/29420):\r\n  * `test: improve debug log message from P2PConnection::connection_made()`\r\n  * `test: extend the SOCKS5 Python proxy to actually connect to a destination`\r\n  * `test: support WTX INVs from P2PDataStore and fix a comment`\r\n  * `test: set P2PConnection::p2p_connected_to_node in peer_connect_helper()`\r\n\r\n* New functional test that exercies some of the new code:\r\n  * `test: add functional test for local tx relay`\r\n\r\n---\r\n\r\nThis addresses:\r\nhttps://github.com/bitcoin/bitcoin/issues/3828 Clients leak IPs if they are recipients of a transaction\r\nhttps://github.com/bitcoin/bitcoin/issues/14692 Can't configure bitocoind to only send tx via Tor but receive clearnet transactions\r\nhttps://github.com/bitcoin/bitcoin/issues/19042 Tor-only transaction broadcast onlynet=onion alternative\r\nhttps://github.com/bitcoin/bitcoin/issues/24557 Option for receive events with all networks, but send transactions and/or blocks only with anonymous network[s]?\r\nhttps://github.com/bitcoin/bitcoin/issues/25450 Ability to broadcast wallet transactions only via dedicated oneshot Tor connections\r\n\r\nRelated, but different:\r\nhttps://github.com/bitcoin/bitcoin/issues/21876 Broadcast a transaction to specific nodes\r\nhttps://github.com/bitcoin/bitcoin/issues/28636 new RPC: sendrawtransactiontopeer\r\n\r\n---\r\n\r\n_A previous incarnation of this can be found at https://github.com/bitcoin/bitcoin/pull/27509. It puts the transaction in the mempool and (tries to) hide it from the outside observers. This turned out to be too error prone or maybe even impossible._\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29415",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29415",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29415.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29415.patch"
          },
          "created_at": "2024-02-09T13:39:10Z",
          "updated_at": "2024-03-26T19:20:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T09:38:06Z",
      "updated_at": "2024-03-13T09:38:06Z",
      "source": {
        "issue": {
          "id": 2122999293,
          "node_id": "PR_kwDOABII585mQrPv",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29402",
          "number": 29402,
          "state": "open",
          "state_reason": null,
          "title": "mempool: Log added for dumping mempool transactions to disk",
          "body": "Sometimes when shutting off bitcoind it can take a while to dump the mempool transaction onto the disk so\r\nthis change adds additional logging to the `DumpMempool` method in `kernel/mempool_persist.cpp`\r\n\r\nMotivated by https://github.com/bitcoin/bitcoin/pull/29227 this change\r\n - adds a single new line for the amount of transactions being dumped and the amount of memory being dumped to file\r\n\r\nThis is in response to https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1893375082\r\n\r\nThe logs will now look like this\r\n```\r\n2024-02-09T23:41:52Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.02s)\r\n2024-02-09T23:41:52Z scheduler thread exit\r\n2024-02-09T23:41:52Z Writing 29 mempool transactions to file...\r\n2024-02-09T23:41:52Z Writing 0 unbroadcast transactions to file.\r\n2024-02-09T23:41:52Z Dumped mempool: 0.000s to copy, 0.022s to dump, 0.015 MB dumped to file\r\n2024-02-09T23:41:52Z Flushed fee estimates to fee_estimates.dat.\r\n2024-02-09T23:41:53Z Shutdown: done\r\n```\r\n\r\n",
          "user": {
            "login": "kevkevinpal",
            "id": 15950706,
            "node_id": "MDQ6VXNlcjE1OTUwNzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kevkevinpal",
            "html_url": "https://github.com/kevkevinpal",
            "followers_url": "https://api.github.com/users/kevkevinpal/followers",
            "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
            "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
            "repos_url": "https://api.github.com/users/kevkevinpal/repos",
            "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29402",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29402.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29402.patch"
          },
          "created_at": "2024-02-07T13:07:33Z",
          "updated_at": "2024-03-25T00:38:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T10:10:07Z",
      "updated_at": "2024-03-13T10:10:07Z",
      "source": {
        "issue": {
          "id": 2089150264,
          "node_id": "PR_kwDOABII585keJKk",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29278",
          "number": 29278,
          "state": "open",
          "state_reason": null,
          "title": "Wallet:  Add `maxfeerate` wallet startup option",
          "body": "This PR fixes #29220\r\n\r\n- The PR adds a wallet `-maxfeerate` startup option, as the upper limit of wallet transactions fee rate.\r\n\r\n- This fixes the ambiguity of using `maxtxfee` value to check the upper limit of transactions fee rate.\r\n\r\n-  Wallet will not create a transaction with fee rate above `maxfeerate` value. And you can not set wallet fee rate with `settxfee` RPC above `maxfeerate` value.\r\n\r\n- This PR adds a functional test that ensure the behavior is enforced.\r\n \r\n\r\n\r\n",
          "user": {
            "login": "ismaelsadeeq",
            "id": 48946461,
            "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaelsadeeq",
            "html_url": "https://github.com/ismaelsadeeq",
            "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
            "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
            "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
            "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29278",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29278",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29278.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29278.patch"
          },
          "created_at": "2024-01-18T22:23:49Z",
          "updated_at": "2024-03-20T22:38:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T10:23:52Z",
      "updated_at": "2024-03-13T10:23:52Z",
      "source": {
        "issue": {
          "id": 2077041540,
          "node_id": "PR_kwDOABII585j1CBc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29231",
          "number": 29231,
          "state": "open",
          "state_reason": null,
          "title": "logging: Update to new logging API",
          "body": "Updates various logging calls to the new API from #28318. All commits are scripted diffs, so should be easy to update if needed, and also easy to reuse the scripts to update other code if needed when rebasing it after this is merged. Changes all uses of `LogPrintLevel()` where the level is hardcoded, and changes all `LogPrintf` and `LogPrint` uses in init.cpp.",
          "user": {
            "login": "ajtowns",
            "id": 127186,
            "node_id": "MDQ6VXNlcjEyNzE4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ajtowns",
            "html_url": "https://github.com/ajtowns",
            "followers_url": "https://api.github.com/users/ajtowns/followers",
            "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
            "organizations_url": "https://api.github.com/users/ajtowns/orgs",
            "repos_url": "https://api.github.com/users/ajtowns/repos",
            "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ajtowns/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29231",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29231",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29231.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29231.patch"
          },
          "created_at": "2024-01-11T16:01:53Z",
          "updated_at": "2024-03-25T01:22:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T11:15:48Z",
      "updated_at": "2024-03-13T11:15:48Z",
      "source": {
        "issue": {
          "id": 2029493410,
          "node_id": "PR_kwDOABII585hWvMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29015",
          "number": 29015,
          "state": "open",
          "state_reason": null,
          "title": "kernel: Streamline util library",
          "body": "Remove `fees.h`, `errors.h`, and `spanparsing.h` from the util library. Specifically:\r\n\r\n- Move `Split` functions from `util/spanparsing.h` to `util/string.h`, using `util` namespace for clarity.\r\n- Move remaining spanparsing functions to `script/parsing.h` since they are used for descriptor and miniscript parsing.\r\n- Combine `util/fees.h` and `util/errors.h` into `common/messages.h` so there is a place for simple functions that generate user messages to live, and these functions are not part of the util library.\r\n\r\nMotivation for this change is that the util library is a dependency of the kernel, and we should remove functionality from util that shouldn't be called by kernel code or kernel applications. These changes should also improve code organization and make functions easier to discover. Some of these same moves are (or were) part of #28690, but did not help with code organization, or made it worse, so it is better to move them and clean them up in the same PR so code only has to change one time.\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29015",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29015",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29015.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29015.patch"
          },
          "created_at": "2023-12-06T22:26:39Z",
          "updated_at": "2024-03-13T11:15:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T11:28:19Z",
      "updated_at": "2024-03-13T11:28:19Z",
      "source": {
        "issue": {
          "id": 2012991870,
          "node_id": "PR_kwDOABII585gehvR",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28950",
          "number": 28950,
          "state": "closed",
          "state_reason": null,
          "title": "RPC: Add maxfeerate and maxburnamount args to submitpackage",
          "body": "Resolves https://github.com/bitcoin/bitcoin/issues/28949\r\n\r\nI couldn't manage to do it very cleanly outside of (sub)package evaluation itself, since it would change the current interface very heavily. Instead I threaded through the max fee argument and used that directly via ATMPArgs. From that perspective, this is somewhat a reversion from https://github.com/bitcoin/bitcoin/pull/19339. In a post-cluster mempool world, these checks could be consolidated to right after the given (ancestor) package is linearized/chunked, by just checking the feerate of the top chunk and rejecting the submission entirely if the top chunk is too high.\r\n\r\nThe implication here is that subpackages can be submitted to the mempool prior to hitting this new fee-based error condition.",
          "user": {
            "login": "instagibbs",
            "id": 5767891,
            "node_id": "MDQ6VXNlcjU3Njc4OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/instagibbs",
            "html_url": "https://github.com/instagibbs",
            "followers_url": "https://api.github.com/users/instagibbs/followers",
            "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
            "organizations_url": "https://api.github.com/users/instagibbs/orgs",
            "repos_url": "https://api.github.com/users/instagibbs/repos",
            "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/instagibbs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28950",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28950",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28950.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28950.patch"
          },
          "closed_at": "2024-03-18T18:24:51Z",
          "created_at": "2023-11-27T19:54:21Z",
          "updated_at": "2024-03-26T08:56:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T12:07:07Z",
      "updated_at": "2024-03-13T12:07:07Z",
      "source": {
        "issue": {
          "id": 1952153535,
          "node_id": "PR_kwDOABII585dRO93",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28687",
          "number": 28687,
          "state": "open",
          "state_reason": null,
          "title": "C++20 std::views::reverse",
          "body": "C++20 introduces [`std::ranges::views::reverse`](https://en.cppreference.com/w/cpp/ranges/reverse_view), which allows us to drop our own `reverse_iterator.h` implementation and also makes it easier to chain views (even though I think we currently don't use this).\r\n\r\nIn draft until our minimum dependencies are bumped to pass CI:\r\n- `multiprocess, i686, DEBUG`: requires #29165 to be merged, bumping it to clang-16\r\n- `no wallet, libbitcoinkernel`: requires clang-16",
          "user": {
            "login": "stickies-v",
            "id": 69010457,
            "node_id": "MDQ6VXNlcjY5MDEwNDU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stickies-v",
            "html_url": "https://github.com/stickies-v",
            "followers_url": "https://api.github.com/users/stickies-v/followers",
            "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
            "organizations_url": "https://api.github.com/users/stickies-v/orgs",
            "repos_url": "https://api.github.com/users/stickies-v/repos",
            "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stickies-v/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/66",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66/labels",
            "id": 10314936,
            "node_id": "MI_kwDOABII584AnWS4",
            "number": 66,
            "state": "open",
            "title": "28.0",
            "creator": {
              "login": "DrahtBot",
              "id": 39886733,
              "node_id": "MDQ6VXNlcjM5ODg2NzMz",
              "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/DrahtBot",
              "html_url": "https://github.com/DrahtBot",
              "followers_url": "https://api.github.com/users/DrahtBot/followers",
              "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
              "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
              "repos_url": "https://api.github.com/users/DrahtBot/repos",
              "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 3,
            "created_at": "2023-12-15T12:08:23Z",
            "updated_at": "2024-03-18T15:01:14Z"
          },
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28687",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28687",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28687.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28687.patch"
          },
          "created_at": "2023-10-19T12:37:13Z",
          "updated_at": "2024-03-23T08:03:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T12:58:58Z",
      "updated_at": "2024-03-13T12:58:58Z",
      "source": {
        "issue": {
          "id": 1853990384,
          "node_id": "PR_kwDOABII585YGslf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
          "number": 28280,
          "state": "open",
          "state_reason": null,
          "title": "Don't empty dbcache on prune flushes: >30% faster IBD",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. A warm coins cache significantly speeds up block connection, and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nFor frequent pruning flushes there's no need to empty the cache and kill connect block speed. However, simply using `Sync` in place of `Flush` actually slows down a pruned full IBD with a high `dbcache` value. This is because as the cache grows, sync takes longer since every coin in the cache is scanned to check if it's dirty. For frequent prune flushes and a large cache this constant scanning starts to really slow IBD down, and just emptying the cache on every prune becomes faster.\r\n\r\nTo fix this, we can add two pointers to each cache entry and construct a doubly linked list of dirty entries. We can then only iterate through all dirty entries on each `Sync`, and simply clear the pointers after.\r\n\r\nWith this approach a full IBD with `dbcache=16384` and `prune=550` was 32% faster than master. For default `dbcache=450` speedup was ~9%. All benchmarks were run with `stopatheight=800000`.\r\n\r\n|  | prune | dbcache | time | max RSS | speedup |\r\n|-----------:|----------:|------------:|--------:|-------------:|--------------:|\r\n| master | 550 | 16384 | 8:52:57 | 2,417,464k | - |\r\n| branch | 550 | 16384 | 6:01:00 | 16,216,736k | 32% |\r\n| branch | 550 | 450 | 8:05:08 | 2,818,072k | 8.8% |\r\n| master | 10000 | 5000 | 8:19:59 | 2,962,752k | - |\r\n| branch | 10000 | 5000| 5:56:39 | 6,179,764k | 28.8% |\r\n| master | 0 | 16384 | 4:51:53 | 14,726,408k | - |\r\n| branch | 0 | 16384 | 4:43:11 | 16,526,348k | 2.7% |\r\n| master | 0 | 450 | 7:08:07 | 3,005,892k | - |\r\n| branch | 0 | 450 | 6:57:24 | 3,013,556k |2.6%|\r\n\r\nWhile the 2 pointers add memory to each cache entry, it did not slow down IBD. For non-pruned IBD results were similar for this branch and master. A non-pruned IBD with full `dbcache` to tip ended up using 12% more memory, but it was also 2.7% faster somehow. Likely because the `Flush` iteration for short lived caches is faster because it also only iterates through dirty entries. For smaller `dbcache` values the `dbcache` limit is respected so does not consume more memory, and the potentially more frequent flushes were not significant enough to cause any slowdown.\r\n\r\nInspired by [this comment](https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-457720636).\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/11315.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28280.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28280.patch"
          },
          "created_at": "2023-08-16T22:38:19Z",
          "updated_at": "2024-03-22T20:09:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T13:04:31Z",
      "updated_at": "2024-03-13T13:04:31Z",
      "source": {
        "issue": {
          "id": 1839616362,
          "node_id": "PR_kwDOABII585XWA3I",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
          "number": 28233,
          "state": "open",
          "state_reason": null,
          "title": "validation: don't clear cache on periodic flush",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. [A warm coins cache significantly speeds up block connection](https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-633684774), and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nPeriodic flushes occur every 24 hours, which empties the cache and causes block connection to slow down. By keeping the cache through periodic flushes a node can run for several days with an increasingly hotter cache and connect blocks much more quickly.\r\n\r\nAlso note that this still clears the cache for pruning flushes. Having frequent pruning flushes with a large cache that doesn't clear is less performant than the status quo https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-458657451. See https://github.com/bitcoin/bitcoin/pull/28280.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28233",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28233.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28233.patch"
          },
          "created_at": "2023-08-07T14:44:40Z",
          "updated_at": "2024-03-22T20:09:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:12:12Z",
      "updated_at": "2024-03-13T14:12:12Z",
      "source": {
        "issue": {
          "id": 1570294980,
          "node_id": "PR_kwDOABII585JOgro",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27039",
          "number": 27039,
          "state": "closed",
          "state_reason": null,
          "title": "blockstorage: do not flush block to disk if it is already there",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/2039\r\n\r\nWhen reindexing from flat-file block storage there is no need to write anything back to disk, since the block data is already there. This PR skips flushing to disk those blocks that already have a known position in the datastore. Skipping this means that users can write-protect the `blk` files on disk which may be useful for security or even safely sharing that data between multiple bitcoind instances.\r\n\r\n`FindBlockPos()` may also flush the undo data file, but again this is skipped if the corresponding block position is known, like during the initial stage of a reindex when block data is being indexed. Once the block index is complete the validation mechanism will call `ConnectBlock()` which will save undo data at that time.\r\n\r\nThe call stack looks like this:\r\n\r\n```\r\ninit()\r\nThreadImport() <-- process fReindex flag\r\nLoadExternalBlockFile()\r\nAcceptBlock()\r\nSaveBlockToDisk()\r\nFindBlockPos()\r\nFlushBlockFile() <-- unnecessary if block is already on disk\r\n```\r\n\r\nA larger refactor of this part of the code was started by mzumsande here:  https://github.com/mzumsande/bitcoin/tree/202207_refactor_findblockpos including this fix, reviewers can let me know if the changes should be combined.\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 219890555,
              "node_id": "MDU6TGFiZWwyMTk4OTA1NTU=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Block%20storage",
              "name": "Block storage",
              "color": "000000",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignee": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "achow101",
              "id": 3782274,
              "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/achow101",
              "html_url": "https://github.com/achow101",
              "followers_url": "https://api.github.com/users/achow101/followers",
              "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
              "organizations_url": "https://api.github.com/users/achow101/orgs",
              "repos_url": "https://api.github.com/users/achow101/repos",
              "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/achow101/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27039",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27039",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27039.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27039.patch"
          },
          "closed_at": "2024-03-20T16:41:45Z",
          "created_at": "2023-02-03T18:50:50Z",
          "updated_at": "2024-03-20T18:13:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:15:31Z",
      "updated_at": "2024-03-13T14:15:31Z",
      "source": {
        "issue": {
          "id": 1564608976,
          "node_id": "PR_kwDOABII585I7fhd",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27006",
          "number": 27006,
          "state": "open",
          "state_reason": null,
          "title": "reduce cs_main scope, guard block index 'nFile' under a local mutex",
          "body": "By not having to lock `cs_main` every time we try to access block\r\nposition on disk, we can avoid slowing down concurrent tasks due\r\nto threads waiting for the global lock to be released.\r\n\r\nAlso, solves a edge case race inside `ReadBlockFromDisk` where\r\nwe obtain the file position locking `cs_main` and then try to access\r\nthe file without it (the file could no longer exist if pruning occurred\r\njust in-between these two actions).\r\n\r\nContext from where this comes from #26966.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27006",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27006",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27006.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27006.patch"
          },
          "created_at": "2023-01-31T16:10:54Z",
          "updated_at": "2024-03-20T17:23:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:35:24Z",
      "updated_at": "2024-03-13T14:35:24Z",
      "source": {
        "issue": {
          "id": 1467073842,
          "node_id": "PR_kwDOABII585D1g33",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
          "number": 26593,
          "state": "open",
          "state_reason": null,
          "title": "tracing: Only prepare tracepoint arguments when actually tracing",
          "body": "Currently, if the tracepoints are compiled (e.g. in depends and release builds), we always prepare the tracepoint arguments regardless of the tracepoints being used or not. We made sure that the argument preparation is as cheap as possible, but we can almost completely eliminate any overhead for users not interested in the tracepoints (the vast majority), by gating the tracepoint argument preparation with an `if(something is attached to this tracepoint)`. To achieve this, we use the optional semaphore feature provided by SystemTap.\r\n\r\nThe first commit simplifies and deduplicates our tracepoint macros from 13 TRACEx macros to a single TRACEPOINT macro. This makes them easier to use and also avoids more duplicate macro definitions in the second commit.\r\n\r\nThe Linux tracing tools I'm aware of (bcc, bpftrace, libbpf, and systemtap) all support the semaphore gating feature. Thus, all existing tracepoints and their argument preparation is gated in the second commit. For details, please refer to the commit messages and the updated documentation in `doc/tracing.md`.\r\n\r\nAlso adding unit tests that include all tracepoint macros to make sure there are no compiler problems with them (e.g. some varadiac extension not supported). \r\n\r\nReviewers might want to check:\r\n- Do the tracepoints still work for you? Do the examples in `contrib/tracing/` run on your system (as bpftrace frequently breaks on every new version, please test master too if it should't work for you)? Do the CI interface tests still pass?\r\n- Is the new documentation clear? \r\n- The `TRACEPOINT_SEMAPHORE(event, context)` macros places global variables in our global namespace. Is this something we strictly want to avoid or maybe move to all `TRACEPOINT_SEMAPHORE`s to a separate .cpp file or even namespace? I like having the `TRACEPOINT_SEMAPHORE()` in same file as the `TRACEPOINT()`, but open for suggestion on alternative approaches. \r\n- Are newly added tracepoints in the unit tests visible when using `readelf -n /src/test/test_bitcoin`? You can run the new unit tests with `./src/test/test_bitcoin --run_test=util_trace_tests* --log_level=all`.\r\n<details><summary>Two of the added unit tests demonstrate that we are only processing the tracepoint arguments when attached by having a test-failure condition in the tracepoint argument preparation. The following bpftrace script can be used to demonstrate that the tests do indeed fail when attached to the tracepoints.</summary>\r\n\r\n`fail_tests.bt`:\r\n\r\n```c\r\n#!/usr/bin/env bpftrace\r\n\r\nusdt:./src/test/test_bitcoin:test:check_if_attached {\r\n  printf(\"the 'check_if_attached' test should have failed\\n\");\r\n}\r\n\r\nusdt:./src/test/test_bitcoin:test:expensive_section {\r\n  printf(\"the 'expensive_section' test should have failed\\n\");\r\n}\r\n```\r\n\r\nRun the unit tests with `./src/test/test_bitcoin` and start `bpftrace fail_tests.bt -p $(pidof test_bitcoin)` in a separate terminal. The unit tests should fail with:\r\n\r\n```\r\nRunning 594 test cases...\r\ntest/util_trace_tests.cpp(31): error: in \"util_trace_tests/test_tracepoint_check_if_attached\": check false has failed\r\ntest/util_trace_tests.cpp(51): error: in \"util_trace_tests/test_tracepoint_manual_tracepoint_active_check\": check false has failed\r\n\r\n*** 2 failures are detected in the test module \"Bitcoin Core Test Suite\"\r\n```\r\n\r\n</details>\r\n\r\nThese links might provide more contextual information for reviewers:\r\n- [How SystemTap Userspace Probes Work by eklitzke](https://eklitzke.org/how-sytemtap-userspace-probes-work) (actually an example on Bitcoin Core; mentions that with semaphores \"the overhead for an untraced process is effectively zero.\")\r\n- [libbpf comment on USDT semaphore handling](https://github.com/libbpf/libbpf/blob/1596a09b5de2a50ab8d44218fc29b6d42f886305/src/usdt.c#L83-L92) (can recommend the whole comment for background on how the tracepoints and tracing tools work together)\r\n- https://sourceware.org/systemtap/wiki/UserSpaceProbeImplementation#Semaphore_Handling",
          "user": {
            "login": "0xB10C",
            "id": 19157360,
            "node_id": "MDQ6VXNlcjE5MTU3MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/0xB10C",
            "html_url": "https://github.com/0xB10C",
            "followers_url": "https://api.github.com/users/0xB10C/followers",
            "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
            "organizations_url": "https://api.github.com/users/0xB10C/orgs",
            "repos_url": "https://api.github.com/users/0xB10C/repos",
            "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/0xB10C/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26593",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26593.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26593.patch"
          },
          "created_at": "2022-11-28T20:50:26Z",
          "updated_at": "2024-03-23T10:22:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:43:54Z",
      "updated_at": "2024-03-13T14:43:54Z",
      "source": {
        "issue": {
          "id": 1363503515,
          "node_id": "PR_kwDOABII584-c4WZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26022",
          "number": 26022,
          "state": "open",
          "state_reason": null,
          "title": "Add util::ResultPtr class",
          "body": "**This is based on #25665.** The non-base commits are:\r\n\r\n- [`96809f65d1dd` Add util::ResultPtr class](https://github.com/bitcoin/bitcoin/pull/26022/commits/96809f65d1ddcf0bde953fd69922908ad64f2539)\r\n- [`8ecac0885ef5` Use ResultPtr<unique_ptr> instead of Result<unique_ptr>](https://github.com/bitcoin/bitcoin/pull/26022/commits/8ecac0885ef5b6fc2313cd2f8dfb48c10a05db27)\r\n\r\n---\r\n\r\nThe `util::ResultPtr` class is a wrapper for `util::Result` providing syntax sugar to make it less awkward to use with returned pointers. Instead of needing to be deferenced twice with `**result` or `(*result)->member`, it only needs to be dereferenced once with `*result` or `result->member`. Also when it is used in a boolean context, instead of evaluating to true when there is no error and the pointer is null, it evaluates to false so it is straightforward to determine whether the result points to something.\r\n\r\nThis PR is only partial a solution to #26004 because while it makes it easier to check for null pointer values, it does not make it impossible to return a null pointer value inside a successful result. It would be possible to enforce that successful results always contain non-null pointers by using a `not_null` type (https://github.com/bitcoin/bitcoin/issues/24423) in combination with `ResultPtr`, though.\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26022",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26022",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26022.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26022.patch"
          },
          "created_at": "2022-09-06T15:57:14Z",
          "updated_at": "2024-03-25T05:26:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:50:45Z",
      "updated_at": "2024-03-13T14:50:45Z",
      "source": {
        "issue": {
          "id": 1320033494,
          "node_id": "PR_kwDOABII5848NBt5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
          "number": 25722,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Use util::Result class for wallet loading",
          "body": "**This is based on #25665 + #26022.** The non-base commits are:\r\n\r\n- [`b027d1df5981` refactor: Use util::Result class in wallet/spend](https://github.com/bitcoin/bitcoin/pull/25722/commits/b027d1df598177dec3236f8689b3218f53de3fa9)\r\n- [`5972a3abf26c` Add temporary ResultExtract helper for porting to util::Result](https://github.com/bitcoin/bitcoin/pull/25722/commits/5972a3abf26c25e47db298461c08a4553e4010bb)\r\n- [`1a92d9497bd1` refactor: Use util::Result class in wallet/sqlite](https://github.com/bitcoin/bitcoin/pull/25722/commits/1a92d9497bd158a1d16efd281c68e41fa11e5b0d)\r\n- [`b4fbcf5f2a8f` refactor: Use util::Result class in wallet/bdb](https://github.com/bitcoin/bitcoin/pull/25722/commits/b4fbcf5f2a8f3b390b4041ac98f16161c5181a76)\r\n- [`f56538aa2b92` refactor: Use util::Result class in wallet::MakeDatabase](https://github.com/bitcoin/bitcoin/pull/25722/commits/f56538aa2b924aaeae28f55b41c03eb0145c981d)\r\n- [`e880f6d5e89b` refactor: Use util::Result class in wallet/dump](https://github.com/bitcoin/bitcoin/pull/25722/commits/e880f6d5e89bbdceed2e4d769882f37b3a3c81b2)\r\n- [`4128ab5cdcc6` refactor: Use util::Result class in wallet/salvage](https://github.com/bitcoin/bitcoin/pull/25722/commits/4128ab5cdcc6e2a540e994b615618586e902ccda)\r\n- [`1138e12cfd98` refactor: Use util::Result class in wallet/wallettool](https://github.com/bitcoin/bitcoin/pull/25722/commits/1138e12cfd984fbceaa045348d993b70047d3ab3)\r\n- [`aed183ad112f` refactor: Use util::Result class in wallet/wallet](https://github.com/bitcoin/bitcoin/pull/25722/commits/aed183ad112f00d7ac11435244149e8e936494f9)\r\n- [`032e3e1ebf9b` refactor: Use util::Result class in wallet/load](https://github.com/bitcoin/bitcoin/pull/25722/commits/032e3e1ebf9b1d86596e8393f85461d60074e821)\r\n- [`46ed2908e6f8` refactor: Use util::Result class in wallet/rpc](https://github.com/bitcoin/bitcoin/pull/25722/commits/46ed2908e6f8b6d0f2ebcfc5600a52c61f26109e)\r\n- [`799467626de3` refactor: Use util::Result class in wallet/interfaces](https://github.com/bitcoin/bitcoin/pull/25722/commits/799467626de3c40249be6f0be4ecef5aa5757ed9)\r\n- [`5c7e1caff7db` refactor: Use util::Result class in wallet/test](https://github.com/bitcoin/bitcoin/pull/25722/commits/5c7e1caff7db1f9a61e94e40c22f056f9bef9715)\r\n- [`965c31baa9a3` Drop temporary ResultExtract helper for porting to util::Result](https://github.com/bitcoin/bitcoin/pull/25722/commits/965c31baa9a357e5a92bf4da94e84c37df7e0a9f)\r\n- [`2385cb37dbbe` scripted-diff: replace wallet DatabaseStatus with DatabaseError](https://github.com/bitcoin/bitcoin/pull/25722/commits/2385cb37dbbe00004f8bffe1d1d784778d89a21e)\r\n\r\n---\r\n\r\nWallet loading functions up and down the stack have lots of error and warning parameters, and return error information in different ways. This PR makes them uniformly return `util::Result`, without changing behavior.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25722",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25722.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25722.patch"
          },
          "created_at": "2022-07-27T19:26:58Z",
          "updated_at": "2024-03-25T05:34:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:52:28Z",
      "updated_at": "2024-03-13T14:52:28Z",
      "source": {
        "issue": {
          "id": 1313204802,
          "node_id": "PR_kwDOABII58472hm-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
          "number": 25665,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Add util::Result failure values, multiple error and warning messages",
          "body": "Add `util::Result` support for returning more error information and make use of it in [LoadChainstate method](https://github.com/bitcoin/bitcoin/pull/25665/commits/cd9bba4166b9fdadc063a5153452fc1c9179b88d) as an initial application. Followup PR [#25722](https://github.com/bitcoin/bitcoin/pull/25722) uses it more broadly to return errors and warnings from wallet loading functions as well.\r\n\r\nThis change adds two major features to the result class:\r\n\r\n- For better error handling, adds the ability to return a value on failure, not just a value on success. This is a key missing feature that makes the result class not useful for functions like `LoadChainstate()` which produce different errors that need to be handled differently [^1].\r\n\r\n[^1]: Ability to return error values was actually present in the original implementation of [#25218](https://github.com/bitcoin/bitcoin/pull/25218), but unfortunately removed in later iterations.\r\n\r\n- For better error reporting, adds the ability to return warning messages and multiple errors, not just a single error string. This provides a way for functions to report errors and warnings in a standard way, and simplifies interfaces:\r\n\r\n    ```diff\r\n    -virtual std::unique_ptr<Wallet> loadWallet(const std::string& name, bilingual_str& error, std::vector<bilingual_str>& warnings) = 0;\r\n    +virtual util::Result<std::unique_ptr<Wallet>> loadWallet(const std::string& name) = 0;\r\n    ```\r\n\r\n    ```diff\r\n    -std::unique_ptr<WalletDatabase> MakeDatabase(const fs::path& path, const DatabaseOptions& options, DatabaseStatus& status, bilingual_str& error);\r\n    +util::Result<std::unique_ptr<WalletDatabase>, DatabaseError> MakeDatabase(const fs::path& path, const DatabaseOptions& options);\r\n   ```\r\n\r\nThis change also makes some more minor improvements:\r\n\r\n- Smaller type size. `util::Result<int>` is 16 bytes, and `util::Result<void>` is 8 bytes. Previously both were 72 bytes.\r\n\r\n- Broader type compatibility. Supports noncopyable and nonmovable success and error types.\r\n\r\n### Alternatives & design notes\r\n\r\nThe main goal for the `util::Result` class is to provide a standard way for functions to report error and warnings strings. The interface tries to make it easy to provide detailed error feedback to end users, without cluttering code or making it harder to return other result information. There have been multiple iterations of the design using different internal representations and providing different capabilities:\r\n\r\n|   | Representation (approximate)                   | Notes |\r\n|---|------------------------------------------------|-------|\r\n| _1_ | `tuple<T,optional<bilingual_str>>`        | Original #25218 implementation in da98fd2efc1a6b9c6e876cf3e227a8c2e9a10827. Good capabilities, but larger type size. Supports error standardized error reporting and customized error handling with failure values. |\r\n| _2_ | `variant<T,bilingual_str>`                | Final #25218 implementation in 7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d. No support for returning failure values so not useful in many cases.\r\n| _3_ | `variant<monostate,T,F>`                 | Pending #25601 implementation that allows choosing whether to use standardized error reporting or return custom failure values, but doesn't support having both at the same time, like approaches _(1)_, _(4)_, _(5)_, _(6)_ do. |\r\n | _4_ | `tuple<variant<T,F>,bilingual_str>`      | Original #25608 implementation in c29d3008de9314dd463ed08e8bff39fe55324498. Basically the same as _(1)_ except it uses separate success and failure types instead of the same type. Using separate success and failure types makes the result class a little less flexible but can help avoid some ambiguity and inconsistent result states. |\r\n| _5_ | `tuple<T,optional<bilingual_str>>`        | Final #25608 implementation in dd91f294206ac87b213d23bb76656a0a5f0f4781. Essentially the same as original implementation _(1)_ except has some usability improvements. |\r\n| _6_ | `tuple<T,unique_ptr<tuple<F,bilingual_str>>` | Pending #25665 implementation (this PR). Supports returning failure values, uses separate success and failure types to avoid ambiguity, uses `unique_ptr` to reduce result type size, and avoids heap allocation in the happy path. |\r\n\r\n### Prior discussions & history\r\n\r\n- _furszy_ introduced a `BResult` class providing a standard error reporting mechanism in [#25218](https://github.com/bitcoin/bitcoin/pull/25218). It was renamed to `util::Result` in [#25721](https://github.com/bitcoin/bitcoin/pull/25721) but kept the same representation and capabilities.\r\n\r\n- _MarcoFalke_ suggested using `BResult` for the `LoadChainstate` function in [#25308 (comment)](https://github.com/bitcoin/bitcoin/pull/25308#issuecomment-1181674645). Inability to use `BResult` there due to lack of support for failure values led to initial work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _w0xlt_ wrote a `StructuredResult` class in [#25308](https://github.com/bitcoin/bitcoin/pull/25601) adding the ability to return failure values but sacrificing standard error reporting, which led to more work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _martinus_ suggested a space optimization in [#25608 (comment)](https://github.com/bitcoin/bitcoin/pull/25608#discussion_r921049409) that also made it easier to support distinct failure & success types, leading to [#25665](https://github.com/bitcoin/bitcoin/pull/25665) as a replacement for [#25608](https://github.com/bitcoin/bitcoin/pull/25608).",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 37,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25665",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25665.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25665.patch"
          },
          "created_at": "2022-07-21T12:46:09Z",
          "updated_at": "2024-03-26T20:30:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T21:23:18Z",
      "updated_at": "2024-03-13T21:23:18Z",
      "source": {
        "issue": {
          "id": 1120958552,
          "node_id": "PR_kwDOABII584x6sdb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
          "number": 24230,
          "state": "open",
          "state_reason": null,
          "title": "indexes: Stop using node internal types and locking cs_main, improve sync logic",
          "body": "This PR lets indexing code mostly run outside of the node process. It also improves indexing sync logic, which is moved out of indexing code to a new [`node::SyncChain()`](https://github.com/ryanofsky/bitcoin/blob/8d8cdcb37005030f646ba3c45f7f54f556efb8bf/src/node/chain.h#L24-L39) function.\r\n\r\nAlmost all the commits in this PR are small refactoring changes that move code from `src/index/` to `src/node/`, or replace references to node types like `CBlockIndex`, `CChain`, `CChainState` in index code. There are only two commits affecting indexing sync logic which make complicated or substantive changes:\r\n\r\n- [`8746b35301c5` indexes: Rewrite chain sync logic, remove racy init](https://github.com/bitcoin/bitcoin/pull/24230/commits/8746b35301c5f65ff3200555fb2b82417fd2c758)\r\n- [`ad88f50ddd12` indexes: Initialize indexes without holding cs_main](https://github.com/bitcoin/bitcoin/pull/24230/commits/ad88f50ddd129dddd974bbf9fd7d86ec86b65508)\r\n\r\n\r\nThe commit messages have more details about these and other changes. Followups to this PR will reuse indexing sync code for wallets (#15719, #11756) and let indexes run in separate processes (#10102)",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 44,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24230",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24230.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24230.patch"
          },
          "created_at": "2022-02-01T16:56:28Z",
          "updated_at": "2024-03-20T17:25:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T21:57:52Z",
      "updated_at": "2024-03-13T21:57:52Z",
      "source": {
        "issue": {
          "id": 1987412902,
          "node_id": "PR_kwDOABII585fITQi",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28843",
          "number": 28843,
          "state": "open",
          "state_reason": null,
          "title": "[refactor] Remove BlockAssembler m_mempool member",
          "body": "Instead, pass the mempool pointer as an argument to CreateNewBlock and pass that on to addPackageTxs. Before, addPackageTxs had access to both the m_mempool member and the passed in mempool, which could be confusing. This was noticed in this PR review: https://github.com/bitcoin/bitcoin/pull/25223#discussion_r898164322.\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28843",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28843",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28843.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28843.patch"
          },
          "created_at": "2023-11-10T11:06:22Z",
          "updated_at": "2024-03-20T23:59:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1999854726,
      "node_id": "IC_kwDOABII5853M1yG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1999854726",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-15T15:01:51Z",
      "updated_at": "2024-03-15T15:01:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, nice one. Will first re-review #25665",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1999854726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12136835658,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALTaWpK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12136835658",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-15T21:18:27Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T12:14:59Z",
      "updated_at": "2024-03-18T12:14:59Z",
      "source": {
        "issue": {
          "id": 2191591435,
          "node_id": "PR_kwDOABII585p6J7l",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29672",
          "number": 29672,
          "state": "closed",
          "state_reason": null,
          "title": "validation: Make translations of fatal errors consistent",
          "body": "The extra `bilingual_str` argument of the fatal error notifications and `node::AbortNode()` is often unused and when used usually contains the same string as the message argument. It also seems to be confusing, since it is not consistently used for errors requiring user action. For example some assumeutxo fatal errors require the user to do something, but are not translated.\r\n\r\nSo simplify the fatal error and abort node interfaces by only passing a translated string. This slightly changes the fatal errors displayed to the user.",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29672",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29672",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29672.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29672.patch"
          },
          "closed_at": "2024-03-22T18:51:05Z",
          "created_at": "2024-03-18T08:59:08Z",
          "updated_at": "2024-03-23T22:26:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 12157263081,
      "node_id": "LE_lADOABII586CGcByzwAAAALUoRzp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12157263081",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T18:30:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12172583655,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALViuLn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12172583655",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T16:48:32Z"
    },
    {
      "event": "unlabeled",
      "id": 12173610454,
      "node_id": "UNLE_lADOABII586CGcByzwAAAALVmo3W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12173610454",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T18:06:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2007906431,
      "node_id": "IC_kwDOABII5853rjh_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007906431",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T18:53:10Z",
      "updated_at": "2024-03-19T18:53:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, it is better for a function to return an error status than set a flag, initiate a global shutdown, and not return a success or failure value.\r\n\r\nBut the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35) enum and [HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32) / [CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46) / [clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) machinery do not seem very friendly to use, and I don't see what benefits they offer over just using `util::Result` and `[[nodiscard]]`.\r\n\r\nIt also seems like it would be nice to have local enums for functions like `ProcessTransaction` and `ActivateBestChain` that just have 2 or 3 error codes instead of 22 error codes like `FatalError`.\r\n\r\nAlso, I understand the goal of this is to improve the libbitcoinkernel interface, but I'm not sure this should mean moving AbortNode calls out of kernel code into net_processing code. I think it would be probably be better if the net_processing functions could return success/failure as well, and AbortNode calls could move to an even higher level. Or if AbortNode calls could just be left where they are and this could be a pure refactoring that just adds missing return values.\r\n\r\nI guess my main question is would it be possible to make a stripped down version of this PR that just adds `[[nodiscard]]` to all functions where `fatalError`/`flushError` are called, and bubbles up `util::Result` values, and is just a plain refactoring that doesn't change behavior, and doesn't add the FatalError type and handlers? It seems like could make the PR smaller, and make libbitcoinkernel act like a normal library that can return errors, without changing other things.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2007981964,
      "node_id": "IC_kwDOABII5853r1-M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007981964",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T19:40:12Z",
      "updated_at": "2024-03-19T19:40:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I don't see what benefits they offer over just using `util::Result` and `[[nodiscard]]`\r\n\r\nI guess I figured out the answer to this question while I was writing the rest of the rest of my comment. The benefit of adding all the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35)/[HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32)/[CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46)/[clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) stuff is that it can replace the [fatalError and flushError](https://github.com/bitcoin/bitcoin/blob/3d216baf91ca754e46e89788205513a956ec6d0a/src/kernel/notifications_interface.h#L45-L60) notifications and ensure that new kernel code nevers trigger a shutdown without also returning an error code.\r\n\r\nBut IMO the benefit of enforcing that errors are always returned doesn't clearly outweigh the costs, so am wondering about about a more lightweight approach that just bubbles up errors from existing fatalError/flushError calls.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007981964",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2009349275,
      "node_id": "IC_kwDOABII5853xDyb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2009349275",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T11:27:34Z",
      "updated_at": "2024-03-20T11:27:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431 and https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007981964\r\n\r\n> ensure that new kernel code nevers trigger a shutdown without also returning an error code.\r\n\r\nYes, that is the goal of this pull request. I first wrote the error handling and then the tidy plugin. The plugin helped uncover a handful of bugs that were not immediately obvious to me, so I do think it is useful beyond `[[nodiscard]]`. It also uncovered some cases where the current handling of the fatal errors is questionable. I don't think the helper functions are all that complicated, though their naming sure could be improved to make it more obvious what they do. They also only form a small part of what the linter enforces. If reviewers view the linter as too specialized, it could be dropped from the PR, but still used to validate the work.\r\n\r\n> The benefit of adding all the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35)/[HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32)/[CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46)/[clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) stuff is that it can replace the [fatalError and flushError](https://github.com/bitcoin/bitcoin/blob/3d216baf91ca754e46e89788205513a956ec6d0a/src/kernel/notifications_interface.h#L45-L60) notifications\r\n\r\nTo me this is more the logical conclusion of the PR than its goal. The goal is to bubble up an error code. Adding an error code next to the existing fatalError and flushError notifications in validation that is not used by production code for the sake of not changing things too much seems unfortunate though. The PR already tries hard to keep the rest of the behavior when a fatal error is encountered the same. Having three different fatal mechanisms seems more confusing than one consistent one that is enforced with a linter and is very mechanical. I also feel like having multiple ways to achieve the same outcome is bad API design. Removing the notifications could be done at a later point, but I don't think it makes this PR significantly harder to review and it would leave things in an inconclusive state.\r\n\r\n> It also seems like it would be nice to have local enums for functions like ProcessTransaction and ActivateBestChain that just have 2 or 3 error codes instead of 22 error codes like FatalError.\r\n\r\nThe code has always treated fatal errors as their own weird separate thing, so putting them in a a single enum does not really feel that unnatural to me. However this PR could also be realized with more specialized types. What benefit do you see with such an approach?",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2009349275",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "labeled",
      "id": 12188425812,
      "node_id": "LE_lADOABII586CGcByzwAAAALWfJ5U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12188425812",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T17:08:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2010662998,
      "node_id": "IC_kwDOABII58532EhW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2010662998",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T21:22:26Z",
      "updated_at": "2024-03-20T21:22:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for explanations. So as I understand it, this PR is trying to do 3 things:\r\n\r\n(1) Ensure that if an error happens while calling a function, the error is returned to the caller.\r\n(2) Ensure if that if an error happens while calling a function, and the node will be shutting down as a result of that error, the fact node is shutting down will be returned to the caller.\r\n(3) Fix a \"handful of bugs\" in error handling.\r\n\r\nI think (1) is great and definitely worth doing, but I don't think this PR is doing an ideal job in its implementation. I can describe the specific problems I see there currently below.\r\n\r\nI don't really think (2) is a worthwhile goal, because it should have no effect on libbitcoinkernel users and I don't really see how it could catch any significant internal bugs. But if there is a way to implement it without negatively impacting libbitcoinkernel API, I think it would be fine to pursue.\r\n\r\nI'm extremely wary of (3). I fully believe there are bugs in error handling and many things that could be improved, but I don't think those changes can be effectively reviewed as part of a big refactoring PR like this. I think it can be ok to combine behavior changes with refactoring when the combining these simplifies things, but in this case I only see adding return information at the same time as changing error handling making things more complicated. (If there are counterexamples, though, I could be convinced otherwise.)\r\n\r\n---\r\n\r\nThe specific problems I see with error reporting in this PR have to do with the `FatalError` enum. I think it is a bad developer experience to have a bunch of functions returning an enum with 20 possible error values, and not knowing which functions might return which values, and not having a suggestion of how different values need to be handled. I'm also skeptical that \"fatal errors\" are a concept that should be exposed to libbitcoinkernel callers, since not all callers will be implementing nodes that need to shut down, and normally library functions should be able to report errors without requiring they be handled in a certain way. Also, I think the fact that error type is an enum type rather than something more general like a std::variant means that it might be hard to return add useful metadata to the result value (like which block could not be read if a block read failed).\r\n\r\nI was experimenting today with a change to just return \\[\\[nodiscard]] util::Result from every function calling fatalError or flushError, and I think is mostly complete (validation.cpp and blockstorage.cpp compile) which I think could be a simpler approach, providing a better API for libbitcoinkernel callers, and also being easier to review. I think other improvements could be made on top of it but maybe it is a simpler starting point. Commit is bc1055157b2e6458683953a41a7b243f27f77d98 and I can work on getting the rest of it compiling and then splitting it up.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2010662998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2010753063,
      "node_id": "IC_kwDOABII58532agn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2010753063",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T22:23:29Z",
      "updated_at": "2024-03-21T09:18:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2009349275\r\n\r\n> I'm extremely wary of (3).\r\n\r\nJust for clarity, we are completely on the same page here. The bugs I was referring to before were all in how I was introducing the bubbling up of the errors and not with when or how an error is being issued currently. To reiterate, this patch set does not change when errors are being issued, nor should it influence the control flow. I'm not fixing bugs in error handling here.\r\n\r\n> I'm also skeptical that \"fatal errors\" are a concept that should be exposed to libbitcoinkernel callers, since not all callers will be implementing nodes that need to shut down, and normally library functions should be able to report errors without requiring they be handled in a certain way.\r\n\r\nThat is a fair point. I think in that case a more granular approach may be warranted. \r\n\r\n> Also, I think the fact that error type is an enum type rather than something more general like a std::variant means that it might be hard to return add useful metadata to the result value (like which block could not be read if a block read failed).\r\n\r\nThere is always the util::Result error string that describes where the error is coming from and what caused it, but I agree that a richer error type could be useful here. The reason I was using `util::Result` was that it provides a single, predictable way to handle the errors. An approach with a variant or tuple type would be able to return richer information, but also be less predictable.\r\n\r\nEDIT:\r\n> I'm also skeptical that \"fatal errors\" are a concept that should be exposed to libbitcoinkernel callers, since not all callers will be implementing nodes that need to shut down.\r\n\r\nThinking about this some more, I'm still not convinced that putting them in a separate class of their own is bad. Core is and will be the primary user of the kernel, so consideration for how outside users might interpret the errors does not seem that important to me. I get that it might be nice to see when calling a function which fatal errors exactly it might issue, but for functions like `ImportBlocks` this is going to be a big subset of them. We also don't really have similar mechanisms in place for existing error handling in the code., e.g. we often just return a plain error string, which I'm doing here too. ",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2010753063",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:11:56Z",
      "updated_at": "2024-03-21T23:11:56Z",
      "source": {
        "issue": {
          "id": 2201362078,
          "node_id": "PR_kwDOABII585qbY-z",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29700",
          "number": 29700,
          "state": "open",
          "state_reason": null,
          "title": "kernel, refactor: return error status on all fatal errors",
          "body": "Return util::Result objects from all functions that can trigger fatal errors.\r\n\r\nThere are many validation functions that handle failures by calling `AbortNode` and triggering shutdowns, without returning error information to their callers. This makes error handling in libbitcoinkernel application code difficult, because the only way to handle these errors is to register for [notification callbacks](https://github.com/bitcoin/bitcoin/blob/master/src/kernel/notifications_interface.h). Improve this by making all functions that trigger fatal errors return util::Result objects with the error information.\r\n\r\nThis PR is a pure refactoring that returns extra result information from functions without changing their behavior. It's a possible alternative to and subset of #29642, which adds similar return information but also makes behavior changes and exposes a FatalError type.\r\n\r\n---\r\n\r\n**This is based on #25665.** The non-base commits are:\r\n\r\n- [`3670fd58642d` refactor, kernel: Add FlushStatus / FlushResult types](https://github.com/bitcoin/bitcoin/pull/29700/commits/3670fd58642d1dceaf5b15e6e98feffda0c9fd7b)\r\n- [`875bbe27c74c` refactor: Add InfoType field to util::Result](https://github.com/bitcoin/bitcoin/pull/29700/commits/875bbe27c74c2c87106d76efb93e6841f93ad4e4)\r\n- [`a9b5c6e9f901` refactor, blockstorage: Return FlushResult from flush methods](https://github.com/bitcoin/bitcoin/pull/29700/commits/a9b5c6e9f901a010eacea36684912faef3156219)\r\n- [`8060febeb902` refactor, blockstorage: Return fatal errors from block writes](https://github.com/bitcoin/bitcoin/pull/29700/commits/8060febeb902caa0a38866753c4bde14ff27c106)\r\n- [`83ae3b20af8d` refactor, blockstorage: Return fatal error from LoadBlockIndex](https://github.com/bitcoin/bitcoin/pull/29700/commits/83ae3b20af8d88a3349caa55631e88ca6e2bf84a)\r\n- [`9e2646c094a7` refactor, validation: Return fatal errors from FlushStateToDisk](https://github.com/bitcoin/bitcoin/pull/29700/commits/9e2646c094a735fdb3f99cbc648ea80dc89dd3a6)\r\n- [`219a626f24c9` refactor, validation: Return fatal errors from mempool accept functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/219a626f24c900b6b8e9761101828086aa3b2d52)\r\n- [`91e9b80a4594` refactor, validation: Return fatal errors from assumeutxo snapshot functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/91e9b80a4594fc9a77fe4d064a61f1d9fa6891cc)\r\n- [`1d01a2cf6c16` refactor, validation: Return fatal errors from block connect functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/1d01a2cf6c163213336d1ddab859228e82a7158a)\r\n- [`8f3bd7b9114a` refactor, validation: Return fatal errors from activate best chain functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/8f3bd7b9114a7617f89c7a9d2a52623ee68d2349)\r\n- [`b296621a0e19` refactor, validation: Return fatal errors from new block functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/b296621a0e19eb9796d617efd3db8514f9696d50)\r\n- [`2a64e0a3836c` refactor, blockstorage: Return fatal error from ImportBlocks](https://github.com/bitcoin/bitcoin/pull/29700/commits/2a64e0a3836cf2028b39c2337c313430507b5bc8)\r\n- [`1c4859653a70` refactor, validation: Return more errors from VerifyDB](https://github.com/bitcoin/bitcoin/pull/29700/commits/1c4859653a707e5e299389b69e33aaf74455c24a)\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29700",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29700",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29700.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29700.patch"
          },
          "created_at": "2024-03-21T23:11:56Z",
          "updated_at": "2024-03-26T20:33:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 2014048347,
      "node_id": "IC_kwDOABII5854C_Bb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2014048347",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:34:59Z",
      "updated_at": "2024-03-21T23:34:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "I plan to look into this PR more and compare similarities & differences with the pure refactoring approach I suggested of just returning util::Result objects wherever fatal errors are triggered, and ensuring information is passed up with \\[\\[nodiscard]] attributes. I posted a draft PR following that approach in #29700, and I saw a lot of places where error handling could be improved so I think changes from both PRs could be useful together.\r\n\r\n> Thinking about this some more, I'm still not convinced that putting them in a separate class of their own is bad.\r\n\r\nYes, I agree returning information about which errors trigger shutdowns could be useful in theory. I just don't see it providing an obvious practical benefit, and I think returning the information in the form of the FatalError enum has other drawbacks (documenting all the error codes could be a maintance burden, and the enum type could encourage writing awkward handling code with large switch statements).",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2014048347",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0MGY2NzQ3MmQ5MzNkOTFlMmNkYzFiZmZiODYwNWVhOThlZjdlM2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/440f67472d933d91e2cdc1bffb8605ea98ef7e3b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/440f67472d933d91e2cdc1bffb8605ea98ef7e3b",
      "tree": {
        "sha": "aaeae258d3fae435a77dc58f7e19d1ca1f87cf5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aaeae258d3fae435a77dc58f7e19d1ca1f87cf5f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree aaeae258d3fae435a77dc58f7e19d1ca1f87cf5f\nparent d04324a7056a735c1127ba8ccdc720a16e7281a3\nauthor Ryan Ofsky <ryan@ofsky.org> 1663254906 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480676 +0100\n\nrefactor: Drop util::Result operator=\n\nIn cases where different error conditions need to be handled differently, it is\nuseful for `util::`Result` objects to be able to hold failure values and error\nmessages simultaneously. Also it is useful for `util::Result` objects to be\nable to hold multiple error message strings and warnings, instead of just\nsingle error strings.\n\nIn both of these cases, which are supported in upcoming commits, having an\n`operator=` method is potentially dangerous if it clears existing error and\nwarnings strings while setting result values, or confusing if it doesn't clear\nthem, so the safest thing is to disable `operator=` and provide an explicit\n`Set()` method so callers have a way of setting result values without having to\nclear message strings.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH2cACgkQm3m0VpHb\nQXPgfg/+MryDzLPwoUUxofzUcdVxwceEo7Tnozwu3iOTIlkrW/OpJ5Hn7ssDhPz+\nwX9KueEBdSPJeqzTsNgjAoBwH32h4viiIpwvOaXVYusAL/y3UuT7s0d7w7nxT1Vs\n3GF6AysLqAbBRVdRjneqhynWlFkmkykI4DtO8i64sq9eq5WEeziYiz6hqOxhcISL\nVORRbQuz7b2gqSVp23clme5QxpQQqo0WO197qSqT3OkBxUTyeQmAUENuZieyWIZS\naNylOmpUcCpUsSjxLMcwsgOjn9u/Bo9C2aHVAZc16NPkVXlMRidbIQL098zI2BjW\nIrNlClLrEpOjU3FBzBLUnn2cK4ACOEIkz/awIZxf9U71XJ/1iFa6GbvBdPlhrdYx\noVM8dvVFXtPNvOJSI0b4SAg/ELISD5HjKqdXpra3u2+aoOffMJ0mtxog5ysRI63L\nk5zfEZOejT/cR6tln8ypvS7WdDqPUdAWMvQmRW94cuA4IN+mKIbLwTCq4wC/DCra\nrHPB1qJR2EJJGH+i7/lvevC2pXe128UnpI5I5t5c4P54jEmcGuLJJ1FEIRumhGLt\nbW3KKVzTDsrckwrhFEo+3yB6/r5SAPC1lYZfAku7gpbR6VuZS/vVPhi7lz6z9eoI\nrlgsF3RI8+mLCvWWDKnLIynDKO52BY7PZgJJpsA950GdVz4qfrQ=\n=OHw/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d04324a7056a735c1127ba8ccdc720a16e7281a3",
          "sha": "d04324a7056a735c1127ba8ccdc720a16e7281a3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d04324a7056a735c1127ba8ccdc720a16e7281a3"
        }
      ],
      "message": "refactor: Drop util::Result operator=\n\nIn cases where different error conditions need to be handled differently, it is\nuseful for `util::`Result` objects to be able to hold failure values and error\nmessages simultaneously. Also it is useful for `util::Result` objects to be\nable to hold multiple error message strings and warnings, instead of just\nsingle error strings.\n\nIn both of these cases, which are supported in upcoming commits, having an\n`operator=` method is potentially dangerous if it clears existing error and\nwarnings strings while setting result values, or confusing if it doesn't clear\nthem, so the safest thing is to disable `operator=` and provide an explicit\n`Set()` method so callers have a way of setting result values without having to\nclear message strings.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:17:56Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-09-15T15:15:06Z"
      },
      "sha": "440f67472d933d91e2cdc1bffb8605ea98ef7e3b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg4MjU3N2JjMzdjOWMyNTJhZmY1MTUyNGI0Mzg0NjczOWVlNDFhNzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/882577bc37c9c252aff51524b43846739ee41a74",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/882577bc37c9c252aff51524b43846739ee41a74",
      "tree": {
        "sha": "a6db0b9bf4590386157e3a080d12b7827a0d5577",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a6db0b9bf4590386157e3a080d12b7827a0d5577"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a6db0b9bf4590386157e3a080d12b7827a0d5577\nparent 440f67472d933d91e2cdc1bffb8605ea98ef7e3b\nauthor Ryan Ofsky <ryan@ofsky.org> 1694018019 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480685 +0100\n\nrefactor: Avoid copying util::Result values\n\nCopying util::Result values is less efficient than moving them because they\nallocate memory and contain strings. Also this is needed to avoid compile\nerrors in the next commit which adds a std::unique_ptr member to util::Result\nwhich implicity disables copying.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH28ACgkQm3m0VpHb\nQXNRRxAAseW1MexmIdfCOM0nGIiisXPpR6HvxZPVMhwnY/ptb3S09a6vqWcmwCE5\nPT2hjMWvmJ8IJhzry+Z2XAnWKFKt4eBTj9AgjMSIzIXkZ0rGv5Aho0N/Z4avr+by\n2/wD/QRV5BZ9mXj0fKKeOxgBFLv1f0xjpU99N+PbQJ4rNlUpYINNqQRous+Hm4IV\nU9qJnPzP8MIRRPw4RnSkUtQEKukOPcV1Cdv+W2MHPQzcx8+3bVGyWFaj3NZAGc1c\nmIgOfGQGcoqp1sgjsl8EHbkXWa3CK1oTdisc9HgRvFZZ3XArQSuIXiHn739fOFjJ\nbcsTUZ5EpivEAdURb5dH9uXuK6rmjMvE290H5W3ENd3kgfQL7p7yVpV9i6BCficG\nmsNSyv90ONRs3TFr/Xu6EwDa5H2ugCURkDzockhxkWSRbXChdbgvRIsfonsVoNnR\n1KBVqEtAvrw39fk+nniAQDCDYRvAcKz5Xww+295FOfZQ01S8U4vVMc2sPoLi1G5L\nImtSYPmWev6DfhZCTJ0vQ7D2PIIzB1MhW32muXsZzYZRh3tKREpLVhceepvxtcVW\nDNhqL8PekD9pD10PJ379S3+tCUJdRvfDFGeNLJmyEKOpsR9VYMXnCKFfSyVAZz+f\nSIIef8r5imyPisoLVa8Ap88rmqDd7zlPRMy+JJ/C0dXbIfuCCI8=\n=TRN9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/440f67472d933d91e2cdc1bffb8605ea98ef7e3b",
          "sha": "440f67472d933d91e2cdc1bffb8605ea98ef7e3b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/440f67472d933d91e2cdc1bffb8605ea98ef7e3b"
        }
      ],
      "message": "refactor: Avoid copying util::Result values\n\nCopying util::Result values is less efficient than moving them because they\nallocate memory and contain strings. Also this is needed to avoid compile\nerrors in the next commit which adds a std::unique_ptr member to util::Result\nwhich implicity disables copying.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:05Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-09-06T16:33:39Z"
      },
      "sha": "882577bc37c9c252aff51524b43846739ee41a74"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkzY2VlOTgzYjA1MTE3NWIzZmZkYzcyN2IxYTlhNjIxZDAyZjlhNGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93cee983b051175b3ffdc727b1a9a621d02f9a4c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/93cee983b051175b3ffdc727b1a9a621d02f9a4c",
      "tree": {
        "sha": "6478ff4ceeb7f2a8ba58a24f603b7fc37f404aa6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6478ff4ceeb7f2a8ba58a24f603b7fc37f404aa6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6478ff4ceeb7f2a8ba58a24f603b7fc37f404aa6\nparent 882577bc37c9c252aff51524b43846739ee41a74\nauthor Ryan Ofsky <ryan@ofsky.org> 1658173684 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480691 +0100\n\nrefactor: Add util::Result failure values\n\nAdd util::Result support for returning more error information. For better error\nhandling, adds the ability to return a value on failure, not just a value on\nsuccess. This is a key missing feature that made the result class not useful\nfor functions like LoadChainstate() which produce different errors that need to\nbe handled differently.\n\nThis change also makes some more minor improvements:\n\n- Smaller type size. util::Result<int> is 16 bytes, and util::Result<void> is 8\n  bytes. Previously util::Result<int> and util::Result<void> were 72 bytes.\n\n- More documentation and tests.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH3UACgkQm3m0VpHb\nQXNcJRAApb5NywKarsxa1UbbzjxAhLjBkb2BTjASFQaofiwtQC6cBVEg7a7oVogk\nLv9HTx5sFWkBCwUQtGi7O071Olusobp7ya7L8Yu72Fptf1g10fiAtsbGQlZbulTR\nXFf02JAziCm5iqMhRrwH+z2/19qH9kaQTDaH1VnYvLfUQ6zYFC/k8jPhS6/STKfu\nbkXTn7WkvT9fNNBZ9zvQM6sE6bsFgr+6UFMv39StGYAEFzLSYA/eJum7AgIYE/qI\nUpFR1GVsy2m0++2AITun0NIF3Gq4pz/G2Aqg8YErbPxsWOoniLEydcCdTVbSsgcs\ncY7a1RP+V3DnrtA+VczRAjIb+xYOK350Oi7/l6mJr9miGEDgYzAoszZagaF6Tjbc\nPxNTkg5PWhWH7OcHH3Evcp9YbOfayp36HNJAtTDxCj9CmnYnq5PCIcYXsmN/CMMt\nBWQ5oTIMgQgeTD6EJDFCMS6KrOw+PLG4H9HeRIhFQ9yvPBPg0QmOziG7Vtd1yBRr\nL9OpgSfqTJlcSu61JRowNmacAA3qLXnP8FUqYKPixOgI2A4aiQzyzgF9kQR1jfoz\nRAkj7yvpppgsi3/f8ZO66fsDq064oiG/2vCWKaCO0wQazkFXW8NboMA1TQNSzqk2\nWm1mAcEzHbWwDEl03TEnKaK90OwvjFegSgYfqfFbk1B6WoY0XAk=\n=PnC3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/882577bc37c9c252aff51524b43846739ee41a74",
          "sha": "882577bc37c9c252aff51524b43846739ee41a74",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/882577bc37c9c252aff51524b43846739ee41a74"
        }
      ],
      "message": "refactor: Add util::Result failure values\n\nAdd util::Result support for returning more error information. For better error\nhandling, adds the ability to return a value on failure, not just a value on\nsuccess. This is a key missing feature that made the result class not useful\nfor functions like LoadChainstate() which produce different errors that need to\nbe handled differently.\n\nThis change also makes some more minor improvements:\n\n- Smaller type size. util::Result<int> is 16 bytes, and util::Result<void> is 8\n  bytes. Previously util::Result<int> and util::Result<void> were 72 bytes.\n\n- More documentation and tests.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:11Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "93cee983b051175b3ffdc727b1a9a621d02f9a4c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxNWIwMTFjNDIxODAwYjg0ZDAwZTk1ZTEzOGExZTA3Mzc5ODY5MGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/015b011c421800b84d00e95e138a1e073798690e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/015b011c421800b84d00e95e138a1e073798690e",
      "tree": {
        "sha": "48aecdae804c33ee5fbf51c047fabe968d5a9aba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/48aecdae804c33ee5fbf51c047fabe968d5a9aba"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 48aecdae804c33ee5fbf51c047fabe968d5a9aba\nparent 93cee983b051175b3ffdc727b1a9a621d02f9a4c\nauthor Ryan Ofsky <ryan@ofsky.org> 1658378780 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480696 +0100\n\nrefactor: Use util::Result class in LoadChainstate and VerifyLoadedChainstate\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH3oACgkQm3m0VpHb\nQXOA/BAAkjdvIsWJweDmOL1zGPo89UyM0w4JQeyZ2si9O4U4nAmY30VSiECbgt0T\n+Bc6rHi6SUp8CNp9CJFIM1PYCZqy93Ei20ulbnlWH2REkFHHJLx8dWXnMS/VjnYU\neFUvuKGzyXPbRPOTuArYZUflB/O4brtCVwPtEqbU1ZLUn8xDUi2Tg46VoQuXQNjL\n+2EMtrsGZckXEknR1OKczJVdYy6SA34oqD3hG3gs9d9Rt4sGN9Xmb2QJ8Q7XIzti\nolAaEatqzL+o/Sn3djja1TnaTYlzjFzYN3EcJH86Q7WjzBYNjhcjLTJTSIg9QQdt\nPFf/O5TiI8l2Yab/OmGrwV4egxuJyfb2CC2NBEibDgtvGweuAaH3K0JkmFujvXF1\nERUfxD6FB2jKKbL/5An7TxqH5CGWPGJVdSKPuE8K3583qqMhpYyajGiPoUNGp1hh\nswm2veXIlmYePbg+F8U6K+U6hzhZIhi5sLjhXLfIRxlZkuaD+dDI3MCqyL5Qsp6e\nuUDoT6PCA7SBLN21gl0BOf0VIZKJQ6zvYaJP+FJZkKqzOeZXK1ow2WjP/Q6rNjEq\nKpns0zQ+SgPD4A332PzY5/5Wkls0kE1PUQUDfHXniEPzE/PJmLmxouDrjXA+Yqby\nrCWDDch+ogZ+8UhncShhwhCD9jmqJgiBrUdoDpA8KXi/bJaix2U=\n=b9fA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93cee983b051175b3ffdc727b1a9a621d02f9a4c",
          "sha": "93cee983b051175b3ffdc727b1a9a621d02f9a4c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/93cee983b051175b3ffdc727b1a9a621d02f9a4c"
        }
      ],
      "message": "refactor: Use util::Result class in LoadChainstate and VerifyLoadedChainstate",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:16Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-21T04:46:20Z"
      },
      "sha": "015b011c421800b84d00e95e138a1e073798690e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3ZDRmNDMxOTgyZjhlMzk3ZTRhNjZlNGYyYmY2YmE4YmMzYWQ5OTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999",
      "tree": {
        "sha": "f65b0a5b8b5b917a86bd689eecf18e4b20fd12e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f65b0a5b8b5b917a86bd689eecf18e4b20fd12e3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f65b0a5b8b5b917a86bd689eecf18e4b20fd12e3\nparent 015b011c421800b84d00e95e138a1e073798690e\nauthor Ryan Ofsky <ryan@ofsky.org> 1658173684 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480701 +0100\n\nrefactor: Add util::Result multiple error and warning messages\n\nAdd util::Result support for returning warning messages and multiple errors,\nnot just a single error string. This provides a way for functions to report\nerrors and warnings in a standard way, and simplifies interfaces.\n\nThe functionality is unit tested here, and put to use in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/25722\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH38ACgkQm3m0VpHb\nQXNFXxAApSe4M9RM05wKuIlS9TQVIFQl5r95NTcZjCea7BE7djXT4lK2GmpgyoJN\n8KT+unaSd8qJYzkuxK78ujfiTV4cWeAnQ3L9vNEWYsPmwj6RZoIlG5gIgYHyxAWU\n4GHoZ5dKnw7z77svMkLIgpp6LGsnPPAkDSuFj7MFApZJf+Wl/sSc+DOtyH8BXr1r\nx87fjPyqJOPJpfl+ipozEnWOQD1OvasF/xb9TymDKN/gvjOdvyFRSHVvCT8WRmlU\ntK1sYVI/U80fdRO2i8nTMmkRyIrvHgt1eBKc/W7Y647Lv9MrvC2uiQ2YsYyjQAyx\nwVtzMlmv9in7nlX9y4mlcT46Ns1NSv/Q6GItLSu53sHbADzYShyhA6YmLHm4E0MN\nCEjuu0v2Mu5HVe+AzpBR1X25eviKaKZy6C36rkTd4W3L/G/o3oyNanAZ/BmMiJhL\nR+dtl7MJnnmFeg2Opvhp4peJvl9kQmCZiH5g8vums6Y029IjEIAVShjr2Ma/7BJ0\nMmaN/8HJjovsjXKmo6FA5f7n3+PEbWwvacmTDQp03pRZnPZvZh2n52y9Qqquo9OO\nEyZx5RCUJ/tfSeutlOxSmueYkXZjXOZ9ZMypvmJwD/swIEzSMPzjI9EKU4xgII9N\nS8HbZHaLYANZIEuvPN7QCu7DQx/sLQAlU0kvTDyHWFPCANCRW2k=\n=gjDE\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/015b011c421800b84d00e95e138a1e073798690e",
          "sha": "015b011c421800b84d00e95e138a1e073798690e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/015b011c421800b84d00e95e138a1e073798690e"
        }
      ],
      "message": "refactor: Add util::Result multiple error and warning messages\n\nAdd util::Result support for returning warning messages and multiple errors,\nnot just a single error string. This provides a way for functions to report\nerrors and warnings in a standard way, and simplifies interfaces.\n\nThe functionality is unit tested here, and put to use in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/25722",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:21Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVlMzhiNDJiMWU5NTk5YzBkYmMyMzY2OWU3MGY4ZDgyMDcyODk4YTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5e38b42b1e9599c0dbc23669e70f8d82072898a5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5e38b42b1e9599c0dbc23669e70f8d82072898a5",
      "tree": {
        "sha": "473682f47eb6068ce96579fcc76d06967b16f687",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/473682f47eb6068ce96579fcc76d06967b16f687"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 473682f47eb6068ce96579fcc76d06967b16f687\nparent c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999\nauthor Ryan Ofsky <ryan@ofsky.org> 1689875560 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480707 +0100\n\ntest: add static test for util::Result memory usage\n\nSuggested by Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nhttps://github.com/bitcoin/bitcoin/pull/25722#discussion_r1174298529\n\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH4UACgkQm3m0VpHb\nQXNruxAAhEurxqL/cqAJPg+abvOGzEtPsf3/pPEkQxEe8g/Dp6wR0QDyMeVfa38n\nILnf5gHtpZ7TQHQIgrLYhrrXKtnUV4Ag0MM09T0c03Rajn02e7p47tAbpAu8MbLA\nN4Thy3dDQ00aGZfQySdpbPS8rAcsRQd6OMV7fd9ZYsPG2wQp+kSyu8pDypaz4zlp\nB+D7yi5GU5MT+HIMpQSLqJEnbAJzm7PcBwmSL6O+cvXe7eEGqRR6ItCzpPoYV7wb\nZQAkjgHYbG0x9en77fRQds3CXyjFYv5Py8DZBSC6iM78tWau0uhnhRHKkwF50VNi\noIgJMNfF4qFV7gSz8XcpveoWSPeXWaXllqpJj8Xb/OB341At9+dMa3+PE927FRFu\nMNoTpJCsGJq24lXyPr5Brmac0fU74TWLyqLqoRhxvrLZaQXkSfg4vZtQ7rRvefkI\nfrOzG1omrAgjcZetLDSto8i5N4VuSnSjn9/K6DE2WsEmNdxOAhCohXHiwEWL0x9l\nT17xbgNnQUcEmSPnHrf0V/7J+cQM7WgLbFeXEAJxwTNek9BhWi3N+yS4+zujzVJV\ny+RTchf46lTHjGa/UB6cySkGmHAKzN13nD/h8NSSgH0sG02WOB77N+E0TAFg9Amo\nGRVNTbtCdiiokJjW+/gpSRa7A3TszDfxhM6863SiKtmvPtYgIZs=\n=UgJK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999",
          "sha": "c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c7d4f431982f8e397e4a66e4f2bf6ba8bc3ad999"
        }
      ],
      "message": "test: add static test for util::Result memory usage\n\nSuggested by Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nhttps://github.com/bitcoin/bitcoin/pull/25722#discussion_r1174298529\n\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:27Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-07-20T17:52:40Z"
      },
      "sha": "5e38b42b1e9599c0dbc23669e70f8d82072898a5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU1OTM2ZmU3OWM3MWU5ODM0ZmYzNDBiODEzZGQ5OWMwOWVjODBiZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5936fe79c71e9834ff340b813dd99c09ec80bdf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e5936fe79c71e9834ff340b813dd99c09ec80bdf",
      "tree": {
        "sha": "64732c929ff569210d3c9d0fb83fb4bb09fa1433",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/64732c929ff569210d3c9d0fb83fb4bb09fa1433"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 64732c929ff569210d3c9d0fb83fb4bb09fa1433\nparent 5e38b42b1e9599c0dbc23669e70f8d82072898a5\nauthor TheCharlatan <seb.kung@gmail.com> 1709191563 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480712 +0100\n\nAdd bitcoin-fatal-error clang-tidy check\n\nThe check warns about incorrect usage of util::Result<T, FatalError>.\nThe check enforces the following rules:\n\n1. If a function calls another function with a util::Result<T,\nFatalCondition> return type, its return type has to be util::Result<T,\nFatalCondition> too, or it has to handle the value returned by the\nfunction with one of \"CheckFatal\", \"HandleFatalError\",\n\"UnwrapFatalError\", \"CheckFatalFailure\".\n\n2. In functions returning a util::Result<T, FatalCondition> a call to a\nfunction returning a util::Result<T, FatalCondition> needs to propagate\nthe value by either:\n a) Returning it immediately\n b) Assigning it immediately to an existing result with .MoveMessages()\n    or .Set()\n c) Eventually passing it as an arugment to a .MoveMessages() call\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH4oACgkQm3m0VpHb\nQXOAwBAAvJDXZtoGnwhcFZ9bFDIPxwoKePX7jBUi3BSgS95PB2LEzhO6cnk4sVsN\n2kx/BKIvN85Z3SENcl1b/1ZLAsA0W9vp43RJrCTrKwfTTij1U74C0CQZ2D3QcdYN\ngBX8Cb6EQ5spQOQSOQxTm5zCkhi/lPSoPPVWNrIWNynHt2qDY8BIIuTX+yIqJdz8\nfCrn5muhuY9ukLf2hZIt8zwjUl/zTmPaVhxHo1LIXeItLQI4uiiY1syVbNK2KhmX\nBYtdj4whPsUJpRfPi/Jok4HHk6BSwrn4prrdPJuep0xWxTtCRX1b39Fb70eAqmGm\ntCAkpXyfW5ezIPKwBNqtF6fDJgn0VJTOoZAjEQId9qvMNr1A+NUlflbIMUgwKgBB\nD22DAJsrMSgRoMpVa9WQI1Kw8HHMaGYCJOfl4LWg918Puc5r3TQdCjPzD/qN/La5\nrEKgUO1zKoGZEfOlRgYmeWxHj5Qr88sg/l9nBamAcXXewFizKSBWDZ6kVUyo0y01\nBTrenRHB7FVzNJsyf8/Zc5slTx/4NNBtsaGilSCkiDWX9JI7bmuoQbgoR2sA5FvH\nBxAC2RVwvnX6QYaCXBTjndDRlYf0kFGqDuYr3mHJMtMt/tTC51Ow85OgtDIdKV/K\n2SVnr9X1Sv9c2G1+gXKExWomsWtzG23jlxDmQN5VpF72iShygIg=\n=hDtS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5e38b42b1e9599c0dbc23669e70f8d82072898a5",
          "sha": "5e38b42b1e9599c0dbc23669e70f8d82072898a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5e38b42b1e9599c0dbc23669e70f8d82072898a5"
        }
      ],
      "message": "Add bitcoin-fatal-error clang-tidy check\n\nThe check warns about incorrect usage of util::Result<T, FatalError>.\nThe check enforces the following rules:\n\n1. If a function calls another function with a util::Result<T,\nFatalCondition> return type, its return type has to be util::Result<T,\nFatalCondition> too, or it has to handle the value returned by the\nfunction with one of \"CheckFatal\", \"HandleFatalError\",\n\"UnwrapFatalError\", \"CheckFatalFailure\".\n\n2. In functions returning a util::Result<T, FatalCondition> a call to a\nfunction returning a util::Result<T, FatalCondition> needs to propagate\nthe value by either:\n a) Returning it immediately\n b) Assigning it immediately to an existing result with .MoveMessages()\n    or .Set()\n c) Eventually passing it as an arugment to a .MoveMessages() call",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:32Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-29T07:26:03Z"
      },
      "sha": "e5936fe79c71e9834ff340b813dd99c09ec80bdf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIxNjc4N2Q1ODQ4OTg0OTI5Njg0M2EwZjNiZTRjMzYwOTk4YWE1ZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b16787d58489849296843a0f3be4c360998aa5d5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b16787d58489849296843a0f3be4c360998aa5d5",
      "tree": {
        "sha": "9feba5adb4570832917e232bb5e4b7f6afaa8c8b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9feba5adb4570832917e232bb5e4b7f6afaa8c8b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9feba5adb4570832917e232bb5e4b7f6afaa8c8b\nparent e5936fe79c71e9834ff340b813dd99c09ec80bdf\nauthor TheCharlatan <seb.kung@gmail.com> 1686820380 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480718 +0100\n\nkernel: Handle ImportBlocks fatal errors with Result<T, FatalError>\n\nThis introduces a new FatalError enum class whose semantics when used as\na failure type in a util::Result<T, FatalError> are controlled by the\npreviously introduced bitcoin-fatal-error clang-tidy plugin.\n\nThe kernel's `UnwrapFatalError` method is meant to be used in unit and\nfuzz tests, while production code should use `CheckFatal` to handle\nfatal errors.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH48ACgkQm3m0VpHb\nQXPRzQ//ckQ0b7N944pIL1q3AP3Qf4+nbisnd+cY+lyffyN8fEoqh11jvKmkDVka\niPprHbiZcg4xffdgEVYv5ao4OR1lWtvVirwisWhvXFUEGbFDzFeryM53f5U5+jZg\nlRYDm4xOOtejMBg6jEjx+/QqbdIEmVkwDRV1EhAfcE+PAUsdBDSk0nVe/QSJwrAf\nwkIT7FBxHhBgKjz9muM2Fr/6N9t6uwewTh+D8twB16pEcADtTlD7Gh0oms23Bqkk\nhD0LpY4vaYZBqnWLhS0+79rzqJwPGfQWO3AgjeiR6tdxpLOiG92e6RJKuds1SIao\nKka+IHBFCbD4KUb7rhn4mmCygq73LJem4zZBhgqUA3q+Xw2lML4nQlgjKejX88fQ\naDrHJNv3tEipDZKWZjXEA1Hj1iBxlbvFpq5KUvS1RUhqrS1IidmqkvBhGLGdLBiB\n8XcTzCPez+1QkihFFm+SPH4EK6TgbU4t6AXakaCpwfKJ1vE6xVono6I3vlxeFU3x\noepdmOLJbrV+gxfwYShV28XIHGAGpzUWWIO8WK1Sha0XExaYBwEbd90ZscT1cN6T\n9bSgHJL+IXvxnofIvYpyXNEQ5BpLLvo2QW+p7mgcIjVAEh9SMwnS6YN09TdWA8tV\n/e2s9D36XgURQsRJjiGTW1ar2fhwsfYv50VxAzcwhHYlCGuV22k=\n=RzOC\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5936fe79c71e9834ff340b813dd99c09ec80bdf",
          "sha": "e5936fe79c71e9834ff340b813dd99c09ec80bdf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e5936fe79c71e9834ff340b813dd99c09ec80bdf"
        }
      ],
      "message": "kernel: Handle ImportBlocks fatal errors with Result<T, FatalError>\n\nThis introduces a new FatalError enum class whose semantics when used as\na failure type in a util::Result<T, FatalError> are controlled by the\npreviously introduced bitcoin-fatal-error clang-tidy plugin.\n\nThe kernel's `UnwrapFatalError` method is meant to be used in unit and\nfuzz tests, while production code should use `CheckFatal` to handle\nfatal errors.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:13:00Z"
      },
      "sha": "b16787d58489849296843a0f3be4c360998aa5d5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU2NDE0NzBiNmRiNmM0N2Y2MDUzMGUwMzQ1NGJlZTJjZWJkY2QxZTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e641470b6db6c47f60530e03454bee2cebdcd1e9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e641470b6db6c47f60530e03454bee2cebdcd1e9",
      "tree": {
        "sha": "8ecf7ab3cabb414b8609d385cd3c7430847f300f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ecf7ab3cabb414b8609d385cd3c7430847f300f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8ecf7ab3cabb414b8609d385cd3c7430847f300f\nparent b16787d58489849296843a0f3be4c360998aa5d5\nauthor TheCharlatan <seb.kung@gmail.com> 1708588083 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480723 +0100\n\nrefactor: Replace call to fatalError with AbortNode in init\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH5QACgkQm3m0VpHb\nQXNAJw/+I3QkWSNwt/O4f1GdmGCz/Z1/8AHIiFc9uKvhp3Yq2OtQ1CPk9CeppFW9\nQGtNurl4iJpKtzIATe8uWn8L1nAxBESLq6x82ux2osYE4nrqqvLhwwkDXM3BiF9z\nZ1Y3Z+Uj3r5kQ9wAoN1WDk0ip4YLNQRLtxYJd87ftvNYp5sLvQYRfiG2bTvEQrwB\ns4AKymfy6OtvJ1dePXfAlFZfijLdAjosPwddjk5Rgr6hUZkGu5ElNWAZgRTLb7Lt\nOJ3qre0jkAE/kPuCG4Pp69oT26j9++opUlQMiOcBEcO2K3VULbcKJ+Sl3vMIy3ja\nBhAU4n4h4F99SmHXdQlZEqJIIrCXIOa+WTPy5n2IiNtQrVV0HlU3RBslRH7cu0Qy\noSn2k2j1cfvWJC+M5GQEWUy+6prQLKEo/fHOiDsueWTLHa/4dnZLJiELm20P+X0A\n8Ev86oeUYqP7NWq78+1ZHGfcFmyuCKLc3RA37Sbkoip/X8g7t3Rt/NBZQ+9AoVnv\njXC3YC+I+wZd3Hne8acYNqeQDAKrxwhQsTARS4Y/AqHms9VSUU/Aha62bDnyQeq0\ncfVZg3tFZVyba9Ykwe2PBzV6BJLcVdEG5Vx0O0r57NuNgsLplT77SFhXUtiaXZoW\n67gAhcKHqOI5a5LCM2dKgPZGLQhFK/tzDVxiY1AINONnO4kwCGg=\n=4ccX\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b16787d58489849296843a0f3be4c360998aa5d5",
          "sha": "b16787d58489849296843a0f3be4c360998aa5d5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b16787d58489849296843a0f3be4c360998aa5d5"
        }
      ],
      "message": "refactor: Replace call to fatalError with AbortNode in init",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:43Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-22T07:48:03Z"
      },
      "sha": "e641470b6db6c47f60530e03454bee2cebdcd1e9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmNTUyMDNlZDJlOWU3ODQwNDdkOTJkZGUxZjIzMzlhNjdmMzBiMDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf55203ed2e9e784047d92dde1f2339a67f30b06",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf55203ed2e9e784047d92dde1f2339a67f30b06",
      "tree": {
        "sha": "4acc2abf7fcaf08789800342a9a988a3e1a783cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4acc2abf7fcaf08789800342a9a988a3e1a783cc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4acc2abf7fcaf08789800342a9a988a3e1a783cc\nparent e641470b6db6c47f60530e03454bee2cebdcd1e9\nauthor TheCharlatan <seb.kung@gmail.com> 1686820941 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480728 +0100\n\nkernel: Handle LoadExternalBlockFile fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH5kACgkQm3m0VpHb\nQXMtYxAAnJRSaPB5O2gjgHJFHGdVpgi0fA6yK14z3QbpdBuVtRC4ncYFeKhh+Zc0\nqh3N9Aq+X/Ab8tD4CfFuOptX+6smjn3ti+LyS0DttBmn+iPzzOEQmscxY/0LJEQQ\nOlW5PWjptLJgUEI1P7QqxHA8gZ54D76U60KTTdpwafcHo677qXyPXE8pHwtX69Z4\nCFJXdNE58AYF0WWgDiDbZu0KUAE2tpN04M66ZZ5WvdB9kJX1Rhxrei1ZY8u/a1/M\n+1Cu1/SbqGwEbUqTfbOEV5uQH9dBsblQCeSkI3la8W3KFfapwGunlobpCgnmCo91\ntkOwJTE9PLYhoh+Yey0vUP6vb6iP5vMQ/p2po4dw+nw01ZwWLCR68F5/qOrM6dD6\nZLzEJptSi5w58uaFbN+6YKycblE5BJgcxVu97srGnRlQmjrX2E4u1ql7LsMmXHjn\nfJTdTAIvQ5/vLYzMLNmzCXwyBtpaJ8k6i+qzFOnvNK4xZJqPYK+tqJB5BX4oiLS5\nx5u3G7WPkt378zF1qNGwYxmmtSbLYwbXK7N743+SeTiaULH8MoqnEz5u+cvmlbHO\nE93ZDd//skKDj36kVtyB4IpUHF7PmFeAr43s0Q2DZ6yI08hoQeESo0UE48mubjkZ\nDCLFNZGn6zgL63HvBtqSW2XP9mHtwSWTeNAaVEk5yso0KKLE4yE=\n=Q5um\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e641470b6db6c47f60530e03454bee2cebdcd1e9",
          "sha": "e641470b6db6c47f60530e03454bee2cebdcd1e9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e641470b6db6c47f60530e03454bee2cebdcd1e9"
        }
      ],
      "message": "kernel: Handle LoadExternalBlockFile fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:48Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:22:21Z"
      },
      "sha": "cf55203ed2e9e784047d92dde1f2339a67f30b06"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE4NTBmM2I4NTc2ZTkzOTA2ZDM0ZWQ1ZDIxMzA4MTk1YzhhMTBkZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1850f3b8576e93906d34ed5d21308195c8a10dfb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1850f3b8576e93906d34ed5d21308195c8a10dfb",
      "tree": {
        "sha": "88e2afcf62e65cfcca3effa4edc2ddc4283ebbaf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/88e2afcf62e65cfcca3effa4edc2ddc4283ebbaf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 88e2afcf62e65cfcca3effa4edc2ddc4283ebbaf\nparent cf55203ed2e9e784047d92dde1f2339a67f30b06\nauthor TheCharlatan <seb.kung@gmail.com> 1686821838 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480733 +0100\n\nkernel: Handle ActivateSnapshot fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH58ACgkQm3m0VpHb\nQXPTvhAApNg4uqoCA1JvsmgEbiBdB2VDnBChoeaPiHaE2ybsfeqVnkIi1r3PNHGR\ng/ALIEB/yX+npcDvZXWs+2JCToxzAki/eZ5AwV3gKDFZHDgIG9JWFr2KeIExAAdg\nm5u3NOK0MNePQD12z/8NdsQ+JpDN3bbkEHSzRQ68Sxmm6yjvFxajprPns6enHtuw\n+e9fYYul0eAJodxVivlTutC/ngFv6Ilbv6mBn+u31HUrvrqOt1BGNiAV0MNiLis9\nl3U6E0Wtp/i6oAaB4qIEEKDBXGJgcv+PKlKVWOZ+A2RdPQ2QhWMMeHR7ncT462Gm\nx3oPxabXQkQ9Rl9GKFitLDiNSJngO9qJNJ3ycOtdvJhi5dNdpFbJIL/LK+yYOGoT\nsNGcLyHPTxKCSuanIn9Qfld9X/xyh46PpdY/b6DEOCANXcMTTCYZfVv5Fdby2pqb\nqFRDO6XT0ELv8plBom4hk1u9dP9D0l0ScBAyJyD+VNSCJdEWIx8rPGSlDStx+P2r\nuVDJ3921s3upSlJUSdEN7fC7/R3GSIpOSClyo8YGG8kjlGjYOsAMU1xQJQNfZCyW\ncw+yUadmGGbFpeNe9Y+2oi5jfphHnW7K86HgSPnlCSrYy98cbfDd9XZpq+ZE/RNI\n/k7HENH5QW+de/Ihg78iQk8dg5OpqAwnfRP7HUJ8nnURw/iAF5w=\n=kalQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf55203ed2e9e784047d92dde1f2339a67f30b06",
          "sha": "cf55203ed2e9e784047d92dde1f2339a67f30b06",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf55203ed2e9e784047d92dde1f2339a67f30b06"
        }
      ],
      "message": "kernel: Handle ActivateSnapshot fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:18:53Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:37:18Z"
      },
      "sha": "1850f3b8576e93906d34ed5d21308195c8a10dfb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkzYjljM2JhM2Y4OWM3ZGQ0YmUxOGY4NzIxNjk3ZjYyMzUwZDllMGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93b9c3ba3f89c7dd4be18f8721697f62350d9e0f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/93b9c3ba3f89c7dd4be18f8721697f62350d9e0f",
      "tree": {
        "sha": "ef6f266f09e0a1950e3be4c30d5bd7e94a812cbc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef6f266f09e0a1950e3be4c30d5bd7e94a812cbc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ef6f266f09e0a1950e3be4c30d5bd7e94a812cbc\nparent 1850f3b8576e93906d34ed5d21308195c8a10dfb\nauthor TheCharlatan <seb.kung@gmail.com> 1686835077 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480741 +0100\n\nkernel: Add [[nodiscard]] attribute for LoadChainstate\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH6gACgkQm3m0VpHb\nQXNGew/+I7m9qMEicZQszrw79700p2Wq3LumMUqFZmgvKTL0lHGuv1fgAelDzOi7\n9UnTbIsODL4tvi54hgsBOuyif1OqOjC6it9GA4lTP3z9CpgGynwrmhk9GKXHRS0i\nSqcJhBNilyYltxl5ReePQs9SWLmWcmF7ih3L3yh/xocMaHlNy6v0JxVZak2qIK72\nDViOCUqszvB1lfG7Z3SYI8dOeuVWnY4JX821Z7o1pUrik8SjyutvnJcgls9iLAW9\nSXPnwI9ilj9VZ+iPVP78NPK9c55zSpofOVP/WHT6BB3l+2vU02DLUZvKe+bFHBeB\nzBPPnKyxQiNxhXegwlql/UK4vUFaRuhy6pm64Uq+r3gFbrS2vrfDCEpSLrN39IAB\nk9ybljJKkkBLeCNC1oPKbIvhc0M1G6C392UEGJUGhuWdp+Iz+FNE+7LJLRyBnhaO\ndVoOlqt6N6Z0vPKmUMgrQkiV0DzIptI2zMsTnG9dAiZz9+npuKRSrBX2S6l9qaK2\nrxavayX6lGCfzSRVt8GJ0KtAs9tvOx8M+5Uf945BdYHOxsRi98bbuZ9gD8gaPrpG\nVGkKOMwUUwEmVe9k300jgYP9/GBP2fRZgQFLq0NETyFGqopJbkOVWOeW6jxA4tQc\ngzTKIBE1U3Au5br0vHJNb7HMX3lm6HyddTO7ydGCUOvYHSk/WdQ=\n=tnJW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1850f3b8576e93906d34ed5d21308195c8a10dfb",
          "sha": "1850f3b8576e93906d34ed5d21308195c8a10dfb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1850f3b8576e93906d34ed5d21308195c8a10dfb"
        }
      ],
      "message": "kernel: Add [[nodiscard]] attribute for LoadChainstate",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:01Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T13:17:57Z"
      },
      "sha": "93b9c3ba3f89c7dd4be18f8721697f62350d9e0f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRiZmE5ZGEzMTNmYjk4MzE5OWIwYTIzZDg1MGMyZmI0YTBkM2ExOTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4bfa9da313fb983199b0a23d850c2fb4a0d3a194",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4bfa9da313fb983199b0a23d850c2fb4a0d3a194",
      "tree": {
        "sha": "9a3d41915286a9fea79f4a911dfe7e08fc4c2679",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a3d41915286a9fea79f4a911dfe7e08fc4c2679"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9a3d41915286a9fea79f4a911dfe7e08fc4c2679\nparent 93b9c3ba3f89c7dd4be18f8721697f62350d9e0f\nauthor TheCharlatan <seb.kung@gmail.com> 1686836590 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480747 +0100\n\nkernel: Handle ValidatedSnapshotCleanup fatal errors with Result<T, FatalError>\n\nThis slightly refactors the method to return the FatalError instead of\nthrowing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH60ACgkQm3m0VpHb\nQXNCnA/+LJYNtQCArzSWNX/ja0fZi1GiJIm5NyyEfF47rMOMsJbumjELjDlH5V+V\noDmaJnTZzGrzp4IHTQs7TGjvP+u/f4/XngR8sD0NkcWJm4hG/kmbxngq4oZ531nC\nIBr2Q5q/zTBlZVx3PCKu0LpSK/uQ16O52QyNamLu2QHIruFOnplur6quNsOesqQm\n/GfiyRKOQqwai9zHAQK31vY+8zpP5vBHkcZURdvt50ljcgQmTCNc3+513NrRklPY\nhnxg/eHj5TY94TXHhqak7hA1qD55nqnIoaJyZqOHuIWYMlzREL7paKqY4G+jviNx\njtE6HFgcLX9ZQtsJF3TQasgs5rn8Z85/S3JQk3shaUSJj8fgXgPT1WBGU2HPT4p/\ndAOk5tPNnHWRf+goafNkwmie7/Ob9/OLG84U2ImZFM0MOFK7IfymjdfdVgdb55AD\njOQ2oX9OPZMLR4oevGRKMYKVM9/4xJwTP8V/IMT0jwj7fsrUSDuCNGMEXr8Cq3Re\ntjKg3d+9cksiSjRNLoakB/QX1HFEa2m8LduErRKNXORW42W+IgLTLfbekL3v0RhG\nPSyupKrrWx6vX2ki0b29nJQep/VZyvjQ+MU78hr1Dnr3f9+s5rZJ3jd9D0scZ0Dr\ne3wxW/nRodGkspXxoKoqx0lNpZib3S2Pnsw39nSF1CAr/aDDQ8Q=\n=6DWs\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93b9c3ba3f89c7dd4be18f8721697f62350d9e0f",
          "sha": "93b9c3ba3f89c7dd4be18f8721697f62350d9e0f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/93b9c3ba3f89c7dd4be18f8721697f62350d9e0f"
        }
      ],
      "message": "kernel: Handle ValidatedSnapshotCleanup fatal errors with Result<T, FatalError>\n\nThis slightly refactors the method to return the FatalError instead of\nthrowing.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:07Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T13:43:10Z"
      },
      "sha": "4bfa9da313fb983199b0a23d850c2fb4a0d3a194"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRlMmRlN2IzMzIxMGE4ZjU0NjdkZDkxZjNhYjJhZTY5NDdiYzQzMjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4e2de7b33210a8f5467dd91f3ab2ae6947bc4320",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4e2de7b33210a8f5467dd91f3ab2ae6947bc4320",
      "tree": {
        "sha": "5a8e83b734578560cac6000ffb5e6fd37ccd1e31",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a8e83b734578560cac6000ffb5e6fd37ccd1e31"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5a8e83b734578560cac6000ffb5e6fd37ccd1e31\nparent 4bfa9da313fb983199b0a23d850c2fb4a0d3a194\nauthor TheCharlatan <seb.kung@gmail.com> 1686899168 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480752 +0100\n\nkernel: Handle MaybeCompleteSnapshotValidation fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH7EACgkQm3m0VpHb\nQXOTEw//VIq8vMrbWQmEc6rhTJ2195Cn1f/Fz2HL/WZkv3/RWoTAcqM/XzvJDi3e\nmq1oWzYlHvpwmX/4dr6mkDfEuUcWbN42okFV9ywnr2GscaUbXIBrDN/9H7bbg7Jp\n32Sqwp2nfkCXjmVbFvht7jPDHCupOmK7gIIR6muvO1nMCeQRwoI/9kSsgx5Odywl\notAvwME7eJgiU3d3kArjKyD2pNlvNyR5ttjOoeVcvqKvNCnMwpZh9zG+ftVLzrUb\nQtwXuK6VbKA0XfVHV1zOwjBhh1bbZI/y1zGzl3DPn92L0Yxu3K+RFK7g1s9+HVhS\nc/p8N3uz5bcv2li8Fh50JnHGYOzJXdKEssLHcET7AhimOQvmTArZlNjtptH+bSPG\nAsA9cDR7MWzJvMLg/L6fG1+179rHhGg/5zoKk5OSJCdqXwTMMnNMZD6T03MOC+yd\nPqL2QUjIy5IgGv3rY5B0VbDw5+detE06JZsbdfhSELQjlnYjGfebxOZPLOHVbWOh\nUm6ckkzrlaradGCRtpispSnyRrXTCy9FsX4eY8qtZUyE+e4iXLdTWJdZdFiAAJOy\n+nrGH1BAmfsnzu00sl52RJJ5r1YjBmV8A7JISuvM0ph1TgGyglCWO2rzkDx7tdXA\nBtr2sv3m9j4Zbijw7qfD9URnh3trprpvZ3JYWl83KWMkQFUtZM4=\n=OBtt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4bfa9da313fb983199b0a23d850c2fb4a0d3a194",
          "sha": "4bfa9da313fb983199b0a23d850c2fb4a0d3a194",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4bfa9da313fb983199b0a23d850c2fb4a0d3a194"
        }
      ],
      "message": "kernel: Handle MaybeCompleteSnapshotValidation fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:12Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-16T07:06:08Z"
      },
      "sha": "4e2de7b33210a8f5467dd91f3ab2ae6947bc4320"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA3NThiNzJlMmJkMmI5Yzc3NGVjMmY2YTlkMjdiYzEzY2VlNTI4YmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf",
      "tree": {
        "sha": "e1fc4b0a680943f68859fcfd9c97f0ceae662d08",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1fc4b0a680943f68859fcfd9c97f0ceae662d08"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e1fc4b0a680943f68859fcfd9c97f0ceae662d08\nparent 4e2de7b33210a8f5467dd91f3ab2ae6947bc4320\nauthor TheCharlatan <seb.kung@gmail.com> 1686899463 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480757 +0100\n\nkernel: Handle AcceptBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nInvalidateCoinsDBOnDisk and AcceptBlock.\n\nThe net_processing module now has to handle a FatalError, so introduce\nshutdown and exit_status member variables for to be able to abort.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH7cACgkQm3m0VpHb\nQXNR5Q/9H/ekABB6O6FTQVka/62yaZ/cTO/7Typyx/fe14C/NkyBQ9ywlck6MRvf\nT1M/jd51WWprj89YyhM0rh8RAG6x9akrCv2gkwVBTIE+/CnYPHnPYkJLWl/aS7jy\njSJuTGvVjMnKy4kFEHKC+c4cNqFzbBNaHIx73ZBsUmMEIWNag9RrMUcYqTkNuuVd\n5aflTXiGw06x/Mcvomzk4pewo0iwdvhZx+7m5oD912VeWif6VTFeaVQqVfeeFGIC\npQmYU4j0hzmBRTl0tQfPVsM6+NvdSyOwOMTwxNkZZTtyUF1unebHflnCMrIsXtCv\n+AKwl60yY0lBf8ExO9Yf5GRuDu5v15zWRLI2elveq/Bj4UuaV9L6fv5yaOjRxkz4\nC6RrYPib6v5GnFrDKc9RJdZJHR5mHNWlfM+yoiM9LASwYDlTnq3qF0ICNcbZK4es\nHv7jeCh1EBEysSqJWZW17/2L6bHv8FBRd/dC+LFuhT3uhiQDhPOcrUmAj1CX4bzr\nD9lTMs3jeWa5zRalI2daWtKeYZB6DQ2SbC+3hDe6unxgJj+30zd7HMBFHGaRoh4l\nWgKhctsnfXWh6Hrq+a9spo2rZrPQ4XYNzau+jU8NCg+3CoHlasBTls0lCWIN4FLL\neYE2VRowcGQB94JTpGD60/jxUY9sdNmMcXp4AdhWT3xJhkkTz1Q=\n=2K4+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4e2de7b33210a8f5467dd91f3ab2ae6947bc4320",
          "sha": "4e2de7b33210a8f5467dd91f3ab2ae6947bc4320",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4e2de7b33210a8f5467dd91f3ab2ae6947bc4320"
        }
      ],
      "message": "kernel: Handle AcceptBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nInvalidateCoinsDBOnDisk and AcceptBlock.\n\nThe net_processing module now has to handle a FatalError, so introduce\nshutdown and exit_status member variables for to be able to abort.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:17Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-16T07:11:03Z"
      },
      "sha": "0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZlY2VlZjg0YjRmZjk1YWNjMzhiYTQzY2YxMDQ3ZmFmNDZkYzBmNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6eceef84b4ff95acc38ba43cf1047faf46dc0f72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6eceef84b4ff95acc38ba43cf1047faf46dc0f72",
      "tree": {
        "sha": "79c5b7f09ab5366b7c457f370ccd2b2a55bfad52",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/79c5b7f09ab5366b7c457f370ccd2b2a55bfad52"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 79c5b7f09ab5366b7c457f370ccd2b2a55bfad52\nparent 0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf\nauthor TheCharlatan <seb.kung@gmail.com> 1708705971 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480762 +0100\n\nkernel: Handle ActivateBestChainStep fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PreciousBlock and\nActivateBestChain.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH7wACgkQm3m0VpHb\nQXNBTQ/9FNrvMkkSPjPFuo8ToJw2LIKYVDcPGVz+Rp3W426EZCvJtyRh1DlwoIei\n98dJ62XpG9u4E9oX7L5kZ6zWqf8zPSqr5oJIZ3+etQ5KcUi15lNA+RECC17E3GrU\nwh5eUT74MRdixAJQOWoA/i45+O491al5FANDYPGgIV2pAJIz/44cCNGQS+54kndJ\n0SWK27bhGwiFjJLPBs/f7SheINx8e5RyrbjOH/lFOF7QfQ0bf4SGXEd4szjmugDE\nqBnsPWRlzANg4HK4p6Arl18k619HrC3tTFKJkhSSLNPQun36sFNINnDKM5Ekdbag\ndqSnOO8U2o2ZhiG1+TqJZ1S9eIhvb9Cvymd4ZBcYVgT97CokkbsQoH10FOKNhIGc\nTMU/49mh/cu5l1ssG2bRbpQo2J6oImdBbM2d99VQkL2vVhZBTZgSamgoH0P/vyGK\nD/I1d/XSNbKQpNS4wJ5ZmXOFTKWIU+MOQM9Nj0IABIiQA29zLSy7VZ01XiBKoVRT\nMUMJ18+1Y6gRqpAeVvvfHn61FvCs7w3WglsbYejV7WCm02Pv2i1vEKnVIYAmmxW8\nK73XErEq/SYGFfsGD63n85+SuiISVpwRPy1DRlWLVvCm6LI/PnxdYcUNPjXhcDqz\nYITzwpoeTNmza6avHmvZyv1/Lpn0Nsn2MeMAYNFNrl/OQnvat5c=\n=CVx5\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf",
          "sha": "0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0758b72e2bd2b9c774ec2f6a9d27bc13cee528bf"
        }
      ],
      "message": "kernel: Handle ActivateBestChainStep fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PreciousBlock and\nActivateBestChain.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:22Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-23T16:32:51Z"
      },
      "sha": "6eceef84b4ff95acc38ba43cf1047faf46dc0f72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExYTBkM2ZiYTkwY2NjZTRmNjU5ZGM4MWZiNThhYzg3ODdlY2ZkYmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11a0d3fba90ccce4f659dc81fb58ac8787ecfdba",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/11a0d3fba90ccce4f659dc81fb58ac8787ecfdba",
      "tree": {
        "sha": "fe8f456e20bb53954ff87375bc12f495cb666794",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe8f456e20bb53954ff87375bc12f495cb666794"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fe8f456e20bb53954ff87375bc12f495cb666794\nparent 6eceef84b4ff95acc38ba43cf1047faf46dc0f72\nauthor TheCharlatan <seb.kung@gmail.com> 1708708224 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480767 +0100\n\nkernel: Handle ConnectTip fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH8EACgkQm3m0VpHb\nQXMedBAAgCvTpSG3IjbSaVyb1AutA05MYIpOfYqumvlxE/x0WxNqmT2EPXHfqPrn\nI9n8ZJG+Wx6gd4jzKVtlv/y/iwFnVHzakcjm0+FnpM+wOq6CxeNfQjBacfzNj8IL\nZWldA51MRLDLoZRwb53zZUd6Vo6NwDcmVWtg2RPQ8G7fBFqtV7ZgxKr/MdvyP12b\n2Dvul1kFJ0bqB7B83u+x3xAzRhv8O9IhmwdldXGgelAH/XVy9dBbubnTR20Kf0HN\nq4sbkI6tTXARkSjnl8pUti7J1vLELOYcjxambjjymBU9B3004s+owACebDS1Rzup\nwWyEAGFJpIAsqatoc6hbFJvovMCvM/6wAkbvIr6ABls6NVU5RG4GWcS2cPqikJhi\nefHyanYDhApQeuXZbC2y8+Tfd7p9uDFY+Pj8BVJDin+6QdvIpJlJFDgJGfpb5Oz4\nARCsSe5wWG4hgCCShaDkmJUNZY2i4ZKcgbFFiS3smD7rFQfi5urpbNbqEY57z7C+\naUFh6hJ3/GgWXPmtjRfhwPHvzWMuovzNeQV/Iqhd2NTHafoddMC5ADjUEufA8ZFS\n7q9irALg8/Yq5EuO2tP5wWrE8h3/t292mVvRIWg4M6cVJmfpRPgsQhX9lNTLlmbA\nAUUP7FaAdoj/t6EHrwnWxCzzrGiqpLSKlbFv5ejDeLzUqoLP8y8=\n=Kxmd\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6eceef84b4ff95acc38ba43cf1047faf46dc0f72",
          "sha": "6eceef84b4ff95acc38ba43cf1047faf46dc0f72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6eceef84b4ff95acc38ba43cf1047faf46dc0f72"
        }
      ],
      "message": "kernel: Handle ConnectTip fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:27Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-23T17:10:24Z"
      },
      "sha": "11a0d3fba90ccce4f659dc81fb58ac8787ecfdba"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQyOTQzZTU1NjcxYzdiODcyMmM2M2QxZDg0MmY4NmE4YjA4MzE0ZGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42943e55671c7b8722c63d1d842f86a8b08314dc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/42943e55671c7b8722c63d1d842f86a8b08314dc",
      "tree": {
        "sha": "40ccd385cc675daf8354ab25974ad70758b7a326",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40ccd385cc675daf8354ab25974ad70758b7a326"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 40ccd385cc675daf8354ab25974ad70758b7a326\nparent 11a0d3fba90ccce4f659dc81fb58ac8787ecfdba\nauthor TheCharlatan <seb.kung@gmail.com> 1687039111 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480772 +0100\n\nkernel: Handle FlushStateToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PruneBlockFilesManual,\nAcceptToMemoryPool, ProcessNewPackage, ResizeCoinsCaches,\nForceFlushStateToDisk, PruneAndFlush, DisconnectTip, InvalidateBlock,\nMaybeUpdateMempoolForReorg, ProcessTransaction, MaybeRebalanceCaches,\nLoadMempool\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH8YACgkQm3m0VpHb\nQXNu9w//WUryrIhbVn+93dckZDeoIMuJvdw8joIrLVMV1ChYfkA6yxIYOc7wu4TI\nhusw/VsaF1ie/XhgLqsllIQ6aCc4S4kL9DxRATHcWH6tiO0rEYsGf6vGmvaPUMVW\n7zWae31TNuZUVDUjtXBaWlFrbhWQVbYaamP1rs7RGKxMdkrR1ZVUupw0qIRIMm+M\nF7Gdme5pRk3ex3rl4dqXvaS5BykdbFKQrxXGB1DoPcC2qwuA6z5hfDtLhDfJv7++\nJ8lcKlNks6CcPbT54HnP3DQ8OruNcxUO2gSSh4QiCM58jxq4HkiVU1JvPh3CYk5k\nPwfFkkp9G7g0OH7Xbv3pKqQ5DiA8/Zb7dAnxf1TfgBwGFv0KLNh0twVHOVu96Um0\nEwl/lyt5S/nIavTKwT2uecNjtdW695Kf8dcLl9OyVMWqtT43ti0V9zxED6DqNuyu\nJQMy904cj5B75xQdg30pDYsiwGKouRM6mC4wOWdmzLUjEeV5Ups7b/S1HdJhZwbK\nNV7MGj1f7Us4ab/P1SpWxcT9fEF3OThm+DE6sAwYZn5saYTNnYdYLbZbnU3pxMJq\nWQZaACFk6do4m8guPUhny9ofxWcX2crTw07WD0LmARHIlQGyISvcckitBq2sIC19\nFj71YbrIdu0UVk7w+woyyL2/xbdIWRZJQbVd6KaR96Q0d1jHqTk=\n=zKpr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11a0d3fba90ccce4f659dc81fb58ac8787ecfdba",
          "sha": "11a0d3fba90ccce4f659dc81fb58ac8787ecfdba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/11a0d3fba90ccce4f659dc81fb58ac8787ecfdba"
        }
      ],
      "message": "kernel: Handle FlushStateToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PruneBlockFilesManual,\nAcceptToMemoryPool, ProcessNewPackage, ResizeCoinsCaches,\nForceFlushStateToDisk, PruneAndFlush, DisconnectTip, InvalidateBlock,\nMaybeUpdateMempoolForReorg, ProcessTransaction, MaybeRebalanceCaches,\nLoadMempool",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:32Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-17T21:58:31Z"
      },
      "sha": "42943e55671c7b8722c63d1d842f86a8b08314dc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE1NTUzODdkYWJiODY1ZjA5NzU5YWJkOWFiZTg1YmI3NWU5ZTkxNWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a555387dabb865f09759abd9abe85bb75e9e915b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a555387dabb865f09759abd9abe85bb75e9e915b",
      "tree": {
        "sha": "3921bf406c491605ce104b6e445c01a9496f6768",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3921bf406c491605ce104b6e445c01a9496f6768"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3921bf406c491605ce104b6e445c01a9496f6768\nparent 42943e55671c7b8722c63d1d842f86a8b08314dc\nauthor TheCharlatan <seb.kung@gmail.com> 1708532801 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480778 +0100\n\nkernel: Handle ConnectBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to VerifyDB and\nTestBlockValidity.\n\nThe miner module now has to handle a FatalError, so introduce shutdown\nand exit_status member variables for it to be able to abort.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH8wACgkQm3m0VpHb\nQXO+zw//UdPA3HTG7epXkTb0H/FiGxwhp59ejmVzrOw29cLC3LaruyogZYL0zxUI\nx2zh9RyJWcjx3ZQRdtqyHpWrN/dbItaUZ/HflU5dw3pX4Q1moRuR3vKKF2gIvunZ\nfc+exMA3CuTb6gB3U2mhSIVP3HzAM1L9I/irRrUzghPNvGAvvSVmlAePqrvWnMzA\nDqGQaXC4sWMhWGRFsy+7gSGpUG0BKEoHsfl++7Gz31aa6HqrABB4ZgRRAnsWtpjR\narge7EpzVidbfNWGh3fJ9UUQxTJmvJKU3iKHi3tt9Gy8nUuyR6LNII9veBCQJRGc\nWFFYit2reD24CETWLfAHk3Zda7hje+3X4X3OFOotrJ9hL9Z2XtqPFD1b4IMt8ogZ\n7/YSdfjlCJ9HS587R1NgqsYImz6a2PTWJd4sXfTb0Z+eflvVTRpiCM5vDHn2dg10\nEEgLAJWfKbk1hZXgSsMvadOPgmzAtY/bkmINd/wCKc7pxlELgm0fkv6JPXzVQmr4\n4ikUrmC5xbFQkDPV6E0pkf9ViRrKZjslSyLXJ7H7buZ5ve/kXJaWYYKAmFAx7oM9\nkft3YNXf/QqUCG5yQTpVeCcxSlX5ds4KjH8O1IqO9zpG7x4HsvRdk52dH9g81h7O\nCde9u58dAv6gf/6jvqeB4wgqi2fvme35RcdcGu5WzGWXq8fNP2k=\n=5Ggm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42943e55671c7b8722c63d1d842f86a8b08314dc",
          "sha": "42943e55671c7b8722c63d1d842f86a8b08314dc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/42943e55671c7b8722c63d1d842f86a8b08314dc"
        }
      ],
      "message": "kernel: Handle ConnectBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to VerifyDB and\nTestBlockValidity.\n\nThe miner module now has to handle a FatalError, so introduce shutdown\nand exit_status member variables for it to be able to abort.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-21T16:26:41Z"
      },
      "sha": "a555387dabb865f09759abd9abe85bb75e9e915b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE2ZGVlM2MyMjdkNmZhMzUxNzhkOTQyMDU2YTA0ZTk0ZjYyMTAzYjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/16dee3c227d6fa35178d942056a04e94f62103b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/16dee3c227d6fa35178d942056a04e94f62103b9",
      "tree": {
        "sha": "b453ac7954011646371bd0d3044dba67da4ab553",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b453ac7954011646371bd0d3044dba67da4ab553"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b453ac7954011646371bd0d3044dba67da4ab553\nparent a555387dabb865f09759abd9abe85bb75e9e915b\nauthor TheCharlatan <seb.kung@gmail.com> 1710192877 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480783 +0100\n\nkernel: Handle SaveBlockToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadGenesisBlock.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH9AACgkQm3m0VpHb\nQXNaBg/+LzvoOWuOduH7xUAcF9s2jSp5BgxonaszaMB4UyZDdbwL3CVcBRNsD9mF\nQ/IpPK1rEDTsh9EpiZUnOtahxlnwSciYEDUZCHwyLmDXbBQxJueFAnZCEM0THujh\nHPSh4dM6Ma1nWt3AxD7faXVQiqWtQwFBIi91xb5oLLjK4LOXG9Ey/R/FgkefspuJ\nH6XTfyS+V42ibvOEf+5uOOyPEbKclnQJntBkh0+yMMxW0X/iu/Ss7+tKobGFfJ8e\nwzhio0EqoD2GNaB5Qz66i2iew3suNHcnY/aWwPzFgTDnWWO1q6iFwTS0cRZXAGtS\nbD0e3wjuTGUtjPkVnGsX5/WL946hNXBVKpWEixRRjfMFRvO9ncjL0tZlke+gdJoE\nxp3uNY+2Kx0O4GapQY0kbqupUHj155CetUDJB5dEbf8sVG658HjtV+QCAa1DA2EL\nXsoc5NM24sDTtyPThIyEhWVeQJ+YelJJBT81sfbT8R0eyoLBP06UsbaZtXvr/8SC\nSnzj1cxdPIblcxQ0IJxR/mAG3CzcZ6e5qj3ccHpvRED2D8ItorimCwqeDt+SaVjv\nmeemI5yfYImrzSYoZTXSzpg8Yq0tPOKqtgmq44xvLsZDCHKPUS/NymhUdRHP56D4\n0Y2dtc8l9vQePjFNEtSrDxHLNH8ooEWyQi78214fSqOBNIIcodY=\n=remq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a555387dabb865f09759abd9abe85bb75e9e915b",
          "sha": "a555387dabb865f09759abd9abe85bb75e9e915b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a555387dabb865f09759abd9abe85bb75e9e915b"
        }
      ],
      "message": "kernel: Handle SaveBlockToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadGenesisBlock.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:43Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T21:34:37Z"
      },
      "sha": "16dee3c227d6fa35178d942056a04e94f62103b9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY5YjE3NzMzYzRlNWM3ODg4YjMwOTAzZmVkNDJmMTc4ZTQ2NTM0ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9b17733c4e5c7888b30903fed42f178e46534df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f9b17733c4e5c7888b30903fed42f178e46534df",
      "tree": {
        "sha": "5cde1e5b9989e0aa12b77ae8946037458495e5dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5cde1e5b9989e0aa12b77ae8946037458495e5dd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5cde1e5b9989e0aa12b77ae8946037458495e5dd\nparent 16dee3c227d6fa35178d942056a04e94f62103b9\nauthor TheCharlatan <seb.kung@gmail.com> 1710193464 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480788 +0100\n\nkernel: Handle FindBlockPos fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH9UACgkQm3m0VpHb\nQXPhrRAAkpJINh5pY0N9fCyLzrD4Obpgm9hbbXpNK2ZXFMBDoiajW8MUOad4URAY\npA0aMBdgO0X4pm5AHmViH3heYGek5ztnS1HQMV5Sdfiy99OF1QWL7cj51aRVvClh\nb1VcdZarBWJsHvWl48PqZDuNF/Ok5g55n8j0LrvIIf9Kgv3uT8LpgqToVZJZK+OQ\nbVqWWTR8AuWZpdhcIYwShXsKvjNBorAuUv1pKNv+U3jGBt3sHMT+Xb+CmcInY2pr\n6UiD5hiGU7RAADBhBuxPRE+6HBONlcj6J0xfhBo1bJYkLTbvmA7K4RTA46FyRGNv\n0zc1EPj83+BDQcdl9yGMF36owSEu+D4xTK9y0naIWGv2LbQQfE0MFOXSUDMT4sfk\n1Vn6mbHz8BZZlfT3YWkE+lwqmeVoAkOvqc7sZ6j4fM7oVlSZiMowdSbk/r0EPGNc\nOllPflqBICiy/ev/EhwatnIsSetUTh0LmPY/DZk0rU+QYcr3hx6ZGIFQhSG0m6AL\n4bED70mbzAtyFomiY9wLWNoaZllv0ES5t6tGfSWXx4O0YA4TC5mszaKDDc5AwofU\nWleZAUeFcbQgQCule634MJJE320S+efrIMCCP/TO4vAOJABwWnx2h2yzlFKf0Lye\nLSMkwbtlZFrFvXrYRHA8XuwTN5uANo3tEqZbxITT+bldMOKOIlc=\n=Ltw0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/16dee3c227d6fa35178d942056a04e94f62103b9",
          "sha": "16dee3c227d6fa35178d942056a04e94f62103b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/16dee3c227d6fa35178d942056a04e94f62103b9"
        }
      ],
      "message": "kernel: Handle FindBlockPos fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:48Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T21:44:24Z"
      },
      "sha": "f9b17733c4e5c7888b30903fed42f178e46534df"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3Yjc0MzBmOGRhOWRjY2Y0OWQ5YmI0MzE1ZjMzZTFhNWNkMGZlODc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87",
      "tree": {
        "sha": "00eedb017ca0ee021939aedb68d4192b828a10b1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/00eedb017ca0ee021939aedb68d4192b828a10b1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 00eedb017ca0ee021939aedb68d4192b828a10b1\nparent f9b17733c4e5c7888b30903fed42f178e46534df\nauthor TheCharlatan <seb.kung@gmail.com> 1710194400 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480792 +0100\n\nkernel: Handle FlushBlockFile fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nFlushChainstateBlockFile.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH9oACgkQm3m0VpHb\nQXOFlhAAm7hak4DxsX2xWycHGPSVuACGFKboeqdx3mL8cdNVR1wGKMQ+O9fxPxhS\nQs5vIVw9Kcins7MGEjpf8EvjQVA7zKNJNu8LuSf3fH643HN9qNhx9T9CFqqKUs3X\n0txXutPFFH3Qyem5KejSJjLXKZN6fWbKxZdiJpWEnXMl9WYMAfT+7fBM+8iHcymY\nUgHpdKEIg3IcqpV19D1y77R4Hf11MYXBpf4FZ3O0+pAyB8PygkMJcfytTW7bJqWG\nBPyCdf/K+mMSzr+qdbKv4S4GzLMKU5dnU4ctosfYUQZFx/R8bDE1onX5CFZd1O35\nfybKiKO8kef1CZDAlDspuiloeOfawhTxlot+AjrzDwxH30FOUkYoKDUcUekORphP\n6M171Lw0fS0HzFZzXbPxg4pFdVKYZQbezgD3nTIvZ0LfpljFtvKrxLVtipMKpC7P\nT5BF6HPFS9D1uZzOeO+5jUO+SIadxvjEx1bzwSxn03X566cpeM+P4joJdTa00TQV\nTiSFCqBbB3xigACVQ//osSmCTup3+2yhgmXQSalREJFBu0v12J23FQ8T69m2xanE\ndpZ4PnT6A2+coHQ1FJ7hbBO0BHgqzT1Vc2bbIMOgN13ldk30i3R1UY5gghajvka/\n9QnZ0lHFSY+74jLY7BOYePQfSjB8+v38FFb0SfodZlTs7veS4Fw=\n=jqXc\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9b17733c4e5c7888b30903fed42f178e46534df",
          "sha": "f9b17733c4e5c7888b30903fed42f178e46534df",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f9b17733c4e5c7888b30903fed42f178e46534df"
        }
      ],
      "message": "kernel: Handle FlushBlockFile fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nFlushChainstateBlockFile.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:52Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T22:00:00Z"
      },
      "sha": "57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDczOGU4NTA1YzliMGUyMDVmYzFmZmVhZjRlN2U1OGNjM2FiMDk5NDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944",
      "tree": {
        "sha": "555128b14980753bb1b3d8802022e07eb8d7e439",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/555128b14980753bb1b3d8802022e07eb8d7e439"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 555128b14980753bb1b3d8802022e07eb8d7e439\nparent 57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87\nauthor TheCharlatan <seb.kung@gmail.com> 1710238414 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480797 +0100\n\nkernel: Handle WriteUndoDataForBlock fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH94ACgkQm3m0VpHb\nQXN1ihAAit4Zvcg+ZbSAyFxopz2jwJNtkEAOEMOUsEds+C7cIgqJq8ahfXqKuXiU\nyCAiRI44BAo2T7rOyZvTgYvBbnAayhmqoNnoHjDTvGPxZIpp4+n19mqL1xfXkVZW\nfQ7hztTFX8PhtOzlLsJ1omOOPBXZzZSDvPZV0H6ny0Kp0Fmr71cWIgEpB7lDFYBm\n7H0vpA95VbfjmvV54ML9Vh+tDiBc1+kIHQ+xulXjLzosaiTfR9F/kOvG5oI17FSk\nh7qqvM6jybhPwoYBBh/61sJDCXhJiJ4qYWuGby6UTZ2foyye9K4zWEJ6oo3Jt/bw\neqpni3zyDpdmxwsJCTcLJglmYCEiaiJE/PXtKkq0KEepc4VwD7W8egXuATCcOwUW\nZGSv1c6cyb0H6cPHU1Gdj3o2Hq1XoR0h0FWUMNn5ddX7k4zYO0U6TpvcGBnzTZTX\nooVLYTmyfdOVsew7ZK+K4sa/ZeLQrk33g7raaGBnblULul6GYYeSSBgVqtObRX+a\nYt+kuZliqcyDvEPyeTf7fOu42dpOcE+0FTeRICzD8gxIr+P6AAg0tpyxAyWnKOgC\nb35iUBlFQp+TuMDOq4wU433ZKtGXNycmJX9SRCpNiAI3NVvihKvMq13Rrfgu6aW1\nbBu43VtBfg+Uq7X34ESSBD7k+Kt/iE6qjbdUjTSkOXvkXTiA7Ck=\n=G5x+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87",
          "sha": "57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57b7430f8da9dccf49d9bb4315f33e1a5cd0fe87"
        }
      ],
      "message": "kernel: Handle WriteUndoDataForBlock fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:19:57Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-12T10:13:34Z"
      },
      "sha": "738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAyNzNhY2ZkNWE2NGY1MDU2NjU2NDVjNmNmMDY2NTVlNmViZmI5YzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0273acfd5a64f505665645c6cf06655e6ebfb9c2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0273acfd5a64f505665645c6cf06655e6ebfb9c2",
      "tree": {
        "sha": "7618df87d296d6f25169ca0609ac64add8dc0ad3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7618df87d296d6f25169ca0609ac64add8dc0ad3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7618df87d296d6f25169ca0609ac64add8dc0ad3\nparent 738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944\nauthor TheCharlatan <seb.kung@gmail.com> 1687077917 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480802 +0100\n\nkernel: Handle FlushUndoFile fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH+MACgkQm3m0VpHb\nQXNPHQ/9FM2BcKpfsxPVFVXNCZWuDF7In/BKc1V2CStZ9CcLmLS0jApRmmqJ6Htv\nKYFGgCaeLH0GQGh2EbL8HpcYJJbdW3uHMYs1iZ/aVKuNE18jnQI8GTMGZCH3ymnq\nl4Sbf1ryGxt+06dyLGlTSYZm24ul37EsMDddFog2ev/S6sR31+iE8vDnLvGx8TOw\nKpubrbtrYU6hPk6F85PQqxuCM49+d1wl+45i8Nbw8BbQ1dqooi49OUsTGqQ65d0S\nvNf/eqFqPoJ3Whp9SgS9wGoPjZIAJqFrhsVJYohKG+9iHek5SYzIjMCOjenDuPV6\nwZE//LfdgRlGp6hyt1Gf1oAWvuFbBB12shsWvELUq6Mek5JK7KqHFKTeEq2LuLqP\nOOcs2C+NZsP86x3zNXm6FygujUkaYj1WpMb+gylAQo8lDHY8G4/TyZMWem2YGkhX\nujgnLRZF7CCVTINRbWhUzTSaWtYAun8/MEaY4DTaKLlLKAWCZOmJrUVgUnvN98/M\nOxb3s0C3hJ+omYtNBjh9+ReOeqHOl2GDO+edMGo2kVAe6vIxp+Ch4eYIHsISFsgP\nveRNoq1wwwMU8+hG0AuXxILG996d/5NBRox3hwbUkwAo9DMomKwIaY/zKM6zDyta\n4bYUpMLioCA5wkGrr7Jpde8a2FY/XTco/2v1bd54U76X308aSVw=\n=ZQY4\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944",
          "sha": "738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/738e8505c9b0e205fc1ffeaf4e7e58cc3ab09944"
        }
      ],
      "message": "kernel: Handle FlushUndoFile fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:20:02Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-18T08:45:17Z"
      },
      "sha": "0273acfd5a64f505665645c6cf06655e6ebfb9c2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc2ZjE0MjBlMjllNWQyY2ZjYzc3Y2M0ZjQ0ZGViZTZlMmYyMmM3ZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb",
      "tree": {
        "sha": "6b82e7cffbf6956db2a9d8f85c1cdc11a4f0403f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b82e7cffbf6956db2a9d8f85c1cdc11a4f0403f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6b82e7cffbf6956db2a9d8f85c1cdc11a4f0403f\nparent 0273acfd5a64f505665645c6cf06655e6ebfb9c2\nauthor TheCharlatan <seb.kung@gmail.com> 1687079242 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480806 +0100\n\nkernel: Handle FindUndoPos fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH+cACgkQm3m0VpHb\nQXNTqA//eGa8kbwbV6ThziP4KtN38jBiws+dIKItmxCCsQWQitHsEDhprxbvNSN8\nSjSizPYUQUwSaGz7tLvjdGc4xuseFRAVakSYM4EE81w4ki5h5+l9GmbHkC50JuwK\nZPZQ2Y460Z0vMzGZ8gjNqYPP5KSirA+qMBsosJwhe1woVBEuVJVSIsocVYHcBdm2\nLfaCgmciXAz2pxb6itGKpTQsoqPhCmelINuBwAzURW8dGZL1X8XmBPGNBFyHWkjl\nzBnhHvJkM72PCBJHJ4Y3c+TsXhu6RJuYF0UBUqQDSshPxkWwdR9r2IeRyuYSzwMK\nUowRpvmqZxWNep2uO3uNE0FkvmS9LW2+G3s9o+J+kogFKwHnBJvRFFSL3quKZ151\nYSdoS2KCZT357vecMmTITu5l7FyucM3yigcAWh3fWTR60dOlEIASCBX42W9TP9JF\nNYH7K5l8SoPFuiDTnU6le3AqzoRFaYz1/8HYRYNq45brcY4zhUg36z1a2q10KxdX\n8Ez0Zw8yfZt54wNLIbOvCs9YGUszzm2M6dgHJk9DN0fKtkJy/krKSyu39goLuiYK\naZ8iJIgpTDykkG3ZJQxDopFGxSodm1Yi9ZK1NHR5AfCqPcVEmWsOLwTW8P5+gXnA\nkbPcIRofDo0H2/X8O+VkTsCQiY8K83BkVS74i4ZNJK1HD7kn3a8=\n=ltiQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0273acfd5a64f505665645c6cf06655e6ebfb9c2",
          "sha": "0273acfd5a64f505665645c6cf06655e6ebfb9c2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0273acfd5a64f505665645c6cf06655e6ebfb9c2"
        }
      ],
      "message": "kernel: Handle FindUndoPos fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:20:06Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-18T09:07:22Z"
      },
      "sha": "76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUyYzMzNmJiZDYxNTkwM2MxZjMxNmI1MTY1MjFkYTk4Zjg5ZTk5ODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e2c336bbd615903c1f316b516521da98f89e9982",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e2c336bbd615903c1f316b516521da98f89e9982",
      "tree": {
        "sha": "f5243628a9d97547843a0d757746b77a74787647",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f5243628a9d97547843a0d757746b77a74787647"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f5243628a9d97547843a0d757746b77a74787647\nparent 76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb\nauthor TheCharlatan <seb.kung@gmail.com> 1708769159 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480810 +0100\n\nkernel: Handle LoadBlockIndex fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadBlockIndexDB.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH+sACgkQm3m0VpHb\nQXMIsw//THHBCO0X3hM1zhj6ZsdnSO5P3vcLM2z+EM0ikC76XJjkuuaypsaNQlTA\nphVQqNOb3FGUa7uzS1VrMJ0UqxFe3tMWhdypuqVsv7d93zPqMdEIb8kR6I9DKOX1\nehU6Mk9416zNPrLoDDsMASGXa0GqQXMooa2V/z2HPedMUntKhF2/L4dxjCuKT0tT\ne4AYXy3UAwxOh399LZgj6hQW1nibVP6FAFL3EWgv8PTB8ah9N8/AmhcoTpAotXY8\nWTUGnowLwd3jxKCY5VZ79OTUS106WyT3ZqpTgIErEeyWqsKR2Ut1lWh7c7YOUDr9\n4jWiq4WXE9zEzuP7bCmBvqaHPMVQMpO2vTVabvB4CObYEmcY/gV9jqnc2BGWavHE\nUxmX9j14bBlzS62lDT8vne9+Fvr7wlARJL5NiNFxiCMVPNUOq0i1u63Vwsux16iZ\nZhHLN9TpTS07BqUxfHWhDptnLznTB3Digk1i0OWtE7PmxbArM0Fe2guqXtckSM4J\n1MqCet699fqq641FTmw9MpRT0m6KvQKNzzoQG5SCkqdOJBGXyy3F9Vay7co9X6mr\n0Ajlk3cVy00aJPf0WRyEjOKLJAFvNUPMYImpvT6qNuPIBMNaj/Y+gNHRKH4YW29x\nXG7x8pAVdoaRXRuVX9JU+NFOq+SY53pDTMdtjQ6mhMqyzEkiPp4=\n=v/5x\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb",
          "sha": "76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/76f1420e29e5d2cfcc77cc4f44debe6e2f22c7fb"
        }
      ],
      "message": "kernel: Handle LoadBlockIndex fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadBlockIndexDB.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:20:10Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-24T10:05:59Z"
      },
      "sha": "e2c336bbd615903c1f316b516521da98f89e9982"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkMGE5YmI1ZGE2NDQyNWY4NWYwZGVhMDBjMDQzZGNkYmMwNmE5YTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd0a9bb5da64425f85f0dea00c043dcdbc06a9a5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd0a9bb5da64425f85f0dea00c043dcdbc06a9a5",
      "tree": {
        "sha": "b97757742e28b069c0faaca284500035ea51d19f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b97757742e28b069c0faaca284500035ea51d19f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b97757742e28b069c0faaca284500035ea51d19f\nparent e2c336bbd615903c1f316b516521da98f89e9982\nauthor TheCharlatan <seb.kung@gmail.com> 1708769405 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1711480815 +0100\n\nRemove flushError, fatalError from kernel notifications\n\nAlso add using declarations where now possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmYDH/AACgkQm3m0VpHb\nQXOqcRAAoXSgu9BVBDhUSvy6pYhgwmwZBYoj2+9phPpwO1FaKqoKCW3oqtS+G6er\n+obLPP2yNxf0zkH0ifFft/coyEcHFyf8CxB3Uk4rDCQgwr6Ywz0vnjjMQedKaHue\nxa993PzusTaGElPAO+FKnCWyxML5XJTUbwr5UryZmMDlEPDK83H/NfjOOXl0Izkw\nO27kOf/H4KHPbC9FGT4y82X7axQm0jvSMlJNDcEHgDaMTPhsrLhUwv7sdncv44vL\nPMo/l5qp8cCasc3oohQwkNRo+B597QYUumtOgkcwYTvY/3M7HmqsUzJ/ld8M8Pgd\nXtaUkVVxgjtO/bGnWsZsLlBeRv28ZjzvVlPiGI6IbKR8rSO0u/bHOSocU/n4aqXd\nlrcwC3bh4QCEp+Ej91202+h2k26NHn3zQd+5QCgRUQoX+ImVgTIHLQgwjTks1PxL\nUxNIEEYOsnzPhmxxthP3FXRCCOcJBo1LhpYIG+kagwGfdDc3nTTJYu9h9RzO5aeN\no0r2J/cTKTO/HV6D0j0AbksO2jX4pSbhA4RKaAcqizcnKyvOdqpPa0cbMC4DR3mb\nc6dbcu90Gv/sne3vHETQbJJTUjN5/PgCr/YrnGn9nUBktuFSFiXsSloDlN0qxwVg\nwCx+RbevqBhsVpbt/fh+BNVu5/wSjbEIQ8R+eunLPtTakoIH3wg=\n=nh03\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e2c336bbd615903c1f316b516521da98f89e9982",
          "sha": "e2c336bbd615903c1f316b516521da98f89e9982",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e2c336bbd615903c1f316b516521da98f89e9982"
        }
      ],
      "message": "Remove flushError, fatalError from kernel notifications\n\nAlso add using declarations where now possible.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-26T19:20:15Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-24T10:10:05Z"
      },
      "sha": "bd0a9bb5da64425f85f0dea00c043dcdbc06a9a5"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12255439495,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALaeyqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12255439495",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-26T19:20:36Z"
    },
    {
      "event": "unlabeled",
      "id": 12256062728,
      "node_id": "UNLE_lADOABII586CGcByzwAAAALahK0I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12256062728",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-26T20:15:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    }
  ],
  "comments": []
}