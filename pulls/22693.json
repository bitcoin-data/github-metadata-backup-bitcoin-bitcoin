{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
    "id": 711833151,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzExODMzMTUx",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22693",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22693.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22693.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/136bc463fa02263f427b3a75894891ac4d8af39e",
    "number": 22693,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "RPC/Wallet: Add \"use_txids\" to output of getaddressinfo",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Non-GUI part of https://github.com/bitcoin-core/gui/pull/562, but without the bloom stuff)",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2021-08-13T00:19:27Z",
    "updated_at": "2023-07-06T19:10:43Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "77fcbdb515295b0575fe5f998af6ede1155f75d2",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "luke-jr:getaddressinfo_txids",
      "ref": "getaddressinfo_txids",
      "sha": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 2514537,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNTE0NTM3",
        "name": "bitcoin",
        "full_name": "luke-jr/bitcoin",
        "owner": {
          "login": "luke-jr",
          "id": 1095675,
          "node_id": "MDQ6VXNlcjEwOTU2NzU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/luke-jr",
          "html_url": "https://github.com/luke-jr",
          "followers_url": "https://api.github.com/users/luke-jr/followers",
          "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
          "organizations_url": "https://api.github.com/users/luke-jr/orgs",
          "repos_url": "https://api.github.com/users/luke-jr/repos",
          "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/luke-jr/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/luke-jr/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/luke-jr/bitcoin",
        "archive_url": "https://api.github.com/repos/luke-jr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/luke-jr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/luke-jr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/luke-jr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/luke-jr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/luke-jr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/luke-jr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/luke-jr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/luke-jr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/luke-jr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/luke-jr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/luke-jr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/luke-jr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/luke-jr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/luke-jr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/luke-jr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/luke-jr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/luke-jr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/luke-jr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/luke-jr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/luke-jr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/luke-jr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/luke-jr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/luke-jr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/luke-jr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/luke-jr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/luke-jr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/luke-jr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/luke-jr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:luke-jr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/luke-jr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/luke-jr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/luke-jr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/luke-jr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/luke-jr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/luke-jr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/luke-jr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/luke-jr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/luke-jr/bitcoin/hooks",
        "svn_url": "https://github.com/luke-jr/bitcoin",
        "homepage": "",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 20,
        "watchers_count": 20,
        "size": 254451,
        "default_branch": "readme",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-05T23:18:27Z",
        "created_at": "2011-10-04T20:22:23Z",
        "updated_at": "2023-03-18T20:43:12Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "bc4f6b13feb29146b7e10e86f93dc7f6fb6937f2",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35271,
        "stargazers_count": 70257,
        "watchers_count": 70257,
        "size": 235292,
        "default_branch": "master",
        "open_issues_count": 643,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-06T19:28:15Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-07-06T17:35:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 105,
    "deletions": 6,
    "changed_files": 5,
    "commits": 4,
    "review_comments": 60,
    "comments": 18
  },
  "events": [
    {
      "event": "commented",
      "id": 898061806,
      "node_id": "IC_kwDOABII5841h1Xu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898061806",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T00:27:45Z",
      "updated_at": "2021-08-13T00:27:45Z",
      "author_association": "NONE",
      "body": "Concept ACK ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-898061806",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "labeled",
      "id": 5153153882,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUxNTMxNTM4ODI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153153882",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T01:36:41Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 5153153885,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUxNTMxNTM4ODU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153153885",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T01:36:41Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5153411554,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTE1MzQxMTU1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153411554",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T02:46:24Z"
    },
    {
      "event": "renamed",
      "id": 5153421455,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NTE1MzQyMTQ1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153421455",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T02:49:31Z",
      "rename": {
        "from": "RPC/Wallet: Add \"txids\" Array to getaddressinfo result for used addresses",
        "to": "RPC/Wallet: Add \"use_txids\" to output of getaddressinfo"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5153421481,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTE1MzQyMTQ4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153421481",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T02:49:31Z"
    },
    {
      "event": "reviewed",
      "id": 731066665,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzMxMDY2NjY1",
      "url": null,
      "actor": null,
      "commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bre876",
        "id": 80609035,
        "node_id": "MDQ6VXNlcjgwNjA5MDM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/80609035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bre876",
        "html_url": "https://github.com/bre876",
        "followers_url": "https://api.github.com/users/bre876/followers",
        "following_url": "https://api.github.com/users/bre876/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bre876/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bre876/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bre876/subscriptions",
        "organizations_url": "https://api.github.com/users/bre876/orgs",
        "repos_url": "https://api.github.com/users/bre876/repos",
        "events_url": "https://api.github.com/users/bre876/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bre876/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-731066665",
      "submitted_at": "2021-08-16T19:36:48Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 731068091,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzMxMDY4MDkx",
      "url": null,
      "actor": null,
      "commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bre876",
        "id": 80609035,
        "node_id": "MDQ6VXNlcjgwNjA5MDM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/80609035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bre876",
        "html_url": "https://github.com/bre876",
        "followers_url": "https://api.github.com/users/bre876/followers",
        "following_url": "https://api.github.com/users/bre876/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bre876/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bre876/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bre876/subscriptions",
        "organizations_url": "https://api.github.com/users/bre876/orgs",
        "repos_url": "https://api.github.com/users/bre876/repos",
        "events_url": "https://api.github.com/users/bre876/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bre876/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-731068091",
      "submitted_at": "2021-08-16T19:38:42Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 740440956,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQwNDQwOTU2",
      "url": null,
      "actor": null,
      "commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-740440956",
      "submitted_at": "2021-08-27T11:55:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "commented",
      "id": 907148399,
      "node_id": "IC_kwDOABII5842Efxv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907148399",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T11:58:53Z",
      "updated_at": "2021-08-27T11:58:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-907148399",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 916298781,
      "node_id": "IC_kwDOABII5842nZwd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916298781",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-09T17:33:06Z",
      "updated_at": "2023-07-06T19:10:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [ghost](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-898061806), [kristapsk](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-907148399), [theStack](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1002355864), [pk-b2](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1113922449), [jonatack](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1052860003), [fjahr](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1207457719), [ajtowns](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1234173149), [brunoerg](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1272423002) |\n| Stale ACK | [rajarshimaitra](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-835781229), [aureleoules](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1043398864) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27307](https://github.com/bitcoin/bitcoin/pull/27307) (wallet: track mempool conflicts with wallet transactions by ishaanam)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-916298781",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "labeled",
      "id": 5361161219,
      "node_id": "LE_lADOABII5845zh9PzwAAAAE_jNQD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5361161219",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-26T11:35:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 835781229,
      "node_id": "PRR_kwDOABII584x0QJt",
      "url": null,
      "actor": null,
      "commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Strong concept + tACK https://github.com/bitcoin/bitcoin/pull/22693/commits/9fe79260cb7cdde75f4fce90f7615973a9233904\r\n\r\nThis is very useful for downstream wallets trying to sync using bitcoin core rpc (mostly in home servers). This makes transaction history lookup of addresses easy.\r\n\r\nThank you for working on this.\r\n\r\nHope this gets in soon.   ",
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-835781229",
      "submitted_at": "2021-12-18T15:15:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5788493519,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAFZBWbP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5788493519",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-18T21:34:54Z"
    },
    {
      "event": "unlabeled",
      "id": 5788525009,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAFZBeHR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5788525009",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-18T22:25:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 997301052,
      "node_id": "IC_kwDOABII5847cZs8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997301052",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-18T23:50:11Z",
      "updated_at": "2021-12-18T23:50:11Z",
      "author_association": "MEMBER",
      "body": "Rebased",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-997301052",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 1002355864,
      "node_id": "IC_kwDOABII5847vryY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1002355864",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-29T01:44:22Z",
      "updated_at": "2021-12-29T01:44:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1002355864",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "reviewed",
      "id": 841187935,
      "node_id": "PRR_kwDOABII584yI4Jf",
      "url": null,
      "actor": null,
      "commit_id": "c6e5a3b19740aa94c14ea7b46dbfb18d988f3139",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "tACK https://github.com/bitcoin/bitcoin/pull/22693/commits/bfb162d4aaf8c0b17e19219d70d5d8630360a2ab\r\n\r\nThis can be helpful information for privacy. Since it returns two transactions if RBF is used to replace earlier transaction, this adds another interesting information in the results. It is documented in the comments, would be better if present in RPC help as well.\r\n\r\nSteps that I performed to test `use_txids` in `getaddressinfo`:\r\n\r\nCreate new address in Core: \r\n```\r\nbitcoin-cli -rpcwallet=\"\" getnewaddress\r\ntb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\r\n```\r\nCheck result for `getaddressinfo`:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" getaddressinfo tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\r\n{\r\n  \"address\": \"tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\",\r\n  \"scriptPubKey\": \"0014857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"ismine\": true,\r\n  \"solvable\": true,\r\n  \"desc\": \"wpkh([6ba7ec01/0'/0'/40']02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249)#jypvcx7u\",\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"pubkey\": \"02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249\",\r\n  \"ischange\": false,\r\n  \"timestamp\": 1639765317,\r\n  \"hdkeypath\": \"m/0'/0'/40'\",\r\n  \"hdseedid\": \"37bb332a78fc64d32f269a40710ed0d34d0a0ba5\",\r\n  \"hdmasterfingerprint\": \"6ba7ec01\",\r\n  \"labels\": [\r\n    \"\"\r\n  ],\r\n  \"use_txids\": [\r\n  ]\r\n}\r\n```\r\nSend some bitcoin to this address and check result for `getaddressinfo`:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" getaddressinfo tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\r\n{\r\n  \"address\": \"tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\",\r\n  \"scriptPubKey\": \"0014857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"ismine\": true,\r\n  \"solvable\": true,\r\n  \"desc\": \"wpkh([6ba7ec01/0'/0'/40']02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249)#jypvcx7u\",\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"pubkey\": \"02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249\",\r\n  \"ischange\": false,\r\n  \"timestamp\": 1639765317,\r\n  \"hdkeypath\": \"m/0'/0'/40'\",\r\n  \"hdseedid\": \"37bb332a78fc64d32f269a40710ed0d34d0a0ba5\",\r\n  \"hdmasterfingerprint\": \"6ba7ec01\",\r\n  \"labels\": [\r\n    \"\"\r\n  ],\r\n  \"use_txids\": [\r\n    \"feaf134bc878824c5cfb7fc1d7b2a6c802f2482dd7becf8f5cc46a473e3bd4e0\"\r\n  ]\r\n}\r\n```\r\n\r\nReplace the transaction using RBF and confirm if there are two transaction ids in result for `getaddressinfo`:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" getaddressinfo tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\r\n{\r\n  \"address\": \"tb1qs4ajsepmawzgse0v8d83sletcca2kn4nzr9hln\",\r\n  \"scriptPubKey\": \"0014857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"ismine\": true,\r\n  \"solvable\": true,\r\n  \"desc\": \"wpkh([6ba7ec01/0'/0'/40']02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249)#jypvcx7u\",\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"857b28643beb848865ec3b4f187f2bc63aab4eb3\",\r\n  \"pubkey\": \"02f1b431e7cacb981fb24cb28365c6f45b8b7a4f891d3b4dfc1981dd7705b95249\",\r\n  \"ischange\": false,\r\n  \"timestamp\": 1639765317,\r\n  \"hdkeypath\": \"m/0'/0'/40'\",\r\n  \"hdseedid\": \"37bb332a78fc64d32f269a40710ed0d34d0a0ba5\",\r\n  \"hdmasterfingerprint\": \"6ba7ec01\",\r\n  \"labels\": [\r\n    \"\"\r\n  ],\r\n  \"use_txids\": [\r\n    \"b8d96d7683b1ed482c53c2b0b191e91d5db671ee21009fac4d72546bb13fde47\",\r\n    \"feaf134bc878824c5cfb7fc1d7b2a6c802f2482dd7becf8f5cc46a473e3bd4e0\"\r\n  ]\r\n}\r\n```\r\nCreate an address in Electrum, check result for `getaddressinfo` in Core:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" getaddressinfo tb1qsp9g4v04yakgulv7ylz9t8g7m6cj46qff6k023\r\n{\r\n  \"address\": \"tb1qsp9g4v04yakgulv7ylz9t8g7m6cj46qff6k023\",\r\n  \"scriptPubKey\": \"0014804a8ab1f5276c8e7d9e27c4559d1edeb12ae809\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"804a8ab1f5276c8e7d9e27c4559d1edeb12ae809\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n  ]\r\n}\r\n```\r\n\r\nSend some bitcoin to this address from Core:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" sendtoaddress \"tb1qsp9g4v04yakgulv7ylz9t8g7m6cj46qff6k023\" 0.001\r\nf9d09be836ca90951a5ce734598a5eb1fc56d2ed36a7d0c0c47a11dbd4a1e624\r\n```\r\n\r\nCheck result for `getaddressinfo`:\r\n\r\n```\r\nbitcoin-cli -rpcwallet=\"\" getaddressinfo tb1qsp9g4v04yakgulv7ylz9t8g7m6cj46qff6k023\r\n{\r\n  \"address\": \"tb1qsp9g4v04yakgulv7ylz9t8g7m6cj46qff6k023\",\r\n  \"scriptPubKey\": \"0014804a8ab1f5276c8e7d9e27c4559d1edeb12ae809\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"804a8ab1f5276c8e7d9e27c4559d1edeb12ae809\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n    \"f9d09be836ca90951a5ce734598a5eb1fc56d2ed36a7d0c0c47a11dbd4a1e624\"\r\n  ]\r\n}\r\n```",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-841187935",
      "submitted_at": "2021-12-29T05:12:57Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "labeled",
      "id": 5990897111,
      "node_id": "LE_lADOABII5845zh9PzwAAAAFlFdXX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5990897111",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-01T20:02:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6032197273,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAFnjAaZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6032197273",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-09T07:51:52Z"
    },
    {
      "event": "commented",
      "id": 1033451637,
      "node_id": "IC_kwDOABII5849mTh1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033451637",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-09T07:52:23Z",
      "updated_at": "2022-02-09T07:52:23Z",
      "author_association": "MEMBER",
      "body": "Rebased again",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1033451637",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "unlabeled",
      "id": 6032409911,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAFnj0U3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6032409911",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-09T08:29:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 877080814,
      "node_id": "PRR_kwDOABII5840RzDu",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/22693/commits/8719b084754b8346e1cb551843afd3afcd439b71",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-877080814",
      "submitted_at": "2022-02-09T08:30:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "added_to_project",
      "id": 6261448819,
      "node_id": "ATPE_lADOABII5845zh9PzwAAAAF1NiBz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6261448819",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-17T19:07:20Z",
      "project_card": {
        "id": 79293593,
        "url": "https://api.github.com/projects/columns/cards/79293593",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "commented",
      "id": 1113922449,
      "node_id": "IC_kwDOABII585CZRuR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113922449",
      "actor": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-30T05:38:17Z",
      "updated_at": "2022-04-30T05:38:17Z",
      "author_association": "NONE",
      "body": "Concept ACK\r\n\r\ntACK 8719b084754b8346e1cb551843afd3afcd439b71\r\n\r\nGenerated a new address and verified there is no existing tx associated with it\r\n\r\n```\r\nbitcoin-cli getaddressinfo bcrt1qmdr8t0qu4xps0zu47n8206jsxzcpurh53f7de9\r\n{\r\n  \"address\": \"bcrt1qmdr8t0qu4xps0zu47n8206jsxzcpurh53f7de9\",\r\n  \"scriptPubKey\": \"0014db4675bc1ca983078b95f4cea7ea5030b01e0ef4\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"db4675bc1ca983078b95f4cea7ea5030b01e0ef4\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n  ]\r\n}\r\n```\r\n\r\nGenerated a new address and send to address\r\n\r\n```\r\nbitcoin-cli getaddressinfo bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\r\n{\r\n  \"address\": \"bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\",\r\n  \"scriptPubKey\": \"00145445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"5445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n    \"bf446b264f267ab6c0fd9fb8663945b80778cd3967de91acac80e60c7d040328\"\r\n  ]\r\n}\r\n```\r\n\r\nReused address to verify that both txids show up\r\n```\r\nbitcoin-cli getaddressinfo bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\r\n{\r\n  \"address\": \"bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\",\r\n  \"scriptPubKey\": \"00145445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"5445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n    \"cb41ac571ddde6622b0b00d1a39b95bfcf04b8d1f9513371d2918497691d611b\",\r\n    \"bf446b264f267ab6c0fd9fb8663945b80778cd3967de91acac80e60c7d040328\"\r\n  ]\r\n}\r\n```",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1113922449",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "reviewed",
      "id": 958451252,
      "node_id": "PRR_kwDOABII5845IM40",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958451252",
      "submitted_at": "2022-04-30T05:39:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 958451338,
      "node_id": "PRR_kwDOABII5845IM6K",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958451338",
      "submitted_at": "2022-04-30T05:40:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 958451589,
      "node_id": "PRR_kwDOABII5845IM-F",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958451589",
      "submitted_at": "2022-04-30T05:45:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 958452026,
      "node_id": "PRR_kwDOABII5845INE6",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958452026",
      "submitted_at": "2022-04-30T05:53:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 958453003,
      "node_id": "PRR_kwDOABII5845INUL",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958453003",
      "submitted_at": "2022-04-30T06:09:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 958453921,
      "node_id": "PRR_kwDOABII5845INih",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-958453921",
      "submitted_at": "2022-04-30T06:26:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 992262582,
      "node_id": "PRR_kwDOABII5847JLm2",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "About 698658e3:\r\n\r\nNot sure if you have seen it but we are already keeping track of the used destinations in a slightly different way, inside the address book entry `destdata` field, under key called \"used\". (check `CWallet::IsAddressUsed` and `CWallet::SetAddressUsed`).\r\n\r\nI think that would make more sense to expand the flow that we currently have to support this new functionality.\r\n\r\nIt has the nice property of, as the \"used\" field is already stored in db, not needing to introduce the walk through every tx and tx output in the wallet during startup to mark the destinations as used that is inside 698658e3.\r\n\r\nNote: \r\n\r\nHave implemented the mentioned approach here:\r\nhttps://github.com/furszy/bitcoin/commit/8dd0f2821c3f8e2693503b56968242ed951a0a2e and https://github.com/furszy/bitcoin/commit/8b963a0dd9477ba9a002a639f23eac544f801794\r\n\r\nMade them as part of the review process, can add unit and functional test coverage if you like them.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-992262582",
      "submitted_at": "2022-06-01T16:26:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "commented",
      "id": 1143849130,
      "node_id": "IC_kwDOABII585ELcCq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143849130",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-01T16:33:09Z",
      "updated_at": "2022-06-01T16:33:09Z",
      "author_association": "MEMBER",
      "body": ">Not sure if you have seen it but we are already keeping track of the used destinations in a slightly different way, inside the address book entry destdata field, under key called \"used\". (check CWallet::IsAddressUsed and CWallet::SetAddressUsed).\r\n\r\nThat's not the same thing, despite its confusing name.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1143849130",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "reviewed",
      "id": 992396670,
      "node_id": "PRR_kwDOABII5847JsV-",
      "url": null,
      "actor": null,
      "commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/22693/commits/8719b084754b8346e1cb551843afd3afcd439b71\r\n\r\nAddress reuse is bad for privacy. Every address should be treated as invoice valid only for a payment. Hopefully this pull request will decrease address reuse: https://blog.bitmex.com/bitcoin-address-re-use-statistics/",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-992396670",
      "submitted_at": "2022-06-01T17:27:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "commented",
      "id": 1144053060,
      "node_id": "IC_kwDOABII585EMN1E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144053060",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-01T19:33:59Z",
      "updated_at": "2022-06-01T19:33:59Z",
      "author_association": "MEMBER",
      "body": "> > Not sure if you have seen it but we are already keeping track of the used destinations in a slightly different way, inside the address book entry destdata field, under key called \"used\". (check CWallet::IsAddressUsed and CWallet::SetAddressUsed).\r\n> \r\n> That's not the same thing, despite its confusing name.\r\n\r\nHmm, the storage part of the flow seems to be what you have in 698658e3 with a single difference:\r\n\r\n-> Current Flow:\r\n When the wallet receives a transaction, `AddToWallet` loops over the tx inputs and calls `SetSpentKeyState`,  which extracts the destinations and mark the ones owned by the wallet as \"used\" inside the address book entry `destdata` map.\r\n\r\nThen `IsAddressUsed` merely checks if the \"used\" key is on the address book entry `destdata` map. Which denotes that the wallet received funds to that specific destination (so, it's \"used\").\r\n\r\n-> The difference with 698658e3:\r\nIt does not mark the tx outputs destinations as \"used\" (which is what my commit implements).\r\n\r\nAm I missing something?\r\n\r\n------------------------------------------------------\r\n\r\nAside from that, outside of the scope of this PR, I do agree that the \"how this is currently used\" part of the flow is misleading. Mostly because `IsSpentKey`(which receives an outpoint to check if there is a known output that uses the same destination inside the wallet) is called from `AvailableCoins` without much context.\r\nBut.. for that, I have a PR that cleans up the `IsSpentKey` function a bit #25005.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1144053060",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 1144428398,
      "node_id": "IC_kwDOABII585ENpdu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144428398",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-02T04:38:51Z",
      "updated_at": "2022-06-02T04:38:51Z",
      "author_association": "MEMBER",
      "body": ">Am I missing something?\r\n\r\nThe destdata key deals with and is marked by inputs. But when an address is used, it's by an output, not an input.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1144428398",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 1146306419,
      "node_id": "IC_kwDOABII585EUz9z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1146306419",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-03T19:46:49Z",
      "updated_at": "2022-06-06T15:36:57Z",
      "author_association": "MEMBER",
      "body": "> > Am I missing something?\r\n> \r\n> The destdata key deals with and is marked by inputs. But when an address is used, it's by an output, not an input.\r\n\r\nActually, that is what I tried to express in the \"The difference with 698658e3\" paragraph of my previous comment:\r\n\r\n> It does not mark the tx outputs destinations as \"used\" (which is what my commit implements).\r\n\r\nSo I think that, up until there, we are sync then.\r\n\r\nThe \"marked by inputs\" can be described as: \"get the prev-output scriptpubkey, extract the destination and mark it as used\". Which is what currently have. Now for this new feature, we need to add the \"used\" mark for the outputs of the transactions created by the wallet as well.\r\n\r\nSo, my point is to generalize the â€œusedâ€ concept that we already have:\r\nSurely we can agree that the â€œusedâ€ flag (implemented in one way or another) is merely a boolean inside each address book entry that tells us, in an accessible manner, if the destination already appeared on a transaction or not.\r\nDonâ€™t care if the destination got marked as â€œusedâ€ because it appeared on an input (prev-tx-output) or an output of a tx that we created. In other words, shouldnâ€™t care whether the address book entry purpose is â€œreceiveâ€ or â€œsendâ€, at the end we are just looking for a flag that can be used to signal something like â€œhey, this destination was already usedâ€.\r\n\r\nOn top of this single place storage solution, we can know whether the destination is from the wallet or not based on the \"purpose\" field or the `IsMine` result to distinguish where to use the information etc.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1146306419",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "labeled",
      "id": 6852137503,
      "node_id": "LE_lADOABII5845zh9PzwAAAAGYa1If",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6852137503",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-22T01:22:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6914542194,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAGcI4py",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6914542194",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T23:20:56Z"
    },
    {
      "event": "unlabeled",
      "id": 6914877963,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAGcKKoL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6914877963",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-01T01:10:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1026267205,
      "node_id": "PRR_kwDOABII5849K5hF",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/22693/commits/3ee478b9cba305dc87de1ad093ca14a89e58b516\r\n\r\nThis pull request looks easier to review and test still pending since couple of years. Maybe tweeting about it, explaining the positives and requesting to review might help @luke-jr ",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1026267205",
      "submitted_at": "2022-07-01T14:05:12Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1043398864,
      "node_id": "PRR_kwDOABII584-MQDQ",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 3ee478b9cba305dc87de1ad093ca14a89e58b516.\r\n\r\nI understand that `FindScriptPubKeyUsed` takes a callback function that can either have one or two arguments (CWalletTX and the vout index) but I would suggest adding some documentation about this as the C++ syntax is a bit obscure in my opinion.\r\n\r\nI tested the code by generating an address and sending coins to it, the txid correctly appeared in the `getaddressinfo`'s `use_txids` field.\r\n\r\nI also tested loading a wallet with ~14k transactions, it took 6ms on my machine to load the address book.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1043398864",
      "submitted_at": "2022-07-19T13:04:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1048528936,
      "node_id": "PRR_kwDOABII584-f0go",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed and debug built the first commit https://github.com/bitcoin/bitcoin/commit/2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1048528936",
      "submitted_at": "2022-07-23T11:37:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1048649603,
      "node_id": "PRR_kwDOABII584-gR-D",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed/tested 16ad0586fbe6d15673a03f8b91db54fe0419bc08 and https://github.com/bitcoin/bitcoin/commit/94b20a9f9e81e5b0ef45a0259b81be83b602c325\r\n\r\nWould naming the RPC field `used_txids` be clearer than `use_txids`? (if I'm not confused)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1048649603",
      "submitted_at": "2022-07-24T15:56:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1052860003,
      "node_id": "PRR_kwDOABII584-wV5j",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light review of 3ee478b9cba305dc87de1ad093ca14a89e58b516\r\n\r\nGeneral overall approach ACK modulo review feedback",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1052860003",
      "submitted_at": "2022-07-27T17:28:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "labeled",
      "id": 7138491358,
      "node_id": "LE_lADOABII5845zh9PzwAAAAGpfLve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7138491358",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-05T20:14:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1207457719,
      "node_id": "IC_kwDOABII585H-Fe3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207457719",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-07T18:04:09Z",
      "updated_at": "2022-08-07T18:04:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, will wait for rebase and addressing of previous comments before going into a deeper review",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1207457719",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 1255439370,
      "node_id": "IC_kwDOABII585K1HwK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255439370",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-22T19:09:22Z",
      "updated_at": "2022-09-22T19:09:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needs rebase/update.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1255439370",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "reviewed",
      "id": 1122559894,
      "node_id": "PRR_kwDOABII585C6OeW",
      "url": null,
      "actor": null,
      "commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed 3ee478b9cba305dc87de1ad093ca14a89e58b516 and I think this seems useful and could be a good approach with a little bit of cleanup. I think the only bad part of this approach is that it adds new addresses to the address book requiring the last commit \"Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\" (3ee478b9cba305dc87de1ad093ca14a89e58b516) which seems fragile and messy. It would be better to not change what addresses are in the address book if possible, or maybe do something like modify `ForEachAddrBook` / `ListAddrBook` functions so existing code isn't affected and doesn't need a `do_init_used_flag` switch.\r\n\r\nWould also be good to update the PR description to motivate this, maybe taking relevant parts from #15987 discussion.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1122559894",
      "submitted_at": "2022-09-28T18:22:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7785978867,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAHQFJvz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7785978867",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-10T18:25:43Z"
    },
    {
      "event": "commented",
      "id": 1310729214,
      "node_id": "IC_kwDOABII585OICP-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310729214",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-10T18:28:21Z",
      "updated_at": "2022-11-10T18:28:21Z",
      "author_association": "MEMBER",
      "body": "Rebased & addressed review\r\n\r\n>Would naming the RPC field used_txids be clearer than use_txids? (if I'm not confused)\r\n\r\nNo, the txids aren't used. The address is used, in those txid(s).",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1310729214",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7786443411,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAHQG7KT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7786443411",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-10T19:33:37Z"
    },
    {
      "event": "unlabeled",
      "id": 7786579447,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAHQHcX3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7786579447",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-10T19:50:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1234173149,
      "node_id": "PRR_kwDOABII585Jj_zd",
      "url": null,
      "actor": null,
      "commit_id": "c4f88f4145386fb8014433164a68b272b6255270",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK -- I'm not familiar enough with the wallet to do more than that.\r\n\r\nI'm not really clear on what the use for this is. It seems much more limited than #15987 -- if I understand correctly, this PR only makes it easier to tell if you're reusing one of your own wallet addresses for receiving, it doesn't tell you if you're reusing an address you've already used to send to someone else. That seems like it might be useful if you've got multiple applications sharing your wallet (doing both lightning and coinjoin maybe?), but otherwise not very interesting?\r\n\r\nIf you setup a watchonly wallet for someone else -- if they gave you their xpub eg -- it could also help you avoid reusing addresses when paying them, however.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1234173149",
      "submitted_at": "2023-01-03T07:56:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1246558912,
      "node_id": "PRR_kwDOABII585KTPrA",
      "url": null,
      "actor": null,
      "commit_id": "c4f88f4145386fb8014433164a68b272b6255270",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I'm not a fan of the hack in the last commit (c4f88f4145386fb8014433164a68b272b6255270), it seems really fragile and ugly to have this parameter have to be passed all the way through the `LoadWallet` call stack. Related to that, I'm not sure that adding an (in memory) address book entry for every single output address in all of our transactions is a good idea. It will result in users seeing a ton of address book entries that weren't there before that are all marked \"unknown\". This could be extremely confusing.\r\n\r\nAlthough it would increase the memory footprint a bit, I think we could resolve both of these issues by having a separate field in the wallet that tracks which addresses have received coins the past. This way we won't pollute the address book. Additionally, it could store `CScript`s rather than `CTxDestinations` which allows us to avoid reusing things that don't have an address, such as P2PK outputs, data carrier outputs, and non-standard scripts.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1246558912",
      "submitted_at": "2023-01-12T22:10:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "reviewed",
      "id": 1272423002,
      "node_id": "PRR_kwDOABII585L16Ja",
      "url": null,
      "actor": null,
      "commit_id": "c4f88f4145386fb8014433164a68b272b6255270",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1272423002",
      "submitted_at": "2023-01-27T10:18:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
    },
    {
      "event": "commented",
      "id": 1407024268,
      "node_id": "IC_kwDOABII585T3XyM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1407024268",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-27T20:09:30Z",
      "updated_at": "2023-01-27T20:09:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "@luke-jr do you want to have the \"use_txids\" for all addresses throughout the whole blockchain or only for a subset of them?\r\n\r\n",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1407024268",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "mentioned",
      "id": 8376753888,
      "node_id": "MEE_lADOABII5845zh9PzwAAAAHzSx7g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8376753888",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-27T20:09:31Z"
    },
    {
      "event": "subscribed",
      "id": 8376753907,
      "node_id": "SE_lADOABII5845zh9PzwAAAAHzSx7z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8376753907",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-27T20:09:31Z"
    },
    {
      "event": "labeled",
      "id": 8412034975,
      "node_id": "LE_lADOABII5845zh9PzwAAAAH1ZXef",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8412034975",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T16:04:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 8625300458,
      "node_id": "CTDE_lADOABII5845zh9PzwAAAAICG6Pq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8625300458",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-28T10:34:53Z"
    },
    {
      "event": "commented",
      "id": 1447943334,
      "node_id": "IC_kwDOABII585WTdym",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1447943334",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-28T10:35:02Z",
      "updated_at": "2023-02-28T10:35:02Z",
      "author_association": "MEMBER",
      "body": "Drafted for now. Feedback/comments needs addressing, needs rebase, PR description needs updating to mention the new related PR (#15987 is closed).",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1447943334",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "commented",
      "id": 1566876405,
      "node_id": "IC_kwDOABII585dZKL1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1566876405",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T09:55:17Z",
      "updated_at": "2023-05-29T09:55:17Z",
      "author_association": "MEMBER",
      "body": "Can be reopened if/when work is continued.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1566876405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "closed",
      "id": 9367517525,
      "node_id": "CE_lADOABII5845zh9PzwAAAAIuWPlV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9367517525",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T09:55:18Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2MDA2MDdkY2NhN2VkNjlmYzY0OWVjODNjMjMzNzU3OTlkOTRjNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4600607dcca7ed69fc649ec83c23375799d94c72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4600607dcca7ed69fc649ec83c23375799d94c72",
      "tree": {
        "sha": "bb77ef25d4336a5adb34aa1f69da2745e89c3dec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb77ef25d4336a5adb34aa1f69da2745e89c3dec"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbbf89a9de0757c44880495244f90967f7147c0d",
          "sha": "bbbf89a9de0757c44880495244f90967f7147c0d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bbbf89a9de0757c44880495244f90967f7147c0d"
        }
      ],
      "message": "Wallet: Keep track of what addresses are used in wallet transactions (memory only)",
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2023-07-05T22:55:14Z"
      },
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2021-08-12T20:31:35Z"
      },
      "sha": "4600607dcca7ed69fc649ec83c23375799d94c72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0NmRmYTRkMmQwOWQ2NjYzNDc3NmUxZjdkMDkzMDI1ZTY1YjU1NDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/446dfa4d2d09d66634776e1f7d093025e65b5546",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/446dfa4d2d09d66634776e1f7d093025e65b5546",
      "tree": {
        "sha": "e09ceb68739ad8473d101253279f0bedf7fc7a1f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e09ceb68739ad8473d101253279f0bedf7fc7a1f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4600607dcca7ed69fc649ec83c23375799d94c72",
          "sha": "4600607dcca7ed69fc649ec83c23375799d94c72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4600607dcca7ed69fc649ec83c23375799d94c72"
        }
      ],
      "message": "Wallet: Add fairly-efficient [negative] check that an address is not known to be used",
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2023-07-05T23:08:07Z"
      },
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2021-08-12T20:52:10Z"
      },
      "sha": "446dfa4d2d09d66634776e1f7d093025e65b5546"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdjY2U3OWRmMDZlNDc0YjBjOTJkZWI5YmU3NmUyNmQ2MWJmZGEzOGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cce79df06e474b0c92deb9be76e26d61bfda38b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7cce79df06e474b0c92deb9be76e26d61bfda38b",
      "tree": {
        "sha": "b9e3f1332b4a74720cdcfbadf702ce4cd9f3cde8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b9e3f1332b4a74720cdcfbadf702ce4cd9f3cde8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/446dfa4d2d09d66634776e1f7d093025e65b5546",
          "sha": "446dfa4d2d09d66634776e1f7d093025e65b5546",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/446dfa4d2d09d66634776e1f7d093025e65b5546"
        }
      ],
      "message": "RPC/Wallet: Add \"use_txids\" to output of getaddressinfo",
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2023-07-05T23:08:07Z"
      },
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2019-05-05T04:10:54Z"
      },
      "sha": "7cce79df06e474b0c92deb9be76e26d61bfda38b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEzNmJjNDYzZmEwMjI2M2Y0MjdiM2E3NTg5NDg5MWFjNGQ4YWYzOWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/136bc463fa02263f427b3a75894891ac4d8af39e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/136bc463fa02263f427b3a75894891ac4d8af39e",
      "tree": {
        "sha": "da79bcf8576881d69d971bf9625b34a18c4289e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/da79bcf8576881d69d971bf9625b34a18c4289e7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cce79df06e474b0c92deb9be76e26d61bfda38b",
          "sha": "7cce79df06e474b0c92deb9be76e26d61bfda38b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7cce79df06e474b0c92deb9be76e26d61bfda38b"
        }
      ],
      "message": "Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\n\nInitialising \"used\" would otherwise incorrectly inflate the address book count beyond what was actually in the file",
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2023-07-05T23:08:07Z"
      },
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2021-10-19T03:34:09Z"
      },
      "sha": "136bc463fa02263f427b3a75894891ac4d8af39e"
    },
    {
      "event": "reopened",
      "id": 9737440471,
      "node_id": "REE_lADOABII5845zh9PzwAAAAJEZYzX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9737440471",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T23:13:32Z"
    },
    {
      "event": "commented",
      "id": 1622665055,
      "node_id": "IC_kwDOABII585gt-df",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1622665055",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T23:18:33Z",
      "updated_at": "2023-07-05T23:18:33Z",
      "author_association": "MEMBER",
      "body": "Rebased.\r\n\r\n>if I understand correctly, this PR only makes it easier to tell if you're reusing one of your own wallet addresses for receiving, it doesn't tell you if you're reusing an address you've already used to send to someone else.\r\n \r\n> do you want to have the \"use_txids\" for all addresses throughout the whole blockchain or only for a subset of them?\r\n\r\nAs documented, it only keeps track of addresses used in wallet transactions (whether we are the sender or receiver).\r\n",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1622665055",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9737463612,
      "node_id": "HRFPE_lADOABII5845zh9PzwAAAAJEZec8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9737463612",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T23:18:34Z"
    },
    {
      "event": "ready_for_review",
      "id": 9737467854,
      "node_id": "RFRE_lADOABII5845zh9PzwAAAAJEZffO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9737467854",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T23:19:30Z"
    },
    {
      "event": "labeled",
      "id": 9737975324,
      "node_id": "LE_lADOABII5845zh9PzwAAAAJEbbYc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9737975324",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-06T00:54:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9737989063,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAJEbevH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9737989063",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-06T00:58:11Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9745678095,
      "node_id": "UNLE_lADOABII5845zh9PzwAAAAJE4z8P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9745678095",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-06T16:12:56Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697381362",
      "pull_request_review_id": 740440956,
      "id": 697381362,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NzM4MTM2Mg==",
      "diff_hunk": "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "in_reply_to_id": null,
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit - return type of `vector::size()` is `vector::size_type` which is `size_t` not `uint32_t`.",
      "created_at": "2021-08-27T11:55:18Z",
      "updated_at": "2021-08-27T11:55:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r697381362",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697381362"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862305743",
      "pull_request_review_id": 958451252,
      "id": 862305743,
      "node_id": "PRRC_kwDOABII584zZb3P",
      "diff_hunk": "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Are there any guidelines when a response attribute should be optional vs always present?",
      "created_at": "2022-04-30T05:39:18Z",
      "updated_at": "2022-04-30T05:39:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862305743",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862305743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 538,
      "original_line": 538,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862306508",
      "pull_request_review_id": 958451338,
      "id": 862306508,
      "node_id": "PRRC_kwDOABII584zZcDM",
      "diff_hunk": "@@ -656,6 +657,59 @@ void CWallet::AddToSpends(const uint256& wtxid, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtxid, batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Seems Initialize* with a Z is used across the code base",
      "created_at": "2022-04-30T05:40:56Z",
      "updated_at": "2022-04-30T05:40:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862306508",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862306508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 685,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862307522",
      "pull_request_review_id": 958451589,
      "id": 862307522,
      "node_id": "PRRC_kwDOABII584zZcTC",
      "diff_hunk": "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "path": "src/wallet/wallet.h",
      "position": 45,
      "original_position": 40,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does it make sense to keep the naming of this enum more generic to cover the initialization of the entire address book than just the used attribute?\r\n\r\ne.g. `enum class AddressBook { Initialize, Skip_Initialization }`",
      "created_at": "2022-04-30T05:45:25Z",
      "updated_at": "2022-04-30T05:45:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862307522",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862307522"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 747,
      "original_line": 747,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862308005",
      "pull_request_review_id": 958452026,
      "id": 862308005,
      "node_id": "PRRC_kwDOABII584zZcal",
      "diff_hunk": "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Looking at other RPCs I tried to find a similar naming convention for txids.\r\n\r\nI found `listreceivedbyaddress` which uses an array called `txids` and `getblock`  that uses `tx` to return transaction ids in their responses.\r\n\r\nNot really consistent, but I was wondering if it would make sense to follow the `listreceivedbyaddress` response here and call the attribute `txids` as well instead of `use_txids`?",
      "created_at": "2022-04-30T05:53:06Z",
      "updated_at": "2022-04-30T05:53:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862308005",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862308005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 538,
      "original_line": 538,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862309374",
      "pull_request_review_id": 958453003,
      "id": 862309374,
      "node_id": "PRRC_kwDOABII584zZcv-",
      "diff_hunk": "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };\n+    DBErrors LoadWallet(const do_init_used_flag do_init_used_flag_val = do_init_used_flag::Init);",
      "path": "src/wallet/wallet.h",
      "position": 46,
      "original_position": 41,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I haven't done any measurements with a large historical wallet, but is it a performance concern when we immediately initialize the address book on wallet creation?\r\n\r\nIs it worth considering to lazy-initialize the address book on first use of `FindScriptPubKeyUsed`?",
      "created_at": "2022-04-30T06:09:58Z",
      "updated_at": "2022-04-30T06:09:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862309374",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862309374"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 748,
      "original_line": 748,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862310844",
      "pull_request_review_id": 958453921,
      "id": 862310844,
      "node_id": "PRRC_kwDOABII584zZdG8",
      "diff_hunk": "@@ -463,6 +468,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     bool UnlockAllCoins() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void ListLockedCoins(std::vector<COutPoint>& vOutpts) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    bool FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback = std::monostate()) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "path": "src/wallet/wallet.h",
      "position": 35,
      "original_position": 30,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": null,
      "user": {
        "login": "pk-b2",
        "id": 91447896,
        "node_id": "MDQ6VXNlcjkxNDQ3ODk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/91447896?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pk-b2",
        "html_url": "https://github.com/pk-b2",
        "followers_url": "https://api.github.com/users/pk-b2/followers",
        "following_url": "https://api.github.com/users/pk-b2/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pk-b2/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pk-b2/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pk-b2/subscriptions",
        "organizations_url": "https://api.github.com/users/pk-b2/orgs",
        "repos_url": "https://api.github.com/users/pk-b2/repos",
        "events_url": "https://api.github.com/users/pk-b2/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pk-b2/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would something like `FindTransactions` fit better here?",
      "created_at": "2022-04-30T06:26:38Z",
      "updated_at": "2022-04-30T06:26:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862310844",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862310844"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 506,
      "original_line": 506,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928112850",
      "pull_request_review_id": 1048528936,
      "id": 928112850,
      "node_id": "PRRC_kwDOABII5843UeDS",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d can avoid a temporary in this loop and document with named arg instead\r\n\r\n```diff\r\n void CWallet::InitialiseAddressBookUsed()\r\n {\r\n     for (const auto& entry : mapWallet) {\r\n-        const CWalletTx& wtx = entry.second;\r\n-        UpdateAddressBookUsed(wtx);\r\n+        UpdateAddressBookUsed(/*wtx=*/entry.second);\r\n     }\r\n }\r\n```\r\n",
      "created_at": "2022-07-23T11:30:35Z",
      "updated_at": "2022-07-23T11:37:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928112850",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928112850"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113274",
      "pull_request_review_id": 1048528936,
      "id": 928113274,
      "node_id": "PRRC_kwDOABII5843UeJ6",
      "diff_hunk": "@@ -2180,7 +2235,12 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n-    return nLoadWalletRet;\n+    if (nLoadWalletRet != DBErrors::LOAD_OK)\n+        return nLoadWalletRet;",
      "path": "src/wallet/wallet.cpp",
      "position": 92,
      "original_position": 91,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d  If an `if` only has a single-statement `then`-clause, it can appear on the same line as the `if`, without braces. In every other case, per our developer notes braces are required (due to CVE-2014-1266, the Apple \"goto fail\" vulnerability).\r\n\r\n```diff\r\n-    if (nLoadWalletRet != DBErrors::LOAD_OK)\r\n+    if (nLoadWalletRet != DBErrors::LOAD_OK) {\r\n         return nLoadWalletRet;\r\n+    }\r\n```\r\n",
      "created_at": "2022-07-23T11:35:31Z",
      "updated_at": "2022-07-23T11:37:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113274",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113274"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2419,
      "original_line": 2419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113358",
      "pull_request_review_id": 1048528936,
      "id": 928113358,
      "node_id": "PRRC_kwDOABII5843UeLO",
      "diff_hunk": "@@ -264,6 +266,9 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     void AddToSpends(const COutPoint& outpoint, const uint256& wtxid, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void AddToSpends(const CWalletTx& wtx, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    void UpdateAddressBookUsed(const CWalletTx&) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void InitialiseAddressBookUsed() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "path": "src/wallet/wallet.h",
      "position": 25,
      "original_position": 21,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/commit/2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d suggest ordering these two methods here and in the cpp file with initialize first, then update.",
      "created_at": "2022-07-23T11:36:42Z",
      "updated_at": "2022-07-23T11:37:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 314,
      "original_line": 314,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928265541",
      "pull_request_review_id": 1048649603,
      "id": 928265541,
      "node_id": "PRRC_kwDOABII5843VDVF",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{",
      "path": "src/wallet/wallet.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "16ad0586 Missing run-time lock assertion here.\r\n```diff\r\n bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\r\n {\r\n+    AssertLockHeld(cs_wallet);\r\n     bool found_any = false;\r\n```",
      "created_at": "2022-07-24T14:20:43Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928265541",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928265541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 768,
      "original_line": 768,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928266481",
      "pull_request_review_id": 1048649603,
      "id": 928266481,
      "node_id": "PRRC_kwDOABII5843VDjx",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;",
      "path": "src/wallet/wallet.cpp",
      "position": 43,
      "original_position": 42,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "16ad0586 Maybe replace the `found_any` localvar and the loops with lambda closures / `std::any_of`.",
      "created_at": "2022-07-24T14:26:48Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928266481",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928266481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 781,
      "original_line": 781,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928267306",
      "pull_request_review_id": 1048649603,
      "id": 928267306,
      "node_id": "PRRC_kwDOABII5843VDwq",
      "diff_hunk": "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "in_reply_to_id": 697381362,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I think using `uint32_t` instead of `size_t` here is adding a type conversion to the lookup of ` const auto& output = wtx.tx->vout[i];` invoked on every loop iteration. Not sure if any compilers mind a size_t being passed into `std::get<std::function<void(const CWalletTx&, uint32_t)>>(callback)(wtx, i);` at the end of the loop but in the worst case could cast it to uint32 in that call if needed.\r\n\r\n```suggestion\r\n        for (size_t i = 0; i < wtx.tx->vout.size(); ++i) {\r\n```\r\n",
      "created_at": "2022-07-24T14:32:34Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928267306",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928267306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928270626",
      "pull_request_review_id": 1048649603,
      "id": 928270626,
      "node_id": "PRRC_kwDOABII5843VEki",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {\n+            const auto& output = wtx.tx->vout[i];\n+            if (keys.count(output.scriptPubKey)) {\n+                found_any = true;\n+                const auto callback_type = callback.index();\n+                if (callback_type == 1) {",
      "path": "src/wallet/wallet.cpp",
      "position": 54,
      "original_position": 53,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "16ad0586fbe6d15673a03f8b91db54fe0419bc08 Two unnecessary temporaries/moves can be avoided in this loop.\r\n\r\n```diff\r\n-            const auto& output = wtx.tx->vout[i];\r\n-            if (keys.count(output.scriptPubKey)) {\r\n+            if (keys.count(wtx.tx->vout[i].scriptPubKey)) {\r\n                 found_any = true;\r\n-                const auto callback_type = callback.index();\r\n-                if (callback_type == 1) {\r\n+                if (callback.index() == 1) {\r\n```\r\n",
      "created_at": "2022-07-24T14:56:20Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928270626",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928270626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 792,
      "original_line": 792,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928273686",
      "pull_request_review_id": 1048649603,
      "id": 928273686,
      "node_id": "PRRC_kwDOABII5843VFUW",
      "diff_hunk": "@@ -632,6 +636,15 @@ RPCHelpMan getaddressinfo()\n     }\n     ret.pushKV(\"labels\", std::move(labels));\n \n+    // NOTE: Intentionally not special-casing a single txid: while addresses\n+    // should never be reused, it's not unexpected to have RBF result in\n+    // multiple txids for a single use.\n+    UniValue use_txids(UniValue::VARR);\n+    pwallet->FindScriptPubKeyUsed(std::set<CScript>{scriptPubKey}, [&use_txids](const CWalletTx&wtx) {",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "94b20a9\r\n```suggestion\r\n    pwallet->FindScriptPubKeyUsed(std::set<CScript>{scriptPubKey}, [&use_txids](const CWalletTx& wtx) {\r\n```",
      "created_at": "2022-07-24T15:18:53Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928273686",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928273686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 637,
      "original_line": 637,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928276132",
      "pull_request_review_id": 1048649603,
      "id": 928276132,
      "node_id": "PRRC_kwDOABII5843VF6k",
      "diff_hunk": "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "94b20a9f9e81e5b0ef45a0259b81be83b602c325\r\n\r\n- `s/which/that/` (\"which\" would require a comma-space preceding it) \r\n- maybe add \"have already\" and `s/the/this/` \r\n\r\n```suggestion\r\n                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet that have already received with this address\"},\r\n```",
      "created_at": "2022-07-24T15:37:32Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928276132",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928276132"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 540,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928278427",
      "pull_request_review_id": 1048649603,
      "id": 928278427,
      "node_id": "PRRC_kwDOABII5843VGeb",
      "diff_hunk": "@@ -642,6 +642,12 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'txids' field",
      "path": "test/functional/wallet_basic.py",
      "position": null,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "94b20a9f9e81e5b0ef45a0259b81be83b602c325\r\n\r\n```suggestion\r\n        # Test getaddressinfo 'use_txids' field\r\n```\r\n\r\n-----\r\n\r\nCould test with multiple txids\r\n```diff\r\n-        # Test getaddressinfo 'txids' field\r\n-        txid = self.nodes[0].sendtoaddress(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\", 1)\r\n-        address_info = self.nodes[0].getaddressinfo(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n-        assert_equal(address_info['use_txids'], [txid])\r\n+        # Test getaddressinfo 'use_txids' field\r\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n+        txid_1 = self.nodes[0].sendtoaddress(addr, 1)\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['use_txids'], [txid_1])\r\n+        txid_2 = self.nodes[0].sendtoaddress(addr, 1)\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['use_txids'], [txid_1, txid_2])\r\n```\r\n",
      "created_at": "2022-07-24T15:55:36Z",
      "updated_at": "2022-07-24T15:56:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928278427",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928278427"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 647,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931310730",
      "pull_request_review_id": 1052860003,
      "id": 931310730,
      "node_id": "PRRC_kwDOABII5843gqyK",
      "diff_hunk": "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "path": "src/wallet/wallet.h",
      "position": 45,
      "original_position": 40,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": 862307522,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "3ee478b9cba305dc87de1ad093ca14a89e58b516 it looks like this codebase uses PascalCase for enum classes, and doing so would also make the code more readable, for example easier to distinguish the PascalCase type from the snake_cased param name in function definitions",
      "created_at": "2022-07-27T17:13:27Z",
      "updated_at": "2022-07-27T17:28:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931310730",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931310730"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 747,
      "original_line": 747,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931319358",
      "pull_request_review_id": 1052860003,
      "id": 931319358,
      "node_id": "PRRC_kwDOABII5843gs4-",
      "diff_hunk": "@@ -168,7 +168,8 @@ bool ExecuteWalletToolFunc(const ArgsManager& args, const std::string& command)\n         DatabaseOptions options;\n         ReadDatabaseArgs(args, options);\n         options.require_existing = true;\n-        const std::shared_ptr<CWallet> wallet_instance = MakeWallet(name, path, args, options);\n+        // NOTE: We need to skip initialisation of the m_used flag, or else the address book count might be wrong",
      "path": "src/wallet/wallettool.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "3ee478b9cba305dc87de1ad093ca14a89e58b516 a test demonstrating the bug would be nice ",
      "created_at": "2022-07-27T17:23:22Z",
      "updated_at": "2022-07-27T17:28:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931319358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931319358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 171,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931322373",
      "pull_request_review_id": 1052860003,
      "id": 931322373,
      "node_id": "PRRC_kwDOABII5843gtoF",
      "diff_hunk": "@@ -47,7 +47,7 @@ static void WalletCreate(CWallet* wallet_instance, uint64_t wallet_creation_flag\n     wallet_instance->TopUpKeyPool();\n }\n \n-static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options)\n+static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options, CWallet::do_init_used_flag do_init_used_flag_val = CWallet::do_init_used_flag::Init)",
      "path": "src/wallet/wallettool.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "3ee478b9cba305dc87de1ad093ca14a89e58b516 it may be more maintainable and explicit to pass the value rather than use a default (there aren't too many callers)",
      "created_at": "2022-07-27T17:26:53Z",
      "updated_at": "2022-07-29T11:57:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931322373",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931322373"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981629071",
      "pull_request_review_id": 1122559894,
      "id": 981629071,
      "node_id": "PRRC_kwDOABII5846gniP",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Wallet: Keep track of what addresses are used in wallet transactions (memory only)\" (2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d)\r\n\r\nThe other class members aren't documented very well, but it would be good to at least document this new member. Maybe `//! Whether address is the destination of any wallet transation. Unlike other fields in address data struct, the used value is determined at runtime and not serialized as part of address data.`?\r\n\r\nIt might also be good to rename this field since there is already an existing `\"used\"` field associated with wallet addresses, stored in the `StringMap destdata` `\"used\"` key. (At one point I actually had a PR that [converted the destdata \"used\" key into a bool m_used field](https://github.com/bitcoin/bitcoin/pull/18608/commits/7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e#diff-9ce137cd784ea308778842120aa2af6d2bb8369485b71f25e72b2a32cf0a5b21) which I could reopen if it helps make the data representation clearer.)",
      "created_at": "2022-09-27T19:22:06Z",
      "updated_at": "2022-09-28T18:22:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981629071",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981629071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981649044",
      "pull_request_review_id": 1122559894,
      "id": 981649044,
      "node_id": "PRRC_kwDOABII5846gsaU",
      "diff_hunk": "@@ -689,6 +690,42 @@ void CWallet::InitialiseAddressBookUsed()\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "path": "src/wallet/wallet.cpp",
      "position": 29,
      "original_position": 12,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "16ad0586fbe6d15673a03f8b91db54fe0419bc08",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Wallet: Add fairly-efficient [negative] check that an address is not known to be used\" (16ad0586fbe6d15673a03f8b91db54fe0419bc08)\r\n\r\nI understand this code may need to get more complicated in a future PR, but in this PR I think it would be better to replace\r\n\r\n```c++\r\nstd::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>\r\n```\r\n\r\nwith a simpler:\r\n\r\n```c++\r\nstd::function<void(const CWalletTx&)>\r\n```\r\n\r\nIt would make this PR easier to review and understand, and make test coverage better by not adding untested code. And `std::function` is nullable, so the monostate case could just correspond to the null case.\r\n",
      "created_at": "2022-09-27T19:47:33Z",
      "updated_at": "2022-09-28T18:22:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981649044",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981649044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 767,
      "original_line": 767,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982705832",
      "pull_request_review_id": 1122559894,
      "id": 982705832,
      "node_id": "PRRC_kwDOABII5846kuao",
      "diff_hunk": "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "path": "src/wallet/wallet.cpp",
      "position": 25,
      "original_position": 9,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\" (3ee478b9cba305dc87de1ad093ca14a89e58b516)\r\n\r\nIIUC this line causes a problem which is then \"fixed\" by the last commit in this PR \"Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\" (3ee478b9cba305dc87de1ad093ca14a89e58b516). The problem is that it inserts new addresses into the address book which did not previously exist.\r\n\r\nBut I wonder if it would work to replace this with:\r\n\r\n```c++\r\nauto found = m_address_book.find(dest);\r\nif (found != m_address_book.end()) found->m_used = true;\r\n```",
      "created_at": "2022-09-28T17:54:03Z",
      "updated_at": "2022-09-28T18:22:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r982705832",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982705832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 763,
      "original_line": 763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019448467",
      "pull_request_review_id": 1176247851,
      "id": 1019448467,
      "node_id": "PRRC_kwDOABII5848w4yT",
      "diff_hunk": "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "path": "src/wallet/wallet.cpp",
      "position": 25,
      "original_position": 9,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 982705832,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No? It needs to set m_used regardless of whether it's already in the addressbook or not...",
      "created_at": "2022-11-10T17:53:03Z",
      "updated_at": "2022-11-10T17:53:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019448467",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019448467"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 763,
      "original_line": 763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019451727",
      "pull_request_review_id": 1176252554,
      "id": 1019451727,
      "node_id": "PRRC_kwDOABII5848w5lP",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928112850,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't see any benefit to this. It just makes the code less readable?",
      "created_at": "2022-11-10T17:56:23Z",
      "updated_at": "2022-11-10T17:56:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019451727",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019451727"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019459684",
      "pull_request_review_id": 1176264581,
      "id": 1019459684,
      "node_id": "PRRC_kwDOABII5848w7hk",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;",
      "path": "src/wallet/wallet.cpp",
      "position": 43,
      "original_position": 42,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928266481,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure what you have in mind here, but this seems fine as-is.",
      "created_at": "2022-11-10T18:05:13Z",
      "updated_at": "2022-11-10T18:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019459684",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019459684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 781,
      "original_line": 781,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019462601",
      "pull_request_review_id": 1176268919,
      "id": 1019462601,
      "node_id": "PRRC_kwDOABII5848w8PJ",
      "diff_hunk": "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928276132,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the current string is better. Not sure why it would require a comma.",
      "created_at": "2022-11-10T18:08:38Z",
      "updated_at": "2022-11-10T18:08:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019462601",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019462601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 540,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019465089",
      "pull_request_review_id": 1176272542,
      "id": 1019465089,
      "node_id": "PRRC_kwDOABII5848w82B",
      "diff_hunk": "@@ -47,7 +47,7 @@ static void WalletCreate(CWallet* wallet_instance, uint64_t wallet_creation_flag\n     wallet_instance->TopUpKeyPool();\n }\n \n-static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options)\n+static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options, CWallet::do_init_used_flag do_init_used_flag_val = CWallet::do_init_used_flag::Init)",
      "path": "src/wallet/wallettool.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 931322373,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Generally, this should never be used. It's weird that the wallet tool wants to analyze the on-disk addressbook specifically.",
      "created_at": "2022-11-10T18:11:26Z",
      "updated_at": "2022-11-10T18:11:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019465089",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019465089"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467252",
      "pull_request_review_id": 1176275666,
      "id": 1019467252,
      "node_id": "PRRC_kwDOABII5848w9X0",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 981629071,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's indeed confusing that there is an existing \"used\" that doesn't actually indicate usedness.\r\n\r\nBut this field *is* actually the correct value, so I'm not sure what else it might be named?",
      "created_at": "2022-11-10T18:13:57Z",
      "updated_at": "2022-11-10T18:13:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467252",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467798",
      "pull_request_review_id": 1176276477,
      "id": 1019467798,
      "node_id": "PRRC_kwDOABII5848w9gW",
      "diff_hunk": "@@ -689,6 +690,42 @@ void CWallet::InitialiseAddressBookUsed()\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "path": "src/wallet/wallet.cpp",
      "position": 29,
      "original_position": 12,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "16ad0586fbe6d15673a03f8b91db54fe0419bc08",
      "in_reply_to_id": 981649044,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Don't think it's worth it to change this now just to revert it later.",
      "created_at": "2022-11-10T18:14:34Z",
      "updated_at": "2022-11-10T18:14:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467798",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 767,
      "original_line": 767,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019468891",
      "pull_request_review_id": 1176277962,
      "id": 1019468891,
      "node_id": "PRRC_kwDOABII5848w9xb",
      "diff_hunk": "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "in_reply_to_id": 697381362,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no type conversion from uint32_t to size_t to begin with?",
      "created_at": "2022-11-10T18:15:43Z",
      "updated_at": "2022-11-10T18:15:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019468891",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019468891"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019470598",
      "pull_request_review_id": 1176280450,
      "id": 1019470598,
      "node_id": "PRRC_kwDOABII5848w-MG",
      "diff_hunk": "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "path": "src/wallet/wallet.h",
      "position": 45,
      "original_position": 40,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": 862307522,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's a weird hack made necessary only by an oddity in the wallet tool. I'm not sure it makes sense to guess about what other hacks might or might not be needed in the future.",
      "created_at": "2022-11-10T18:17:37Z",
      "updated_at": "2022-11-10T18:17:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019470598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019470598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 747,
      "original_line": 747,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471127",
      "pull_request_review_id": 1176281206,
      "id": 1019471127,
      "node_id": "PRRC_kwDOABII5848w-UX",
      "diff_hunk": "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": 862308005,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think `use_txids` is clearer.",
      "created_at": "2022-11-10T18:18:12Z",
      "updated_at": "2022-11-10T18:18:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471127",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471127"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 538,
      "original_line": 538,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471755",
      "pull_request_review_id": 1176282018,
      "id": 1019471755,
      "node_id": "PRRC_kwDOABII5848w-eL",
      "diff_hunk": "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };\n+    DBErrors LoadWallet(const do_init_used_flag do_init_used_flag_val = do_init_used_flag::Init);",
      "path": "src/wallet/wallet.h",
      "position": 46,
      "original_position": 41,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "8719b084754b8346e1cb551843afd3afcd439b71",
      "in_reply_to_id": 862309374,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I doubt it",
      "created_at": "2022-11-10T18:18:49Z",
      "updated_at": "2022-11-10T18:18:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471755",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471755"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 748,
      "original_line": 748,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477868",
      "pull_request_review_id": 1176290896,
      "id": 1019477868,
      "node_id": "PRRC_kwDOABII5848w_9s",
      "diff_hunk": "@@ -2180,7 +2235,12 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n-    return nLoadWalletRet;\n+    if (nLoadWalletRet != DBErrors::LOAD_OK)\n+        return nLoadWalletRet;",
      "path": "src/wallet/wallet.cpp",
      "position": 92,
      "original_position": 91,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928113274,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2022-11-10T18:25:45Z",
      "updated_at": "2022-11-10T18:25:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477868",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2419,
      "original_line": 2419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477958",
      "pull_request_review_id": 1176291018,
      "id": 1019477958,
      "node_id": "PRRC_kwDOABII5848w__G",
      "diff_hunk": "@@ -264,6 +266,9 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     void AddToSpends(const COutPoint& outpoint, const uint256& wtxid, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void AddToSpends(const CWalletTx& wtx, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    void UpdateAddressBookUsed(const CWalletTx&) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void InitialiseAddressBookUsed() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "path": "src/wallet/wallet.h",
      "position": 25,
      "original_position": 21,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928113358,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-11-10T18:25:51Z",
      "updated_at": "2022-11-10T18:25:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477958",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477958"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 314,
      "original_line": 314,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478036",
      "pull_request_review_id": 1176291113,
      "id": 1019478036,
      "node_id": "PRRC_kwDOABII5848xAAU",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{",
      "path": "src/wallet/wallet.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928265541,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added, though I'm not sure why we need runtime checks when we have compiletime...",
      "created_at": "2022-11-10T18:25:55Z",
      "updated_at": "2022-11-10T18:25:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478036",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 768,
      "original_line": 768,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478203",
      "pull_request_review_id": 1176291363,
      "id": 1019478203,
      "node_id": "PRRC_kwDOABII5848xAC7",
      "diff_hunk": "@@ -642,6 +642,12 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'txids' field",
      "path": "test/functional/wallet_basic.py",
      "position": null,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928278427,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-11-10T18:26:07Z",
      "updated_at": "2022-11-10T18:26:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478203",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478203"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 647,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019479356",
      "pull_request_review_id": 1176292913,
      "id": 1019479356,
      "node_id": "PRRC_kwDOABII5848xAU8",
      "diff_hunk": "@@ -168,7 +168,8 @@ bool ExecuteWalletToolFunc(const ArgsManager& args, const std::string& command)\n         DatabaseOptions options;\n         ReadDatabaseArgs(args, options);\n         options.require_existing = true;\n-        const std::shared_ptr<CWallet> wallet_instance = MakeWallet(name, path, args, options);\n+        // NOTE: We need to skip initialisation of the m_used flag, or else the address book count might be wrong",
      "path": "src/wallet/wallettool.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 931319358,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is already caught by an existing test (`test/functional/tool_wallet.py` IIRC)",
      "created_at": "2022-11-10T18:27:11Z",
      "updated_at": "2022-11-10T18:27:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019479356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019479356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 171,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019480162",
      "pull_request_review_id": 1176293779,
      "id": 1019480162,
      "node_id": "PRRC_kwDOABII5848xAhi",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 981629071,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added the doc",
      "created_at": "2022-11-10T18:27:50Z",
      "updated_at": "2022-11-10T18:27:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019480162",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019480162"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019647235",
      "pull_request_review_id": 1176544864,
      "id": 1019647235,
      "node_id": "PRRC_kwDOABII5848xpUD",
      "diff_hunk": "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "path": "src/wallet/wallet.cpp",
      "position": 25,
      "original_position": 9,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 982705832,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems to me this is called whenever new item added to `mapWallet` including spends from the wallet. If so, then this will add all outputs of spending txs to the address book.",
      "created_at": "2022-11-10T21:54:49Z",
      "updated_at": "2022-11-10T21:54:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019647235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019647235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 763,
      "original_line": 763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019652207",
      "pull_request_review_id": 1176552076,
      "id": 1019652207,
      "node_id": "PRRC_kwDOABII5848xqhv",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 981629071,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can we just reuse existing `StringMap destdata` \"used\" key to store the correct \"used\" state?\r\n\r\n",
      "created_at": "2022-11-10T22:02:09Z",
      "updated_at": "2022-11-10T22:02:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019652207",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019652207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677337",
      "pull_request_review_id": 1176588107,
      "id": 1019677337,
      "node_id": "PRRC_kwDOABII5848xwqZ",
      "diff_hunk": "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "path": "src/wallet/wallet.cpp",
      "position": 25,
      "original_position": 9,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 982705832,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, that's what it's supposed to do.",
      "created_at": "2022-11-10T22:43:19Z",
      "updated_at": "2022-11-10T22:43:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677337",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 763,
      "original_line": 763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677931",
      "pull_request_review_id": 1176588958,
      "id": 1019677931,
      "node_id": "PRRC_kwDOABII5848xwzr",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 981629071,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't know if there's usage of the incorrect \"used\" flag.\r\n\r\nAlso, I don't think it makes sense to store this one.",
      "created_at": "2022-11-10T22:44:25Z",
      "updated_at": "2022-11-10T22:44:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677931",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677931"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021152628",
      "pull_request_review_id": 1178560273,
      "id": 1021152628,
      "node_id": "PRRC_kwDOABII58483Y10",
      "diff_hunk": "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "path": "src/wallet/wallet.h",
      "position": 16,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 981629071,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Based on my research the existing flag is used for \"avoid reuse\" feature in the wallet. Sounds like a good idea to reuse it and a) improve other parts of the wallet b) make features behave consistently ",
      "created_at": "2022-11-14T07:31:05Z",
      "updated_at": "2022-11-14T07:55:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021152628",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021152628"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 221,
      "original_line": 221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021153673",
      "pull_request_review_id": 1178561818,
      "id": 1021153673,
      "node_id": "PRRC_kwDOABII58483ZGJ",
      "diff_hunk": "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "path": "src/wallet/wallet.cpp",
      "position": 25,
      "original_position": 9,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "in_reply_to_id": 982705832,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think we should automatically add to the address book all addresses we're sending to",
      "created_at": "2022-11-14T07:32:43Z",
      "updated_at": "2022-11-14T07:32:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021153673",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021153673"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 763,
      "original_line": 763,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1060334503",
      "pull_request_review_id": 1234173149,
      "id": 1060334503,
      "node_id": "PRRC_kwDOABII584_M2un",
      "diff_hunk": "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "c4f88f4145386fb8014433164a68b272b6255270",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps better to call the field `receiving_txids` or similar, to avoid the ambiguity between \"I've received funds via this address\" and \"I've spent funds that I received via this address\".",
      "created_at": "2023-01-03T07:42:21Z",
      "updated_at": "2023-01-03T07:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1060334503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1060334503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 540,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068680273",
      "pull_request_review_id": 1246558912,
      "id": 1068680273,
      "node_id": "PRRC_kwDOABII584_ssRR",
      "diff_hunk": "@@ -692,6 +692,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}",
      "path": "src/wallet/wallet.cpp",
      "position": 18,
      "original_position": 10,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "60decf25796558085cf151cd982e2cb8bff1d32b",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 60decf25796558085cf151cd982e2cb8bff1d32b \"Wallet: Keep track of what addresses are used in wallet transactions (memory only)\"\r\n\r\nSince `UpdateAddressBookUsed` does not require any other information that is loaded into the wallet, this function could be removed and have `UpdateAddressBookUsed` called when each transaction is loaded in `LoadToWallet`.",
      "created_at": "2023-01-12T21:32:58Z",
      "updated_at": "2023-01-12T22:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068680273",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068680273"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": 750,
      "original_start_line": 695,
      "start_side": "RIGHT",
      "line": 756,
      "original_line": 756,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068693857",
      "pull_request_review_id": 1246558912,
      "id": 1068693857,
      "node_id": "PRRC_kwDOABII584_svlh",
      "diff_hunk": "@@ -709,6 +710,43 @@ void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "path": "src/wallet/wallet.cpp",
      "position": 29,
      "original_position": 12,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "803946f3e8ac66d2e2e23a336e2a36f8e44881c7",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 803946f3e8ac66d2e2e23a336e2a36f8e44881c7 \"Wallet: Add fairly-efficient [negative] check that an address is not known to be used\"\r\n\r\nnit: `s/keys/scripts/`. I would prefer that variable names are accurate.",
      "created_at": "2023-01-12T21:45:44Z",
      "updated_at": "2023-01-12T22:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068693857",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068693857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 767,
      "original_line": 767,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068696678",
      "pull_request_review_id": 1246558912,
      "id": 1068696678,
      "node_id": "PRRC_kwDOABII584_swRm",
      "diff_hunk": "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {\n+            const auto& output = wtx.tx->vout[i];\n+            if (keys.count(output.scriptPubKey)) {\n+                found_any = true;\n+                const auto callback_type = callback.index();\n+                if (callback_type == 1) {",
      "path": "src/wallet/wallet.cpp",
      "position": 54,
      "original_position": 53,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "in_reply_to_id": 928270626,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This was marked resolved but not changed.",
      "created_at": "2023-01-12T21:48:26Z",
      "updated_at": "2023-01-12T22:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068696678",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068696678"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 792,
      "original_line": 792,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068701600",
      "pull_request_review_id": 1246558912,
      "id": 1068701600,
      "node_id": "PRRC_kwDOABII584_sxeg",
      "diff_hunk": "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "c961db6773a6c87c3f9ade97983d29caa354f745",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In c961db6773a6c87c3f9ade97983d29caa354f745 \"RPC/Wallet: Add \"use_txids\" to output of getaddressinfo\"\r\n\r\nWithout having read the help text, I'm having a hard time figuring out the meaning of this field. My initial reading had \"use\" as a verb, but that doesn't make sense. I think it might be clearer to rename this to something like `used_in_txids` or `received_with_txids`.",
      "created_at": "2023-01-12T21:52:59Z",
      "updated_at": "2023-01-12T22:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068701600",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068701600"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 538,
      "original_line": 538,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068703484",
      "pull_request_review_id": 1246558912,
      "id": 1068703484,
      "node_id": "PRRC_kwDOABII584_sx78",
      "diff_hunk": "@@ -637,6 +637,16 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'use_txids' field\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"",
      "path": "test/functional/wallet_basic.py",
      "position": 7,
      "original_position": 7,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "c961db6773a6c87c3f9ade97983d29caa354f745",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In c961db6773a6c87c3f9ade97983d29caa354f745 \"RPC/Wallet: Add \"use_txids\" to output of getaddressinfo\"\r\n\r\nnit: Does this address have to be hardcoded? I think we want to avoid hardcoding things like this in tests.",
      "created_at": "2023-01-12T21:54:47Z",
      "updated_at": "2023-01-12T22:10:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068703484",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068703484"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 646,
      "original_line": 646,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088784652",
      "pull_request_review_id": 1272408776,
      "id": 1088784652,
      "node_id": "PRRC_kwDOABII585A5YkM",
      "diff_hunk": "@@ -637,6 +637,16 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'use_txids' field\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"",
      "path": "test/functional/wallet_basic.py",
      "position": 7,
      "original_position": 7,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "c961db6773a6c87c3f9ade97983d29caa354f745",
      "in_reply_to_id": 1068703484,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we should avoid hardcoded stuff, but I noticed this address is hardcoded right before when testing `getaddressinfo`, probably to test scriptPubKey. Anyway, I think we could move it to a variable and use it whatever we need.\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_basic.py b/test/functional/wallet_basic.py\r\nindex 0372ebf15..54730533e 100755\r\n--- a/test/functional/wallet_basic.py\r\n+++ b/test/functional/wallet_basic.py\r\n@@ -630,8 +630,9 @@ class WalletTest(BitcoinTestFramework):\r\n \r\n         # Test getaddressinfo on external address. Note that these addresses are taken from disablewallet.py\r\n         assert_raises_rpc_error(-5, \"Invalid prefix for Base58-encoded address\", self.nodes[0].getaddressinfo, \"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy\")\r\n-        address_info = self.nodes[0].getaddressinfo(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n-        assert_equal(address_info['address'], \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['address'], addr)\r\n         assert_equal(address_info[\"scriptPubKey\"], \"76a9144e3854046c7bd1594ac904e4793b6a45b36dea0988ac\")\r\n         assert not address_info[\"ismine\"]\r\n         assert not address_info[\"iswatchonly\"]\r\n@@ -640,7 +641,6 @@ class WalletTest(BitcoinTestFramework):\r\n         assert_equal(address_info['use_txids'], [])\r\n \r\n         # Test getaddressinfo 'use_txids' field\r\n-        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n         txid_1 = self.nodes[0].sendtoaddress(addr, 1)\r\n         address_info = self.nodes[0].getaddressinfo(addr)\r\n         assert_equal(address_info['use_txids'], [txid_1])\r\n```",
      "created_at": "2023-01-27T10:08:25Z",
      "updated_at": "2023-01-27T10:08:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088784652",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088784652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 646,
      "original_line": 646,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088794151",
      "pull_request_review_id": 1272422281,
      "id": 1088794151,
      "node_id": "PRRC_kwDOABII585A5a4n",
      "diff_hunk": "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "path": "src/wallet/rpc/addresses.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "c4f88f4145386fb8014433164a68b272b6255270",
      "in_reply_to_id": 1060334503,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree with @ajtowns, I confess it took me a while to understand what `use_txids` means, at a first look I thought it would return all txids that involves that address but reading the doc could understand that's only about the receiving ones. `receiving_txids` sounds better.",
      "created_at": "2023-01-27T10:18:11Z",
      "updated_at": "2023-01-27T10:18:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088794151",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088794151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 540,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253745180",
      "pull_request_review_id": 1515500687,
      "id": 1253745180,
      "node_id": "PRRC_kwDOABII585KuqIc",
      "diff_hunk": "@@ -692,6 +692,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}",
      "path": "src/wallet/wallet.cpp",
      "position": 18,
      "original_position": 10,
      "commit_id": "136bc463fa02263f427b3a75894891ac4d8af39e",
      "original_commit_id": "60decf25796558085cf151cd982e2cb8bff1d32b",
      "in_reply_to_id": 1068680273,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That would break the wallettool again",
      "created_at": "2023-07-05T23:15:43Z",
      "updated_at": "2023-07-05T23:15:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1253745180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253745180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
        }
      },
      "start_line": 750,
      "original_start_line": 695,
      "start_side": "RIGHT",
      "line": 756,
      "original_line": 756,
      "side": "RIGHT"
    }
  ]
}