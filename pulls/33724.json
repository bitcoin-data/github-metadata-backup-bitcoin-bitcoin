{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724",
    "id": 2955801513,
    "node_id": "PR_kwDOABII586wLfOp",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33724",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33724.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33724.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
    "number": 33724,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: Return uint64_t from GetSerializeSize",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Consensus code should arrive at the same conclusion, regardless of the architecture it runs on. Using architecture-specific types such as `size_t` can lead to issues, such as the low-severity [CVE-2025-46597](https://bitcoincore.org/en/2025/10/24/disclose-cve-2025-46597/).\r\n\r\nThe CVE was already worked around, but it may be good to still fix the underlying issue.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/33709 with a few refactors to use explicit fixed-sized integer types in serialization-size related code and concluding with a refactor to return `uint64_t` from `GetSerializeSize`. The refactors should not change any behavior, because the CVE was already worked around.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-10-28T15:54:37Z",
    "updated_at": "2025-10-29T21:47:08Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "a9a2c9d43632ce459488cbd9ef432bcfca52ff87",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "maflcko:2510-size-refactor",
      "ref": "2510-size-refactor",
      "sha": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 262246,
        "default_branch": "master",
        "open_issues_count": 15,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-29T16:10:56Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2025-08-07T03:03:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "de15e52f09d46f1afac23cba251dfc594117fb27",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38128,
        "stargazers_count": 86501,
        "watchers_count": 86501,
        "size": 295475,
        "default_branch": "master",
        "open_issues_count": 731,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-10-29T16:53:46Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-10-29T21:22:44Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 90,
    "deletions": 83,
    "changed_files": 20,
    "commits": 6,
    "review_comments": 14,
    "comments": 3
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMzY0YWY4OWJkOTE0ZWE3Y2QwZDRhNTQ3MGUwYTUwMmUwYTIwNzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
      "tree": {
        "sha": "e1125cd326d70564a2a1f587b28b4f65a1dd89be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1125cd326d70564a2a1f587b28b4f65a1dd89be"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree e1125cd326d70564a2a1f587b28b4f65a1dd89be\nparent 80bb7012be8e917e76af14af784e9199752abedb\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761663453 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664114 +0100\n\ntest: Remove outdated comment\n\nThe serialize related methods were removed in commit\n30007fda76aa7ba4e4090f7a16298874a7722926.\n\nIf someone wants to see the tested methods, they can just read the test\nitself, instead of relying on the wrong comment.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQIW33wny0jgAMax3ZVuGtLOUgcr63WE/9yAhPac20LcvNgIDvheokkeTLXDuQ4GI8N\nxhWvMhxkpa2vUggSFKagU=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80bb7012be8e917e76af14af784e9199752abedb",
          "sha": "80bb7012be8e917e76af14af784e9199752abedb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/80bb7012be8e917e76af14af784e9199752abedb"
        }
      ],
      "message": "test: Remove outdated comment\n\nThe serialize related methods were removed in commit\n30007fda76aa7ba4e4090f7a16298874a7722926.\n\nIf someone wants to see the tested methods, they can just read the test\nitself, instead of relying on the wrong comment.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:34Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:57:33Z"
      },
      "sha": "fa364af89bd914ea7cd0d4a5470e0a502e0a2075"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMmJiYzllNGNmZTAxNzQzNmE1MTY3YWI1YzQ0M2Y0NDEyZWZhM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
      "tree": {
        "sha": "8ca10a0f413cfdf495710781253ea617abf20996",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ca10a0f413cfdf495710781253ea617abf20996"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 8ca10a0f413cfdf495710781253ea617abf20996\nparent fa364af89bd914ea7cd0d4a5470e0a502e0a2075\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761661238 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664119 +0100\n\nrefactor: [rpc] Remove cast when reporting serialized size\n\nThe values are small enough to fit in an int, so the cast is at best\nredundant. However, UniValue can handle any integer type, so having to\nthink about the cast here is also confusing.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQJHYJC/G8AT8tzQMP8vouKgl6jXr/Dr1aR4dIozqZN7dJO9StJHglLMxiWA/3o6MuX\nHKsZdFPhp1ZankyZbSSQw=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
          "sha": "fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa364af89bd914ea7cd0d4a5470e0a502e0a2075"
        }
      ],
      "message": "refactor: [rpc] Remove cast when reporting serialized size\n\nThe values are small enough to fit in an int, so the cast is at best\nredundant. However, UniValue can handle any integer type, so having to\nthink about the cast here is also confusing.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:39Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:20:38Z"
      },
      "sha": "fa2bbc9e4cfe017436a5167ab5c443f4412efa3c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMDFmMzhlNTNjZmRhNDE1NWQwZWEwOWNhOGIxMjkxYjcwMDFmZTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
      "tree": {
        "sha": "1e139787df8ee8ed2c320d85494ac6fcc96eeed5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e139787df8ee8ed2c320d85494ac6fcc96eeed5"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 1e139787df8ee8ed2c320d85494ac6fcc96eeed5\nparent fa2bbc9e4cfe017436a5167ab5c443f4412efa3c\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761650056 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664124 +0100\n\nmove-only: Move CBlockFileInfo to kernel namespace\n\nAlso, move it to the blockstorage module, because it is only used inside\nthat module.\n\nCan be reviewed with the git option --color-moved=dimmed-zebra\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGK3S+X2afJrkCFpCG6O1jD9NfPEy6m8GGtJ11JlL0GIfC01xktk3tpHJEYBvAF+wH\n6amRl7erha+x0+at2Y2wk=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
          "sha": "fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c"
        }
      ],
      "message": "move-only: Move CBlockFileInfo to kernel namespace\n\nAlso, move it to the blockstorage module, because it is only used inside\nthat module.\n\nCan be reviewed with the git option --color-moved=dimmed-zebra",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:44Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T11:14:16Z"
      },
      "sha": "fa01f38e53cfda4155d0ea09ca8b1291b7001fe8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMTI4ZDE0ODhjMDhkOTgxNmY0MjVjNzNkMDFkYjRjMTU5N2VlNjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa128d1488c08d9816f425c73d01db4c1597ee68",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa128d1488c08d9816f425c73d01db4c1597ee68",
      "tree": {
        "sha": "743aa4c3ed4a27a271a4f873d1b69e2f8a4ab060",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/743aa4c3ed4a27a271a4f873d1b69e2f8a4ab060"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 743aa4c3ed4a27a271a4f873d1b69e2f8a4ab060\nparent fa01f38e53cfda4155d0ea09ca8b1291b7001fe8\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761661302 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761666064 +0100\n\nrefactor: Use fixed size ints over (un)signed ints for serialized values\n\nBitcoin Core already assumes that 'unsigned int' means uint32_t and\n'signed int' means int32_t. Also, any serialized integral value must be\nof a fixed size.\n\nSo make the fixed size explicit in this documenting refactor, which does\nnot change the behavior on any platform.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQP5SuGhucN09tMfM6jCWSGPJn98TrDQolaY5mm/agS0orZlXL7G4F7AX9J25OqMdnh\nmHXeuHNTpMRtqO/9ua6QQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
          "sha": "fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8"
        }
      ],
      "message": "refactor: Use fixed size ints over (un)signed ints for serialized values\n\nBitcoin Core already assumes that 'unsigned int' means uint32_t and\n'signed int' means int32_t. Also, any serialized integral value must be\nof a fixed size.\n\nSo make the fixed size explicit in this documenting refactor, which does\nnot change the behavior on any platform.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:41:04Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:21:42Z"
      },
      "sha": "fa128d1488c08d9816f425c73d01db4c1597ee68"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYjc1YzJkMDMzMmZkYjI1MDMwYWJiNDQxMzYzNDc4Y2Q0ODZkYzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab75c2d0332fdb25030abb441363478cd486dc5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fab75c2d0332fdb25030abb441363478cd486dc5",
      "tree": {
        "sha": "495f5bf49c823eb6fbe0d3c120ad87b7272cc474",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/495f5bf49c823eb6fbe0d3c120ad87b7272cc474"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 495f5bf49c823eb6fbe0d3c120ad87b7272cc474\nparent fa128d1488c08d9816f425c73d01db4c1597ee68\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761655870 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761666589 +0100\n\nrefactor: Use uint64_t over size_t for serialized-size values\n\nThe values are small enough to fit in size_t, but to avoid having to\nthink about it, just use uint64_t consistently for all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQA5Uc5PM7xNIJKcdhKnOnP22VPfkzBCj8+WLYWYleWWxvCHd4B3lxX8VdASO7x+Ndj\nA6UjizaBgGQo6H6CJ4ows=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa128d1488c08d9816f425c73d01db4c1597ee68",
          "sha": "fa128d1488c08d9816f425c73d01db4c1597ee68",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa128d1488c08d9816f425c73d01db4c1597ee68"
        }
      ],
      "message": "refactor: Use uint64_t over size_t for serialized-size values\n\nThe values are small enough to fit in size_t, but to avoid having to\nthink about it, just use uint64_t consistently for all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:49:49Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T12:51:10Z"
      },
      "sha": "fab75c2d0332fdb25030abb441363478cd486dc5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZGQ0OWJkNmQ0YTdkM2QxODExZWI0YzMxYWViNDI1ZTlkOGU5Yzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "tree": {
        "sha": "b2d2ddf78684731f140f4c27777b21082b5f6bb8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b2d2ddf78684731f140f4c27777b21082b5f6bb8"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree b2d2ddf78684731f140f4c27777b21082b5f6bb8\nparent fab75c2d0332fdb25030abb441363478cd486dc5\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761663531 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761666595 +0100\n\nrefactor: Return uint64_t from GetSerializeSize\n\nNormally, the values are small enough to fit in size_t, but the risk\nthat it may not fit sometimes is a reason to use uint64_t consistently\nfor all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n\nFor example, 32-bit Bitcoin Core versions with CVE-2025-46597 unfixed\nmay overflow while checking for the bad-blk-length violation when\nreceiving a malformed and bloated compact block.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQEPIKiZ8jyiiZoaDn6OYlmVGWiYnfH+daWU0GCHVfWzF9WlmRHUCblr6MWcV0ozIWf\nLSIhz90Y1/hpHFtUjwaAE=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab75c2d0332fdb25030abb441363478cd486dc5",
          "sha": "fab75c2d0332fdb25030abb441363478cd486dc5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fab75c2d0332fdb25030abb441363478cd486dc5"
        }
      ],
      "message": "refactor: Return uint64_t from GetSerializeSize\n\nNormally, the values are small enough to fit in size_t, but the risk\nthat it may not fit sometimes is a reason to use uint64_t consistently\nfor all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n\nFor example, 32-bit Bitcoin Core versions with CVE-2025-46597 unfixed\nmay overflow while checking for the bad-blk-length violation when\nreceiving a malformed and bloated compact block.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:49:55Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:58:51Z"
      },
      "sha": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9"
    },
    {
      "event": "renamed",
      "id": 20557849018,
      "node_id": "RTE_lADOABII587UU4WFzwAAAATJV-G6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20557849018",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:40Z",
      "rename": {
        "from": " refactor: Return uint64_t from GetSerializeSize ",
        "to": "refactor: Return uint64_t from GetSerializeSize"
      }
    },
    {
      "event": "labeled",
      "id": 20557849503,
      "node_id": "LE_lADOABII587UU4WFzwAAAATJV-Of",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20557849503",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:41Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3457213250,
      "node_id": "IC_kwDOABII587OEONC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3457213250",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:43Z",
      "updated_at": "2025-10-28T22:23:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33724.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457444677), [hebasto](https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3389834738), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3458799452) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33591](https://github.com/bitcoin/bitcoin/pull/33591) (Cluster mempool followups by sdaftuar)\n* [#32427](https://github.com/bitcoin/bitcoin/pull/32427) ((RFC) kernel: Replace leveldb-based BlockTreeDB with flat-file based store by TheCharlatan)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457213250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3457444677,
      "node_id": "IC_kwDOABII587OFGtF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3457444677",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T16:40:50Z",
      "updated_at": "2025-10-28T16:40:50Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457444677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "reviewed",
      "id": 3389834738,
      "node_id": "PRR_kwDOABII587KDMXy",
      "url": null,
      "actor": null,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-28T16:52:40Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3389834738",
      "submitted_at": "2025-10-28T16:52:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    },
    {
      "event": "commented",
      "id": 3458799452,
      "node_id": "IC_kwDOABII587OKRdc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3458799452",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T22:23:06Z",
      "updated_at": "2025-10-28T22:23:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK (only reviewed it lightly) - thanks for taking care of this, I will get back and review it more thoroughly!",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3458799452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "reviewed",
      "id": 3396198580,
      "node_id": "PRR_kwDOABII587KbeC0",
      "url": null,
      "actor": null,
      "commit_id": "fa128d1488c08d9816f425c73d01db4c1597ee68",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-29T20:55:01Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3396198580",
      "submitted_at": "2025-10-29T20:55:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    },
    {
      "event": "reviewed",
      "id": 3393067389,
      "node_id": "PRR_kwDOABII587KPhl9",
      "url": null,
      "actor": null,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-29T21:47:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "I like the focused commits with good explanations.\n\nI would like to suggest to consider something slightly simpler that may fit the data better.\nWe're storing these serialized sizes as 64 bits to avoid having to cast when we multiply the value. But we're always serializing these sizes as either variable length ints or 32 bit ones, so it's a bit awkward that a method returns 64 bit value and we just have to remember to cast them to 32 at call sites (otherwise they would serialize incorrectly in a few places).\nAnd we're never actually multiplying by literals, so if we bump the multiplier to 64 bits (see branch below) and keep the serialization sizes at 32, we can avoid call-site casts and fx the overflow for free.\n\nI have recreated the entire change locally and compared it against your implementation and based on that added a few suggestion, please see them at https://github.com/l0rinc/bitcoin/pull/50/commits/9bb159736d6cc3d8ec67561279c2b9b4bf1129a0. They're not necessarily all suggestions, some are just alternatives or nits, but please consider them. There are still a few inconsistencies that I would like to see patched here - and hope we can propagate these using the appropriate type instead of up-casting just to be absolutely sure...",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3393067389",
      "submitted_at": "2025-10-29T21:47:08Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472810064",
      "pull_request_review_id": 3393067389,
      "id": 2472810064,
      "node_id": "PRRC_kwDOABII586TZBZQ",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This value will be returned and converted to a `size_t` again\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L201\nand added to a `FlatFilePos::nPos`\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L285\nwhich is currently a `uint32_t`:\nhttps://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/flatfile.h#L17\n\nCan we avoid converting this back and forth? I understand that we don't have files that need gigabyte offsets - but in that case why convert to 64 bits here just to convert it back an forth later.",
      "created_at": "2025-10-29T12:26:42Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472810064",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472810064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472815299",
      "pull_request_review_id": 3393067389,
      "id": 2472815299,
      "node_id": "PRRC_kwDOABII586TZCrD",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));",
      "path": "src/rpc/blockchain.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "is there any scenario where where a signed `UniValue` value is different from an unsigned one?",
      "created_at": "2025-10-29T12:28:10Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472815299",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472815299"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 188,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472821589",
      "pull_request_review_id": 3393067389,
      "id": 2472821589,
      "node_id": "PRRC_kwDOABII586TZENV",
      "diff_hunk": "@@ -2033,7 +2033,7 @@ static RPCHelpMan getblockstats()\n             for (const CTxOut& out : tx->vout) {\n                 tx_total_out += out.nValue;\n \n-                size_t out_size = GetSerializeSize(out) + PER_UTXO_OVERHEAD;\n+                uint64_t out_size{GetSerializeSize(out) + PER_UTXO_OVERHEAD};",
      "path": "src/rpc/blockchain.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Can we migrate the constant to 64 bits as well?\r\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/rpc/blockchain.cpp#L1907\r\n```C++\r\nstatic constexpr uint64_t PER_UTXO_OVERHEAD{sizeof(COutPoint) + sizeof(uint32_t) + sizeof(bool)};\r\n```\r\nOr if we will go the other way and mirror storage and only up-cast when needed, it would be:\r\n```C++\r\nstatic constexpr uint32_t PER_UTXO_OVERHEAD{sizeof(COutPoint) + sizeof(uint32_t) + sizeof(bool)};\r\n```",
      "created_at": "2025-10-29T12:29:45Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472821589",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472821589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2036,
      "original_line": 2036,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472880211",
      "pull_request_review_id": 3393067389,
      "id": 2472880211,
      "node_id": "PRRC_kwDOABII586TZShT",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};",
      "path": "src/node/blockstorage.cpp",
      "position": 35,
      "original_position": 35,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/node/blockstorage.h#L120\r\nshould also likely be updated now to:\r\n```C++\r\nstatic constexpr uint32_t STORAGE_HEADER_BYTES{std::tuple_size_v<MessageStartChars> + sizeof(uint32_t)};\r\n```\r\n\r\n----\r\n\r\nNote: I understand this works on most 32 bit systems we support, but https://en.cppreference.com/w/cpp/language/types.html indicates it can vary between 16 and 32 bits.\r\nAlso, https://learn.microsoft.com/en-us/cpp/cpp/data-type-ranges warns:\r\n> The int and unsigned int types have a size of 4 bytes. However, portable code shouldn't depend on the size of int because the language standard allows this to be implementation-specific.\r\n\r\nhttps://godbolt.org/z/osrfrs8WW indicates both 32 and 64 bit platforms that I tried return **8** for `STORAGE_HEADER_BYTES_OLD`.",
      "created_at": "2025-10-29T12:44:08Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472880211",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472880211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1100,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472903256",
      "pull_request_review_id": 3393067389,
      "id": 2472903256,
      "node_id": "PRRC_kwDOABII586TZYJY",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));\n+    result.pushKV(\"size\", ::GetSerializeSize(TX_WITH_WITNESS(block)));\n+    result.pushKV(\"weight\", ::GetBlockWeight(block));",
      "path": "src/rpc/blockchain.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not sure I understand why `GetBlockWeight` is `int64_t`\nhttps://github.com/bitcoin/bitcoin/blob/3c5d1a468199722da620f1f3d8ae3319980a46d5/src/consensus/validation.h#L136\nbut `MAX_BLOCK_WEIGHT` and `MAX_BLOCK_SERIALIZED_SIZE` are only `unsigned int`\nhttps://github.com/bitcoin/bitcoin/blob/3c5d1a468199722da620f1f3d8ae3319980a46d5/src/consensus/consensus.h#L15",
      "created_at": "2025-10-29T12:51:39Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472903256",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472903256"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 190,
      "original_line": 190,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472910698",
      "pull_request_review_id": 3393067389,
      "id": 2472910698,
      "node_id": "PRRC_kwDOABII586TZZ9q",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};\n     if (pos.IsNull()) {\n         LogError(\"FindNextBlockPos failed for %s while writing block\", pos.ToString());",
      "path": "src/node/blockstorage.cpp",
      "position": 37,
      "original_position": 37,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`FindNextBlockPos` has `unsigned int nAddSize` arg still:\n```C++\nFlatFilePos BlockManager::FindNextBlockPos(uint32_t nAddSize, unsigned int nHeight, uint64_t nTime)\n```",
      "created_at": "2025-10-29T12:54:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472910698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472910698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1102,
      "original_line": 1102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472976911",
      "pull_request_review_id": 3393067389,
      "id": 2472976911,
      "node_id": "PRRC_kwDOABII586TZqIP",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{\n         GetSerializeSize(filter.GetBlockHash()) +\n-        GetSerializeSize(filter.GetEncodedFilter());\n+        GetSerializeSize(filter.GetEncodedFilter())};\n \n     // If writing the filter would overflow the file, flush and move to the next one.\n     if (pos.nPos + data_size > MAX_FLTR_FILE_SIZE) {",
      "path": "src/index/blockfilterindex.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`MAX_FLTR_FILE_SIZE` is only used here\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L39\nwe should adjust its type to match the usage\n```C++\nconstexpr uint32_t FLTR_FILE_CHUNK_SIZE{0x100000}; // 1 MiB\n```",
      "created_at": "2025-10-29T13:14:34Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472976911",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472976911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 210,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472994638",
      "pull_request_review_id": 3393067389,
      "id": 2472994638,
      "node_id": "PRRC_kwDOABII586TZudO",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is used later\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L236\nfor a method that still expects `size_t`\nhttps://github.com/bitcoin/bitcoin/blob/c10e382d2a3b76b70ebb8a4eb5cd99fc9f14d702/src/flatfile.cpp#L57",
      "created_at": "2025-10-29T13:18:16Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472994638",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472994638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473283293",
      "pull_request_review_id": 3393067389,
      "id": 2473283293,
      "node_id": "PRRC_kwDOABII586Ta07d",
      "diff_hunk": "@@ -1051,31 +1051,32 @@ struct ActionUnserialize {\n class SizeComputer\n {\n protected:\n-    size_t nSize{0};\n+    uint64_t m_size{0};\n \n public:\n     SizeComputer() = default;\n \n     void write(std::span<const std::byte> src)\n     {\n-        this->nSize += src.size();\n+        m_size += src.size();\n     }\n \n-    /** Pretend _nSize bytes are written, without specifying them. */\n-    void seek(size_t _nSize)\n+    /** Pretend this many bytes are written, without specifying them. */\n+    void seek(uint64_t num)\n     {\n-        this->nSize += _nSize;\n+        m_size += num;\n     }\n \n-    template<typename T>\n+    template <typename T>\n     SizeComputer& operator<<(const T& obj)\n     {\n         ::Serialize(*this, obj);\n-        return (*this);\n+        return *this;\n     }\n \n-    size_t size() const {\n-        return nSize;\n+    uint64_t size() const",
      "path": "src/serialize.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If we decide to keep the 64 here, please consider propagating it to other stream sizes as well, e.g.\r\nhttps://github.com/bitcoin/bitcoin/blob/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9/src/serialize.h#L1131\r\nand\r\nhttps://github.com/bitcoin/bitcoin/blob/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9/src/streams.h#L101",
      "created_at": "2025-10-29T14:03:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473283293",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473283293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1077,
      "original_line": 1077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473369894",
      "pull_request_review_id": 3393067389,
      "id": 2473369894,
      "node_id": "PRRC_kwDOABII586TbKEm",
      "diff_hunk": "@@ -1034,7 +1034,7 @@ void DiscourageFeeSniping(CMutableTransaction& tx, FastRandomContext& rng_fast,\n     }\n }\n \n-size_t GetSerializeSizeForRecipient(const CRecipient& recipient)\n+uint64_t GetSerializeSizeForRecipient(const CRecipient& recipient)",
      "path": "src/wallet/spend.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If we're changing this, we should likely adjust the usage as well:\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/wallet/spend.cpp#L1085\n```C++\n    int32_t tx_noinputs_size = 0;\n```",
      "created_at": "2025-10-29T14:16:01Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473369894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473369894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1037,
      "original_line": 1037,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473712142",
      "pull_request_review_id": 3393067389,
      "id": 2473712142,
      "node_id": "PRRC_kwDOABII586TcdoO",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     const int nFile = pos.nFile;",
      "path": "src/node/blockstorage.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/flatfile.h#L16\n is `int32_t` now so we should update these as well:\n```C++\n    const int32_t nFile = pos.nFile;\n    if (static_cast<int32_t>(m_blockfile_info.size()) <= nFile) {\n```",
      "created_at": "2025-10-29T15:11:50Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473712142",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473712142"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 907,
      "original_line": 907,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474414992",
      "pull_request_review_id": 3393067389,
      "id": 2474414992,
      "node_id": "PRRC_kwDOABII586TfJOQ",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};",
      "path": "src/node/blockstorage.cpp",
      "position": 25,
      "original_position": 25,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It feels wrong to cast down on the client side, just to avoid incorrect serialization for the 64 bit version.\r\nWe're also storing these as 32 bits in many places, seems wrong to return 64 bits just because we will have a multiplication down the line.\r\nIt seems like a code smell, I think we should go the other way instead: return an actual `uint32_t` size (which matches how we store and serialize these anyway) and only cast up before the problematic multiplications.\r\nMultiplying by `static const uint64_t WITNESS_SCALE_FACTOR{4};` would already solve that without extra casts as far as I can tell.",
      "created_at": "2025-10-29T17:57:33Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2474414992",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474414992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 906,
      "original_line": 906,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474564414",
      "pull_request_review_id": 3393067389,
      "id": 2474564414,
      "node_id": "PRRC_kwDOABII586Tfts-",
      "diff_hunk": "@@ -349,8 +349,8 @@ void CCoinsViewCache::SanityCheck() const\n     assert(recomputed_usage == cachedCoinsUsage);\n }\n \n-static const size_t MIN_TRANSACTION_OUTPUT_WEIGHT = WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut());\n-static const size_t MAX_OUTPUTS_PER_BLOCK = MAX_BLOCK_WEIGHT / MIN_TRANSACTION_OUTPUT_WEIGHT;\n+static const uint64_t MIN_TRANSACTION_OUTPUT_WEIGHT{WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut())};",
      "path": "src/coins.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "storing `MIN_TRANSACTION_OUTPUT_WEIGHT` and `WITNESS_SCALE_FACTOR` as `uint64_t` would roughly fix the problem already, right? https://godbolt.org/z/M4dW3nsKM",
      "created_at": "2025-10-29T18:23:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2474564414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474564414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 352,
      "original_line": 352,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2475436253",
      "pull_request_review_id": 3396198580,
      "id": 2475436253,
      "node_id": "PRRC_kwDOABII586TjCjd",
      "diff_hunk": "@@ -13,16 +13,16 @@\n ",
      "path": "src/flatfile.h",
      "position": 1,
      "original_position": 1,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fa128d1488c08d9816f425c73d01db4c1597ee68",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit fa128d1488c08d9816f425c73d01db4c1597ee68:\r\n\r\nWould the return type of `GetTotalSize` fit into the criteria for this refactor?\r\n\r\n```diff\r\ndiff --git a/src/blockencodings.cpp b/src/blockencodings.cpp\r\nindex cf6da55aa9..9d50dfe949 100644\r\n--- a/src/blockencodings.cpp\r\n+++ b/src/blockencodings.cpp\r\n@@ -195 +195 @@ ReadStatus PartiallyDownloadedBlock::FillBlock(CBlock& block, const std::vector<\r\n-    unsigned int tx_missing_size = 0;\r\n+    uint32_t tx_missing_size = 0;\r\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\r\nindex 80902b9e9c..cfb5f80f6a 100644\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -2474 +2474 @@ void PeerManagerImpl::SendBlockTransactions(CNode& pfrom, Peer& peer, const CBlo\r\n-    unsigned int tx_requested_size = 0;\r\n+    uint32_t tx_requested_size = 0;\r\ndiff --git a/src/primitives/transaction.cpp b/src/primitives/transaction.cpp\r\nindex e80ab60fcd..10c9361850 100644\r\n--- a/src/primitives/transaction.cpp\r\n+++ b/src/primitives/transaction.cpp\r\n@@ -110 +110 @@ CAmount CTransaction::GetValueOut() const\r\n-unsigned int CTransaction::GetTotalSize() const\r\n+uint32_t CTransaction::GetTotalSize() const\r\n```",
      "created_at": "2025-10-29T20:55:00Z",
      "updated_at": "2025-10-29T20:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2475436253",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2475436253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 13,
      "original_line": 13,
      "side": "RIGHT"
    }
  ]
}