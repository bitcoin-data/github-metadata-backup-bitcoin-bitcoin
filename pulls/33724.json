{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724",
    "id": 2955801513,
    "node_id": "PR_kwDOABII586wLfOp",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33724",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33724.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33724.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
    "number": 33724,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: Return uint64_t from GetSerializeSize",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Consensus code should arrive at the same conclusion, regardless of the architecture it runs on. Using architecture-specific types such as `size_t` can lead to issues, such as the low-severity [CVE-2025-46597](https://bitcoincore.org/en/2025/10/24/disclose-cve-2025-46597/).\r\n\r\nThe CVE was already worked around, but it may be good to still fix the underlying issue.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/33709 with a few refactors to use explicit fixed-sized integer types in serialization-size related code and concluding with a refactor to return `uint64_t` from `GetSerializeSize`. The refactors should not change any behavior, because the CVE was already worked around.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-10-28T15:54:37Z",
    "updated_at": "2025-11-04T18:54:58Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "2a0ee1c04f51acaac63f6f580d4f74432f1924fb",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "maflcko:2510-size-refactor",
      "ref": "2510-size-refactor",
      "sha": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 262128,
        "default_branch": "master",
        "open_issues_count": 15,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-11-04T13:37:21Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2025-08-07T03:03:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "6f359695c36c13af832b0b1021dcb3a234f6f219",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38151,
        "stargazers_count": 86611,
        "watchers_count": 86611,
        "size": 295685,
        "default_branch": "master",
        "open_issues_count": 736,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-11-04T15:38:49Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-11-04T16:43:46Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 88,
    "deletions": 81,
    "changed_files": 20,
    "commits": 6,
    "review_comments": 33,
    "comments": 9
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMzY0YWY4OWJkOTE0ZWE3Y2QwZDRhNTQ3MGUwYTUwMmUwYTIwNzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
      "tree": {
        "sha": "e1125cd326d70564a2a1f587b28b4f65a1dd89be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1125cd326d70564a2a1f587b28b4f65a1dd89be"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree e1125cd326d70564a2a1f587b28b4f65a1dd89be\nparent 80bb7012be8e917e76af14af784e9199752abedb\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761663453 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664114 +0100\n\ntest: Remove outdated comment\n\nThe serialize related methods were removed in commit\n30007fda76aa7ba4e4090f7a16298874a7722926.\n\nIf someone wants to see the tested methods, they can just read the test\nitself, instead of relying on the wrong comment.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQIW33wny0jgAMax3ZVuGtLOUgcr63WE/9yAhPac20LcvNgIDvheokkeTLXDuQ4GI8N\nxhWvMhxkpa2vUggSFKagU=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80bb7012be8e917e76af14af784e9199752abedb",
          "sha": "80bb7012be8e917e76af14af784e9199752abedb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/80bb7012be8e917e76af14af784e9199752abedb"
        }
      ],
      "message": "test: Remove outdated comment\n\nThe serialize related methods were removed in commit\n30007fda76aa7ba4e4090f7a16298874a7722926.\n\nIf someone wants to see the tested methods, they can just read the test\nitself, instead of relying on the wrong comment.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:34Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:57:33Z"
      },
      "sha": "fa364af89bd914ea7cd0d4a5470e0a502e0a2075"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMmJiYzllNGNmZTAxNzQzNmE1MTY3YWI1YzQ0M2Y0NDEyZWZhM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
      "tree": {
        "sha": "8ca10a0f413cfdf495710781253ea617abf20996",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ca10a0f413cfdf495710781253ea617abf20996"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 8ca10a0f413cfdf495710781253ea617abf20996\nparent fa364af89bd914ea7cd0d4a5470e0a502e0a2075\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761661238 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664119 +0100\n\nrefactor: [rpc] Remove cast when reporting serialized size\n\nThe values are small enough to fit in an int, so the cast is at best\nredundant. However, UniValue can handle any integer type, so having to\nthink about the cast here is also confusing.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQJHYJC/G8AT8tzQMP8vouKgl6jXr/Dr1aR4dIozqZN7dJO9StJHglLMxiWA/3o6MuX\nHKsZdFPhp1ZankyZbSSQw=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
          "sha": "fa364af89bd914ea7cd0d4a5470e0a502e0a2075",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa364af89bd914ea7cd0d4a5470e0a502e0a2075"
        }
      ],
      "message": "refactor: [rpc] Remove cast when reporting serialized size\n\nThe values are small enough to fit in an int, so the cast is at best\nredundant. However, UniValue can handle any integer type, so having to\nthink about the cast here is also confusing.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:39Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:20:38Z"
      },
      "sha": "fa2bbc9e4cfe017436a5167ab5c443f4412efa3c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMDFmMzhlNTNjZmRhNDE1NWQwZWEwOWNhOGIxMjkxYjcwMDFmZTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
      "tree": {
        "sha": "1e139787df8ee8ed2c320d85494ac6fcc96eeed5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e139787df8ee8ed2c320d85494ac6fcc96eeed5"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 1e139787df8ee8ed2c320d85494ac6fcc96eeed5\nparent fa2bbc9e4cfe017436a5167ab5c443f4412efa3c\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761650056 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761664124 +0100\n\nmove-only: Move CBlockFileInfo to kernel namespace\n\nAlso, move it to the blockstorage module, because it is only used inside\nthat module.\n\nCan be reviewed with the git option --color-moved=dimmed-zebra\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGK3S+X2afJrkCFpCG6O1jD9NfPEy6m8GGtJ11JlL0GIfC01xktk3tpHJEYBvAF+wH\n6amRl7erha+x0+at2Y2wk=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
          "sha": "fa2bbc9e4cfe017436a5167ab5c443f4412efa3c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2bbc9e4cfe017436a5167ab5c443f4412efa3c"
        }
      ],
      "message": "move-only: Move CBlockFileInfo to kernel namespace\n\nAlso, move it to the blockstorage module, because it is only used inside\nthat module.\n\nCan be reviewed with the git option --color-moved=dimmed-zebra",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:08:44Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T11:14:16Z"
      },
      "sha": "fa01f38e53cfda4155d0ea09ca8b1291b7001fe8"
    },
    {
      "event": "renamed",
      "id": 20557849018,
      "node_id": "RTE_lADOABII587UU4WFzwAAAATJV-G6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20557849018",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:40Z",
      "rename": {
        "from": " refactor: Return uint64_t from GetSerializeSize ",
        "to": "refactor: Return uint64_t from GetSerializeSize"
      }
    },
    {
      "event": "labeled",
      "id": 20557849503,
      "node_id": "LE_lADOABII587UU4WFzwAAAATJV-Of",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20557849503",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:41Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3457213250,
      "node_id": "IC_kwDOABII587OEONC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3457213250",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T15:54:43Z",
      "updated_at": "2025-11-02T01:51:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33724.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457444677), [hebasto](https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3389834738), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3458799452) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33591](https://github.com/bitcoin/bitcoin/pull/33591) (Cluster mempool followups by sdaftuar)\n* [#32427](https://github.com/bitcoin/bitcoin/pull/32427) ((RFC) kernel: Replace leveldb-based BlockTreeDB with flat-file based store by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457213250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3457444677,
      "node_id": "IC_kwDOABII587OFGtF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3457444677",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T16:40:50Z",
      "updated_at": "2025-10-28T16:40:50Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3457444677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "reviewed",
      "id": 3389834738,
      "node_id": "PRR_kwDOABII587KDMXy",
      "url": null,
      "actor": null,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-28T16:52:40Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3389834738",
      "submitted_at": "2025-10-28T16:52:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    },
    {
      "event": "commented",
      "id": 3458799452,
      "node_id": "IC_kwDOABII587OKRdc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3458799452",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-28T22:23:06Z",
      "updated_at": "2025-10-28T22:23:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK (only reviewed it lightly) - thanks for taking care of this, I will get back and review it more thoroughly!",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3458799452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "reviewed",
      "id": 3396198580,
      "node_id": "PRR_kwDOABII587KbeC0",
      "url": null,
      "actor": null,
      "commit_id": "fa128d1488c08d9816f425c73d01db4c1597ee68",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-29T20:55:01Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3396198580",
      "submitted_at": "2025-10-29T20:55:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    },
    {
      "event": "reviewed",
      "id": 3393067389,
      "node_id": "PRR_kwDOABII587KPhl9",
      "url": null,
      "actor": null,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-29T21:47:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "I like the focused commits with good explanations.\n\nI would like to suggest to consider something slightly simpler that may fit the data better.\nWe're storing these serialized sizes as 64 bits to avoid having to cast when we multiply the value. But we're always serializing these sizes as either variable length ints or 32 bit ones, so it's a bit awkward that a method returns 64 bit value and we just have to remember to cast them to 32 at call sites (otherwise they would serialize incorrectly in a few places).\nAnd we're never actually multiplying by literals, so if we bump the multiplier to 64 bits (see branch below) and keep the serialization sizes at 32, we can avoid call-site casts and fx the overflow for free.\n\nI have recreated the entire change locally and compared it against your implementation and based on that added a few suggestion, please see them at https://github.com/l0rinc/bitcoin/pull/50/commits/9bb159736d6cc3d8ec67561279c2b9b4bf1129a0. They're not necessarily all suggestions, some are just alternatives or nits, but please consider them. There are still a few inconsistencies that I would like to see patched here - and hope we can propagate these using the appropriate type instead of up-casting just to be absolutely sure...",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#pullrequestreview-3393067389",
      "submitted_at": "2025-10-29T21:47:08Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNGYzODhmYzk5YzllYzdjM2NmMmJhYzM4NjNjN2IzMDA0YmIyYWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae",
      "tree": {
        "sha": "84572135d539c9402a81ffc93a7912b539b01393",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/84572135d539c9402a81ffc93a7912b539b01393"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 84572135d539c9402a81ffc93a7912b539b01393\nparent fa01f38e53cfda4155d0ea09ca8b1291b7001fe8\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761661990 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761843098 +0100\n\nrefactor: Use fixed size ints over (un)signed ints for serialized values\n\nBitcoin Core already assumes that 'unsigned int' means uint32_t and\n'signed int' means int32_t. See src/compat/assumptions.h. Also, any\nserialized integral value must be of a fixed size.\n\nSo make the fixed size explicit in this documenting refactor, which does\nnot change the behavior on any platform.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQFcXpCJDxpZS+s+CaZnnEgiukgXpqOcoxQ/HaBcAnUQup7Fmi56mfIwl/G46nWPEEd\n/RhpoUNW0k14MSL9q9OgQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
          "sha": "fa01f38e53cfda4155d0ea09ca8b1291b7001fe8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01f38e53cfda4155d0ea09ca8b1291b7001fe8"
        }
      ],
      "message": "refactor: Use fixed size ints over (un)signed ints for serialized values\n\nBitcoin Core already assumes that 'unsigned int' means uint32_t and\n'signed int' means int32_t. See src/compat/assumptions.h. Also, any\nserialized integral value must be of a fixed size.\n\nSo make the fixed size explicit in this documenting refactor, which does\nnot change the behavior on any platform.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-30T16:51:38Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T14:33:10Z"
      },
      "sha": "fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZDBjODY4MGVhN2VmNDMzYzJkNmU3YzBkNTc5OWY4MWZkODYxYjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9",
      "tree": {
        "sha": "c7f39a5fd98d64d965b83ba39b08ca3bd9bc286a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c7f39a5fd98d64d965b83ba39b08ca3bd9bc286a"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree c7f39a5fd98d64d965b83ba39b08ca3bd9bc286a\nparent fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761655908 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761843100 +0100\n\nrefactor: Use uint64_t over size_t for serialized-size values\n\nThe values are small enough to fit in size_t, but to avoid having to\nthink about it, just use uint64_t consistently for all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQG65QGOa93cmRlBw6385TA2qEO6P2m+2WoSp8A2ra1xUfI2S7iJALEeapaeCv1Balf\nl8SNavkra3nra2uhyU9gw=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae",
          "sha": "fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4f388fc99c9ec7c3cf2bac3863c7b3004bb2ae"
        }
      ],
      "message": "refactor: Use uint64_t over size_t for serialized-size values\n\nThe values are small enough to fit in size_t, but to avoid having to\nthink about it, just use uint64_t consistently for all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-30T16:51:40Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T12:51:48Z"
      },
      "sha": "fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNmMwYmVkZDMzYWM3YWQyNzQ1NGFkYWY5NTIyZmQyN2JlZjZlYTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "tree": {
        "sha": "acf6fd673e3c3fe2bb20e02e49b3f7c87f468a12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/acf6fd673e3c3fe2bb20e02e49b3f7c87f468a12"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree acf6fd673e3c3fe2bb20e02e49b3f7c87f468a12\nparent fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761663950 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1761843113 +0100\n\nrefactor: Return uint64_t from GetSerializeSize\n\nNormally, the values are small enough to fit in size_t, but the risk\nthat it may not fit sometimes is a reason to use uint64_t consistently\nfor all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n\nFor example, 32-bit Bitcoin Core versions with CVE-2025-46597 unfixed\nmay overflow while checking for the bad-blk-length violation when\nreceiving a malformed and bloated compact block.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQP4EUHDMrGdq1r2i/NbJhU3F9oIzWFObTlXX1fZF5kOJUtqLbHdKdDZ15UYpuf1iG8\n6EtWqzENthKdfHzApDegw=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9",
          "sha": "fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fad0c8680ea7ef433c2d6e7c0d5799f81fd861b9"
        }
      ],
      "message": "refactor: Return uint64_t from GetSerializeSize\n\nNormally, the values are small enough to fit in size_t, but the risk\nthat it may not fit sometimes is a reason to use uint64_t consistently\nfor all architectures.\n\nOn 64-bit systems, this refactor is a no-op. On 32-bit systems, it could\navoid bugs in the theoretical and unexpected case where a 32-bit size_t\nis too small and overflows.\n\nFor example, 32-bit Bitcoin Core versions with CVE-2025-46597 unfixed\nmay overflow while checking for the bad-blk-length violation when\nreceiving a malformed and bloated compact block.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-30T16:51:53Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-10-28T15:05:50Z"
      },
      "sha": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 20614657381,
      "node_id": "HRFPE_lADOABII587UU4WFzwAAAATMurVl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20614657381",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "commit_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits/fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "created_at": "2025-10-30T16:52:21Z"
    },
    {
      "event": "commented",
      "id": 3481365862,
      "node_id": "IC_kwDOABII587PgW1m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3481365862",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:17:35Z",
      "updated_at": "2025-11-03T16:17:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Consensus code should arrive at the same conclusion, regardless of the architecture it runs on.\r\n\r\nTrue.\r\n\r\n> Using architecture-specific types such as size_t can lead to issues.\r\n\r\nCan it?\r\n\r\n`sizeof(size_t)` may have different values on different architectures, so depending on `sizeof(size_t)` is problematic.\r\n\r\nBut if sizes are serialized as `uint32_t`, I assume only the value range of `uint32_t` is valid, even on 64bit machines. In what scenario can `size_t` lead to a problem?",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3481365862",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3481391205,
      "node_id": "IC_kwDOABII587PgdBl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3481391205",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:23:33Z",
      "updated_at": "2025-11-03T16:23:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "nit: C++ defines types like `uint64_t` in the namespace `std` and then, optionally (!!!), also in the global namespace for compatibility with C. We should prefer `std::uint64_t`.",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3481391205",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3481418578,
      "node_id": "IC_kwDOABII587PgjtS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3481418578",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:28:50Z",
      "updated_at": "2025-11-03T16:28:50Z",
      "author_association": "MEMBER",
      "body": "> But if sizes are serialized as `uint32_t`, I assume only the value range of `uint32_t` is valid, even on 64bit machines. In what scenario can `size_t` lead to a problem?\r\n\r\nIt is explained in the CVE (linked in the description):\r\n\r\n\"Before writing a block to disk, Bitcoin Core checks that its size is within a normal range. This check would overflow on 32-bit systems for blocks over 1GB...\"\r\n\r\nThe basic idea is that the following code is brittle:\r\n\r\n```\r\nu32 value = result of some calculation, which may overflow u32\r\nif value > too_large {\r\n  return Err(...);  // fails to hit due to overflow\r\n}\r\n... proceed to use `value` after the overflow, leading to other bugs\r\n```\r\n\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3481418578",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3481472896,
      "node_id": "IC_kwDOABII587Pgw-A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3481472896",
      "actor": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:40:45Z",
      "updated_at": "2025-11-03T16:40:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "@maflcko, I get that checking for overflow after the cause is not going to work.\r\nBut if we have a buggy calculation that may overflow u32, changing the type to u64 is not a proper fix. What if it overflows u64? How do you want to detect that?\r\n\r\nWould you agree that, if the calculation is fixed to detect overflow before the cause then using `size_t` would not be a problem at all?",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3481472896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "mentioned",
      "id": 20679685672,
      "node_id": "MEE_lADOABII587UU4WFzwAAAATQmvYo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20679685672",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:40:46Z"
    },
    {
      "event": "subscribed",
      "id": 20679685722,
      "node_id": "SE_lADOABII587UU4WFzwAAAATQmvZa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20679685722",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-03T16:40:46Z"
    },
    {
      "event": "commented",
      "id": 3487500879,
      "node_id": "IC_kwDOABII587P3wpP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3487500879",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-04T18:32:53Z",
      "updated_at": "2025-11-04T18:32:53Z",
      "author_association": "MEMBER",
      "body": "Yeah, overflowing u64 is conceptually no different and theoretically no harder than overflowing u32. However, in practise (using real-world sizes), it can be assumed with some confidence to not happen.\r\n\r\nI think you are right that ideally CheckedMul (https://doc.rust-lang.org/stable/std/primitive.u64.html#method.checked_mul) is moved to our `src/util/overflow.h` and all places that have a real risk of overflowing are changed to use this helper.\r\n\r\nHowever, thinking about review and maintenance going forward, I am not convinced this is the right approach. It is not trivial to enumerate all places where overflow could occur. Only selectively adjusting the specific places where an overflow could occur seems largely no different than the current specific CVE-workaround to avoid the overflow.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3487500879",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "commented",
      "id": 3487578047,
      "node_id": "IC_kwDOABII587P4De_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3487578047",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-04T18:54:58Z",
      "updated_at": "2025-11-04T18:54:58Z",
      "author_association": "MEMBER",
      "body": "@maflcko Thinking out loud, and not really commentary on this PR.\n\nBut if the reasoning is that identifying the places where a \"non-overflowing type\" (uint64) ought to be used is easier than identifying the places where a \"non-overflowing multiply\" (CheckedMul) needs to be used, then one possibility is creating a wrapping integer type that just has no non-overflying multiplication (or other) operations.\n\nThis is likely far overkill for what we're trying to achieve, though.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#issuecomment-3487578047",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33724"
    },
    {
      "event": "mentioned",
      "id": 20711126598,
      "node_id": "MEE_lADOABII587UU4WFzwAAAATSerZG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20711126598",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-04T18:54:59Z"
    },
    {
      "event": "subscribed",
      "id": 20711126628,
      "node_id": "SE_lADOABII587UU4WFzwAAAATSerZk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20711126628",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-11-04T18:54:59Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472810064",
      "pull_request_review_id": 3393067389,
      "id": 2472810064,
      "node_id": "PRRC_kwDOABII586TZBZQ",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This value will be returned and converted to a `size_t` again\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L201\nand added to a `FlatFilePos::nPos`\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L285\nwhich is currently a `uint32_t`:\nhttps://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/flatfile.h#L17\n\nCan we avoid converting this back and forth? I understand that we don't have files that need gigabyte offsets - but in that case why convert to 64 bits here just to convert it back an forth later.",
      "created_at": "2025-10-29T12:26:42Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472810064",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472810064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472815299",
      "pull_request_review_id": 3393067389,
      "id": 2472815299,
      "node_id": "PRRC_kwDOABII586TZCrD",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));",
      "path": "src/rpc/blockchain.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "is there any scenario where where a signed `UniValue` value is different from an unsigned one?",
      "created_at": "2025-10-29T12:28:10Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472815299",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472815299"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 188,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472821589",
      "pull_request_review_id": 3393067389,
      "id": 2472821589,
      "node_id": "PRRC_kwDOABII586TZENV",
      "diff_hunk": "@@ -2033,7 +2033,7 @@ static RPCHelpMan getblockstats()\n             for (const CTxOut& out : tx->vout) {\n                 tx_total_out += out.nValue;\n \n-                size_t out_size = GetSerializeSize(out) + PER_UTXO_OVERHEAD;\n+                uint64_t out_size{GetSerializeSize(out) + PER_UTXO_OVERHEAD};",
      "path": "src/rpc/blockchain.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Can we migrate the constant to 64 bits as well?\r\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/rpc/blockchain.cpp#L1907\r\n```C++\r\nstatic constexpr uint64_t PER_UTXO_OVERHEAD{sizeof(COutPoint) + sizeof(uint32_t) + sizeof(bool)};\r\n```\r\nOr if we will go the other way and mirror storage and only up-cast when needed, it would be:\r\n```C++\r\nstatic constexpr uint32_t PER_UTXO_OVERHEAD{sizeof(COutPoint) + sizeof(uint32_t) + sizeof(bool)};\r\n```",
      "created_at": "2025-10-29T12:29:45Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472821589",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472821589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2036,
      "original_line": 2036,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472880211",
      "pull_request_review_id": 3393067389,
      "id": 2472880211,
      "node_id": "PRRC_kwDOABII586TZShT",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 35,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/node/blockstorage.h#L120\r\nshould also likely be updated now to:\r\n```C++\r\nstatic constexpr uint32_t STORAGE_HEADER_BYTES{std::tuple_size_v<MessageStartChars> + sizeof(uint32_t)};\r\n```\r\n\r\n----\r\n\r\nNote: I understand this works on most 32 bit systems we support, but https://en.cppreference.com/w/cpp/language/types.html indicates it can vary between 16 and 32 bits.\r\nAlso, https://learn.microsoft.com/en-us/cpp/cpp/data-type-ranges warns:\r\n> The int and unsigned int types have a size of 4 bytes. However, portable code shouldn't depend on the size of int because the language standard allows this to be implementation-specific.\r\n\r\nhttps://godbolt.org/z/osrfrs8WW indicates both 32 and 64 bit platforms that I tried return **8** for `STORAGE_HEADER_BYTES_OLD`.",
      "created_at": "2025-10-29T12:44:08Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472880211",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472880211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1100,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472903256",
      "pull_request_review_id": 3393067389,
      "id": 2472903256,
      "node_id": "PRRC_kwDOABII586TZYJY",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));\n+    result.pushKV(\"size\", ::GetSerializeSize(TX_WITH_WITNESS(block)));\n+    result.pushKV(\"weight\", ::GetBlockWeight(block));",
      "path": "src/rpc/blockchain.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Not sure I understand why `GetBlockWeight` is `int64_t`\nhttps://github.com/bitcoin/bitcoin/blob/3c5d1a468199722da620f1f3d8ae3319980a46d5/src/consensus/validation.h#L136\nbut `MAX_BLOCK_WEIGHT` and `MAX_BLOCK_SERIALIZED_SIZE` are only `unsigned int`\nhttps://github.com/bitcoin/bitcoin/blob/3c5d1a468199722da620f1f3d8ae3319980a46d5/src/consensus/consensus.h#L15",
      "created_at": "2025-10-29T12:51:39Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472903256",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472903256"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 190,
      "original_line": 190,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472910698",
      "pull_request_review_id": 3393067389,
      "id": 2472910698,
      "node_id": "PRRC_kwDOABII586TZZ9q",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};\n     if (pos.IsNull()) {\n         LogError(\"FindNextBlockPos failed for %s while writing block\", pos.ToString());",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 37,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`FindNextBlockPos` has `unsigned int nAddSize` arg still:\n```C++\nFlatFilePos BlockManager::FindNextBlockPos(uint32_t nAddSize, unsigned int nHeight, uint64_t nTime)\n```",
      "created_at": "2025-10-29T12:54:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472910698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472910698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1102,
      "original_line": 1102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472976911",
      "pull_request_review_id": 3393067389,
      "id": 2472976911,
      "node_id": "PRRC_kwDOABII586TZqIP",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{\n         GetSerializeSize(filter.GetBlockHash()) +\n-        GetSerializeSize(filter.GetEncodedFilter());\n+        GetSerializeSize(filter.GetEncodedFilter())};\n \n     // If writing the filter would overflow the file, flush and move to the next one.\n     if (pos.nPos + data_size > MAX_FLTR_FILE_SIZE) {",
      "path": "src/index/blockfilterindex.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`MAX_FLTR_FILE_SIZE` is only used here\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L39\nwe should adjust its type to match the usage\n```C++\nconstexpr uint32_t FLTR_FILE_CHUNK_SIZE{0x100000}; // 1 MiB\n```",
      "created_at": "2025-10-29T13:14:34Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472976911",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472976911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 210,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472994638",
      "pull_request_review_id": 3393067389,
      "id": 2472994638,
      "node_id": "PRRC_kwDOABII586TZudO",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This is used later\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/index/blockfilterindex.cpp#L236\nfor a method that still expects `size_t`\nhttps://github.com/bitcoin/bitcoin/blob/c10e382d2a3b76b70ebb8a4eb5cd99fc9f14d702/src/flatfile.cpp#L57",
      "created_at": "2025-10-29T13:18:16Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2472994638",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2472994638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473283293",
      "pull_request_review_id": 3393067389,
      "id": 2473283293,
      "node_id": "PRRC_kwDOABII586Ta07d",
      "diff_hunk": "@@ -1051,31 +1051,32 @@ struct ActionUnserialize {\n class SizeComputer\n {\n protected:\n-    size_t nSize{0};\n+    uint64_t m_size{0};\n \n public:\n     SizeComputer() = default;\n \n     void write(std::span<const std::byte> src)\n     {\n-        this->nSize += src.size();\n+        m_size += src.size();\n     }\n \n-    /** Pretend _nSize bytes are written, without specifying them. */\n-    void seek(size_t _nSize)\n+    /** Pretend this many bytes are written, without specifying them. */\n+    void seek(uint64_t num)\n     {\n-        this->nSize += _nSize;\n+        m_size += num;\n     }\n \n-    template<typename T>\n+    template <typename T>\n     SizeComputer& operator<<(const T& obj)\n     {\n         ::Serialize(*this, obj);\n-        return (*this);\n+        return *this;\n     }\n \n-    size_t size() const {\n-        return nSize;\n+    uint64_t size() const",
      "path": "src/serialize.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "If we decide to keep the 64 here, please consider propagating it to other stream sizes as well, e.g.\r\nhttps://github.com/bitcoin/bitcoin/blob/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9/src/serialize.h#L1131\r\nand\r\nhttps://github.com/bitcoin/bitcoin/blob/fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9/src/streams.h#L101",
      "created_at": "2025-10-29T14:03:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473283293",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473283293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1077,
      "original_line": 1077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473369894",
      "pull_request_review_id": 3393067389,
      "id": 2473369894,
      "node_id": "PRRC_kwDOABII586TbKEm",
      "diff_hunk": "@@ -1034,7 +1034,7 @@ void DiscourageFeeSniping(CMutableTransaction& tx, FastRandomContext& rng_fast,\n     }\n }\n \n-size_t GetSerializeSizeForRecipient(const CRecipient& recipient)\n+uint64_t GetSerializeSizeForRecipient(const CRecipient& recipient)",
      "path": "src/wallet/spend.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "If we're changing this, we should likely adjust the usage as well:\nhttps://github.com/bitcoin/bitcoin/blob/fab75c2d0332fdb25030abb441363478cd486dc5/src/wallet/spend.cpp#L1085\n```C++\n    int32_t tx_noinputs_size = 0;\n```",
      "created_at": "2025-10-29T14:16:01Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473369894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473369894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1037,
      "original_line": 1037,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473712142",
      "pull_request_review_id": 3393067389,
      "id": 2473712142,
      "node_id": "PRRC_kwDOABII586TcdoO",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     const int nFile = pos.nFile;",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 26,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/blob/fa128d1488c08d9816f425c73d01db4c1597ee68/src/flatfile.h#L16\n is `int32_t` now so we should update these as well:\n```C++\n    const int32_t nFile = pos.nFile;\n    if (static_cast<int32_t>(m_blockfile_info.size()) <= nFile) {\n```",
      "created_at": "2025-10-29T15:11:50Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2473712142",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2473712142"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 907,
      "original_line": 907,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474414992",
      "pull_request_review_id": 3393067389,
      "id": 2474414992,
      "node_id": "PRRC_kwDOABII586TfJOQ",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It feels wrong to cast down on the client side, just to avoid incorrect serialization for the 64 bit version.\r\nWe're also storing these as 32 bits in many places, seems wrong to return 64 bits just because we will have a multiplication down the line.\r\nIt seems like a code smell, I think we should go the other way instead: return an actual `uint32_t` size (which matches how we store and serialize these anyway) and only cast up before the problematic multiplications.\r\nMultiplying by `static const uint64_t WITNESS_SCALE_FACTOR{4};` would already solve that without extra casts as far as I can tell.",
      "created_at": "2025-10-29T17:57:33Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2474414992",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474414992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 906,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474564414",
      "pull_request_review_id": 3393067389,
      "id": 2474564414,
      "node_id": "PRRC_kwDOABII586Tfts-",
      "diff_hunk": "@@ -349,8 +349,8 @@ void CCoinsViewCache::SanityCheck() const\n     assert(recomputed_usage == cachedCoinsUsage);\n }\n \n-static const size_t MIN_TRANSACTION_OUTPUT_WEIGHT = WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut());\n-static const size_t MAX_OUTPUTS_PER_BLOCK = MAX_BLOCK_WEIGHT / MIN_TRANSACTION_OUTPUT_WEIGHT;\n+static const uint64_t MIN_TRANSACTION_OUTPUT_WEIGHT{WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut())};",
      "path": "src/coins.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "storing `MIN_TRANSACTION_OUTPUT_WEIGHT` and `WITNESS_SCALE_FACTOR` as `uint64_t` would roughly fix the problem already, right? https://godbolt.org/z/M4dW3nsKM",
      "created_at": "2025-10-29T18:23:00Z",
      "updated_at": "2025-10-29T21:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2474564414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2474564414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 352,
      "original_line": 352,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2475436253",
      "pull_request_review_id": 3396198580,
      "id": 2475436253,
      "node_id": "PRRC_kwDOABII586TjCjd",
      "diff_hunk": "@@ -13,16 +13,16 @@\n ",
      "path": "src/flatfile.h",
      "position": 1,
      "original_position": 1,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fa128d1488c08d9816f425c73d01db4c1597ee68",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit fa128d1488c08d9816f425c73d01db4c1597ee68:\r\n\r\nWould the return type of `GetTotalSize` fit into the criteria for this refactor?\r\n\r\n```diff\r\ndiff --git a/src/blockencodings.cpp b/src/blockencodings.cpp\r\nindex cf6da55aa9..9d50dfe949 100644\r\n--- a/src/blockencodings.cpp\r\n+++ b/src/blockencodings.cpp\r\n@@ -195 +195 @@ ReadStatus PartiallyDownloadedBlock::FillBlock(CBlock& block, const std::vector<\r\n-    unsigned int tx_missing_size = 0;\r\n+    uint32_t tx_missing_size = 0;\r\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\r\nindex 80902b9e9c..cfb5f80f6a 100644\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -2474 +2474 @@ void PeerManagerImpl::SendBlockTransactions(CNode& pfrom, Peer& peer, const CBlo\r\n-    unsigned int tx_requested_size = 0;\r\n+    uint32_t tx_requested_size = 0;\r\ndiff --git a/src/primitives/transaction.cpp b/src/primitives/transaction.cpp\r\nindex e80ab60fcd..10c9361850 100644\r\n--- a/src/primitives/transaction.cpp\r\n+++ b/src/primitives/transaction.cpp\r\n@@ -110 +110 @@ CAmount CTransaction::GetValueOut() const\r\n-unsigned int CTransaction::GetTotalSize() const\r\n+uint32_t CTransaction::GetTotalSize() const\r\n```",
      "created_at": "2025-10-29T20:55:00Z",
      "updated_at": "2025-10-29T20:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2475436253",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2475436253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 13,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476860710",
      "pull_request_review_id": 3398012638,
      "id": 2476860710,
      "node_id": "PRRC_kwDOABII586ToeUm",
      "diff_hunk": "@@ -13,16 +13,16 @@\n ",
      "path": "src/flatfile.h",
      "position": 1,
      "original_position": 1,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fa128d1488c08d9816f425c73d01db4c1597ee68",
      "in_reply_to_id": 2475436253,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Good question. I wanted to keep it limited to member fields (and their constructors) only. Otherwise, there'd be way too many function calls to touch. Happy to do those in a follow-up. Also, happy to drop the `src/node/blockstorage.cpp` changes from this commit, to keep it more focussed on just member fields.",
      "created_at": "2025-10-30T08:33:23Z",
      "updated_at": "2025-10-30T08:33:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476860710",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476860710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 13,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476885390",
      "pull_request_review_id": 3398046470,
      "id": 2476885390,
      "node_id": "PRRC_kwDOABII586TokWO",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472810064,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> This value will be returned and converted to a `size_t` again\r\n\r\nCorrect, but this is safe, because the range was checked in the `if` below.\r\n\r\nGenerally, the idea is that 32-bits is just not really enough to do size accounting (even on 32-bit architectures), because some code  paths may accumulate sizes over time, or multiply them with a factor, all of which may or may not overflow the limited 32-bit value.\r\n\r\nSo using 64-bit arithmetic is overall safer, and more future proof, because current and future reviewers have to think less about whether a 32-bit value may or may not overflow when doing arithmetic with it.\r\n\r\nObviously, many 64-bit values will need to be cast to 32-bit later on for serialization, but this is generally only done after checking their range to ensure a safe cast. For example, in this case it is:\r\n\r\n```\r\n    if (pos.nPos + data_size > MAX_FLTR_FILE_SIZE) {\r\n```\r\n\r\n`nPos` and `MAX_FLTR_FILE_SIZE` are 32-bit values, so if `data_size` was also 32-bit, the sum could overflow (theoretically) and incorrectly pass the if guard. Using 64-bit values here seems safer.\r\n\r\nI see in your branch that you want to change `MAX_FLTR_FILE_SIZE` to be 32-bit explicitly. However, I think it is safer to change it to 64-bit (or leave it as-is and rely on data_size being 64-bit).",
      "created_at": "2025-10-30T08:40:45Z",
      "updated_at": "2025-10-30T08:40:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476885390",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476885390"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889493",
      "pull_request_review_id": 3398051761,
      "id": 2476889493,
      "node_id": "PRRC_kwDOABII586TolWV",
      "diff_hunk": "@@ -349,8 +349,8 @@ void CCoinsViewCache::SanityCheck() const\n     assert(recomputed_usage == cachedCoinsUsage);\n }\n \n-static const size_t MIN_TRANSACTION_OUTPUT_WEIGHT = WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut());\n-static const size_t MAX_OUTPUTS_PER_BLOCK = MAX_BLOCK_WEIGHT / MIN_TRANSACTION_OUTPUT_WEIGHT;\n+static const uint64_t MIN_TRANSACTION_OUTPUT_WEIGHT{WITNESS_SCALE_FACTOR * ::GetSerializeSize(CTxOut())};",
      "path": "src/coins.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2474564414,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "yes, but see above",
      "created_at": "2025-10-30T08:41:56Z",
      "updated_at": "2025-10-30T08:41:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476889493",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 352,
      "original_line": 352,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889544",
      "pull_request_review_id": 3398051828,
      "id": 2476889544,
      "node_id": "PRRC_kwDOABII586TolXI",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2474414992,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, I can go that way, but I think using 64-bit by default and explicitly casting after the range has been properly checked seems safer, see also https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476885390",
      "created_at": "2025-10-30T08:41:57Z",
      "updated_at": "2025-10-30T08:41:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476889544",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 906,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889665",
      "pull_request_review_id": 3398052034,
      "id": 2476889665,
      "node_id": "PRRC_kwDOABII586TolZB",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     const int nFile = pos.nFile;",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 26,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473712142,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Correct, but I wanted to keep this commit limited to just member fields, see https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476860710. Happy to revert this hunk and leave if for a follow-up.",
      "created_at": "2025-10-30T08:42:00Z",
      "updated_at": "2025-10-30T08:42:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476889665",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 907,
      "original_line": 907,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889813",
      "pull_request_review_id": 3398052216,
      "id": 2476889813,
      "node_id": "PRRC_kwDOABII586TolbV",
      "diff_hunk": "@@ -1034,7 +1034,7 @@ void DiscourageFeeSniping(CMutableTransaction& tx, FastRandomContext& rng_fast,\n     }\n }\n \n-size_t GetSerializeSizeForRecipient(const CRecipient& recipient)\n+uint64_t GetSerializeSizeForRecipient(const CRecipient& recipient)",
      "path": "src/wallet/spend.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473369894,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I wanted to keep this one focussed on the kernel. Wallet changes can be done in a follow-up, if that is fine?",
      "created_at": "2025-10-30T08:42:03Z",
      "updated_at": "2025-10-30T08:42:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476889813",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476889813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1037,
      "original_line": 1037,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890208",
      "pull_request_review_id": 3398052684,
      "id": 2476890208,
      "node_id": "PRRC_kwDOABII586Tolhg",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{",
      "path": "src/index/blockfilterindex.cpp",
      "position": 51,
      "original_position": 51,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472994638,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "(see above)",
      "created_at": "2025-10-30T08:42:08Z",
      "updated_at": "2025-10-30T08:42:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476890208",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890547",
      "pull_request_review_id": 3398053007,
      "id": 2476890547,
      "node_id": "PRRC_kwDOABII586Tolmz",
      "diff_hunk": "@@ -222,9 +202,9 @@ size_t BlockFilterIndex::WriteFilterToDisk(FlatFilePos& pos, const BlockFilter&\n {\n     assert(filter.GetFilterType() == GetFilterType());\n \n-    size_t data_size =\n+    uint64_t data_size{\n         GetSerializeSize(filter.GetBlockHash()) +\n-        GetSerializeSize(filter.GetEncodedFilter());\n+        GetSerializeSize(filter.GetEncodedFilter())};\n \n     // If writing the filter would overflow the file, flush and move to the next one.\n     if (pos.nPos + data_size > MAX_FLTR_FILE_SIZE) {",
      "path": "src/index/blockfilterindex.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472976911,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "(see above)",
      "created_at": "2025-10-30T08:42:12Z",
      "updated_at": "2025-10-30T08:42:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476890547",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890547"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 210,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890802",
      "pull_request_review_id": 3398053268,
      "id": 2476890802,
      "node_id": "PRRC_kwDOABII586Tolqy",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};\n     if (pos.IsNull()) {\n         LogError(\"FindNextBlockPos failed for %s while writing block\", pos.ToString());",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 37,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472910698,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Correct, but I wanted to keep this commit limited to just member fields, see https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476860710. Happy to revert this hunk and leave if for a follow-up.",
      "created_at": "2025-10-30T08:42:15Z",
      "updated_at": "2025-10-30T08:42:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476890802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1102,
      "original_line": 1102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890904",
      "pull_request_review_id": 3398053391,
      "id": 2476890904,
      "node_id": "PRRC_kwDOABII586TolsY",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));\n+    result.pushKV(\"size\", ::GetSerializeSize(TX_WITH_WITNESS(block)));\n+    result.pushKV(\"weight\", ::GetBlockWeight(block));",
      "path": "src/rpc/blockchain.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472903256,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Not sure I understand why `GetBlockWeight` is `int64_t`\r\n\r\nGenerally, signed arithmetic types are preferred, when the values are later on used in arithmetic expressions. (Though, I don't want to re-hash the discussion here and just focus on moving 32-bit to 64-bit unsigned arithmetic)\r\n\r\n\r\n\r\n> but `MAX_BLOCK_WEIGHT` and `MAX_BLOCK_SERIALIZED_SIZE` are only `unsigned int`\r\n\r\nThe type is sufficient to hold the value (also enforced at compile time by the compiler) and the type will promote itself seamlessly to work with 64-bit signed and unsigned arithmetic.",
      "created_at": "2025-10-30T08:42:17Z",
      "updated_at": "2025-10-30T08:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476890904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 190,
      "original_line": 190,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890984",
      "pull_request_review_id": 3398053487,
      "id": 2476890984,
      "node_id": "PRRC_kwDOABII586Tolto",
      "diff_hunk": "@@ -1090,7 +1096,7 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n \n FlatFilePos BlockManager::WriteBlock(const CBlock& block, int nHeight)\n {\n-    const unsigned int block_size{static_cast<unsigned int>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n+    const auto block_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};\n     FlatFilePos pos{FindNextBlockPos(block_size + STORAGE_HEADER_BYTES, nHeight, block.GetBlockTime())};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 35,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472880211,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Correct, but I wanted to keep this commit limited to just member fields, see https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476860710. Happy to revert this hunk and leave if for a follow-up.",
      "created_at": "2025-10-30T08:42:19Z",
      "updated_at": "2025-10-30T08:42:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476890984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476890984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1100,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476891089",
      "pull_request_review_id": 3398053622,
      "id": 2476891089,
      "node_id": "PRRC_kwDOABII586TolvR",
      "diff_hunk": "@@ -2033,7 +2033,7 @@ static RPCHelpMan getblockstats()\n             for (const CTxOut& out : tx->vout) {\n                 tx_total_out += out.nValue;\n \n-                size_t out_size = GetSerializeSize(out) + PER_UTXO_OVERHEAD;\n+                uint64_t out_size{GetSerializeSize(out) + PER_UTXO_OVERHEAD};",
      "path": "src/rpc/blockchain.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472821589,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Can we migrate the constant to 64 bits as well?\r\n\r\nYes, happy to push that. (See my above comment why 64-bit is preferable)",
      "created_at": "2025-10-30T08:42:21Z",
      "updated_at": "2025-10-30T08:42:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476891089",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476891089"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2036,
      "original_line": 2036,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476891157",
      "pull_request_review_id": 3398053713,
      "id": 2476891157,
      "node_id": "PRRC_kwDOABII586TolwV",
      "diff_hunk": "@@ -185,9 +185,9 @@ UniValue blockToJSON(BlockManager& blockman, const CBlock& block, const CBlockIn\n {\n     UniValue result = blockheaderToJSON(tip, blockindex, pow_limit);\n \n-    result.pushKV(\"strippedsize\", (int)::GetSerializeSize(TX_NO_WITNESS(block)));\n-    result.pushKV(\"size\", (int)::GetSerializeSize(TX_WITH_WITNESS(block)));\n-    result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n+    result.pushKV(\"strippedsize\", ::GetSerializeSize(TX_NO_WITNESS(block)));",
      "path": "src/rpc/blockchain.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2472815299,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, a signed UniValue can be different here, when an overflow occurs. It would be represented as a string that starts with the `-` char.\r\n\r\nHowever, I don't think an overflow can occur, as explained in the commit message.",
      "created_at": "2025-10-30T08:42:23Z",
      "updated_at": "2025-10-30T08:42:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476891157",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476891157"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 188,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476903348",
      "pull_request_review_id": 3398069012,
      "id": 2476903348,
      "node_id": "PRRC_kwDOABII586Toou0",
      "diff_hunk": "@@ -1051,31 +1051,32 @@ struct ActionUnserialize {\n class SizeComputer\n {\n protected:\n-    size_t nSize{0};\n+    uint64_t m_size{0};\n \n public:\n     SizeComputer() = default;\n \n     void write(std::span<const std::byte> src)\n     {\n-        this->nSize += src.size();\n+        m_size += src.size();\n     }\n \n-    /** Pretend _nSize bytes are written, without specifying them. */\n-    void seek(size_t _nSize)\n+    /** Pretend this many bytes are written, without specifying them. */\n+    void seek(uint64_t num)\n     {\n-        this->nSize += _nSize;\n+        m_size += num;\n     }\n \n-    template<typename T>\n+    template <typename T>\n     SizeComputer& operator<<(const T& obj)\n     {\n         ::Serialize(*this, obj);\n-        return (*this);\n+        return *this;\n     }\n \n-    size_t size() const {\n-        return nSize;\n+    uint64_t size() const",
      "path": "src/serialize.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473283293,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, happy to push. I can see it go either way, because those return values are not primarily used in consensus, but rather try to mimic the std lib containers interface.",
      "created_at": "2025-10-30T08:45:48Z",
      "updated_at": "2025-10-30T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476903348",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2476903348"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1077,
      "original_line": 1077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478779605",
      "pull_request_review_id": 3400577049,
      "id": 2478779605,
      "node_id": "PRRC_kwDOABII586TvyzV",
      "diff_hunk": "@@ -1051,31 +1051,32 @@ struct ActionUnserialize {\n class SizeComputer\n {\n protected:\n-    size_t nSize{0};\n+    uint64_t m_size{0};\n \n public:\n     SizeComputer() = default;\n \n     void write(std::span<const std::byte> src)\n     {\n-        this->nSize += src.size();\n+        m_size += src.size();\n     }\n \n-    /** Pretend _nSize bytes are written, without specifying them. */\n-    void seek(size_t _nSize)\n+    /** Pretend this many bytes are written, without specifying them. */\n+    void seek(uint64_t num)\n     {\n-        this->nSize += _nSize;\n+        m_size += num;\n     }\n \n-    template<typename T>\n+    template <typename T>\n     SizeComputer& operator<<(const T& obj)\n     {\n         ::Serialize(*this, obj);\n-        return (*this);\n+        return *this;\n     }\n \n-    size_t size() const {\n-        return nSize;\n+    uint64_t size() const",
      "path": "src/serialize.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473283293,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "These two are used in consensus code as well, that's why I mentioned them. And they're part of some template metaprogramming magic which should likely be aligned here. Will leave it up to you of course.",
      "created_at": "2025-10-30T16:31:45Z",
      "updated_at": "2025-10-30T16:31:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2478779605",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478779605"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1077,
      "original_line": 1077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478798725",
      "pull_request_review_id": 3400602969,
      "id": 2478798725,
      "node_id": "PRRC_kwDOABII586Tv3eF",
      "diff_hunk": "@@ -1034,7 +1034,7 @@ void DiscourageFeeSniping(CMutableTransaction& tx, FastRandomContext& rng_fast,\n     }\n }\n \n-size_t GetSerializeSizeForRecipient(const CRecipient& recipient)\n+uint64_t GetSerializeSizeForRecipient(const CRecipient& recipient)",
      "path": "src/wallet/spend.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473369894,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Sure, but the smallest change here that would fix the bug would be to upcast the `4` multiplier to 64 bits as mentioned in https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2474414992.\r\nI don't mind doing some combination of partial migration and not just the smallest possible diff, but I mentioned the outliers, will let you decide which ones are relevant and which ones to do separately. I don't particularly care about the order.",
      "created_at": "2025-10-30T16:37:58Z",
      "updated_at": "2025-10-30T16:37:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2478798725",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478798725"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1037,
      "original_line": 1037,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478801132",
      "pull_request_review_id": 3400605725,
      "id": 2478801132,
      "node_id": "PRRC_kwDOABII586Tv4Ds",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2474414992,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2476885390 explains it well, I can get behind both as long as we're consistent",
      "created_at": "2025-10-30T16:38:47Z",
      "updated_at": "2025-10-30T16:38:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2478801132",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478801132"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 906,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478816900",
      "pull_request_review_id": 3400627724,
      "id": 2478816900,
      "node_id": "PRRC_kwDOABII586Tv76E",
      "diff_hunk": "@@ -1051,31 +1051,32 @@ struct ActionUnserialize {\n class SizeComputer\n {\n protected:\n-    size_t nSize{0};\n+    uint64_t m_size{0};\n \n public:\n     SizeComputer() = default;\n \n     void write(std::span<const std::byte> src)\n     {\n-        this->nSize += src.size();\n+        m_size += src.size();\n     }\n \n-    /** Pretend _nSize bytes are written, without specifying them. */\n-    void seek(size_t _nSize)\n+    /** Pretend this many bytes are written, without specifying them. */\n+    void seek(uint64_t num)\n     {\n-        this->nSize += _nSize;\n+        m_size += num;\n     }\n \n-    template<typename T>\n+    template <typename T>\n     SizeComputer& operator<<(const T& obj)\n     {\n         ::Serialize(*this, obj);\n-        return (*this);\n+        return *this;\n     }\n \n-    size_t size() const {\n-        return nSize;\n+    uint64_t size() const",
      "path": "src/serialize.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "fa6c0bedd33ac7ad27454adaf9522fd27bef6ea3",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2473283293,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> These two are used in consensus code as well,\r\n\r\nNo, they are not. Only one of them is used in psbt, which is not consensus.\r\n\r\nOne way to check if a function is used somewhere is to `=delete` it and compile.\r\n\r\nThe following diff compiles:\r\n\r\n```diff\r\ndiff --git a/src/psbt.h b/src/psbt.h\r\nindex f0de079f7b..ec235ed2fc 100644\r\n--- a/src/psbt.h\r\n+++ b/src/psbt.h\r\n@@ -212,7 +212,7 @@ void DeserializeMuSig2ParticipantPubkeys(Stream& s, SpanReader& skey, std::map<C\r\n     std::vector<unsigned char> val;\r\n     s >> val;\r\n     SpanReader s_val{val};\r\n-    while (s_val.size() >= CPubKey::COMPRESSED_SIZE) {\r\n+     {\r\n         std::array<unsigned char, CPubKey::COMPRESSED_SIZE> part_pubkey_bytes;\r\n         s_val >> std::as_writable_bytes(std::span{part_pubkey_bytes});\r\n         participants.emplace_back(std::span{part_pubkey_bytes});\r\ndiff --git a/src/serialize.h b/src/serialize.h\r\nindex e88a25fa11..594fc72ef6 100644\r\n--- a/src/serialize.h\r\n+++ b/src/serialize.h\r\n@@ -1127,7 +1127,7 @@ public:\r\n     void read(std::span<std::byte> dst) { GetStream().read(dst); }\r\n     void ignore(size_t num) { GetStream().ignore(num); }\r\n     bool eof() const { return GetStream().eof(); }\r\n-    size_t size() const { return GetStream().size(); }\r\n+//    size_t size() const { return GetStream().size(); }\r\n \r\n     //! Get reference to stream parameters.\r\n     template <typename P>\r\ndiff --git a/src/streams.h b/src/streams.h\r\nindex 36af8dd615..d7e6c8de91 100644\r\n--- a/src/streams.h\r\n+++ b/src/streams.h\r\n@@ -98,7 +98,7 @@ public:\r\n         return (*this);\r\n     }\r\n \r\n-    size_t size() const { return m_data.size(); }\r\n+    //size_t size() const { return m_data.size(); }\r\n     bool empty() const { return m_data.empty(); }\r\n \r\n     void read(std::span<std::byte> dst)\r\n",
      "created_at": "2025-10-30T16:44:12Z",
      "updated_at": "2025-10-30T16:44:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2478816900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478816900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1077,
      "original_line": 1077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478845769",
      "pull_request_review_id": 3400666827,
      "id": 2478845769,
      "node_id": "PRRC_kwDOABII586TwC9J",
      "diff_hunk": "@@ -897,7 +903,7 @@ void BlockManager::UpdateBlockInfo(const CBlock& block, unsigned int nHeight, co\n     }\n \n     // Update the file information with the current block.\n-    const unsigned int added_size = ::GetSerializeSize(TX_WITH_WITNESS(block));\n+    const auto added_size{static_cast<uint32_t>(GetSerializeSize(TX_WITH_WITNESS(block)))};",
      "path": "src/node/blockstorage.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "original_commit_id": "fadd49bd6d4a7d3d1811eb4c31aeb425e9d8e9c9",
      "in_reply_to_id": 2474414992,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Dropped the `blockstorage.cpp` changes",
      "created_at": "2025-10-30T16:54:19Z",
      "updated_at": "2025-10-30T16:54:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33724#discussion_r2478845769",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2478845769"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33724"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 906,
      "side": "RIGHT"
    }
  ]
}