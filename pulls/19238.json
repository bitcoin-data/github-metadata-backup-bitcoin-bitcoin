{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238",
    "id": 432541343,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNTQxMzQz",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19238",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/19238.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/19238.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ae98aec9c0521cdcec76459c8200bd45ff6a1485",
    "number": 19238,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "refactor: Make CAddrMan::cs non-recursive",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR replaces `RecursiveMutex CAddrMan::cs` with `Mutex CAddrMan::cs`.\r\n\r\nAll of the related code branches are covered by appropriate lock assertions to insure that the mutex locking policy has not been changed by accident.\r\n\r\nRelated to #19303.\r\n\r\nBased on #22025, and first three commits belong to it.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-06-10T15:39:51Z",
    "updated_at": "2022-08-16T17:24:15Z",
    "closed_at": "2021-06-14T14:43:02Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-06-14T14:43:02Z",
    "merge_commit_sha": "3a2c84a6b5144f4ee1181373604133751b40d5ce",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "hebasto:200610-addrman-mx",
      "ref": "200610-addrman-mx",
      "sha": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143212778,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDMyMTI3Nzg=",
        "name": "bitcoin",
        "full_name": "hebasto/bitcoin",
        "owner": {
          "login": "hebasto",
          "id": 32963518,
          "node_id": "MDQ6VXNlcjMyOTYzNTE4",
          "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hebasto",
          "html_url": "https://github.com/hebasto",
          "followers_url": "https://api.github.com/users/hebasto/followers",
          "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
          "organizations_url": "https://api.github.com/users/hebasto/orgs",
          "repos_url": "https://api.github.com/users/hebasto/repos",
          "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/hebasto/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/hebasto/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/hebasto/bitcoin",
        "archive_url": "https://api.github.com/repos/hebasto/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/hebasto/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/hebasto/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/hebasto/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/hebasto/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/hebasto/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/hebasto/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/hebasto/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/hebasto/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/hebasto/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/hebasto/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/hebasto/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/hebasto/bitcoin/events",
        "forks_url": "https://api.github.com/repos/hebasto/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/hebasto/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/hebasto/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/hebasto/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/hebasto/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/hebasto/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/hebasto/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/hebasto/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/hebasto/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/hebasto/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/hebasto/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/hebasto/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/hebasto/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/hebasto/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/hebasto/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/hebasto/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:hebasto/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/hebasto/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/hebasto/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/hebasto/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/hebasto/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/hebasto/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/hebasto/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/hebasto/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/hebasto/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/hebasto/bitcoin/hooks",
        "svn_url": "https://github.com/hebasto/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 13,
        "watchers_count": 13,
        "size": 251607,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [
          "bitcoin-core"
        ],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T18:38:17Z",
        "created_at": "2018-08-01T21:59:57Z",
        "updated_at": "2023-07-25T14:18:54Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "5c4f0c4d46f030498c222a15a0399c6e0a7d28f1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 75,
    "deletions": 38,
    "changed_files": 4,
    "commits": 10,
    "review_comments": 29,
    "comments": 28
  },
  "events": [
    {
      "event": "commented",
      "id": 642092803,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjA5MjgwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642092803",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T15:41:34Z",
      "updated_at": "2020-06-10T15:41:34Z",
      "author_association": "MEMBER",
      "body": "cc @vasild :)",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642092803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 3430287505,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQzMDI4NzUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430287505",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T15:41:35Z"
    },
    {
      "event": "subscribed",
      "id": 3430287510,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0MzAyODc1MTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430287510",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T15:41:35Z"
    },
    {
      "event": "labeled",
      "id": 3430531773,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0MzA1MzE3NzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430531773",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:37:56Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "labeled",
      "id": 3430531774,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0MzA1MzE3NzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430531774",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:37:56Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 642132912,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzMjkxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642132912",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:50:51Z",
      "updated_at": "2021-06-12T20:07:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21940 (refactor: Mark CAddrMan::Select const by MarcoFalke)\n* #20233 (addrman: Make consistency checks a runtime option by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642132912",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 642133165,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzMzE2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642133165",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:51:24Z",
      "updated_at": "2020-06-10T16:51:24Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. I think the reason that `LOCKS_EXCLUDED` isn't widely used in the code base is that it doesn't propagate up the call stack, so has a rather limited use case. Though, the new syntax claims to do that.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642133165",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "unlabeled",
      "id": 3430586498,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzQzMDU4NjQ5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430586498",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:52:03Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 642134036,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzNDAzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642134036",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T16:53:02Z",
      "updated_at": "2020-06-10T16:53:02Z",
      "author_association": "MEMBER",
      "body": "oh wait you are not adding the annotations. Any reason for that?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642134036",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 642138551,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzODU1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642138551",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:01:29Z",
      "updated_at": "2020-06-10T17:01:29Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke \r\n> oh wait you are not adding the annotations. Any reason for that?\r\n\r\nAdded :)",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642138551",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 3430622707,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQzMDYyMjcwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430622707",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:01:29Z"
    },
    {
      "event": "subscribed",
      "id": 3430622713,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0MzA2MjI3MTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430622713",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:01:29Z"
    },
    {
      "event": "commented",
      "id": 642139964,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzOTk2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642139964",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:04:11Z",
      "updated_at": "2020-06-10T17:04:11Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke probably a1071f8b9ae12bbb6f0fddae40655b3860c785f0 deserves its own PR as it blocks the similar changes in other parts of the code, right?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642139964",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 3430632770,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQzMDYzMjc3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430632770",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:04:11Z"
    },
    {
      "event": "subscribed",
      "id": 3430632774,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0MzA2MzI3NzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3430632774",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:04:11Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T19:25:10Z",
      "updated_at": "2020-06-10T19:25:10Z",
      "source": {
        "issue": {
          "id": 621891785,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDIwODU2NDcz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19031",
          "number": 19031,
          "state": "closed",
          "state_reason": null,
          "title": "Implement ADDRv2 support (part of BIP155)",
          "body": "An implementation of [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) `addrv2` messages. To ease review it is split in a few logical changes and submitted as separate, smaller, PRs.\r\n\r\nThe current one for review is: https://github.com/bitcoin/bitcoin/pull/19954\r\n\r\nPreparation changes\r\n---\r\nCommits:\r\n* [x] `test: add an edge case test for CSubNet` (merged via https://github.com/bitcoin/bitcoin/pull/19351)\r\n* [x] `net: improve encapsulation of CNetAddr` (merged via https://github.com/bitcoin/bitcoin/pull/19360)\r\n* [x] `net: document enum Network` (merged via https://github.com/bitcoin/bitcoin/pull/19534)\r\n* [x] `net: save the network type explicitly in CNetAddr` (merged via https://github.com/bitcoin/bitcoin/pull/19534)\r\n\r\nChange `CNetAddr::ip` to have flexible size\r\n---\r\nCommits:\r\n* [x] `net: change CNetAddr::ip to have flexible size` (merged via https://github.com/bitcoin/bitcoin/pull/19628)\r\n\r\nImplement `addrv2` (un)serializing\r\n---\r\nAdd support to serialize `CNetAddr` and `CAddress` in [ADDRv2](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki#specification) format. Invoke that from `CAddrMan` serialization methods. Commits:\r\n* [x] `net: move HasPrefix() so it can be reused` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `test: move HasReason() so it can be reused` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: CNetAddr: add support to (un)serialize as ADDRv2` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: recognize TORv3/I2P/CJDNS networks` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: CAddress & CAddrMan: (un)serialize as ADDRv2` (merged via https://github.com/bitcoin/bitcoin/pull/19954)\r\n\r\nAdvertise support\r\n---\r\nAdvertise `ADDRv2` support to peers, handle incoming `ADDRv2` messages and send to peers in that format if they have advertised support. Commits:\r\n* [x] `net: advertise support for ADDRv2 via new message` (merged via https://github.com/bitcoin/bitcoin/pull/19954)\r\n\r\nAll the steps to get Tor v3 support are outlined in [issue#18884 Tor v3 support](https://github.com/bitcoin/bitcoin/issues/18884), this PR is one of them.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 42,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19031",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19031",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19031.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19031.patch"
          },
          "closed_at": "2020-09-29T08:53:28Z",
          "created_at": "2020-05-20T16:16:33Z",
          "updated_at": "2022-02-15T10:36:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T21:23:09Z",
      "updated_at": "2020-06-10T21:23:09Z",
      "source": {
        "issue": {
          "id": 603990313,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA2NjY3OTkz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18722",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18722/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18722/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18722/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18722",
          "number": 18722,
          "state": "closed",
          "state_reason": null,
          "title": "addrman: improve performance by using more suitable containers",
          "body": "`CAddrMan` uses `std::map` internally even though it does not require\r\nthat the map's elements are sorted. `std::map`'s access time is\r\n`O(log(map size))`. `std::unordered_map` is more suitable as it has a\r\n`O(1)` access time.\r\n\r\nThis patch lowers the execution times of `CAddrMan`'s methods as follows\r\n(as per `src/bench/addrman.cpp`):\r\n\r\n```\r\nAddrMan::Add(): -3.5%\r\nAddrMan::GetAddr(): -76%\r\nAddrMan::Good(): -0.38%\r\nAddrMan::Select(): -45%\r\n```",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/47",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/47",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/47/labels",
            "id": 5347322,
            "node_id": "MDk6TWlsZXN0b25lNTM0NzMyMg==",
            "number": 47,
            "state": "closed",
            "title": "22.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 124,
            "created_at": "2020-04-25T00:14:49Z",
            "updated_at": "2021-09-14T07:16:53Z",
            "closed_at": "2021-09-09T12:47:52Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 25,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18722",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18722",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18722.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18722.patch"
          },
          "closed_at": "2021-06-12T03:41:42Z",
          "created_at": "2020-04-21T13:17:05Z",
          "updated_at": "2022-08-16T17:24:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 3432527072,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzQzMjUyNzA3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3432527072",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T05:31:45Z"
    },
    {
      "event": "reopened",
      "id": 3432527749,
      "node_id": "MDEzOlJlb3BlbmVkRXZlbnQzNDMyNTI3NzQ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3432527749",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T05:32:03Z"
    },
    {
      "event": "reviewed",
      "id": 428821020,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4ODIxMDIw",
      "url": null,
      "actor": null,
      "commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Looks good, some suggestions below.\r\n\r\nThe last two commits:\r\n```\r\nAdd means to handle negative capabilities in thread safety annotations\r\nrefactor: Add negative thread safety annotations to CAddrMan\r\n```\r\nare somewhat unrelated and maybe deserve a separate PR if they cause some controversy or if another reviewer asks to move them away to ease review. Since I already reviewed everything I am fine with them as they are.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-428821020",
      "submitted_at": "2020-06-11T11:44:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3434279333,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQzNDI3OTMzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3434279333",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T13:58:22Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T14:06:15Z",
      "updated_at": "2020-06-11T14:06:15Z",
      "source": {
        "issue": {
          "id": 637045245,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDMzMTAzNzgy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19249",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19249/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19249/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19249/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19249",
          "number": 19249,
          "state": "closed",
          "state_reason": null,
          "title": "Add means to handle negative capabilities in the Clang Thread Safety annotations",
          "body": "This commit is separated from #19238, and it adds support of [Negative Capabilities](https://clang.llvm.org/docs/ThreadSafetyAnalysis.html#negative) in the Clang Thread Safety Analysis attributes.\r\n\r\n> Negative requirements are an alternative `EXCLUDES` [`LOCKS_EXCLUDED`] that provide a stronger safety guarantee. A negative requirement uses the `REQUIRES` [`EXCLUSIVE_LOCKS_REQUIRED`] attribute, in conjunction with the ! operator, to indicate that a capability should not be held.\r\n\r\nExamples of usage:\r\n- #19238 (for a class)\r\n- https://github.com/hebasto/bitcoin/tree/200610-addrman-tsn (for the whole code base)",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19249",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19249",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19249.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19249.patch"
          },
          "closed_at": "2020-06-17T10:09:39Z",
          "created_at": "2020-06-11T14:06:15Z",
          "updated_at": "2022-02-15T10:32:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3434340826,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQzNDM0MDgyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3434340826",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T14:08:54Z"
    },
    {
      "event": "commented",
      "id": 642690312,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjY5MDMxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642690312",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-11T14:20:46Z",
      "updated_at": "2020-06-11T14:20:46Z",
      "author_association": "MEMBER",
      "body": "Updated d9572933f1fb0201b259d9cb7b40873bdbad7b6f -> b6712ece8ada3b1c9230f1264da81cbf11fe4595 ([pr19238.02](https://github.com/hebasto/bitcoin/commits/pr19238.02) -> [pr19238.04](https://github.com/hebasto/bitcoin/commits/pr19238.04)):\r\n\r\n- the commit \"Add means to handle negative capabilities in thread safety annotations\" has been separated into #19249, and this PR has been rebased on the latter one\r\n- negative mutex requirements added to each commit opportunistically",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-642690312",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "reviewed",
      "id": 428988691,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTg4Njkx",
      "url": null,
      "actor": null,
      "commit_id": "b6712ece8ada3b1c9230f1264da81cbf11fe4595",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK b6712ece8",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-428988691",
      "submitted_at": "2020-06-11T14:49:35Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "referenced",
      "id": 3452856396,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0NTI4NTYzOTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3452856396",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9a482d360401e1fa0beae8fa27948a9175e12bf5",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9a482d360401e1fa0beae8fa27948a9175e12bf5",
      "created_at": "2020-06-17T10:09:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3453113208,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1MzExMzIwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3453113208",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T11:21:49Z"
    },
    {
      "event": "commented",
      "id": 645317642,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTMxNzY0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645317642",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T11:29:07Z",
      "updated_at": "2020-06-17T11:29:07Z",
      "author_association": "MEMBER",
      "body": "Updated b6712ece8ada3b1c9230f1264da81cbf11fe4595 -> 9cd0ed858c96b1052580e2044069c5cb9434628e ([pr19238.04](https://github.com/hebasto/bitcoin/commits/pr19238.04) -> [pr19238.05](https://github.com/hebasto/bitcoin/commits/pr19238.05)):\r\n\r\n- rebased due to the merging of #19249\r\n- all of the related code branches are covered by appropriate lock assertions to insure that the locking policy has not been changed by accident",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-645317642",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 645319647,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTMxOTY0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645319647",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T11:33:37Z",
      "updated_at": "2020-06-17T11:33:37Z",
      "author_association": "MEMBER",
      "body": "The OP has been updated.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-645319647",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T13:45:19Z",
      "updated_at": "2020-06-17T13:45:19Z",
      "source": {
        "issue": {
          "id": 640455898,
          "node_id": "MDU6SXNzdWU2NDA0NTU4OTg=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19303",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19303/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19303/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19303/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/19303",
          "number": 19303,
          "state": "open",
          "state_reason": null,
          "title": "Replace all of the RecursiveMutex instances with the Mutex ones",
          "body": "**UPD 2023-04-18**. See a shortlist [here](https://github.com/bitcoin/bitcoin/issues/19303#issuecomment-1513337566).\r\n\r\n---\r\n\r\nThis is a tracking issue for the long-term goal to replace all of the `RecursiveMutex` instances with the `Mutex` ones throughout the code base.\r\n\r\nAnthony Williams (_C++ Concurrency in Action_, 2019, 3.3.3 Recursive locking):\r\n> Most of the time, if you think you want a recursive mutex, you probably need to change your design instead.\r\n\r\nAnthony Towns, https://github.com/bitcoin/bitcoin/issues/19303#issuecomment-646956780:\r\n> ... the actual goal is \"make locking logic easier to follow\" rather than \"remove RecurviseMutex\"\r\n\r\nShould be noted, to insure that mutex locking policy has not been changed by accident in non-trivial cases, all of the related code branches must be covered by appropriate lock assertions: `AssertLockHeld()` or `AssertLockNotHeld()`.\r\n\r\nAlso Clang Thread Safety Analysis annotations with [Negative Capabilities](https://clang.llvm.org/docs/ThreadSafetyAnalysis.html#negative) are very useful (see #19249) but are not a panacea, of course :)\r\n\r\n---\r\n\r\n- [x] `RecursiveMutex cs_Shutdown` (#19180)\r\n- [x] `RecursiveMutex cs_nTimeOffset` (#19189)\r\n- [x] `RecursiveMutex cs_proxyInfos` (#19190)\r\n- ~`RecursiveMutex csPathCached` (#19213)~\r\n- [x] `RecursiveMutex cs_warnings` (#19220)\r\n- [x] `RecursiveMutex CAddrMan::cs` (#19238)\r\n- [ ] `RecursiveMutex BanMan::m_cs_banned` (#24092, #24097)\r\n- [x] `RecursiveMutex cs_mapLocalHost` (#24099)\r\n- [x] `RecursiveMutex CConnman::cs_totalBytesRecv` (#22829)\r\n- [x] `RecursiveMutex CConnman::cs_totalBytesSent` (#24157)\r\n- [x] `RecursiveMutex CConnman::m_addr_fetches_mutex` (#22829)\r\n- [x] `RecursiveMutex CConnman::cs_vAddedNodes` (#22829)\r\n- [ ] `RecursiveMutex CConnman::m_nodes_mutex`\r\n- [x] `RecursiveMutex CNode::cs_vSend` (#19915)\r\n- [x] `RecursiveMutex CNode::cs_hSocket` (#19915)\r\n- [x] `RecursiveMutex CNode::cs_vRecv` (#19915)\r\n- ~`RecursiveMutex CNode::cs_vProcessMsg` (#24122)~\r\n- ~`RecursiveMutex CNode::cs_sendProcessing` (#25597)~\r\n- [x] `RecursiveMutex CNode::cs_SubVer` (#24079)\r\n- [x] `RecursiveMutex CNode::cs_inventory` (#19347)\r\n- [x] `RecursiveMutex CNode::cs_addrName` (removed in #22782)\r\n- [x] `RecursiveMutex CNode::cs_addrLocal` #24108\r\n- [ ] `RecursiveMutex Peer::TxRelay::m_bloom_filter_mutex`\r\n- [ ] `RecursiveMutex Peer::TxRelay::m_tx_inventory_mutex` (#24125)\r\n- [x] `RecursiveMutex CNode::TxRelay::cs_feeFilter` (#18819)\r\n- ~`RecursiveMutex g_cs_orphans`~\r\n- [x] `RecursiveMutex g_cs_recent_confirmed_transactions` (#19378)\r\n- [x] `RecursiveMutex cs_most_recent_block` (#24062)\r\n- [x] `RecursiveMutex CBlockPolicyEstimator::m_cs_fee_estimator` (#22014)\r\n- [x] `RecursiveMutex cs_rpcWarmup` (#19399)\r\n- [x] `RecursiveMutex SingleThreadedSchedulerClient::m_cs_callbacks_pending` (#24069)\r\n- [ ] `RecursiveMutex BlockManager::cs_LastBlockFile`\r\n- [ ] `RecursiveMutex FillableSigningProvider::cs_KeyStore`\r\n- [ ] `RecursiveMutex ArgsManager::cs_args`\r\n- [x] `RecursiveMutex CChainState::cs_nBlockSequenceId` (#22824)\r\n- [x] `RecursiveMutex CChainState::m_cs_chainstate` (#24103)\r\n- [ ] `RecursiveMutex cs_db`\r\n- [ ] `RecursiveMutex DescriptorScriptPubKeyMan::cs_desc_man`\r\n- [x] `RecursiveMutex cs_wallets` (#19101)\r\n- [ ] `RecursiveMutex CWallet::cs_wallet` (#19773,  #19833)\r\n\r\nand\r\n\r\n- `RecursiveMutex CTxMemPool::cs` (#19306, ~#19647~, #19652, #19854, #19872, #19901, #19909, #19917)\r\n- `RecursiveMutex cs_main`\r\n",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64584,
              "node_id": "MDU6TGFiZWw2NDU4NA==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
              "name": "Brainstorming",
              "color": "ebd775",
              "default": false
            },
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 16,
          "created_at": "2020-06-17T13:45:18Z",
          "updated_at": "2023-05-17T08:08:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 432686696,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNjg2Njk2",
      "url": null,
      "actor": null,
      "commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-432686696",
      "submitted_at": "2020-06-17T19:15:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "commented",
      "id": 645888631,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTg4ODYzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645888631",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T09:09:10Z",
      "updated_at": "2020-06-18T09:09:10Z",
      "author_association": "MEMBER",
      "body": "@sipa Mind reviewing this PR?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-645888631",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 3457151514,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ1NzE1MTUxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457151514",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T09:09:10Z"
    },
    {
      "event": "subscribed",
      "id": 3457151520,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NTcxNTE1MjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457151520",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T09:09:10Z"
    },
    {
      "event": "commented",
      "id": 646226615,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjIyNjYxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646226615",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T18:14:05Z",
      "updated_at": "2020-06-18T18:14:05Z",
      "author_association": "MEMBER",
      "body": "btw, how about convention to add the `_cs` suffix to the name of the function that is called from within the critical section already guarded by the locked instance of the `Mutex`?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-646226615",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 646262231,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjI2MjIzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646262231",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T19:28:14Z",
      "updated_at": "2020-06-18T19:28:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "> btw, how about convention to add the `_cs` suffix to the name of the function that is called from within the critical section already guarded by the locked instance of the `Mutex`?\r\n\r\nI like it, and it is shorter than `...NonLockHelper()`, but what about the [CamelCaseConvention](\r\nhttps://github.com/bitcoin/bitcoin/blame/808ef36b89ea9ce72116bbd7ee479b984367dc60/doc/developer-notes.md#L87)? Also, it would get fuzzy if more than one mutex is involved and a method requires one to be held and the other not...",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-646262231",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-20T12:41:59Z",
      "updated_at": "2020-06-20T12:41:59Z",
      "source": {
        "issue": {
          "id": 640570342,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1OTU2NDUx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19306",
          "number": 19306,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Replace RecursiveMutex with Mutex in CTxMemPool",
          "body": "This PR replaces `RecursiveMutex CTxMemPool::cs` with `Mutex CTxMemPool:cs`.\r\n\r\nAll of the related code branches are covered by appropriate lock assertions to insure that the mutex locking policy has not been changed by accident\r\n\r\nRelated to #19303.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19306",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19306",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19306.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19306.patch"
          },
          "closed_at": "2021-08-24T15:37:39Z",
          "created_at": "2020-06-17T16:15:04Z",
          "updated_at": "2022-08-24T17:35:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-20T13:49:46Z",
      "updated_at": "2020-06-20T13:49:46Z",
      "source": {
        "issue": {
          "id": 642379799,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM3NDE0NTY3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19337",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19337/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19337/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19337/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19337",
          "number": 19337,
          "state": "closed",
          "state_reason": null,
          "title": "sync: detect double lock from the same thread",
          "body": "Double lock of the same (non-recursive) mutex from the same thread would produce an undefined behavior. Detect this from `DEBUG_LOCKORDER` and react similarly to the deadlock detection.\r\n\r\nThis came up during discussion in another, related PR: https://github.com/bitcoin/bitcoin/pull/19238#discussion_r442394521.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19337",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19337",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19337.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19337.patch"
          },
          "closed_at": "2020-11-25T16:02:55Z",
          "created_at": "2020-06-20T13:49:46Z",
          "updated_at": "2022-08-16T17:03:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 646998921,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0Njk5ODkyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646998921",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-20T13:56:42Z",
      "updated_at": "2020-06-20T13:56:42Z",
      "author_association": "MEMBER",
      "body": "Note for reviewers: please review #19337 at fist.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-646998921",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "referenced",
      "id": 3520730478,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM1MjA3MzA0Nzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3520730478",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "09ab074c001cdf601a6b70f453fff20989e72ab6",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/09ab074c001cdf601a6b70f453fff20989e72ab6",
      "created_at": "2020-07-07T14:28:17Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-04T17:31:02Z",
      "updated_at": "2020-08-04T17:31:02Z",
      "source": {
        "issue": {
          "id": 672730974,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDYyNzE1NjI4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19658",
          "number": 19658,
          "state": "closed",
          "state_reason": null,
          "title": "[rpc] Allow RPC to fetch all addrman records and add records to addrman",
          "body": "Currently addrman only allows a maximum of 1000 records or 23% of all records to be returned in a call to `GetAddr()`. Relax this limit and have the client specify the max records they want. For p2p, behaviour is unchanged (but the rate limiting is set inside net_processing, where it belongs). For RPC, `getnodeaddresses` can now return the complete addrman, which is helpful for testing and monitoring.\r\n\r\nAlso add a test-only RPC `addpeeraddress`, which adds an IP address:port to addrman. This is helpful for testing (eg #18991).",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19658",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19658.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19658.patch"
          },
          "closed_at": "2020-08-12T13:23:33Z",
          "created_at": "2020-08-04T11:49:04Z",
          "updated_at": "2022-02-15T11:00:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3648186952,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM2NDgxODY5NTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3648186952",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-12T15:11:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3658748642,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzY1ODc0ODY0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3658748642",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-15T18:33:36Z"
    },
    {
      "event": "commented",
      "id": 674433777,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQzMzc3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674433777",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-15T18:38:01Z",
      "updated_at": "2020-08-15T18:38:01Z",
      "author_association": "MEMBER",
      "body": "Updated 9cd0ed858c96b1052580e2044069c5cb9434628e -> d985aeeac48114f1078980888303f34ffdb78e74 ([pr19238.05](https://github.com/hebasto/bitcoin/commits/pr19238.05) -> [pr19238.06](https://github.com/hebasto/bitcoin/commits/pr19238.06)):\r\n\r\n- rebased due to the conflict with #19658\r\n- implemented naming [convention](https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-646226615) with :+1:  from @ajtowns \r\n- separated commit with potentially controversial mutex renaming",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-674433777",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 3658751226,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY1ODc1MTIyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3658751226",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-15T18:38:01Z"
    },
    {
      "event": "subscribed",
      "id": 3658751227,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2NTg3NTEyMjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3658751227",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-15T18:38:01Z"
    },
    {
      "event": "unlabeled",
      "id": 3658805373,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzY1ODgwNTM3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3658805373",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-15T20:15:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-30T08:45:20Z",
      "updated_at": "2020-08-30T08:45:20Z",
      "source": {
        "issue": {
          "id": 688544789,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDc1Nzg1MDAw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19833",
          "number": 19833,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Avoid locking cs_wallet recursively ",
          "body": "This is another small change towards non recursive wallet lock.",
          "user": {
            "login": "promag",
            "id": 3534524,
            "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/promag",
            "html_url": "https://github.com/promag",
            "followers_url": "https://api.github.com/users/promag/followers",
            "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
            "organizations_url": "https://api.github.com/users/promag/orgs",
            "repos_url": "https://api.github.com/users/promag/repos",
            "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/promag/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19833",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19833.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19833.patch"
          },
          "closed_at": "2021-09-07T08:35:45Z",
          "created_at": "2020-08-29T14:37:14Z",
          "updated_at": "2022-09-07T09:41:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-08T13:05:04Z",
      "updated_at": "2020-09-08T13:05:04Z",
      "source": {
        "issue": {
          "id": 693324343,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDc5ODIzODQ0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19872",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19872/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19872/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19872/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19872",
          "number": 19872,
          "state": "closed",
          "state_reason": null,
          "title": "Avoid locking CTxMemPool::cs recursively in some cases",
          "body": "This is another step (after #19854) to transit `CTxMemPool::cs` from `RecursiveMutex` to `Mutex`.\r\n\r\nSplit out from #19306.\r\nThread safety annotations, lock assertions, and required explicit locking added. No behavior change.\r\n\r\nPlease note that now, since #19668 has been merged, it is safe to apply `AssertLockHeld()` macros as they do not swallow compile time Thread Safety Analysis warnings.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 118378960,
              "node_id": "MDU6TGFiZWwxMTgzNzg5NjA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mining",
              "name": "Mining",
              "color": "c7def8",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19872",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19872",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19872.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19872.patch"
          },
          "closed_at": "2021-08-24T15:40:50Z",
          "created_at": "2020-09-04T15:51:00Z",
          "updated_at": "2022-08-24T17:35:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-19T13:33:42Z",
      "updated_at": "2020-09-19T13:33:42Z",
      "source": {
        "issue": {
          "id": 701119021,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2NjI5NzA3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19954",
          "number": 19954,
          "state": "closed",
          "state_reason": null,
          "title": "Complete the BIP155 implementation and upgrade to TORv3",
          "body": "This PR contains the two remaining commits from #19031 to complete the [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) implementation:\r\n\r\n`net: CAddress & CAddrMan: (un)serialize as ADDRv2`\r\n`net: advertise support for ADDRv2 via new message`\r\n\r\nplus one more commit:\r\n\r\n`tor: make a TORv3 hidden service instead of TORv2`",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 54,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19954",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19954.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19954.patch"
          },
          "closed_at": "2020-10-11T00:52:36Z",
          "created_at": "2020-09-14T13:46:02Z",
          "updated_at": "2022-02-15T10:37:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3863273753,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM4NjMyNzM3NTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3863273753",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-11T02:23:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 3971193404,
      "node_id": "MDE5OkNvbnZlcnRUb0RyYWZ0RXZlbnQzOTcxMTkzNDA0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3971193404",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-08T21:26:14Z"
    },
    {
      "event": "referenced",
      "id": 4038804828,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwMzg4MDQ4Mjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4038804828",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "50091592dd875a1c94030dbed74112b003732d68",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/50091592dd875a1c94030dbed74112b003732d68",
      "created_at": "2020-11-25T16:02:36Z"
    },
    {
      "event": "commented",
      "id": 752955434,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk1NTQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752955434",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T13:12:12Z",
      "updated_at": "2020-12-31T13:12:12Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. Needs rebase.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-752955434",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4161276589,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE2MTI3NjU4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161276589",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-01T21:57:33Z"
    },
    {
      "event": "ready_for_review",
      "id": 4161276825,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQ0MTYxMjc2ODI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161276825",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-01T21:58:02Z"
    },
    {
      "event": "commented",
      "id": 753390956,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzM5MDk1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753390956",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-01T22:01:17Z",
      "updated_at": "2021-01-01T22:01:17Z",
      "author_association": "MEMBER",
      "body": "Updated d985aeeac48114f1078980888303f34ffdb78e74 -> f1246cb12f573c4a8b32d75d6ea377eeec3b43e7 ([pr19238.06](https://github.com/hebasto/bitcoin/commits/pr19238.06) -> [pr19238.07](https://github.com/hebasto/bitcoin/commits/pr19238.07)):\r\n\r\n- rebased\r\n- dropped the mutex renaming commit",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-753390956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "unlabeled",
      "id": 4161317446,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDE2MTMxNzQ0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161317446",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-01T23:11:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4161333633,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE2MTMzMzYzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161333633",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-01T23:43:05Z"
    },
    {
      "event": "reviewed",
      "id": 560628840,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNjI4ODQw",
      "url": null,
      "actor": null,
      "commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-560628840",
      "submitted_at": "2021-01-02T13:50:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "commented",
      "id": 753476817,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzQ3NjgxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753476817",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T13:57:10Z",
      "updated_at": "2021-01-02T13:57:10Z",
      "author_association": "MEMBER",
      "body": "@jnewbery Thank you for your review. While working on this pull I had similar thoughts about points you mentioned. So I'm happy to make some improvements.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-753476817",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4161719992,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE2MTcxOTk5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161719992",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T13:57:11Z"
    },
    {
      "event": "subscribed",
      "id": 4161719993,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNjE3MTk5OTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161719993",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T13:57:11Z"
    },
    {
      "event": "commented",
      "id": 753479491,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzQ3OTQ5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753479491",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:23:36Z",
      "updated_at": "2021-01-02T14:23:36Z",
      "author_association": "MEMBER",
      "body": "@hebasto Whilst you're looking at this code, do you mind taking a look at #20233. Without that PR, `CAddrMan::Check()` is basically useless, since it's enabled by a compile-time option which I expect nobody uses. That PR would make it a runtime check, so that we could enable it for the unit, functional and fuzz tests. It's obviously much more likely to catch bugs if it's being run by those tests!",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-753479491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4161735220,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE2MTczNTIyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161735220",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:23:36Z"
    },
    {
      "event": "subscribed",
      "id": 4161735221,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNjE3MzUyMjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161735221",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:23:37Z"
    },
    {
      "event": "commented",
      "id": 753480896,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzQ4MDg5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753480896",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:34:13Z",
      "updated_at": "2021-01-02T14:34:13Z",
      "author_association": "MEMBER",
      "body": "> @hebasto Whilst you're looking at this code, do you mind taking a look at #20233. Without that PR, `CAddrMan::Check()` is basically useless, since it's enabled by a compile-time option which I expect nobody uses. That PR would make it a runtime check, so that we could enable it for the unit, functional and fuzz tests. It's obviously much more likely to catch bugs if it's being run by those tests!\r\n\r\nSure!",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-753480896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4161741479,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE2MTc0MTQ3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161741479",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:34:13Z"
    },
    {
      "event": "subscribed",
      "id": 4161741480,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNjE3NDE0ODA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161741480",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T14:34:13Z"
    },
    {
      "event": "subscribed",
      "id": 4161773435,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNjE3NzM0MzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161773435",
      "actor": {
        "login": "SoraKohaku",
        "id": 11433397,
        "node_id": "MDQ6VXNlcjExNDMzMzk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11433397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SoraKohaku",
        "html_url": "https://github.com/SoraKohaku",
        "followers_url": "https://api.github.com/users/SoraKohaku/followers",
        "following_url": "https://api.github.com/users/SoraKohaku/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SoraKohaku/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SoraKohaku/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SoraKohaku/subscriptions",
        "organizations_url": "https://api.github.com/users/SoraKohaku/orgs",
        "repos_url": "https://api.github.com/users/SoraKohaku/repos",
        "events_url": "https://api.github.com/users/SoraKohaku/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SoraKohaku/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T15:27:18Z"
    },
    {
      "event": "subscribed",
      "id": 4161773466,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNjE3NzM0NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161773466",
      "actor": {
        "login": "SoraKohaku",
        "id": 11433397,
        "node_id": "MDQ6VXNlcjExNDMzMzk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11433397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SoraKohaku",
        "html_url": "https://github.com/SoraKohaku",
        "followers_url": "https://api.github.com/users/SoraKohaku/followers",
        "following_url": "https://api.github.com/users/SoraKohaku/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SoraKohaku/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SoraKohaku/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SoraKohaku/subscriptions",
        "organizations_url": "https://api.github.com/users/SoraKohaku/orgs",
        "repos_url": "https://api.github.com/users/SoraKohaku/repos",
        "events_url": "https://api.github.com/users/SoraKohaku/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SoraKohaku/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T15:27:22Z"
    },
    {
      "event": "reviewed",
      "id": 562304511,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMzA0NTEx",
      "url": null,
      "actor": null,
      "commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-562304511",
      "submitted_at": "2021-01-06T03:33:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "commented",
      "id": 760086594,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDA4NjU5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760086594",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T09:53:28Z",
      "updated_at": "2021-01-14T09:53:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "0c0fb742ad7b686209efb627a8ec43d7f96c3754 looks good, I agree with the above suggestions from @jnewbery and @ajtowns.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-760086594",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4205395143,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDIwNTM5NTE0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205395143",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T09:53:28Z"
    },
    {
      "event": "subscribed",
      "id": 4205395146,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyMDUzOTUxNDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205395146",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T09:53:28Z"
    },
    {
      "event": "mentioned",
      "id": 4205395149,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDIwNTM5NTE0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205395149",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T09:53:28Z"
    },
    {
      "event": "subscribed",
      "id": 4205395153,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyMDUzOTUxNTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205395153",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T09:53:29Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T15:56:12Z",
      "updated_at": "2021-03-30T15:56:12Z",
      "source": {
        "issue": {
          "id": 728539632,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTA5MjMwMTcw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20233",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20233/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20233/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20233/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20233",
          "number": 20233,
          "state": "closed",
          "state_reason": null,
          "title": "addrman: Make consistency checks a runtime option",
          "body": "CAddrMan has internal consistency checks. Currently, these are only run when the program is compiled with the  `DEBUG_ADDRMAN` option. This option is not enabled on any of our CI builds, and it's likely that no-one is running them at all.\r\n\r\nThis PR makes consistency checks a (hidden) runtime option that can be enabled with `-checkaddrman`, where `-checkaddrman=n` will result in the consistency checks running every n operations (similar to `-checkmempool=n`). We set the ratio to 1/100 for our unit tests, and leave it disabled by default for all networks. Additionally, a consistency check failure now asserts, rather than logging and continuing. This matches the behavior of CTxMemPool and TxRequestTracker, where a failed consistency check asserts.",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 40,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20233",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20233",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20233.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20233.patch"
          },
          "closed_at": "2021-08-13T09:12:27Z",
          "created_at": "2020-10-23T21:42:13Z",
          "updated_at": "2023-03-31T10:22:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T12:14:50Z",
      "updated_at": "2021-05-23T12:14:50Z",
      "source": {
        "issue": {
          "id": 899006437,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjUwNzc4ODg1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22025",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22025/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22025/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22025/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22025",
          "number": 22025,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Group and re-order CAddrMan members by access type",
          "body": "This PR is split from #19238 as all of its commits are trivial to review.\r\nThe last commit is easy to review with `git diff --color-moved=dimmed-zebra`.\r\n\r\nAddressed the following comments from #19238:\r\n- https://github.com/bitcoin/bitcoin/pull/19238/commits/130b82ff3588d7207c928bda16b96e720e0b24cd#r550865131\r\n> Can you consolidate all the private members and protected members to be next to each other? Multiple private and protected access specifiers make this harder to read than is necessary.\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/19238/commits/130b82ff3588d7207c928bda16b96e720e0b24cd#r557271783\r\n> Yeah, class declaration is easier to read if there is just one instance of `public:`, `protected:` and `private:` (in that order).",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22025",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22025",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22025.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22025.patch"
          },
          "closed_at": "2021-05-27T13:52:56Z",
          "created_at": "2021-05-23T12:14:50Z",
          "updated_at": "2022-08-16T17:23:13Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4783604894,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4MzYwNDg5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783604894",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:27:09Z"
    },
    {
      "event": "commented",
      "id": 846605462,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjYwNTQ2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846605462",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:42Z",
      "updated_at": "2021-05-23T18:30:42Z",
      "author_association": "MEMBER",
      "body": "@jnewbery @ajtowns @vasild \r\n\r\nThank you for your reviews!\r\n\r\nUpdated 0c0fb742ad7b686209efb627a8ec43d7f96c3754 -> 148a7c9454adc3e311867f3566e01d261b362f71 ([pr19238.08](https://github.com/hebasto/bitcoin/commits/pr19238.08) -> [pr19238.09](https://github.com/hebasto/bitcoin/commits/pr19238.09)):\r\n\r\n- addressed comments\r\n- rebased on top of the recent CI changes",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-846605462",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4783607828,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDc4MzYwNzgyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607828",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:42Z"
    },
    {
      "event": "subscribed",
      "id": 4783607829,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ3ODM2MDc4Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607829",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:42Z"
    },
    {
      "event": "mentioned",
      "id": 4783607830,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDc4MzYwNzgzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607830",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:42Z"
    },
    {
      "event": "subscribed",
      "id": 4783607831,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ3ODM2MDc4MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607831",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:42Z"
    },
    {
      "event": "mentioned",
      "id": 4783607832,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDc4MzYwNzgzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607832",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:43Z"
    },
    {
      "event": "subscribed",
      "id": 4783607833,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ3ODM2MDc4MzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783607833",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:30:43Z"
    },
    {
      "event": "renamed",
      "id": 4783615016,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDc4MzYxNTAxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4783615016",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T18:39:17Z",
      "rename": {
        "from": "refactor: Replace RecursiveMutex with Mutex in CAddrMan",
        "to": "refactor: Make CAddrMan::cs non-recursive"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-23T23:37:09Z",
      "updated_at": "2021-05-23T23:37:09Z",
      "source": {
        "issue": {
          "id": 890883693,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjQzODM3NjAy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21940/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21940/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21940/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21940",
          "number": 21940,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Mark CAddrMan::Select and GetAddr const",
          "body": "To clarify that a call to this only changes the random state and nothing else.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21940",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21940.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21940.patch"
          },
          "closed_at": "2021-08-02T10:11:21Z",
          "created_at": "2021-05-13T09:26:44Z",
          "updated_at": "2022-08-18T18:32:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T03:00:32Z",
      "updated_at": "2021-05-24T03:00:32Z",
      "source": {
        "issue": {
          "id": 804694927,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTcwNDE5NjA2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21129",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21129/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21129/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21129/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21129",
          "number": 21129,
          "state": "closed",
          "state_reason": null,
          "title": "fuzz: check that ser+unser produces the same AddrMan",
          "body": "Add a fuzz test that fills addrman with a pile of randomly generated addresses, serializes it to a stream, unserializes the stream to another addrman object and compares the two.\r\n\r\nSome discussion of this already happened at https://github.com/jnewbery/bitcoin/pull/18.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21129",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21129",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21129.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21129.patch"
          },
          "closed_at": "2021-08-05T13:19:27Z",
          "created_at": "2021-02-09T16:12:00Z",
          "updated_at": "2022-10-30T19:10:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 666560548,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjY2NTYwNTQ4",
      "url": null,
      "actor": null,
      "commit_id": "148a7c9454adc3e311867f3566e01d261b362f71",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 148a7c9454adc3e311867f3566e01d261b362f71\r\n\r\nThis PR includes https://github.com/bitcoin/bitcoin/pull/22025.\r\n\r\nCompiles without warnings with Clang 13.0.0.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-666560548",
      "submitted_at": "2021-05-24T10:05:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4785888283,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4NTg4ODI4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4785888283",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T10:14:21Z"
    },
    {
      "event": "reviewed",
      "id": 666685279,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjY2Njg1Mjc5",
      "url": null,
      "actor": null,
      "commit_id": "ee79105070778bd1f3f9693536e3c92801ae63a8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK ee79105070778bd1f3f9693536e3c92801ae63a8",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-666685279",
      "submitted_at": "2021-05-24T12:25:06Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "referenced",
      "id": 4806019122,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4MDYwMTkxMjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4806019122",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ea1e5c2c714f4b29a83b1eaf8c9e81006b4cee6a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ea1e5c2c714f4b29a83b1eaf8c9e81006b4cee6a",
      "created_at": "2021-05-27T13:52:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4806158470,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDgwNjE1ODQ3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4806158470",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-27T14:12:27Z"
    },
    {
      "event": "commented",
      "id": 849672208,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTY3MjIwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/849672208",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-27T14:16:12Z",
      "updated_at": "2021-05-27T14:16:12Z",
      "author_association": "MEMBER",
      "body": "Rebased ee79105070778bd1f3f9693536e3c92801ae63a8 -> e2787fb24a675e62a82bcb43400ad8e1a68761d2 ([pr19238.10](https://github.com/hebasto/bitcoin/commits/pr19238.10) -> [pr19238.11](https://github.com/hebasto/bitcoin/commits/pr19238.11)) due to the merging of #22025.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-849672208",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "reviewed",
      "id": 671178329,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjcxMTc4MzI5",
      "url": null,
      "actor": null,
      "commit_id": "e2787fb24a675e62a82bcb43400ad8e1a68761d2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK e2787fb24a675e62a82bcb43400ad8e1a68761d2",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-671178329",
      "submitted_at": "2021-05-28T10:54:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "labeled",
      "id": 4880824704,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4ODA4MjQ3MDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4880824704",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T04:42:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4881219086,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg4MTIxOTA4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4881219086",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T12:29:25Z"
    },
    {
      "event": "commented",
      "id": 860047512,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDA0NzUxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860047512",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T12:33:36Z",
      "updated_at": "2021-06-12T12:33:36Z",
      "author_association": "MEMBER",
      "body": "Rebased e2787fb24a675e62a82bcb43400ad8e1a68761d2 -> af9550561d7fa8cfa8da910db3e46993f848a0f5 ([pr19238.11](https://github.com/hebasto/bitcoin/commits/pr19238.11) -> [pr19238.12](https://github.com/hebasto/bitcoin/commits/pr19238.12)) due to the conflict with #18722.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860047512",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "unlabeled",
      "id": 4881248915,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDg4MTI0ODkxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4881248915",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T13:04:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 682886883,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgyODg2ODgz",
      "url": null,
      "actor": null,
      "commit_id": "af9550561d7fa8cfa8da910db3e46993f848a0f5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK af9550561d7fa8cfa8da910db3e46993f848a0f5",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-682886883",
      "submitted_at": "2021-06-14T13:06:45Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "commented",
      "id": 860686329,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDY4NjMyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860686329",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T13:30:24Z",
      "updated_at": "2021-06-14T13:30:24Z",
      "author_association": "MEMBER",
      "body": "Code review ACK af9550561d7fa8cfa8da910db3e46993f848a0f5",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860686329",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 860721702,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDcyMTcwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860721702",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:17:27Z",
      "updated_at": "2021-06-14T14:17:27Z",
      "author_association": "MEMBER",
      "body": "There might be a silent merge conflict",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860721702",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "commented",
      "id": 860723498,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDcyMzQ5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860723498",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:19:49Z",
      "updated_at": "2021-06-14T14:19:49Z",
      "author_association": "MEMBER",
      "body": "```\r\ntest/fuzz/addrman.cpp:110:30: error: 'Check' is a private member of 'CAddrMan'\r\n    (void)/*const_*/addr_man.Check();\r\n                             ^\r\n./addrman.h:722:10: note: declared private here\r\n    void Check()\r\n         ^\r\n1 error generated.\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860723498",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZGE5NTU0NWVhNDJmOTI1ZGJjNzcwM2U0MmU5MzU2OTA4YThjODNl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2da95545ea42f925dbc7703e42e9356908a8c83e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2da95545ea42f925dbc7703e42e9356908a8c83e",
      "tree": {
        "sha": "db0013e9136a511798612ef61264bf46469108b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/db0013e9136a511798612ef61264bf46469108b9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree db0013e9136a511798612ef61264bf46469108b9\nparent 5c4f0c4d46f030498c222a15a0399c6e0a7d28f1\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621776434 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680482 +0300\n\ntest: Drop excessive locking in CAddrManTest::SimConnFail\n\nThe unit test is single threaded, so there's no need to hold the mutex\nbetween Good() and Attempt().\n\nThis change avoids recursive locking in the CAddrMan::Attempt function.\n\nCo-authored-by: John Newbery <john@johnnewbery.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZeIACgkQQQEIES5+\nqB+eERAArYsl8fIWBAPsvb44x0XtR4DdFbp/YJRaKY+S4aeDZN/ePpW8COjQ1ADw\n0ufyLfQVqCOyEHi2p/lkqiJg8q03DEyCseP3hS9kSbVB6KUl3yGonnuOLnVJjiKF\nB3/YSSe9fbMXaIak4QBkoyDVFa2/XU8DndRG28RJFa73kbNUlqRIs258qclMVuOA\nEUPOGb+2YAaud5iur3/CTqHD4UO6JN4ZRYhbyTpVv2Q8kq36kBuseZA0uO9dRJeM\nnu0Vmu/IPBKNo0tGMlkSxhndfu6IsfnC5yLqUfRrV2mOCM1tvAzJO523dnz1fYf5\ndwd2NkN7QSHvYEStLT3Y8omVT/0KTUvg/YBfxMtn83ElET6YZ5FiguW9mB0GLHm9\nTdjKOEab5x6BPGniBgP0DCdwoONn6e7ZwF5DMTiva95VaQ2I9Xaatlyx5le2n7CC\nJ9vY1KiBkXIGjHCL05UDzBEwg+goZnZY4zaHkq+hWH1kmdBxU4uXlJsuM3X/AceO\nTlqYb7CM1/5+dwLyPoUlTb3cynfwbcveZMpxEYPQE9Z3IARzFz6sPXsG5IoJtc9Q\nuOPy6pb0qv5vKDudV7LUX86/sloFtHbLKv+PcWqZL6/wtN7REaCGwC9WnG6lxTkc\ngh6u+7WXY0EmZ9e/a2MBaBdgx9hIK+WzyLfxuFnHW2j5NUJPyxM=\n=gA83\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c4f0c4d46f030498c222a15a0399c6e0a7d28f1",
          "sha": "5c4f0c4d46f030498c222a15a0399c6e0a7d28f1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5c4f0c4d46f030498c222a15a0399c6e0a7d28f1"
        }
      ],
      "message": "test: Drop excessive locking in CAddrManTest::SimConnFail\n\nThe unit test is single threaded, so there's no need to hold the mutex\nbetween Good() and Attempt().\n\nThis change avoids recursive locking in the CAddrMan::Attempt function.\n\nCo-authored-by: John Newbery <john@johnnewbery.com>",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:21:22Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T13:27:14Z"
      },
      "sha": "2da95545ea42f925dbc7703e42e9356908a8c83e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZmM2ZmFjOTUxZTc1YmE5MTMzNTBiYjQ3MGMzZDRlNmE0ZTI4NGI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efc6fac951e75ba913350bb470c3d4e6a4e284b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/efc6fac951e75ba913350bb470c3d4e6a4e284b9",
      "tree": {
        "sha": "5102e9b6fb71a60f941a7a0328556e61d3fb5890",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5102e9b6fb71a60f941a7a0328556e61d3fb5890"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5102e9b6fb71a60f941a7a0328556e61d3fb5890\nparent 2da95545ea42f925dbc7703e42e9356908a8c83e\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621785263 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680488 +0300\n\nrefactor: Avoid recursive locking in CAddrMan::size\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZegACgkQQQEIES5+\nqB8IIw/+PHimehIF/Y5zZZFC4jRF3eNkqgzM/OmRX9TwBqZsr3h8hxfaDVeqvBCy\ns/8OvJd43avIKo0+UXMVbeuJTqMYNLDURvqOPzAKcWLTStx7uW4otpQN/uFxyUan\nRYpQqYWTcOX3fYkzCoBCCU/eaquoP5AT638tVJma1Q11C+KOaVsYCD4+svoivIGA\nyuUqy8ffL2sFrESv0EMm3xbqhe0LgIVkWU6PPh2oDIMO5nwifUnT4y4BqQyD7Rch\nRZiF3Gi1PEsuwFSHsQs86tGPr36iEMzpSOvT08zZ17gWy2OyVVK9qAFZRC8cCGw+\nhhyQoL6MkFoyeJ9WypX+YS43XQoss/nMbdXhw9zHe6XiJ/qywHAX/q5cLklnTTm2\n0MGfKk3COyW3Ds0nX+OBpv8lAiAyL2hnQ9/7/7D/oMkO93RnzBLERaktHJawybM2\nHFDBfnJE03TAH3nxy01vQnUTwnAJ0eIb5XIqOavMZ5Izzud7/Un4tAudTUGmCPhm\nUacE5lnkhcQcqRC7hfXH+n7CeGqL+ZBw/EMzUH7mZfiOLMvsW7DVE8DXEwfX7Dr0\nsNKmieYD6vMkIKep66xBJW/wQy5/5hhK/PFlztOzrDHmAWvwfQbae7noRH7z8CBu\nURFuRq9ybSGOtImJWyr4P11EJLUciMONaSL3KSel4RKmLsc2otw=\n=w/Gc\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2da95545ea42f925dbc7703e42e9356908a8c83e",
          "sha": "2da95545ea42f925dbc7703e42e9356908a8c83e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2da95545ea42f925dbc7703e42e9356908a8c83e"
        }
      ],
      "message": "refactor: Avoid recursive locking in CAddrMan::size",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:21:28Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T15:54:23Z"
      },
      "sha": "efc6fac951e75ba913350bb470c3d4e6a4e284b9"
    },
    {
      "event": "commented",
      "id": 860726973,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDcyNjk3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860726973",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:24:18Z",
      "updated_at": "2021-06-14T14:24:18Z",
      "author_association": "MEMBER",
      "body": "> There might be a silent merge conflict\r\n\r\nWith #21941. Rebasing.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860726973",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNjcwMzk3M2M3NThjMmM1ZDBmZjkxNjk5M2FhNzA1NWY2MDlkMmQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06703973c758c2c5d0ff916993aa7055f609d2d7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/06703973c758c2c5d0ff916993aa7055f609d2d7",
      "tree": {
        "sha": "df32b02e1f8a96b257a3af912b5b7c0ddf9af978",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/df32b02e1f8a96b257a3af912b5b7c0ddf9af978"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree df32b02e1f8a96b257a3af912b5b7c0ddf9af978\nparent efc6fac951e75ba913350bb470c3d4e6a4e284b9\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621786643 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680910 +0300\n\nMake CAddrMan::Check private\n\nChange in the addrman.h header is move-only.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ44ACgkQQQEIES5+\nqB86fxAAr4pNOTvWMmC5J2k6OwiijPpltm6fFqvWbO9bm5f99NlIimUQCIdmwfkL\nK7VXC/t9pd3ZWzW3s7Ko206TwdBLSwS0tf/B0tEdkJd5LlTTvbhGL9/x1bHcnmPS\nwaW/+WEiWW0ZlfWiL8x7tSzduA1rY9nquuS4IDTusNKd0KhJktHpF3OgT5wJ7hI6\ntMQ3oOCILITGLPP/DqQMYJH5R0/7cn+dLt2AXrHyos4CXwfLhamPDTbM206iMiN8\nmJka3RgiKJWLLcp5kqNwf7OWcn6SmLu2/cMuTBQ/xFujaOGYN80THAui8NpwM9Gg\n/fIyh0sBSTx5fWZP69V5VcgvN0VUAO2J56Xg3Kb8WcpWNtwn6zLPC7o5K/LqVdJW\nSLBcXeJoLjBab80gmGCGw1/uAAVc+/+zSnwZYU1cPDSUQP6SNMAW0KOnRgt4Ebqw\n1Zm42cHDR62tCAgb6LC9a1BuJbbRoY4qE4v8I600cvZyHlISE1o3sLoRdoXVkbNf\nFwR/9KXj8ArRNZJtqrKyCdPhikA8FxJ+ppLViONuLw8bGCqTAl4THfT8mB4oYeBr\nLyfOvg8RZzZ7q5Bnuqef6AF0QlsYZk8bN39VMzJkSznG2z0RZqEPlLWu81kxfG2o\nVzhVm9xSg6LRPa4715xjbvN+r+k2q853H1YQF4Fap+XzpLON7ew=\n=K5e1\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efc6fac951e75ba913350bb470c3d4e6a4e284b9",
          "sha": "efc6fac951e75ba913350bb470c3d4e6a4e284b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/efc6fac951e75ba913350bb470c3d4e6a4e284b9"
        }
      ],
      "message": "Make CAddrMan::Check private\n\nChange in the addrman.h header is move-only.",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:30Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T16:17:23Z"
      },
      "sha": "06703973c758c2c5d0ff916993aa7055f609d2d7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNzdkOWM3OWFhNDFkYWI0Mjg1ZTk1Yzk0MzJjYzZkODUzYmU2N2Ez",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f77d9c79aa41dab4285e95c9432cc6d853be67a3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f77d9c79aa41dab4285e95c9432cc6d853be67a3",
      "tree": {
        "sha": "1ddaa6df9b643fbd2d4a092891957af02f860a42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ddaa6df9b643fbd2d4a092891957af02f860a42"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1ddaa6df9b643fbd2d4a092891957af02f860a42\nparent 06703973c758c2c5d0ff916993aa7055f609d2d7\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621787008 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680916 +0300\n\nrefactor: Fix CAddrMan::Check style\n\nThis change improves readability, and follows Developer Notes.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5QACgkQQQEIES5+\nqB+Jzg/8DOsWc13rMoUQ/QFLNqGmm0UACFiip294DbmOVfOqZ9tny+uUZGixA7jA\nOz+oxQ4QmBynQmjLOfYvk45jlY8Fqv9BGxCNsDpaLuuETTccYKSwcaHISyD24hmb\nNilMMnra8oCA+sxeIYzicPQ4RYTklYtMU3g5aPXtZcTXDml2IGGDXnEsSBnetMsV\n+KuVYGCcpzOOwCIYUYlM+GIDOo80CHGLJbhJV4ZiiBXsjyMZE+AaCvfNRlZ2zmFO\nhZFQBHdOmyU0Tu4U0sAjWFxmPFcu/SmOnTk55Qi8ow/dQ85B22iAcpaS4K50jNMt\ngrctXEelVZAXlTfKPdmlQvcvN2u3V59hJmqGz2jitwSZy/xBsvf3U33L7KK8d70w\n697aExuAeMTNTUW3dSs1TWgqRSBy4TdiIOB5DrqC6Yp1UsnJIsdangebkXHr3Rje\nxPGaTEDrlWCby4n0Wtk9u/S0VMO1PQ40RmNFnVXQXvfl9c9WIAIacGFTGZoRfuI4\nNWmLDYIZlO13RYl0vX3ltLW0DU7KZfhxe4geMCU4Duug4e2jnP/+LK/t/xy15P0k\nIoTtjhFyueMc7J8z2tiAFRgRJa75Sj/TmmfD2ubdduh/j+hQFe+zYd8+Zb0TxTLp\nfEweadoY8m2/mBDBU1SjmG3ccSi6nJEX0YNFQBb2t2l1ETsM81g=\n=/Lui\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06703973c758c2c5d0ff916993aa7055f609d2d7",
          "sha": "06703973c758c2c5d0ff916993aa7055f609d2d7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/06703973c758c2c5d0ff916993aa7055f609d2d7"
        }
      ],
      "message": "refactor: Fix CAddrMan::Check style\n\nThis change improves readability, and follows Developer Notes.",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:36Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T16:23:28Z"
      },
      "sha": "f77d9c79aa41dab4285e95c9432cc6d853be67a3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxODdiN2QyYmIzNmU2ZGU5Y2Q5NjAzNzgwMjFlYmU2OTA2MTlhMmVm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/187b7d2bb36e6de9cd960378021ebe690619a2ef",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/187b7d2bb36e6de9cd960378021ebe690619a2ef",
      "tree": {
        "sha": "a8e42308abeab4f243779915a9ebcb8474fccccc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a8e42308abeab4f243779915a9ebcb8474fccccc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a8e42308abeab4f243779915a9ebcb8474fccccc\nparent f77d9c79aa41dab4285e95c9432cc6d853be67a3\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621787523 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680917 +0300\n\nrefactor: Avoid recursive locking in CAddrMan::Check\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5UACgkQQQEIES5+\nqB8YpBAAjgnWMoI1lJ1uydwbjMQ/DBSxDT3dvUVwojgSt1MlKVVRwiWTw0TkKkIM\nldNtZX45ZAlwPW126YoZ2OfQBg2oJ4QkzmbpWQFsH80/0eATY5g9b831E1HjxCGB\nYFN+s5T4+x5PEAEMiLyahaPSlweibyYVf6WrAUEUJ3dD+u4b+FS77OB8IrxL2a+o\n2KXoupczjb32g3NkH3iZkVpwzK/YkZRzuAzkSL3bjwEiVqbba5TNRu1Po7Z08SkS\nO5AYWcuS7X3W6wK5pvLqAYisGwCQ0BbCS7hzBsqwecf9a/yPuaexlskrvZ3YXhBy\nIhReC6yzVVFNyG+WAKZH8kvH6VygHKjOzBZpyabcwICv1F9aqoYyn8gemn4btpf9\nG27ztQaM3op2yoQ03/tBdYyuAGHDM51UzRFswtw/LtJ7KG13UA2IWrXsT8CXaVKZ\ndk08CSWTL0alLeg9W8238vojuW4Ek471uWPDGIPyh8sMxwRx9YtZRQEv2rreAhLD\nWP2WhPnwo1yKmclSJ2FfP8oFqgDqdpQixN7uJYdx0Y9XnD6VvwuELb9sdn+ET/lE\ndIWO8baEGZCqLoJPLQ+t1Lx2e1EWSraTBhgGFuSYcf/S725KGUR7CwfZhekWldQF\nHsTI9EevITN7m9DAfcXxfHrfom2NuFa/PT0d9z5v3j5XlZBlvEA=\n=KQ6K\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f77d9c79aa41dab4285e95c9432cc6d853be67a3",
          "sha": "f77d9c79aa41dab4285e95c9432cc6d853be67a3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f77d9c79aa41dab4285e95c9432cc6d853be67a3"
        }
      ],
      "message": "refactor: Avoid recursive locking in CAddrMan::Check",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:37Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T16:32:03Z"
      },
      "sha": "187b7d2bb36e6de9cd960378021ebe690619a2ef"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNzlhNjY0MzE0Yjg4OTQxYzFhMjc5NjYyM2U4NDZkMGE1OTE2YzA2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f79a664314b88941c1a2796623e846d0a5916c06",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f79a664314b88941c1a2796623e846d0a5916c06",
      "tree": {
        "sha": "82f1ba8a72eca87980ff6cf28e6ff6768e18e1ac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82f1ba8a72eca87980ff6cf28e6ff6768e18e1ac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 82f1ba8a72eca87980ff6cf28e6ff6768e18e1ac\nparent 187b7d2bb36e6de9cd960378021ebe690619a2ef\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621788021 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680917 +0300\n\nrefactor: Apply consistent pattern for CAddrMan::Check usage\n\nCo-authored-by: John Newbery <john@johnnewbery.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5UACgkQQQEIES5+\nqB/JchAAo4mSSjImpqVBxRqw8tXIuRIJiUv04gGyigDVP3P+sYgPbTZ70Rg9qJzw\nIAPP/roTGO5Ggjeuz4V86/X+pZ3eWo7uk5QmhzFhxkgSEIKUSWIs8XIyZWWg3Dd7\n0BlxhxX4yujWDpJzdeO+aEn6L2nC40DGkY6XRG/vbZ4dlz9lbRFAzVBan2FqSoR3\nTYiuV81L8qCBkgVEwpWc5tWwKh8im2oXsmeJWumQXtLocvAf/FEuCbngWi/Wp+46\nk81ANVsmGnYbKdbVqo/anVQb77ikcUleRFB8vSJIWTETAwaD4oTCg/psBJ/bOnnq\nEfFpKjkYl8rSBrMtLpLzKiRLqnAbdgeOlgzuVSSCdTrufNrkHI5kt5q0iydtKlBa\nw6wk8Y5oJmKz7fkK7+FJFTPjfpmRuwHY1XTg1Gtyhn5n5P0mi8xmBwMs4/rFChFe\nqfLboSwVPnPyqdwLh3HYMIO52rNdFxNitSzpBf2Z7bWqTvtikY2bCx5TQPbZAIWr\nCB+on9HvMDoZtlkzetlYJbPYWrIbhabPAhAaHHNW/3JvQ3bkPQdLZuNl9usSdW3J\nAQ7WWPA9D3MDLO0LOxPDi4MED953d1B+XSMAEaCovESN90Q9UfdCbJWg3jBcKAN2\naAB09xBZ7Lj2pDNNCuRm1rXUDCVJd8x8a0GV8nMr/q95TaEsnMU=\n=N81+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/187b7d2bb36e6de9cd960378021ebe690619a2ef",
          "sha": "187b7d2bb36e6de9cd960378021ebe690619a2ef",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/187b7d2bb36e6de9cd960378021ebe690619a2ef"
        }
      ],
      "message": "refactor: Apply consistent pattern for CAddrMan::Check usage\n\nCo-authored-by: John Newbery <john@johnnewbery.com>",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:37Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T16:40:21Z"
      },
      "sha": "f79a664314b88941c1a2796623e846d0a5916c06"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMTM4OTczYThiNGJiZTA2MWFkOTcwMTFmMjc4YTIxZTA4ZWE3OWU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b138973a8b4bbe061ad97011f278a21e08ea79e6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b138973a8b4bbe061ad97011f278a21e08ea79e6",
      "tree": {
        "sha": "bb8ee10b39b7edf18ac8d4b982a909f5f9dd3f7d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb8ee10b39b7edf18ac8d4b982a909f5f9dd3f7d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bb8ee10b39b7edf18ac8d4b982a909f5f9dd3f7d\nparent f79a664314b88941c1a2796623e846d0a5916c06\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621792383 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680917 +0300\n\nrefactor: Avoid recursive locking in CAddrMan::Clear\n\nCo-authored-by: John Newbery <john@johnnewbery.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5UACgkQQQEIES5+\nqB8gow/7BL0utTfiwFXCOBcbLaSO9HJqtRckw/nYBUasNrcurHtfMbI5U2rUuKOZ\ncpdCZyks2tfFsNhyHQ4iBlrKt3Mi0drcN3k3KH+M2SeVyPjpOg39OT3f3ScZytRq\nLVri/K9wm4Em1jqsvqmdq8jd3mDdKoGGfQj2vxjHXMjyk4ViHKVjzj1T6X0oU+Ej\niEnpA6jWwP8a7StMphEBZf77bKj35ANGLklRNqV2MPVzbYqg8+rWedIZ2yIVM7H6\nsi7iW/y/ptonPTxi+mfzFC4zo0bsiq8pgGLSiq45p96+B+id22oUh+RSGkfx7ndz\nmLHePbNyDC4bb9Q82DqtxBc2+8mcG0cNY9vdmMVwbM/8x3Q/lDe67jivhtvLgmKZ\n/jI7B/FdOBrIUNUnPDcm+Zzx20+Fo6FKmGA5lcPBEEUVHAglRwE3IEV7dIKrBckI\nOjbevTcPLKdedlokT4T3QDNGQbNcsh/oozSAB+/M7Bxer9wQrAXGOHwzYNlVNbz1\nuBZpOTEZ7x61+sVHmDRY1Eqhoi6twIE8c3ebTgQmrpLXnlFfA08Cm7UD/Sekk+yH\n9F/uQRwrphNdmai8Sp4E7PA0y1rUwD+urM19jaR4E4wE1PtNBTnaxRB+neT9CCL1\n3IJwyFWKCRVDF/6llsb3PJPkzR4gLrQt/ExiC9yuFWJdv8GUdio=\n=y87Z\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f79a664314b88941c1a2796623e846d0a5916c06",
          "sha": "f79a664314b88941c1a2796623e846d0a5916c06",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f79a664314b88941c1a2796623e846d0a5916c06"
        }
      ],
      "message": "refactor: Avoid recursive locking in CAddrMan::Clear\n\nCo-authored-by: John Newbery <john@johnnewbery.com>",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:37Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T17:53:03Z"
      },
      "sha": "b138973a8b4bbe061ad97011f278a21e08ea79e6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZWYxZDBiNjk4MmYwNWY3MGZmMjE2NGFiOWFmMWFjMWQyZjk3ZjVk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d",
      "tree": {
        "sha": "2e421eee04a188a5332cb3fad977b5e69f95bd06",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e421eee04a188a5332cb3fad977b5e69f95bd06"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2e421eee04a188a5332cb3fad977b5e69f95bd06\nparent b138973a8b4bbe061ad97011f278a21e08ea79e6\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621792405 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680918 +0300\n\nAdd thread safety annotations to CAddrMan public functions\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5YACgkQQQEIES5+\nqB/acg//bIlDx5zJnSxGBO37t0I5xovelnNgYYeD+bFyzBkP3PAM5sl2eFN3rCvt\nZBZtRQ0NXFzQtGjS6rb+L6FcHZupq5K/PPYfP7p6OJEDPt7SgaPSQxaHbJmB5dBe\nrafG4m4UCqd+CwiDJx/6vBwM16E4XQM/OJyQ6jHArwJVkAJLL+YWpTc5fcaHLaAc\njvtdONbYnylac9luPyoMxL7E1/fgDFYhmwo48fACjhrBIGXvEcSJ/4QdGTA+cZyl\nPTv2OXa7d0HEvrtNpDA4ABxbj9b6e2RO5d164kCazaTVoSDy0h0Pa0n3ZFBZDf+c\n1ge/0JnHBSUNmrky0wzpLERKTtuGCrI9YHMUgEidziS2iqphUFPMiQnXE33HavLd\nt5EhtDWIObWY/JHEhgGE8o5B5b0qWIOZk7NxBKJUUAJ7WBaZSoSq1x6U0pzhpxDA\nnx1wK+iEMzmlGbtzBsA8ZPjQX+inglCXA7QB9oEU3VqtUtn7CRC6fRIqkhxXelPm\nuyWNaI8TTF2xucuT5kKJZXy7nWxu0TB0/qI/z2n0FRPumjwpD5c1JOfJQvwIrGhk\nLezvNVPgnT5JRDsXUCKtHLVrXD+ZNcqnKH6OHZQ2vM58lxaVXmPGdEnJ3rvItgYO\nrkeaALTZmp/NtefTeD8IF+/ZUzx+lOMzGvGad+Pvv2DTQtpth8E=\n=Zd/c\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b138973a8b4bbe061ad97011f278a21e08ea79e6",
          "sha": "b138973a8b4bbe061ad97011f278a21e08ea79e6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b138973a8b4bbe061ad97011f278a21e08ea79e6"
        }
      ],
      "message": "Add thread safety annotations to CAddrMan public functions",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:38Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T17:53:25Z"
      },
      "sha": "5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNWQxYzdmYWM3MGY0MjQxMTRkYWUzYmUyNzBmZGMzMTU4OWE4YzM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5d1c7fac70f424114dae3be270fdc31589a8c34",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f5d1c7fac70f424114dae3be270fdc31589a8c34",
      "tree": {
        "sha": "14344151261c1e5011c4de30768b725a46b519bf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/14344151261c1e5011c4de30768b725a46b519bf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 14344151261c1e5011c4de30768b725a46b519bf\nparent 5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621793170 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680918 +0300\n\nAdd AssertLockHeld to CAddrMan private functions\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5YACgkQQQEIES5+\nqB+FORAApVrBFBvOb+d2S3bubTpEHg2voiRvkdx25YY8899J+9oNz3IWtSKOgl9U\nD7FxoQWUg6fbJHlAx+TEPBlyxmQRh3kab5qgX+Pm/GjzFKscsBEZMtRleblq+7lm\nmVdiFVmS+Xc+x1T/hgYAQktM9/LTM5BWYfQzueptMj285Ckam6KPKeRgtFIVZRyH\nW1OJ5H0/1niRiiI6YDcTKSBQtMOdlktYdqFrYQY7hldjAchIFp7TdXelA7O9CG0I\nNNnHf+fnKhXMW+u7oh6IZ+9REAyi72g/mC7neib3EVztZw4/tKufVHEvK+XD1rdR\nWNhR23pKm76+B7RojalH9UYHgOJFtVr3U6FzmzGUSUMD0jqW5HCQ98QdOIGLIhEp\nsDHQXVQXwNlU22WAmuyX4kNtC20Oqg366EIlcK9Cem/QbObsbnARp9/2VCVObK/N\n9/FznlqJGmINtIxOqq1q53EtthVs2XTlYf5vF2q5c44mSPGLaGa5TPWBkNEjc/Xm\n6ATWCHfAd5ZEfRHQHxHbONfaDcipgJLzK4zyhquX6QE4sfLc5bEvDMNDFVYiWU11\n4/2tGkHv0EMBKmfgDHmIFqOBjIxfb2d66dCnmHYD5oRq5z55nfpunPmAzr3S2M52\nEGN6/T1hAR1JUB1+I7t7oX9uLFJqRf4bqkByzTm+CMBg0GL3GqE=\n=nalJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d",
          "sha": "5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ef1d0b6982f05f70ff2164ab9af1ac1d2f97f5d"
        }
      ],
      "message": "Add AssertLockHeld to CAddrMan private functions",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:38Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T18:06:10Z"
      },
      "sha": "f5d1c7fac70f424114dae3be270fdc31589a8c34"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZTk4YWVjOWMwNTIxY2RjZWM3NjQ1OWM4MjAwYmQ0NWZmNmExNDg1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "tree": {
        "sha": "3e091f0250b0938c47384082f6fc534232e8e9cd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3e091f0250b0938c47384082f6fc534232e8e9cd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3e091f0250b0938c47384082f6fc534232e8e9cd\nparent f5d1c7fac70f424114dae3be270fdc31589a8c34\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621793460 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1623680918 +0300\n\nrefactor: Make CAddrMan::cs non-recursive\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmDHZ5YACgkQQQEIES5+\nqB+aPw//Sf+axOq+Ynn8Dq84rXm/t1OnW5w/BEkDzWwJ6czCwj6IbAHx4E6kMC0P\n1q2JGzRmzAkRgJC57AvEW5iqD+5Ma7GQcU80w0YSGyBBG5z4ZS4DJD85nTwmLFT3\n2Q6MHmJPsecFYPKy06RXWSsfuJVGodaJ8eX3/I6vzGMqS9sXftZa66WTi/FN2kLn\ndQf+2oMRhe3+i1tT+gLS1N+H1VrHqbjFUIAg+h9s2HT3vb4Mov7N1Fq9Yy0o5EAM\nX6ezwNMnKvGvEECrLMN+H+flanFjzA2Ravaw2lK2nKBiNfNWY42dwfLIwAP+IZXN\nC577XcS2yZEN5CviDSCrUbXMKZgzfxtV8PIFhdxvpVbZ4XEU93DLvTfnCp60p56f\nccRXr9TCT7VTjO6BDOI1i7xcqGqEXYPUHF6Md9oB7+dtS7sY/ulcuNr57Oc6gOIK\nLmyY9RD8K+ATuNoOIl66zyrCpYehJngN9OemX2xBZ+kfTfYo7trBdNNeT61rMFjC\nszOd6b6pvxE9j281lwQHY4lKIgNCh2ysiXvt2wW1kgNLtqgAAX4KzNRC54M1lHxz\n0uWindyX631omLdNlwft2pDEKb1T98PefRMcQrwI+as2rQyzz53v8MoIn+2/DD7U\nnFBdYDfsfZI2fqQQ0mnHeGPPG61UeQSbi4hf4J39ZPkA89e4zkw=\n=+Adq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5d1c7fac70f424114dae3be270fdc31589a8c34",
          "sha": "f5d1c7fac70f424114dae3be270fdc31589a8c34",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f5d1c7fac70f424114dae3be270fdc31589a8c34"
        }
      ],
      "message": "refactor: Make CAddrMan::cs non-recursive",
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-06-14T14:28:38Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-23T18:11:00Z"
      },
      "sha": "ae98aec9c0521cdcec76459c8200bd45ff6a1485"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4886054812,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg4NjA1NDgxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886054812",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:29:06Z"
    },
    {
      "event": "commented",
      "id": 860731808,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDczMTgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860731808",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z",
      "updated_at": "2021-06-14T14:30:28Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke @jnewbery @vasild \r\n\r\nRebased af9550561d7fa8cfa8da910db3e46993f848a0f5 -> ae98aec9c0521cdcec76459c8200bd45ff6a1485 ([pr19238.12](https://github.com/hebasto/bitcoin/commits/pr19238.12) -> [pr19238.13](https://github.com/hebasto/bitcoin/commits/pr19238.13)) due to the silent merge conflict with #21941.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-860731808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238"
    },
    {
      "event": "mentioned",
      "id": 4886064163,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDg4NjA2NDE2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064163",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "subscribed",
      "id": 4886064166,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4ODYwNjQxNjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064166",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "mentioned",
      "id": 4886064172,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDg4NjA2NDE3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064172",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "subscribed",
      "id": 4886064179,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4ODYwNjQxNzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064179",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "mentioned",
      "id": 4886064192,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDg4NjA2NDE5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064192",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "subscribed",
      "id": 4886064199,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4ODYwNjQxOTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886064199",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:30:28Z"
    },
    {
      "event": "reviewed",
      "id": 682995362,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgyOTk1MzYy",
      "url": null,
      "actor": null,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#pullrequestreview-682995362",
      "submitted_at": "2021-06-14T14:37:36Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
    },
    {
      "event": "merged",
      "id": 4886143195,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDg4NjE0MzE5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886143195",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3a2c84a6b5144f4ee1181373604133751b40d5ce",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a2c84a6b5144f4ee1181373604133751b40d5ce",
      "created_at": "2021-06-14T14:43:02Z"
    },
    {
      "event": "closed",
      "id": 4886143215,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDg4NjE0MzIxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886143215",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T14:43:02Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 4886269145,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQ0ODg2MjY5MTQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4886269145",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T15:03:03Z"
    },
    {
      "event": "referenced",
      "id": 4887426106,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4ODc0MjYxMDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4887426106",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "12d86d6ab8dbbcb0001ff3260f2bab79beeb25ae",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/12d86d6ab8dbbcb0001ff3260f2bab79beeb25ae",
      "created_at": "2021-06-14T18:54:29Z"
    },
    {
      "event": "referenced",
      "id": 6723198639,
      "node_id": "REFE_lADOABII584l7ftZzwAAAAGQu96v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6723198639",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6b9494054a86424dc8bc1a057cca4479ab7d8900",
      "commit_url": "https://api.github.com/repos/ElementsProject/elements/commits/6b9494054a86424dc8bc1a057cca4479ab7d8900",
      "created_at": "2022-06-01T21:22:33Z"
    },
    {
      "event": "locked",
      "id": 7199146869,
      "node_id": "LOE_lADOABII584l7ftZzwAAAAGtGkN1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199146869",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:24:15Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438717497",
      "pull_request_review_id": 428821020,
      "id": 438717497,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODcxNzQ5Nw==",
      "diff_hunk": "@@ -534,137 +553,133 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        LOCK(m_addrman_mutex); // TODO: Cache this in an atomic to avoid this overhead\n+        return sizeNonLockerHelper();",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 234,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would be nice to implement that TODO comment because it would make it possible to avoid any mutex requirements from `size()`.\r\n\r\nI did so in https://github.com/vasild/bitcoin/commit/f25d8a7c6de0e45b037f91138e1b4a72e7a1653f. If you like it you can replace the commit `refactor: Prevent double lock in CAddrMan::size()` with that one. In this branch https://github.com/vasild/bitcoin/tree/200610-addrman-mx that is done and also the subsequent commits are adjusted.\r\n\r\nOr, if you don't like the caching, then maybe just delete the TODO comment.",
      "created_at": "2020-06-11T11:27:31Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r438717497",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438717497"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 539,
      "start_side": "LEFT",
      "line": null,
      "original_line": 566,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438722555",
      "pull_request_review_id": 428821020,
      "id": 438722555,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODcyMjU1NQ==",
      "diff_hunk": "@@ -103,6 +103,9 @@ class LOCKABLE AnnotatedMixin : public PARENT\n     }\n \n     using UniqueLock = std::unique_lock<PARENT>;\n+#ifdef __clang__\n+    const AnnotatedMixin& operator!() const { return *this; }\n+#endif // __clang__",
      "path": "src/sync.h",
      "position": null,
      "original_position": 6,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Here and in `StdMutex` - I find this very confusing because it would end up with `m` being the same as `!m`. It is a huge hack imposed by clang. I would suggest to add some comment to explain what is that. Something like `Required by the clang thread safety instrumentation so that we can declare that a mutex should not be held when a function is called - EXCLUSIVE_LOCKS_REQUIRED(!m) (aka \"negative capabilities\")`.\r\n\r\nThe example in https://clang.llvm.org/docs/ThreadSafetyAnalysis.html#mutex-h also has some comment.\r\n\r\nPS I wonder what would `EXCLUSIVE_LOCKS_REQUIRED(!!m)` do. :eyes:",
      "created_at": "2020-06-11T11:39:37Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r438722555",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438722555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 106,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438796565",
      "pull_request_review_id": 428929366,
      "id": 438796565,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5NjU2NQ==",
      "diff_hunk": "@@ -534,137 +553,133 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        LOCK(m_addrman_mutex); // TODO: Cache this in an atomic to avoid this overhead\n+        return sizeNonLockerHelper();",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 234,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "in_reply_to_id": 438717497,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The commit you [suggested](https://github.com/vasild/bitcoin/commit/f25d8a7c6de0e45b037f91138e1b4a72e7a1653f) does change `CAddrMan::size()` behavior. So I'd prefer to keep this PR as clean refactoring with no behavior changes.",
      "created_at": "2020-06-11T13:46:34Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r438796565",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438796565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 539,
      "start_side": "LEFT",
      "line": null,
      "original_line": 566,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438823196",
      "pull_request_review_id": 428961910,
      "id": 438823196,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyMzE5Ng==",
      "diff_hunk": "@@ -103,6 +103,9 @@ class LOCKABLE AnnotatedMixin : public PARENT\n     }\n \n     using UniqueLock = std::unique_lock<PARENT>;\n+#ifdef __clang__\n+    const AnnotatedMixin& operator!() const { return *this; }\n+#endif // __clang__",
      "path": "src/sync.h",
      "position": null,
      "original_position": 6,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "in_reply_to_id": 438722555,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in #19249.",
      "created_at": "2020-06-11T14:21:17Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r438823196",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438823196"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 106,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438843755",
      "pull_request_review_id": 428989548,
      "id": 438843755,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0Mzc1NQ==",
      "diff_hunk": "@@ -534,137 +553,133 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        LOCK(m_addrman_mutex); // TODO: Cache this in an atomic to avoid this overhead\n+        return sizeNonLockerHelper();",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 234,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "d9572933f1fb0201b259d9cb7b40873bdbad7b6f",
      "in_reply_to_id": 438717497,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok",
      "created_at": "2020-06-11T14:50:31Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r438843755",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438843755"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 539,
      "start_side": "LEFT",
      "line": null,
      "original_line": 566,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441763265",
      "pull_request_review_id": 432686696,
      "id": 441763265,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2MzI2NQ==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The pattern `AssertLockNotHeld(m); LOCK(m);` seems too verbose. Following that, should we add `AssertLockNotHeld()` before every `LOCK()` in the source code?\r\n\r\nWhat about adding `AssertLockNotHeld()` inside `LOCK()`?\r\n\r\nWhat happens if we try to lock a mutex which we already own?\r\nhttps://en.cppreference.com/w/cpp/thread/mutex/lock says:\r\n> If lock is called by a thread that already owns the mutex, the behavior is undefined\r\n\r\nThe following test case\r\n\r\n```cpp\r\nvoid f(Mutex& m)\r\n{\r\n    LOCK(m);\r\n}\r\n\r\nBOOST_AUTO_TEST_CASE(double_lock)\r\n{\r\n    Mutex m;\r\n    LOCK(m);\r\n    f(m);\r\n}\r\n```\r\n\r\nthrows an exception `std::__1::system_error: mutex lock failed: Resource deadlock avoided` by the OS itself (from inside `std::mutex::lock()`). So, we don't have a protection in our code and we need one because want to avoid the undefined behavior (can't rely on the OS to always throw an exception).\r\n\r\nThe following succeeds (why not also exception?):\r\n\r\n```\r\nvoid f(std::mutex& m) {\r\n    std::unique_lock<std::mutex> lock(m);\r\n}\r\n\r\nint main(int, char**) {\r\n    std::mutex m;\r\n    std::unique_lock<std::mutex> lock(m);\r\n    f(m);\r\n    return 0;\r\n}\r\n```",
      "created_at": "2020-06-17T18:55:00Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r441763265",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441763265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441793261",
      "pull_request_review_id": 432722652,
      "id": 441793261,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc5MzI2MQ==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Following that, should we add `AssertLockNotHeld()` before every `LOCK()` in the source code?\r\n\r\nOnly for `Mutex` instances, not for `RecursiveMutex` ones.\r\n\r\n> What about adding `AssertLockNotHeld()` inside `LOCK()`?\r\n\r\nNot now because the `RecursiveMutex` instance could be an argument of `LOCK()`.",
      "created_at": "2020-06-17T19:48:16Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r441793261",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441793261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442387548",
      "pull_request_review_id": 433497636,
      "id": 442387548,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM4NzU0OA==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What about checking, inside `LOCK()`, whether the mutex being locked is instance of `Mutex` (and not `RecursiveMutex`) and only asserting that we don't own it in that case:\r\n\r\n```diff\r\ndiff --git i/src/sync.h w/src/sync.h\r\nindex 60e5a87ae..36c348898 100644\r\n--- i/src/sync.h\r\n+++ w/src/sync.h\r\n@@ -10,12 +10,13 @@\r\n #include <util/macros.h>\r\n \r\n #include <condition_variable>\r\n #include <mutex>\r\n #include <string>\r\n #include <thread>\r\n+#include <type_traits>\r\n \r\n ////////////////////////////////////////////////\r\n //                                            //\r\n // THE SIMPLE DEFINITION, EXCLUDING DEBUG CODE //\r\n //                                            //\r\n ////////////////////////////////////////////////\r\n@@ -145,12 +146,15 @@ private:\r\n         return Base::owns_lock();\r\n     }\r\n \r\n public:\r\n     UniqueLock(Mutex& mutexIn, const char* pszName, const char* pszFile, int nLine, bool fTry = false) EXCLUSIVE_LOCK_FUNCTION(mutexIn) : Base(mutexIn, std::defer_lock)\r\n     {\r\n+        if (std::is_base_of<::Mutex, Mutex>::value) {\r\n+            AssertLockNotHeldInternal(pszName, pszFile, nLine, &mutexIn);\r\n+        }\r\n         if (fTry)\r\n             TryEnter(pszName, pszFile, nLine);\r\n         else\r\n             Enter(pszName, pszFile, nLine);\r\n     }\r\n \r\ndiff --git i/src/test/sync_tests.cpp w/src/test/sync_tests.cpp\r\nindex 5c6c2ee38..a66d55519 100644\r\n--- i/src/test/sync_tests.cpp\r\n+++ w/src/test/sync_tests.cpp\r\n@@ -46,7 +46,27 @@ BOOST_AUTO_TEST_CASE(potential_deadlock_detected)\r\n \r\n     #ifdef DEBUG_LOCKORDER\r\n     g_debug_lockorder_abort = prev;\r\n     #endif\r\n }\r\n \r\n+template <typename M>\r\n+void lock(M& m)\r\n+{\r\n+    LOCK(m);\r\n+}\r\n+\r\n+BOOST_AUTO_TEST_CASE(double_lock_mutex)\r\n+{\r\n+    Mutex m;\r\n+    LOCK(m);\r\n+    lock(m);\r\n+}\r\n+\r\n+BOOST_AUTO_TEST_CASE(double_lock_recursive_mutex)\r\n+{\r\n+    RecursiveMutex m;\r\n+    LOCK(m);\r\n+    lock(m);\r\n+}\r\n+\r\n BOOST_AUTO_TEST_SUITE_END()\r\n```\r\n\r\nIt works - the test `double_lock_mutex` fails because of the newly added check while the `double_lock_recursive_mutex` succeeds.\r\n\r\nThe double colon in `::Mutex` is required because the class template type `template <typename Mutex, ...> UniqueLock ...` shadows the global `typedef ... Mutex;`.",
      "created_at": "2020-06-18T17:26:29Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r442387548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442387548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442394521",
      "pull_request_review_id": 433506718,
      "id": 442394521,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM5NDUyMQ==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@vasild Mind submitting a PR that it could be reviewed before this one?",
      "created_at": "2020-06-18T17:38:55Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r442394521",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442394521"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442410258",
      "pull_request_review_id": 433527446,
      "id": 442410258,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQxMDI1OA==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Currently, it is assumed the following patterns:\r\n- for public interface methods:\r\n```\r\n# foo.h\r\nclass Foo\r\n{\r\npublic: void foo() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\r\n}\r\n# foo.cpp\r\nvoid Foo::foo()\r\n{\r\n    AssertLockNotHeld(m_mutex);\r\n    LOCK(m_mutex);\r\n    // do magic\r\n}\r\n```\r\n\r\n- for internal methods that are called from critical sections:\r\n```\r\n# foo.h\r\nclass Foo\r\n{\r\npivate: void foo_cs() EXCLUSIVE_LOCKS_REQUIRED(m_mutex);\r\n}\r\n# foo.cpp\r\nvoid Foo::foo_cs()\r\n{\r\n    AssertLockHeld(m_mutex);\r\n    // do magic\r\n}\r\n```\r\n\r\nThe common places are thread safety annotations and lock assertions. It seems placing `AssertLockNotHeld()` into internals of the `LOCK()` breaks uniformity, no?",
      "created_at": "2020-06-18T18:07:34Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r442410258",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442410258"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442450059",
      "pull_request_review_id": 433579363,
      "id": 442450059,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ1MDA1OQ==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Mind submitting a PR that it could be reviewed before this one?\r\n\r\nYes, I think that deserves a separate PR. I have to consider this a little bit before opening a PR. Maybe it would be possible to optimize it - the patch above would lock `lockdata.dd_mutex` and dig into the stack of locks for the current thread 2 times - once from the newly added `AssertLockNotHeld()` and a second time from `push_lock()`. It should be possible to do everything in `push_lock()` and avoid adding the call to `AssertLockNotHeld()`.\r\n\r\n> ...breaks uniformity, no?\r\n\r\nI don't see it that way - `LOCK()` already implies that we don't own the mutex.",
      "created_at": "2020-06-18T19:22:52Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r442450059",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442450059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443132584",
      "pull_request_review_id": 434429871,
      "id": 443132584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEzMjU4NA==",
      "diff_hunk": "@@ -534,137 +559,145 @@ friend class CAddrManTest;\n     }\n \n     //! Return the number of (unique) addresses in all tables.\n-    size_t size() const\n+    size_t size() const EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs); // TODO: Cache this in an atomic to avoid this overhead\n-        return vRandom.size();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        return sizeNonLockerHelper();\n     }\n \n     //! Consistency check\n-    void Check()\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n+        AssertLockNotHeld(m_addrman_mutex);\n #ifdef DEBUG_ADDRMAN\n-        {\n-            LOCK(cs);\n-            int err;\n-            if ((err=Check_()))\n-                LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n+#endif // DEBUG_ADDRMAN\n     }\n \n     //! Add a single address.\n-    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         bool fRet = false;\n-        Check();\n+        CheckNonLockHelper();\n         fRet |= Add_(addr, source, nTimePenalty);\n-        Check();\n+        CheckNonLockHelper();\n         if (fRet) {\n             LogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew);\n         }\n         return fRet;\n     }\n \n     //! Add multiple addresses.\n-    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0)\n+    bool Add(const std::vector<CAddress> &vAddr, const CNetAddr& source, int64_t nTimePenalty = 0) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n         int nAdd = 0;\n-        Check();\n+        CheckNonLockHelper();\n         for (std::vector<CAddress>::const_iterator it = vAddr.begin(); it != vAddr.end(); it++)\n             nAdd += Add_(*it, source, nTimePenalty) ? 1 : 0;\n-        Check();\n+        CheckNonLockHelper();\n         if (nAdd) {\n             LogPrint(BCLog::ADDRMAN, \"Added %i addresses from %s: %i tried, %i new\\n\", nAdd, source.ToString(), nTried, nNew);\n         }\n         return nAdd > 0;\n     }\n \n     //! Mark an entry as accessible.\n-    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime())\n+    void Good(const CService &addr, bool test_before_evict = true, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Good_(addr, test_before_evict, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! Mark an entry as connection attempted to.\n-    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime())\n+    void Attempt(const CService &addr, bool fCountFailure, int64_t nTime = GetAdjustedTime()) EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);\n+        CheckNonLockHelper();\n         Attempt_(addr, fCountFailure, nTime);\n-        Check();\n+        CheckNonLockHelper();\n     }\n \n     //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n-    void ResolveCollisions()\n+    void ResolveCollisions() EXCLUSIVE_LOCKS_REQUIRED(!m_addrman_mutex)\n     {\n-        LOCK(cs);\n-        Check();\n+        AssertLockNotHeld(m_addrman_mutex);\n+        LOCK(m_addrman_mutex);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 336,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "9cd0ed858c96b1052580e2044069c5cb9434628e",
      "in_reply_to_id": 441763265,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Here is a PR that would detect a double lock. With the check from inside `LOCK()` it makes unnecessary to add `AssertLockNotHeld()` calls before each `LOCK()`: https://github.com/bitcoin/bitcoin/pull/19337",
      "created_at": "2020-06-20T13:52:56Z",
      "updated_at": "2021-01-01T23:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r443132584",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443132584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": 633,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550865131",
      "pull_request_review_id": 560628840,
      "id": 550865131,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg2NTEzMQ==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+        AssertLockHeld(cs);\n+        std::vector<int>().swap(vRandom);\n+        nKey = insecure_rand.rand256();\n+        for (size_t bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvNew[bucket][entry] = -1;\n+            }\n+        }\n+        for (size_t bucket = 0; bucket < ADDRMAN_TRIED_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvTried[bucket][entry] = -1;\n+            }\n+        }\n+\n+        nIdCount = 0;\n+        nTried = 0;\n+        nNew = 0;\n+        nLastGood = 1; //Initially at 1 so that \"never\" is strictly worse.\n+        mapInfo.clear();\n+        mapAddr.clear();\n+    }\n+\n protected:\n     //! secret key to randomize bucket select with\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n     FastRandomContext insecure_rand;\n \n+private:",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 56,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can you consolidate all the private members and protected members to be next to each other? Multiple private and protected access specifiers make this harder to read than is necessary.",
      "created_at": "2021-01-02T09:55:44Z",
      "updated_at": "2021-01-02T13:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r550865131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550865131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 273,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883088",
      "pull_request_review_id": 560628840,
      "id": 550883088,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MzA4OA==",
      "diff_hunk": "@@ -262,7 +297,7 @@ friend class CAddrManTest;\n     bool Add_(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n     //! Mark an entry as attempted to connect.\n-    void Attempt_(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void AttemptWithLockHeld(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 65,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think we need to expose this as a public method just for the addrman tests. Just release the lock in that test before calling `Attempt()`:\r\n\r\n```diff\r\n--- a/src/test/addrman_tests.cpp\r\n+++ b/src/test/addrman_tests.cpp\r\n@@ -73,13 +73,12 @@ public:\r\n     // Simulates connection failure so that we can test eviction of offline nodes\r\n     void SimConnFail(const CService& addr)\r\n     {\r\n-         LOCK(cs);\r\n-         int64_t nLastSuccess = 1;\r\n-         Good_(addr, true, nLastSuccess); // Set last good connection in the deep past.\r\n+         // Set last good connection in the deep past.\r\n+         WITH_LOCK(cs, {Good_(addr, true, /* nLastSuccess= */ 1);});\r\n \r\n          bool count_failure = false;\r\n          int64_t nLastTry = GetAdjustedTime()-61;\r\n-         AttemptWithLockHeld(addr, count_failure, nLastTry);\r\n+         Attempt(addr, count_failure, nLastTry);\r\n```\r\n\r\nThe unit test is single threaded, so there's no need to hold the mutex between `Good_()` and `Attempt()`.",
      "created_at": "2021-01-02T13:42:57Z",
      "updated_at": "2021-01-02T13:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r550883088",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883088"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 300,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883172",
      "pull_request_review_id": 560628840,
      "id": 550883172,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MzE3Mg==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 15,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Make this (and other `Check()` functions) `const`?",
      "created_at": "2021-01-02T13:43:32Z",
      "updated_at": "2021-01-02T13:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r550883172",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883172"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883356",
      "pull_request_review_id": 560628840,
      "id": 550883356,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MzM1Ng==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 25,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It'd be good to get rid of the `Clear()` functions entirely:\r\n\r\n- the call to `Clear()` in deserialize could be replaced with an assert that size() is 0 (we should never deserialize into a populated `CAddrman`)\r\n- the calls in the tests can be replaced by instantiating new `CAddrman`s. Clearing then reusing an existing `CAddrman` is not a realistic usage pattern.\r\n\r\nIf you don't want to do that in this PR, it feels like this function should be called `Clear_()` and be defined in the cpp file, for consistency with the other functions.",
      "created_at": "2021-01-02T13:45:48Z",
      "updated_at": "2021-01-02T14:01:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r550883356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883659",
      "pull_request_review_id": 560628840,
      "id": 550883659,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDg4MzY1OQ==",
      "diff_hunk": "@@ -679,9 +692,9 @@ friend class CAddrManTest;\n         CAddrInfo ret;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 190,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It feels like this is a good opportunity to make the access patterns consistent here:\r\n\r\n```diff\r\n@@ -689,13 +689,10 @@ public:\r\n     //! Randomly select an address in tried that another address is attempting to evict.\r\n     CAddrInfo SelectTriedCollision()\r\n     {\r\n-        CAddrInfo ret;\r\n-        {\r\n-            LOCK(cs);\r\n-            CheckWithLockHeld();\r\n-            ret = SelectTriedCollision_();\r\n-            CheckWithLockHeld();\r\n-        }\r\n+        LOCK(cs);\r\n+        CheckWithLockHeld();\r\n+        CAddrInfo ret = SelectTriedCollision_();\r\n+        CheckWithLockHeld();\r\n         return ret;\r\n     }\r\n \r\n@@ -704,26 +701,21 @@ public:\r\n      */\r\n     CAddrInfo Select(bool newOnly = false)\r\n     {\r\n-        CAddrInfo addrRet;\r\n-        {\r\n-            LOCK(cs);\r\n-            CheckWithLockHeld();\r\n-            addrRet = Select_(newOnly);\r\n-            CheckWithLockHeld();\r\n-        }\r\n+        LOCK(cs);\r\n+        CheckWithLockHeld();\r\n+        CAddrInfo addrRet = Select_(newOnly);\r\n+        CheckWithLockHeld();\r\n         return addrRet;\r\n     }\r\n \r\n     //! Return a bunch of addresses, selected at random.\r\n     std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct)\r\n     {\r\n-        Check();\r\n+        LOCK(cs);\r\n+        CheckWithLockHeld();\r\n         std::vector<CAddress> vAddr;\r\n-        {\r\n-            LOCK(cs);\r\n-            GetAddr_(vAddr, max_addresses, max_pct);\r\n-        }\r\n-        Check();\r\n+        GetAddr_(vAddr, max_addresses, max_pct);\r\n+        CheckWithLockHeld();\r\n         return vAddr;\r\n     }\r\n```\r\n\r\n(i.e. for all of these functions take the lock, run Check(), run the inner function, run Check() again, release lock/return)",
      "created_at": "2021-01-02T13:49:09Z",
      "updated_at": "2021-01-02T13:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r550883659",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550883659"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 692,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552349817",
      "pull_request_review_id": 562304511,
      "id": 552349817,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM0OTgxNw==",
      "diff_hunk": "@@ -608,23 +625,19 @@ friend class CAddrManTest;\n     void Check()",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 113,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was expecting to see `EXCLUSIVE_LOCKS_REQUIRED(!cs)` added to these functions that lock `cs` to get compile time detection of double-locking. Any reason not to have them?",
      "created_at": "2021-01-06T03:33:18Z",
      "updated_at": "2021-01-06T03:33:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r552349817",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552349817"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 625,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557265083",
      "pull_request_review_id": 568066805,
      "id": 557265083,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzI2NTA4Mw==",
      "diff_hunk": "@@ -679,9 +692,9 @@ friend class CAddrManTest;\n         CAddrInfo ret;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 190,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883659,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ":+1: This would make the `Check()` function unused, so it can be removed.",
      "created_at": "2021-01-14T09:44:26Z",
      "updated_at": "2021-01-14T09:44:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r557265083",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557265083"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 692,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557271783",
      "pull_request_review_id": 568075305,
      "id": 557271783,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzI3MTc4Mw==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+        AssertLockHeld(cs);\n+        std::vector<int>().swap(vRandom);\n+        nKey = insecure_rand.rand256();\n+        for (size_t bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvNew[bucket][entry] = -1;\n+            }\n+        }\n+        for (size_t bucket = 0; bucket < ADDRMAN_TRIED_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvTried[bucket][entry] = -1;\n+            }\n+        }\n+\n+        nIdCount = 0;\n+        nTried = 0;\n+        nNew = 0;\n+        nLastGood = 1; //Initially at 1 so that \"never\" is strictly worse.\n+        mapInfo.clear();\n+        mapAddr.clear();\n+    }\n+\n protected:\n     //! secret key to randomize bucket select with\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n     FastRandomContext insecure_rand;\n \n+private:",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 56,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550865131,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, class declaration is easier to read if there is just one instance of `public:`, `protected:` and `private:` (in that order).\r\n",
      "created_at": "2021-01-14T09:54:56Z",
      "updated_at": "2021-01-14T09:54:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r557271783",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557271783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 273,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637537333",
      "pull_request_review_id": 666261895,
      "id": 637537333,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzUzNzMzMw==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+        AssertLockHeld(cs);\n+        std::vector<int>().swap(vRandom);\n+        nKey = insecure_rand.rand256();\n+        for (size_t bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvNew[bucket][entry] = -1;\n+            }\n+        }\n+        for (size_t bucket = 0; bucket < ADDRMAN_TRIED_BUCKET_COUNT; bucket++) {\n+            for (size_t entry = 0; entry < ADDRMAN_BUCKET_SIZE; entry++) {\n+                vvTried[bucket][entry] = -1;\n+            }\n+        }\n+\n+        nIdCount = 0;\n+        nTried = 0;\n+        nNew = 0;\n+        nLastGood = 1; //Initially at 1 so that \"never\" is strictly worse.\n+        mapInfo.clear();\n+        mapAddr.clear();\n+    }\n+\n protected:\n     //! secret key to randomize bucket select with\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n     FastRandomContext insecure_rand;\n \n+private:",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 56,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550865131,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@jnewbery @vasild \r\n\r\nDone in #22025.",
      "created_at": "2021-05-23T12:16:12Z",
      "updated_at": "2021-05-23T12:16:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637537333",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637537333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 273,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637574215",
      "pull_request_review_id": 666287335,
      "id": 637574215,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU3NDIxNQ==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 15,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883172,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This change is not trivial due to the non-const [`std::map::operator[]`](https://en.cppreference.com/w/cpp/container/map/operator_at):\r\n```\r\naddrman.cpp:433:20: error: no viable overloaded operator[] for type 'const std::map<CNetAddr, int>'\r\n        if (mapAddr[info] != n)\r\n            ~~~~~~~^~~~~\r\n```",
      "created_at": "2021-05-23T16:59:14Z",
      "updated_at": "2021-05-23T16:59:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637574215",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637574215"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637580390",
      "pull_request_review_id": 666291478,
      "id": 637580390,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU4MDM5MA==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 25,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883356,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@jnewbery \r\n> It'd be good to get rid of the `Clear()` functions entirely:\r\n\r\nI totally agree with you.\r\n\r\n>  - the call to `Clear()` in deserialize could be replaced with an assert that size() is 0 (we should never deserialize into a populated `CAddrman`)\r\n\r\nGoing to implement this suggestion.\r\n\r\n>  - the calls in the tests can be replaced by instantiating new `CAddrman`s. Clearing then reusing an existing `CAddrman` is not a realistic usage pattern.\r\n\r\nThis part is not trivial, and probably deserves its own pr.",
      "created_at": "2021-05-23T17:56:12Z",
      "updated_at": "2021-05-23T17:56:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637580390",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637580390"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584320",
      "pull_request_review_id": 666294032,
      "id": 637584320,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU4NDMyMA==",
      "diff_hunk": "@@ -608,23 +625,19 @@ friend class CAddrManTest;\n     void Check()",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 113,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 552349817,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Of course! Done in 7f01942d2d3d9d66a8932d6a1fe08281d9b52273.",
      "created_at": "2021-05-23T18:32:17Z",
      "updated_at": "2021-05-23T18:32:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637584320",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 625,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584493",
      "pull_request_review_id": 666294154,
      "id": 637584493,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU4NDQ5Mw==",
      "diff_hunk": "@@ -679,9 +692,9 @@ friend class CAddrManTest;\n         CAddrInfo ret;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 190,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883659,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! Done in e21c0dd57009197dfeedbc4ed4d30454b7a05cf6.",
      "created_at": "2021-05-23T18:33:53Z",
      "updated_at": "2021-05-23T18:33:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637584493",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 692,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584595",
      "pull_request_review_id": 666294232,
      "id": 637584595,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU4NDU5NQ==",
      "diff_hunk": "@@ -229,13 +229,48 @@ friend class CAddrManTest;\n     //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n     std::set<int> m_tried_collisions;\n \n+    void CheckWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {\n+            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n+        }\n+#endif // DEBUG_ADDRMAN\n+    }\n+\n+    void ClearWithLockHeld() EXCLUSIVE_LOCKS_REQUIRED(cs)",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 25,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883356,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-846605462).",
      "created_at": "2021-05-23T18:34:51Z",
      "updated_at": "2021-05-23T18:34:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637584595",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584712",
      "pull_request_review_id": 666294306,
      "id": 637584712,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzU4NDcxMg==",
      "diff_hunk": "@@ -262,7 +297,7 @@ friend class CAddrManTest;\n     bool Add_(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n     //! Mark an entry as attempted to connect.\n-    void Attempt_(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void AttemptWithLockHeld(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 65,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "0c0fb742ad7b686209efb627a8ec43d7f96c3754",
      "in_reply_to_id": 550883088,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! Done in bc3694a49a93b9ae6f8cacfd0d5b1def5f09b004.",
      "created_at": "2021-05-23T18:35:50Z",
      "updated_at": "2021-05-23T18:35:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637584712",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637584712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 300,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637813423",
      "pull_request_review_id": 666560548,
      "id": 637813423,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzgxMzQyMw==",
      "diff_hunk": "@@ -752,13 +611,161 @@ friend class CAddrManTest;\n     }\n \n     void SetServices(const CService &addr, ServiceFlags nServices)\n+        EXCLUSIVE_LOCKS_REQUIRED(!cs)\n     {\n         LOCK(cs);\n         Check();\n         SetServices_(addr, nServices);\n         Check();\n     }\n \n+private:\n+    //! A mutex to protect the inner data structures.\n+    mutable Mutex cs;\n+\n+    //! Serialization versions.\n+    enum Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! The maximum format this software knows it can unserialize. Also, we always serialize\n+    //! in this format.\n+    //! The format (first byte in the serialized stream) can be higher than this and\n+    //! still this software may be able to unserialize the file - if the second byte\n+    //! (see `lowest_compatible` in `Unserialize()`) is less or equal to this.\n+    static constexpr Format FILE_FORMAT = Format::V3_BIP155;\n+\n+    //! The initial value of a field that is incremented every time an incompatible format\n+    //! change is made (such that old software versions would not be able to parse and\n+    //! understand the new file format). This is 32 because we overtook the \"key size\"\n+    //! field which was 32 historically.\n+    //! @note Don't increment this. Increment `lowest_compatible` in `Serialize()` instead.\n+    static constexpr uint8_t INCOMPATIBILITY_BASE = 32;\n+\n+    //! last used nId\n+    int nIdCount GUARDED_BY(cs);\n+\n+    //! table with information about all nIds\n+    std::map<int, CAddrInfo> mapInfo GUARDED_BY(cs);\n+\n+    //! find an nId based on its network address\n+    std::map<CNetAddr, int> mapAddr GUARDED_BY(cs);\n+\n+    //! randomly-ordered vector of all nIds\n+    std::vector<int> vRandom GUARDED_BY(cs);\n+\n+    // number of \"tried\" entries\n+    int nTried GUARDED_BY(cs);\n+\n+    //! list of \"tried\" buckets\n+    int vvTried[ADDRMAN_TRIED_BUCKET_COUNT][ADDRMAN_BUCKET_SIZE] GUARDED_BY(cs);\n+\n+    //! number of (unique) \"new\" entries\n+    int nNew GUARDED_BY(cs);\n+\n+    //! list of \"new\" buckets\n+    int vvNew[ADDRMAN_NEW_BUCKET_COUNT][ADDRMAN_BUCKET_SIZE] GUARDED_BY(cs);\n+\n+    //! last time Good was called (memory only)\n+    int64_t nLastGood GUARDED_BY(cs);\n+\n+    //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n+    std::set<int> m_tried_collisions;\n+\n+    //! secret key to randomize bucket select with\n+    uint256 nKey;\n+\n+    //! Source of random numbers for randomization in inner loops\n+    FastRandomContext insecure_rand;\n+\n+    //! Find an entry.\n+    CAddrInfo* Find(const CNetAddr& addr, int *pnId = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! find an entry, creating it if necessary.\n+    //! nTime and nServices of the found node are updated, if necessary.\n+    CAddrInfo* Create(const CAddress &addr, const CNetAddr &addrSource, int *pnId = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Swap two elements in vRandom.\n+    void SwapRandom(unsigned int nRandomPos1, unsigned int nRandomPos2) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Move an entry from the \"new\" table(s) to the \"tried\" table\n+    void MakeTried(CAddrInfo& info, int nId) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Delete an entry. It must not be in tried, and have refcount 0.\n+    void Delete(int nId) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Clear a position in a \"new\" table. This is the only place where entries are actually deleted.\n+    void ClearNew(int nUBucket, int nUBucketPos) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Mark an entry \"good\", possibly moving it from \"new\" to \"tried\".\n+    void Good_(const CService &addr, bool test_before_evict, int64_t time) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Add an entry to the \"new\" table.\n+    bool Add_(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Mark an entry as attempted to connect.\n+    void Attempt_(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Select an address to connect to, if newOnly is set to true, only the new table is selected from.\n+    CAddrInfo Select_(bool newOnly) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n+    void ResolveCollisions_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Return a random to-be-evicted tried table address.\n+    CAddrInfo SelectTriedCollision_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Consistency check\n+    void Check()\n+        EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 411,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "148a7c9454adc3e311867f3566e01d261b362f71",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is a matter of taste. Personally, I find the \"classic\" easier to read:\r\n```cpp\r\nconst int err = Check_();\r\nif (err != 0) {\r\n```\r\nIt is also more gdb-friendly because one can set breakpoint on the first or on the second line.",
      "created_at": "2021-05-24T09:29:19Z",
      "updated_at": "2021-05-24T10:05:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637813423",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637813423"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 727,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637839950",
      "pull_request_review_id": 666595941,
      "id": 637839950,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzgzOTk1MA==",
      "diff_hunk": "@@ -752,13 +611,161 @@ friend class CAddrManTest;\n     }\n \n     void SetServices(const CService &addr, ServiceFlags nServices)\n+        EXCLUSIVE_LOCKS_REQUIRED(!cs)\n     {\n         LOCK(cs);\n         Check();\n         SetServices_(addr, nServices);\n         Check();\n     }\n \n+private:\n+    //! A mutex to protect the inner data structures.\n+    mutable Mutex cs;\n+\n+    //! Serialization versions.\n+    enum Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! The maximum format this software knows it can unserialize. Also, we always serialize\n+    //! in this format.\n+    //! The format (first byte in the serialized stream) can be higher than this and\n+    //! still this software may be able to unserialize the file - if the second byte\n+    //! (see `lowest_compatible` in `Unserialize()`) is less or equal to this.\n+    static constexpr Format FILE_FORMAT = Format::V3_BIP155;\n+\n+    //! The initial value of a field that is incremented every time an incompatible format\n+    //! change is made (such that old software versions would not be able to parse and\n+    //! understand the new file format). This is 32 because we overtook the \"key size\"\n+    //! field which was 32 historically.\n+    //! @note Don't increment this. Increment `lowest_compatible` in `Serialize()` instead.\n+    static constexpr uint8_t INCOMPATIBILITY_BASE = 32;\n+\n+    //! last used nId\n+    int nIdCount GUARDED_BY(cs);\n+\n+    //! table with information about all nIds\n+    std::map<int, CAddrInfo> mapInfo GUARDED_BY(cs);\n+\n+    //! find an nId based on its network address\n+    std::map<CNetAddr, int> mapAddr GUARDED_BY(cs);\n+\n+    //! randomly-ordered vector of all nIds\n+    std::vector<int> vRandom GUARDED_BY(cs);\n+\n+    // number of \"tried\" entries\n+    int nTried GUARDED_BY(cs);\n+\n+    //! list of \"tried\" buckets\n+    int vvTried[ADDRMAN_TRIED_BUCKET_COUNT][ADDRMAN_BUCKET_SIZE] GUARDED_BY(cs);\n+\n+    //! number of (unique) \"new\" entries\n+    int nNew GUARDED_BY(cs);\n+\n+    //! list of \"new\" buckets\n+    int vvNew[ADDRMAN_NEW_BUCKET_COUNT][ADDRMAN_BUCKET_SIZE] GUARDED_BY(cs);\n+\n+    //! last time Good was called (memory only)\n+    int64_t nLastGood GUARDED_BY(cs);\n+\n+    //! Holds addrs inserted into tried table that collide with existing entries. Test-before-evict discipline used to resolve these collisions.\n+    std::set<int> m_tried_collisions;\n+\n+    //! secret key to randomize bucket select with\n+    uint256 nKey;\n+\n+    //! Source of random numbers for randomization in inner loops\n+    FastRandomContext insecure_rand;\n+\n+    //! Find an entry.\n+    CAddrInfo* Find(const CNetAddr& addr, int *pnId = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! find an entry, creating it if necessary.\n+    //! nTime and nServices of the found node are updated, if necessary.\n+    CAddrInfo* Create(const CAddress &addr, const CNetAddr &addrSource, int *pnId = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Swap two elements in vRandom.\n+    void SwapRandom(unsigned int nRandomPos1, unsigned int nRandomPos2) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Move an entry from the \"new\" table(s) to the \"tried\" table\n+    void MakeTried(CAddrInfo& info, int nId) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Delete an entry. It must not be in tried, and have refcount 0.\n+    void Delete(int nId) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Clear a position in a \"new\" table. This is the only place where entries are actually deleted.\n+    void ClearNew(int nUBucket, int nUBucketPos) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Mark an entry \"good\", possibly moving it from \"new\" to \"tried\".\n+    void Good_(const CService &addr, bool test_before_evict, int64_t time) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Add an entry to the \"new\" table.\n+    bool Add_(const CAddress &addr, const CNetAddr& source, int64_t nTimePenalty) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Mark an entry as attempted to connect.\n+    void Attempt_(const CService &addr, bool fCountFailure, int64_t nTime) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Select an address to connect to, if newOnly is set to true, only the new table is selected from.\n+    CAddrInfo Select_(bool newOnly) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! See if any to-be-evicted tried table entries have been tested and if so resolve the collisions.\n+    void ResolveCollisions_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Return a random to-be-evicted tried table address.\n+    CAddrInfo SelectTriedCollision_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n+\n+    //! Consistency check\n+    void Check()\n+        EXCLUSIVE_LOCKS_REQUIRED(cs)\n+    {\n+#ifdef DEBUG_ADDRMAN\n+        AssertLockHeld(cs);\n+        if (const int err = Check_(); err != 0) {",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 411,
      "commit_id": "ae98aec9c0521cdcec76459c8200bd45ff6a1485",
      "original_commit_id": "148a7c9454adc3e311867f3566e01d261b362f71",
      "in_reply_to_id": 637813423,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! Updated.",
      "created_at": "2021-05-24T10:14:43Z",
      "updated_at": "2021-05-24T10:14:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19238#discussion_r637839950",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637839950"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 727,
      "side": "RIGHT"
    }
  ]
}