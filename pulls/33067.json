{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067",
    "id": 2696299919,
    "node_id": "PR_kwDOABII586gtkWP",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33067",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33067.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33067.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
    "number": 33067,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "test: refactor ValidWitnessMalleatedTx class to helper function",
    "user": {
      "login": "naiyoma",
      "id": 40592031,
      "node_id": "MDQ6VXNlcjQwNTkyMDMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naiyoma",
      "html_url": "https://github.com/naiyoma",
      "followers_url": "https://api.github.com/users/naiyoma/followers",
      "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
      "organizations_url": "https://api.github.com/users/naiyoma/orgs",
      "repos_url": "https://api.github.com/users/naiyoma/repos",
      "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/naiyoma/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This PR refactors ` ValidWitnessMalleatedTx` class into a `build_malleated_tx_package` function. As a result, two tests are updated:  `mempool_accept_wtxid` and `p2p_p2p_private_broadcast`. Also included are a  few small refactors in mempool_accept_wtxid , (switching to MiniWallet, using a pre-mined chain, using txid directly.)\r\n\r\nTogether, these changes reduce complexity and improve test runtime.\r\n\r\n\r\n",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2025-07-26T00:34:36Z",
    "updated_at": "2026-01-27T10:10:49Z",
    "closed_at": "2026-01-27T10:10:49Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2026-01-27T10:10:49Z",
    "merged_by": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "merge_commit_sha": "8593d965191e1c0860614dec122e02ac2f91d031",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "naiyoma:2025_4/test_mempool_accept_wtxid",
      "ref": "2025_4/test_mempool_accept_wtxid",
      "sha": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 685023327,
        "node_id": "R_kgDOKNSgXw",
        "name": "bitcoin",
        "full_name": "naiyoma/bitcoin",
        "owner": {
          "login": "naiyoma",
          "id": 40592031,
          "node_id": "MDQ6VXNlcjQwNTkyMDMx",
          "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/naiyoma",
          "html_url": "https://github.com/naiyoma",
          "followers_url": "https://api.github.com/users/naiyoma/followers",
          "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
          "organizations_url": "https://api.github.com/users/naiyoma/orgs",
          "repos_url": "https://api.github.com/users/naiyoma/repos",
          "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/naiyoma/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/naiyoma/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/naiyoma/bitcoin",
        "archive_url": "https://api.github.com/repos/naiyoma/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/naiyoma/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/naiyoma/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/naiyoma/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/naiyoma/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/naiyoma/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/naiyoma/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/naiyoma/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/naiyoma/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/naiyoma/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/naiyoma/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/naiyoma/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/naiyoma/bitcoin/events",
        "forks_url": "https://api.github.com/repos/naiyoma/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/naiyoma/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/naiyoma/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/naiyoma/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/naiyoma/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/naiyoma/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/naiyoma/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/naiyoma/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/naiyoma/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/naiyoma/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/naiyoma/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/naiyoma/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/naiyoma/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/naiyoma/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/naiyoma/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/naiyoma/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:naiyoma/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/naiyoma/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/naiyoma/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/naiyoma/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/naiyoma/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/naiyoma/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/naiyoma/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/naiyoma/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/naiyoma/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/naiyoma/bitcoin/hooks",
        "svn_url": "https://github.com/naiyoma/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 258708,
        "default_branch": "master",
        "open_issues_count": 4,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-23T15:27:11Z",
        "created_at": "2023-08-30T10:54:44Z",
        "updated_at": "2026-01-23T15:27:42Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8c07800b193e94740a20f40d3e7c6626a59dd21f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38808,
        "stargazers_count": 87788,
        "watchers_count": 87788,
        "size": 302302,
        "default_branch": "master",
        "open_issues_count": 753,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-27T10:10:47Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-27T10:35:44Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 74,
    "deletions": 75,
    "changed_files": 3,
    "commits": 3,
    "review_comments": 23,
    "comments": 7
  },
  "events": [
    {
      "event": "labeled",
      "id": 18824427583,
      "node_id": "LE_lADOABII587CmBsFzwAAAARiBfg_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18824427583",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-26T00:34:39Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 3120803844,
      "node_id": "IC_kwDOABII5866A7AE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3120803844",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-26T00:34:40Z",
      "updated_at": "2026-01-27T09:55:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33067.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stratospher](https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3778330172), [cedwies](https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3778430685), [rkrux](https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3687398511), [maflcko](https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3804210888) |\n| Concept ACK | [yuvicc](https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3124693888) |\n| Stale ACK | [enirox001](https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3079794265) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3120803844",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18824580187,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAARiCExb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18824580187",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "9b37c1f76f4ef16383988d32095e87c623bd2c3c",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/9b37c1f76f4ef16383988d32095e87c623bd2c3c",
      "created_at": "2025-07-26T00:50:46Z"
    },
    {
      "event": "reviewed",
      "id": 3058474232,
      "node_id": "PRR_kwDOABII5862TJz4",
      "url": null,
      "actor": null,
      "commit_id": "9b37c1f76f4ef16383988d32095e87c623bd2c3c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-26T19:43:24Z",
      "author_association": "NONE",
      "body": "Tested on MacOS 15.5 (M2, Debug build)\r\n\r\n- mempool_accept_wtxid.py passes\r\n- Confirmed with grep that build_parent_tx() helper is not referenced anywhere else\r\n- nit: two spaces sneaked into assert_equal(node.getmempoolentry(...), child_one.wtxid_hex) (double space before child_one)\r\n\r\nACK 9b37c1f",
      "user": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3058474232",
      "submitted_at": "2025-07-26T19:42:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "commented",
      "id": 3124693888,
      "node_id": "IC_kwDOABII5866PwuA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3124693888",
      "actor": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-27T19:58:19Z",
      "updated_at": "2025-07-27T19:58:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concep ACK\r\nThis would make the test consistent with `mempool_accept`",
      "user": {
        "login": "yuvicc",
        "id": 92994932,
        "node_id": "U_kgDOBYr9dA",
        "avatar_url": "https://avatars.githubusercontent.com/u/92994932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuvicc",
        "html_url": "https://github.com/yuvicc",
        "followers_url": "https://api.github.com/users/yuvicc/followers",
        "following_url": "https://api.github.com/users/yuvicc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yuvicc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yuvicc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yuvicc/subscriptions",
        "organizations_url": "https://api.github.com/users/yuvicc/orgs",
        "repos_url": "https://api.github.com/users/yuvicc/repos",
        "events_url": "https://api.github.com/users/yuvicc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yuvicc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3124693888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "commented",
      "id": 3126119690,
      "node_id": "IC_kwDOABII5866VM0K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3126119690",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-28T08:29:19Z",
      "updated_at": "2025-07-28T08:48:32Z",
      "author_association": "MEMBER",
      "body": "> This PR improves mempool_accept_wtxid.py by:\r\n> \r\n>     1. Using a pre-mined chain instead of generating new blocks [522bf76](https://github.com/bitcoin/bitcoin/commit/522bf76d7d8058872a008a721831da264881746d)\r\n> \r\n>     2. Using MiniWallet to avoid RPC calls for signing transactions [4ec5ae9](https://github.com/bitcoin/bitcoin/commit/4ec5ae9fe126ffabcd429277092e3b27f483d430)\r\n> \r\n>     3. Removing child txid variables and using txid.hex directly [361ebd5](https://github.com/bitcoin/bitcoin/commit/361ebd56eb817b1e054ee1aacc87bf60c06c6b94)\r\n\r\nNot sure why the pull description is just a copy-paste of the commit list (with outdated commit ids). It would be better to remove those. If anyone wants to look at the list of commit ids, they can already see them directly, no need to copy them.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3126119690",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "reviewed",
      "id": 3063408783,
      "node_id": "PRR_kwDOABII5862l-iP",
      "url": null,
      "actor": null,
      "commit_id": "9b37c1f76f4ef16383988d32095e87c623bd2c3c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-28T17:06:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. I like how you've used `MiniWallet` to remove the signing bits (`signrawtransactionwithkey`) which needed the private key. \r\n\r\nYou can simplify this further. `ValidWitnessMalleatedTx` returned parent transaction and children transaction in 2 different steps because the children transactions needed the parent's txid which required signing with private key. Now since we don't do `signrawtransactionwithkey`,  you can replace class `ValidWitnessMalleatedTx` with a function `valid_witness_malleate_tx()` which does everything done previously in the class and `return parent, child_one, child_two` together. I think this would remove the concern in https://github.com/bitcoin/bitcoin/pull/32385#discussion_r2163643282!",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3063408783",
      "submitted_at": "2025-07-28T17:06:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18896316508,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAARmTuhc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18896316508",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "created_at": "2025-07-30T10:39:08Z"
    },
    {
      "event": "reviewed",
      "id": 3079794265,
      "node_id": "PRR_kwDOABII5863ke5Z",
      "url": null,
      "actor": null,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-04T15:07:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 0cbcdca \r\n\r\nSolid test refactor with significant performance improvement:\r\n\r\n- Using pre-mined chain reduces runtime from ~36s to ~7-10s (70%+ faster)\r\n- MiniWallet integration eliminates manual signing and key management\r\n- Class-to-function conversion appropriate for single-use case\r\n- Removes unnecessary variable assignments, improves readability\r\n\r\nTest coverage remains identical, CI passes.",
      "user": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3079794265",
      "submitted_at": "2025-08-01T16:06:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "review_requested",
      "id": 18942801509,
      "node_id": "RRE_lADOABII587CmBsFzwAAAARpFDZl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18942801509",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T16:08:12Z",
      "requested_reviewer": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 18942801911,
      "node_id": "RRE_lADOABII587CmBsFzwAAAARpFDf3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18942801911",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-01T16:08:12Z",
      "requested_reviewer": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3082223310,
      "node_id": "PRR_kwDOABII5863tv7O",
      "url": null,
      "actor": null,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-03T15:44:35Z",
      "author_association": "NONE",
      "body": "Changes look great.\r\n\r\nNice to see the valid_witness_malleate_tx helper instead of the ValidWitnessMalleatedTx class. Makes the test's logic much clearer IMO.\r\n\r\nACK 0cbcdca",
      "user": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3082223310",
      "submitted_at": "2025-08-03T15:44:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "reviewed",
      "id": 3330531171,
      "node_id": "PRR_kwDOABII587Gg99j",
      "url": null,
      "actor": null,
      "commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-13T08:49:56Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3330531171",
      "submitted_at": "2025-10-13T08:49:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "review_requested",
      "id": 20241778957,
      "node_id": "RRE_lADOABII587CmBsFzwAAAAS2gQkN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20241778957",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-13T08:50:00Z",
      "requested_reviewer": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3330534690,
      "node_id": "PRR_kwDOABII587Gg-0i",
      "url": null,
      "actor": null,
      "commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-10-13T08:51:00Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3330534690",
      "submitted_at": "2025-10-13T08:51:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "review_requested",
      "id": 20241800028,
      "node_id": "RRE_lADOABII587CmBsFzwAAAAS2gVtc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20241800028",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-13T08:51:04Z",
      "requested_reviewer": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "labeled",
      "id": 20638856152,
      "node_id": "LE_lADOABII587CmBsFzwAAAATOK_PY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/20638856152",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-31T16:45:52Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "reviewed",
      "id": 3464805989,
      "node_id": "PRR_kwDOABII587OhL5l",
      "url": null,
      "actor": null,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-14T13:13:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK 0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c\r\n\r\nMakes sense to use the pre-mined chain and the MiniWallet for this use case.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3464805989",
      "submitted_at": "2025-11-14T13:13:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21193514610,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAATvO15y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21193514610",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "created_at": "2025-11-26T11:46:12Z"
    },
    {
      "event": "reviewed",
      "id": 3515035765,
      "node_id": "PRR_kwDOABII587RgzB1",
      "url": null,
      "actor": null,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-11-27T12:28:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for addressing the comments earlier.\n\n> This PR improves mempool_accept_wtxid.py by using a pre-mined chain instead of generating new blocks, switching to MiniWallet to avoid RPC calls for signing transactions\n\nI haven't timed the test yet but if some test latency improvement has been noticed (ref: https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3079794265), then it would be helpful to highlight it in the PR description imo.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3515035765",
      "submitted_at": "2025-11-27T12:28:48Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgxNjc1YTc4MWYzYWI2MmEwNTc2YTk3MzlkMTNiNDk5N2I2MzIzMGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/81675a781f3ab62a0576a9739d13b4997b63230d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/81675a781f3ab62a0576a9739d13b4997b63230d",
      "tree": {
        "sha": "752f1647d7cbd8daf766858f0fad8d2cd05aa076",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/752f1647d7cbd8daf766858f0fad8d2cd05aa076"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d2b8fddad463f70171906dbe68dbd4681ea1aca",
          "sha": "9d2b8fddad463f70171906dbe68dbd4681ea1aca",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9d2b8fddad463f70171906dbe68dbd4681ea1aca"
        }
      ],
      "message": "test: use pre-generated chain",
      "committer": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2026-01-20T09:08:51Z"
      },
      "author": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-07-23T11:02:11Z"
      },
      "sha": "81675a781f3ab62a0576a9739d13b4997b63230d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22158618031,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAAUowa2v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22158618031",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "6cacc1a42874f619b96a9bcca57c5c7c883636e1",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/6cacc1a42874f619b96a9bcca57c5c7c883636e1",
      "created_at": "2026-01-20T11:07:08Z"
    },
    {
      "event": "renamed",
      "id": 22159242425,
      "node_id": "RTE_lADOABII587CmBsFzwAAAAUoyzS5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22159242425",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T11:38:29Z",
      "rename": {
        "from": "test: refactor mempool_accept_wtxid",
        "to": "test: refactor ValidWitnessMalleatedTx class to helper function"
      }
    },
    {
      "event": "commented",
      "id": 3776464475,
      "node_id": "IC_kwDOABII587hGEZb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3776464475",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T06:49:22Z",
      "updated_at": "2026-01-21T06:49:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "I updated the PR description. It was originally focused on reafctoring  `mempool_accept_wtxid`, but simplifying `build_malleated_tx_package` affects another test, so I broadened the description to reflect this.",
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3776464475",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "reviewed",
      "id": 3685628125,
      "node_id": "PRR_kwDOABII587brjjd",
      "url": null,
      "actor": null,
      "commit_id": "6cacc1a42874f619b96a9bcca57c5c7c883636e1",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-21T07:12:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 6cacc1a.",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3685628125",
      "submitted_at": "2026-01-21T07:12:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "review_requested",
      "id": 22180372730,
      "node_id": "RRE_lADOABII587CmBsFzwAAAAUqDaD6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22180372730",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T07:12:13Z",
      "requested_reviewer": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 22180372975,
      "node_id": "RRE_lADOABII587CmBsFzwAAAAUqDaHv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22180372975",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T07:12:14Z",
      "requested_reviewer": {
        "login": "enirox001",
        "id": 66912335,
        "node_id": "MDQ6VXNlcjY2OTEyMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/66912335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/enirox001",
        "html_url": "https://github.com/enirox001",
        "followers_url": "https://api.github.com/users/enirox001/followers",
        "following_url": "https://api.github.com/users/enirox001/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/enirox001/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/enirox001/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/enirox001/subscriptions",
        "organizations_url": "https://api.github.com/users/enirox001/orgs",
        "repos_url": "https://api.github.com/users/enirox001/repos",
        "events_url": "https://api.github.com/users/enirox001/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/enirox001/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 22180373221,
      "node_id": "RRE_lADOABII587CmBsFzwAAAAUqDaLl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22180373221",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T07:12:15Z",
      "requested_reviewer": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22184131255,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAAUqRvq3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22184131255",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a1174fe458852352006b3bc95d547be062d589cc",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/a1174fe458852352006b3bc95d547be062d589cc",
      "created_at": "2026-01-21T10:14:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22185180940,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAAUqVv8M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22185180940",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d0d2073e09e9b733be2d1b7e370800fd5bf77588",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/d0d2073e09e9b733be2d1b7e370800fd5bf77588",
      "created_at": "2026-01-21T11:03:28Z"
    },
    {
      "event": "labeled",
      "id": 22185195845,
      "node_id": "LE_lADOABII587CmBsFzwAAAAUqVzlF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22185195845",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T11:04:09Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdjZmU3OTA4MjBjZjI0N2U4YTI3YmI4MDkxZGVmYzU0Yzc0ZDZhZWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "tree": {
        "sha": "74e9daa644fdaa3aa85796aaab9b913bdad8f102",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/74e9daa644fdaa3aa85796aaab9b913bdad8f102"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/81675a781f3ab62a0576a9739d13b4997b63230d",
          "sha": "81675a781f3ab62a0576a9739d13b4997b63230d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/81675a781f3ab62a0576a9739d13b4997b63230d"
        }
      ],
      "message": "test: replace ValidWitnessMalleatedTx class with function\n\nSimplify the witness malleation test helper by converting the\nValidWitnessMalleatedTx class to a standalone function\nbuild_malleated_tx_package() and updating call sites.\n\nCo-authored-by: rkrux <rkrux.connect@gmail.com>",
      "committer": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2026-01-21T11:07:59Z"
      },
      "author": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-07-23T14:03:47Z"
      },
      "sha": "7cfe790820cf247e8a27bb8091defc54c74d6aec"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNmNTIxMWNiYThlNzNlOGViMDM3ODFlNmVjMzJiYTljNGEyNjM3ODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "tree": {
        "sha": "27d0441c4ac52a2986af07175403241f4989425c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/27d0441c4ac52a2986af07175403241f4989425c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cfe790820cf247e8a27bb8091defc54c74d6aec",
          "sha": "7cfe790820cf247e8a27bb8091defc54c74d6aec",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7cfe790820cf247e8a27bb8091defc54c74d6aec"
        }
      ],
      "message": "test: remove child_one/child_two (w)txid variables",
      "committer": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2026-01-21T11:08:10Z"
      },
      "author": {
        "name": "naiyoma",
        "email": "lankas.aurelia@gmail.com",
        "date": "2025-07-30T10:31:41Z"
      },
      "sha": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22185298412,
      "node_id": "HRFPE_lADOABII587CmBsFzwAAAAUqWMns",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22185298412",
      "actor": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "commit_url": "https://api.github.com/repos/naiyoma/bitcoin/commits/3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "created_at": "2026-01-21T11:08:55Z"
    },
    {
      "event": "unlabeled",
      "id": 22186893668,
      "node_id": "UNLE_lADOABII587CmBsFzwAAAAUqcSFk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22186893668",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T12:27:09Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3778330172,
      "node_id": "IC_kwDOABII587hNL48",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3778330172",
      "actor": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T14:10:28Z",
      "updated_at": "2026-01-21T14:10:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 3f5211c.",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3778330172",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "commented",
      "id": 3778430685,
      "node_id": "IC_kwDOABII587hNkbd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3778430685",
      "actor": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-21T14:29:40Z",
      "updated_at": "2026-01-21T14:29:40Z",
      "author_association": "NONE",
      "body": "reACK 3f5211c",
      "user": {
        "login": "cedwies",
        "id": 141683552,
        "node_id": "U_kgDOCHHrYA",
        "avatar_url": "https://avatars.githubusercontent.com/u/141683552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cedwies",
        "html_url": "https://github.com/cedwies",
        "followers_url": "https://api.github.com/users/cedwies/followers",
        "following_url": "https://api.github.com/users/cedwies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cedwies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cedwies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cedwies/subscriptions",
        "organizations_url": "https://api.github.com/users/cedwies/orgs",
        "repos_url": "https://api.github.com/users/cedwies/repos",
        "events_url": "https://api.github.com/users/cedwies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cedwies/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3778430685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "reviewed",
      "id": 3687398511,
      "node_id": "PRR_kwDOABII587byTxv",
      "url": null,
      "actor": null,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-21T14:49:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3f5211cba8e73e8eb03781e6ec32ba9c4a263782\n\nThanks for incorporating the previous suggestions. The latest implementation deals only with the `CTransaction` object just like the previous class implementation, and is not dependent on the wallet or the node, which is preferable IMO. \n\nWhile the function implementation is okay, I don't feel only it should be highlighted in the title of the PR. There are other test improvements as well (Miniwallet, pre mined chain), maybe alter the title?\n\nThe nits I shared below can be done if there is any other need to touch this PR.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3687398511",
      "submitted_at": "2026-01-21T14:49:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
    },
    {
      "event": "commented",
      "id": 3804210888,
      "node_id": "IC_kwDOABII587iv6bI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3804210888",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-27T09:55:03Z",
      "updated_at": "2026-01-27T09:55:03Z",
      "author_association": "MEMBER",
      "body": "review ACK 3f5211cba8e73e8eb03781e6ec32ba9c4a263782 \r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 3f5211cba8e73e8eb03781e6ec32ba9c4a263782 \r\ntvA7x2kTq199J33btf5mwMyybHYoRCli3U0kXP1KtdMyWOqPgsneefDkC6Wp0GBoxTZX5Hhn+rptBr1JuLSGCg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#issuecomment-3804210888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33067"
    },
    {
      "event": "merged",
      "id": 22312977512,
      "node_id": "ME_lADOABII587CmBsFzwAAAAUx9QRo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22312977512",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "8593d965191e1c0860614dec122e02ac2f91d031",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8593d965191e1c0860614dec122e02ac2f91d031",
      "created_at": "2026-01-27T10:10:49Z"
    },
    {
      "event": "closed",
      "id": 22312977556,
      "node_id": "CE_lADOABII587CmBsFzwAAAAUx9QSU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22312977556",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-27T10:10:49Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2236986215",
      "pull_request_review_id": 3063408783,
      "id": 2236986215,
      "node_id": "PRRC_kwDOABII586FVbNn",
      "diff_hunk": "@@ -26,23 +29,20 @@ def set_test_params(self):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n         txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n+        parent = wallet.send_to(from_node=node,scriptPubKey=txgen.get_script_pubkey(),amount=int(9.99998 * COIN),fee=1000)",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 24,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "671e555fb01534a7c6e61a2b0e5c13315caaf5a7",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n        parent = wallet.send_to(from_node=node, scriptPubKey=txgen.get_script_pubkey(), amount=int(9.99998 * COIN), fee=1000)\r\n```\r\nstyle nit: space after , (here and in other places too)",
      "created_at": "2025-07-28T15:34:45Z",
      "updated_at": "2025-07-28T17:06:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2236986215",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2236986215"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2425603366",
      "pull_request_review_id": 3330531171,
      "id": 2425603366,
      "node_id": "PRRC_kwDOABII586Qk8Um",
      "diff_hunk": "@@ -150,43 +151,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(wallet, node):",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 13,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "d1a2e27: it would be nice to have a more general interface where we can pass the parent + child amount and fees.\r\n\r\ncc @vasild - you might be interested in this too. I hadn't considered passing both wallet and node as arguments to the function in #32385. there are other functions in util.py which do this too - ex: `create_lots_of_big_transactions`",
      "created_at": "2025-10-13T08:49:56Z",
      "updated_at": "2025-10-13T08:49:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2425603366",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2425603366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2425605999",
      "pull_request_review_id": 3330534690,
      "id": 2425605999,
      "node_id": "PRRC_kwDOABII586Qk89v",
      "diff_hunk": "@@ -26,23 +26,17 @@ def set_test_params(self):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n+        child_one, child_two = valid_witness_malleate_tx(wallet, node)\n \n-        privkeys = [node.get_deterministic_priv_key().key]\n-        raw_parent = node.signrawtransactionwithkey(hexstring=parent.serialize().hex(), privkeys=privkeys)['hex']\n-        signed_parent_txid = node.sendrawtransaction(hexstring=raw_parent, maxfeerate=0)",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 42,
      "original_position": 39,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "d1a2e27: any reason for removing this line? (comment mentions submitting parent to mempool)",
      "created_at": "2025-10-13T08:51:00Z",
      "updated_at": "2025-10-13T08:51:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2425605999",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2425605999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 42,
      "original_line": 42,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2439778599",
      "pull_request_review_id": 3350063833,
      "id": 2439778599,
      "node_id": "PRRC_kwDOABII586RbBEn",
      "diff_hunk": "@@ -150,43 +151,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(wallet, node):",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 13,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": 2425603366,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "With the changes in this PR, how would the below code look like?\r\n\r\n```py\r\n        self.log.info(\"Sending a pair of transactions with the same txid but different valid wtxids via RPC\")\r\n        txgen = ValidWitnessMalleatedTx()\r\n        funding = wallet.get_utxo()\r\n        fee_sat = 1000\r\n        siblings_parent = txgen.build_parent_tx(funding[\"txid\"], amount=funding[\"value\"] * COIN - fee_sat)\r\n        sibling1, sibling2 = txgen.build_malleated_children(siblings_parent.txid_hex, amount=siblings_parent.vout[0].nValue - fee_sat)\r\n        self.log.info(f\"  - sibling1: txid={sibling1.txid_hex}, wtxid={sibling1.wtxid_hex}\")\r\n        self.log.info(f\"  - sibling2: txid={sibling2.txid_hex}, wtxid={sibling2.wtxid_hex}\")\r\n        assert_equal(sibling1.txid_hex, sibling2.txid_hex)\r\n        assert_not_equal(sibling1.wtxid_hex, sibling2.wtxid_hex)\r\n        wallet.sign_tx(siblings_parent)\r\n        assert_equal(len(tx_originator.getrawmempool()), 1)\r\n        tx_returner.send_without_ping(msg_tx(siblings_parent))\r\n        self.wait_until(lambda: len(tx_originator.getrawmempool()) > 1)\r\n        self.log.info(\"  - siblings' parent added to the mempool\")\r\n        tx_originator.sendrawtransaction(hexstring=sibling1.serialize_with_witness().hex(), maxfeerate=0.1)\r\n        self.log.info(\"  - sent sibling1: ok\")\r\n        ignoring_msg = f\"Ignoring unnecessary request to schedule an already scheduled transaction: txid={sibling2.txid_hex}, wtxid={sibling2.wtxid_hex}\"\r\n        with tx_originator.busy_wait_for_debug_log(expected_msgs=[ignoring_msg.encode()]):\r\n            tx_originator.sendrawtransaction(hexstring=sibling2.serialize_with_witness().hex(), maxfeerate=0.1)\r\n        self.log.info(\"  - sibling2 rejected because it has the same txid: ok\")\r\n```\r\n\r\nit is found in https://github.com/bitcoin/bitcoin/pull/29415 in `test/functional/p2p_private_broadcast.py`.",
      "created_at": "2025-10-17T12:29:57Z",
      "updated_at": "2025-10-17T12:29:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2439778599",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2439778599"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2469112566",
      "pull_request_review_id": 3388161800,
      "id": 2469112566,
      "node_id": "PRRC_kwDOABII586TK6r2",
      "diff_hunk": "@@ -150,43 +151,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(wallet, node):",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 13,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": 2425603366,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I have tried to make this work, but first I'd have to change  `valid_witness_malleate_tx` to also return the parent \r\n`return parent, child_one, child_two\r\n`\r\n\r\nand then  \r\n\r\n```\r\n\r\n        siblings_parent, sibling1, sibling2 = valid_witness_malleate_tx(wallet, tx_originator)\r\n        self.log.info(f\"  - sibling1: txid={sibling1.txid_hex}, wtxid={sibling1.wtxid_hex}\")\r\n        self.log.info(f\"  - sibling2: txid={sibling2.txid_hex}, wtxid={sibling2.wtxid_hex}\")\r\n        assert_equal(sibling1.txid_hex, sibling2.txid_hex)\r\n        assert_not_equal(sibling1.wtxid_hex, sibling2.wtxid_hex)\r\n        assert_equal(len(tx_originator.getrawmempool()), 1)  # Should be 1 from previous test\r\n        parent_raw = siblings_parent['hex']\r\n        parent_tx = tx_from_hex(parent_raw)\r\n        tx_returner.send_without_ping(msg_tx(parent_tx))\r\n        self.wait_until(lambda: len(tx_originator.getrawmempool()) > 1)\r\n        self.log.info(\"  - siblings' parent added to the mempool\")\r\n        tx_originator.sendrawtransaction(hexstring=sibling1.serialize_with_witness().hex(), maxfeerate=0.1)\r\n        self.log.info(\"  - sent sibling1: ok\")\r\n        ignoring_msg = f\"Ignoring unnecessary request to schedule an already scheduled transaction: txid={sibling2.txid_hex}, wtxid={sibling2.wtxid_hex}\"\r\n        with tx_originator.busy_wait_for_debug_log(expected_msgs=[ignoring_msg.encode()]):\r\n            tx_originator.sendrawtransaction(hexstring=sibling2.serialize_with_witness().hex(), maxfeerate=0.1)\r\n        self.log.info(\"  - sibling2 rejected because it has the same txid: ok\")\r\n```",
      "created_at": "2025-10-28T11:12:29Z",
      "updated_at": "2025-12-15T11:33:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2469112566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2469112566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2469254718",
      "pull_request_review_id": 3388344407,
      "id": 2469254718,
      "node_id": "PRRC_kwDOABII586TLdY-",
      "diff_hunk": "@@ -26,23 +26,17 @@ def set_test_params(self):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n+        child_one, child_two = valid_witness_malleate_tx(wallet, node)\n \n-        privkeys = [node.get_deterministic_priv_key().key]\n-        raw_parent = node.signrawtransactionwithkey(hexstring=parent.serialize().hex(), privkeys=privkeys)['hex']\n-        signed_parent_txid = node.sendrawtransaction(hexstring=raw_parent, maxfeerate=0)",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 42,
      "original_position": 39,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": 2425605999,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "this isn't necessary anymore,  i'm using `wallet.send_to()`  to create  parent transaction ",
      "created_at": "2025-10-28T11:48:51Z",
      "updated_at": "2025-10-28T11:48:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2469254718",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2469254718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 42,
      "original_line": 42,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2527400928",
      "pull_request_review_id": 3464805989,
      "id": 2527400928,
      "node_id": "PRRC_kwDOABII586WpRPg",
      "diff_hunk": "@@ -150,43 +151,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(wallet, node):",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 13,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In d1a2e278572f70d0d68a21312b2cc7de27f326df \"test: replace class ValidWitnessMalleatedTx with function\"\r\n\r\nUnlike the `malleate_tx_to_invalid_witness` function that is quite generic (https://github.com/bitcoin/bitcoin/pull/33793/files#diff-1698fabd4ddd298eb28e234d97f34e744f568852b77361384c8edb38819de5e3R259), this function at the moment doesn't seem generic enough to be present in an util file. Few points regarding the function I noticed:\r\n\r\n1. The name doesn't reflect the implementation, the function doc is helpful though.\r\n2. It accepts a MiniWallet but it is not explicit in the implementation, which can be confusing for the reader -`s/wallet/mini_wallet`\r\n3. Some assumptions in the function regarding the amounts present in the wallet are there that a future caller of this function might not be aware of. \r\n4. Can return the parent transaction as well from the function, thereby returning the whole parent-children package.\r\n\r\nThe class implementation before this PR did pass around only the transactions without wallet or node, which was quite neat imo.  ",
      "created_at": "2025-11-14T12:53:48Z",
      "updated_at": "2025-11-14T13:13:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2527400928",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2527400928"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2527403577",
      "pull_request_review_id": 3464805989,
      "id": 2527403577,
      "node_id": "PRRC_kwDOABII586WpR45",
      "diff_hunk": "@@ -22,14 +22,12 @@\n class MempoolWtxidTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 5,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "26577cac8b9cf53d5f69e4502346fd5881c92004",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In 26577cac8b9cf53d5f69e4502346fd5881c92004 \"test: use pre-generated chain\"\r\n\r\nNit (not strong opinion): Can remove this line altogether as well because `False` is the default value.",
      "created_at": "2025-11-14T12:54:47Z",
      "updated_at": "2025-11-14T13:13:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2527403577",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2527403577"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2564780295",
      "pull_request_review_id": 3510675526,
      "id": 2564780295,
      "node_id": "PRRC_kwDOABII586Y33EH",
      "diff_hunk": "@@ -22,14 +22,12 @@\n class MempoolWtxidTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 5,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "26577cac8b9cf53d5f69e4502346fd5881c92004",
      "in_reply_to_id": 2527403577,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2025-11-26T12:19:17Z",
      "updated_at": "2025-11-26T12:19:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2564780295",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2564780295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2564803085",
      "pull_request_review_id": 3510704707,
      "id": 2564803085,
      "node_id": "PRRC_kwDOABII586Y38oN",
      "diff_hunk": "@@ -150,43 +151,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(wallet, node):",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 13,
      "commit_id": "0cbcdcaf5a7fe1dd864d0019a7d7e4f8b80b5e7c",
      "original_commit_id": "d1a2e278572f70d0d68a21312b2cc7de27f326df",
      "in_reply_to_id": 2527400928,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "thanks for the review, Ive pushed an update and made the function more generic",
      "created_at": "2025-11-26T12:26:27Z",
      "updated_at": "2025-11-26T12:26:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2564803085",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2564803085"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2568423936",
      "pull_request_review_id": 3515035765,
      "id": 2568423936,
      "node_id": "PRRC_kwDOABII586ZFwoA",
      "diff_hunk": "@@ -164,43 +150,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n+    Creates a valid witness malleation transaction:\n     - Parent transaction with a script supporting 2 branches\n     - 2 child transactions with the same txid but different wtxids\n     \"\"\"\n-    def __init__(self):\n-        hashlock = hash160(b'Preimage')\n-        self.witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n-\n-    def build_parent_tx(self, funding_txid, amount):\n-        # Create an unsigned parent transaction paying to the witness script.\n-        witness_program = sha256(self.witness_script)\n-        script_pubkey = CScript([OP_0, witness_program])\n-\n-        parent = CTransaction()\n-        parent.vin.append(CTxIn(COutPoint(int(funding_txid, 16), 0), b\"\"))\n-        parent.vout.append(CTxOut(int(amount), script_pubkey))\n-        return parent\n-\n-    def build_malleated_children(self, signed_parent_txid, amount):\n-        # Create 2 valid children that differ only in witness data.\n-        # 1. Create a new transaction with witness solving first branch\n-        child_witness_script = CScript([OP_TRUE])\n-        child_witness_program = sha256(child_witness_script)\n-        child_script_pubkey = CScript([OP_0, child_witness_program])\n-\n-        child_one = CTransaction()\n-        child_one.vin.append(CTxIn(COutPoint(int(signed_parent_txid, 16), 0), b\"\"))\n-        child_one.vout.append(CTxOut(int(amount), child_script_pubkey))\n-        child_one.wit.vtxinwit.append(CTxInWitness())\n-        child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', self.witness_script]\n-\n-        # 2. Create another identical transaction with witness solving second branch\n-        child_two = deepcopy(child_one)\n-        child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', self.witness_script]\n-        return child_one, child_two\n+    hashlock = hash160(b'Preimage')\n+    witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n+    witness_program = sha256(witness_script)\n+    script_pubkey = CScript([OP_0, witness_program])\n+\n+    # Create parent transaction with a script supporting 2 branches\n+    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 91,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I feel there is scope for generalising this function further. Similar to how the previous class implementation used only the `CTransaction` class and the like. IMO, the earlier class implementation was fine as well but if the consensus is to prefer the function implementation then we should not lose the genericness.\n\nCurrently, this function is tied to the `MiniWallet` that I don't think is necessary. A more generic form of this function should be able to be used by the usual RPC wallets as well.\n\nConsider the following diff that puts the responsibility of building the base parent transaction and submitting the final parent transaction to the caller, thereby allowing this function to not use any wallet or node at all.\n\n<details>\n<summary>Diff</summary>\n\n```diff\ndiff --git a/test/functional/mempool_accept_wtxid.py b/test/functional/mempool_accept_wtxid.py\nindex a49a886d3a..f895772b08 100755\n--- a/test/functional/mempool_accept_wtxid.py\n+++ b/test/functional/mempool_accept_wtxid.py\n@@ -11,7 +11,7 @@ from test_framework.messages import (\n     COIN,\n )\n from test_framework.p2p import P2PTxInvStore\n-from test_framework.script_util import valid_witness_malleate_tx\n+from test_framework.script_util import build_malleated_tx_package\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import (\n     assert_not_equal,\n@@ -36,7 +36,9 @@ class MempoolWtxidTest(BitcoinTestFramework):\n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n         parent_amount = int(9.99998 * COIN)\n         child_amount = int(9.99996 * COIN)\n-        _, child_one, child_two = valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount)\n+        parent = mini_wallet.create_self_transfer(fee_rate=0)[\"tx\"]\n+        parent, child_one, child_two = build_malleated_tx_package(parent, parent_amount, child_amount)\n+        mini_wallet.sendrawtransaction(from_node=node, tx_hex=parent.serialize().hex())\n \n         self.generate(node, 1)\n \ndiff --git a/test/functional/test_framework/script_util.py b/test/functional/test_framework/script_util.py\nindex f3b3c803ed..862e30c088 100755\n--- a/test/functional/test_framework/script_util.py\n+++ b/test/functional/test_framework/script_util.py\n@@ -6,6 +6,10 @@\n import unittest\n \n from copy import deepcopy\n+from test_framework.util import (\n+    assert_greater_than_or_equal,\n+    assert_equal,\n+)\n \n from test_framework.messages import (\n     COutPoint,\n@@ -150,19 +154,22 @@ def check_script(script):\n     assert False\n \n \n-def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n+def build_malleated_tx_package(parent: CTransaction, parent_amount, child_amount, fee=1000):\n     \"\"\"\n-    Creates a valid witness malleation transaction:\n+    Creates a malleated transaction package with valid witness:\n     - Parent transaction with a script supporting 2 branches\n-    - 2 child transactions with the same txid but different wtxids\n+    - 2 child transactions with the same txid but different wtxids because of different witnesses\n     \"\"\"\n     hashlock = hash160(b'Preimage')\n     witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n     witness_program = sha256(witness_script)\n     script_pubkey = CScript([OP_0, witness_program])\n \n-    # Create parent transaction with a script supporting 2 branches\n-    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)\n+    # Append to the transaction the vout containing the script supporting 2 spending conditions\n+    assert_equal(len(parent.vout), 1)\n+    assert_greater_than_or_equal(parent.vout[0].nValue, parent_amount + fee)\n+    parent.vout[0].nValue -= (parent_amount + fee)\n+    parent.vout.append(CTxOut(parent_amount, script_pubkey))\n \n     # Create 2 valid children that differ only in witness data.\n     # 1. Create a new transaction with witness solving first branch\n@@ -171,13 +178,15 @@ def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n     child_script_pubkey = CScript([OP_0, child_witness_program])\n     child_one = CTransaction()\n \n-    child_one.vin.append(CTxIn(COutPoint(int(parent['txid'], 16), parent['sent_vout']), b\"\"))\n+    child_one.vin.append(CTxIn(COutPoint(int(parent.txid_hex, 16), len(parent.vout) - 1), b\"\"))\n     child_one.vout.append(CTxOut(child_amount, child_script_pubkey))\n     child_one.wit.vtxinwit.append(CTxInWitness())\n     child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', witness_script]\n+\n     # 2. Create another identical transaction with witness solving second branch\n     child_two = deepcopy(child_one)\n     child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', witness_script]\n+\n     return parent, child_one, child_two\n```\n</details>",
      "created_at": "2025-11-27T12:25:44Z",
      "updated_at": "2025-12-22T11:55:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2568423936",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2568423936"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2568435169",
      "pull_request_review_id": 3515035765,
      "id": 2568435169,
      "node_id": "PRRC_kwDOABII586ZFzXh",
      "diff_hunk": "@@ -11,66 +11,57 @@\n     COIN,\n )\n from test_framework.p2p import P2PTxInvStore\n-from test_framework.script_util import ValidWitnessMalleatedTx\n+from test_framework.script_util import valid_witness_malleate_tx\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import (\n     assert_not_equal,\n     assert_equal,\n )\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n \n \n class MempoolWtxidTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n         node = self.nodes[0]\n+        mini_wallet = MiniWallet(node)\n+        self.log.info('Start with pre-generated blocks')\n \n-        self.log.info('Start with empty mempool and 101 blocks')\n-        # The last 100 coinbase transactions are premature\n-        blockhash = self.generate(node, 101)[0]\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n+        parent_amount = int(9.99998 * COIN)\n+        child_amount = int(9.99996 * COIN)",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 36,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Nit: It would be nice to calculate these amounts based on the wallet balance or the utxo being spent by the wallet instead of hardcoding that relies on some MiniWallet assumptions.",
      "created_at": "2025-11-27T12:28:19Z",
      "updated_at": "2025-11-27T12:28:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2568435169",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2568435169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 37,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2623048737",
      "pull_request_review_id": 3582800017,
      "id": 2623048737,
      "node_id": "PRRC_kwDOABII586cWIwh",
      "diff_hunk": "@@ -164,43 +150,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n+    Creates a valid witness malleation transaction:\n     - Parent transaction with a script supporting 2 branches\n     - 2 child transactions with the same txid but different wtxids\n     \"\"\"\n-    def __init__(self):\n-        hashlock = hash160(b'Preimage')\n-        self.witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n-\n-    def build_parent_tx(self, funding_txid, amount):\n-        # Create an unsigned parent transaction paying to the witness script.\n-        witness_program = sha256(self.witness_script)\n-        script_pubkey = CScript([OP_0, witness_program])\n-\n-        parent = CTransaction()\n-        parent.vin.append(CTxIn(COutPoint(int(funding_txid, 16), 0), b\"\"))\n-        parent.vout.append(CTxOut(int(amount), script_pubkey))\n-        return parent\n-\n-    def build_malleated_children(self, signed_parent_txid, amount):\n-        # Create 2 valid children that differ only in witness data.\n-        # 1. Create a new transaction with witness solving first branch\n-        child_witness_script = CScript([OP_TRUE])\n-        child_witness_program = sha256(child_witness_script)\n-        child_script_pubkey = CScript([OP_0, child_witness_program])\n-\n-        child_one = CTransaction()\n-        child_one.vin.append(CTxIn(COutPoint(int(signed_parent_txid, 16), 0), b\"\"))\n-        child_one.vout.append(CTxOut(int(amount), child_script_pubkey))\n-        child_one.wit.vtxinwit.append(CTxInWitness())\n-        child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', self.witness_script]\n-\n-        # 2. Create another identical transaction with witness solving second branch\n-        child_two = deepcopy(child_one)\n-        child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', self.witness_script]\n-        return child_one, child_two\n+    hashlock = hash160(b'Preimage')\n+    witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n+    witness_program = sha256(witness_script)\n+    script_pubkey = CScript([OP_0, witness_program])\n+\n+    # Create parent transaction with a script supporting 2 branches\n+    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 91,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": 2568423936,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I feel there is scope for generalising this function further. Similar to how the previous class implementation used only the `CTransaction` class and the like. IMO, the earlier class implementation was fine as well but if the consensus is to prefer the function implementation then we should not lose the genericness.\r\n\r\n\r\nThe motivation to change this to a function was to address this ->  https://github.com/bitcoin/bitcoin/pull/33067#pullrequestreview-3063408783, https://github.com/bitcoin/bitcoin/pull/32385#discussion_r2163643282, with the current implementation, i'm trying to balance between making this simpler to use and integrate with other tests and to maintain some genericness,  IMO the diff above doesnt ease the burden of the caller \r\n\r\n",
      "created_at": "2025-12-16T12:19:56Z",
      "updated_at": "2025-12-16T12:19:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2623048737",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2623048737"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2639683133",
      "pull_request_review_id": 3603850727,
      "id": 2639683133,
      "node_id": "PRRC_kwDOABII586dVl49",
      "diff_hunk": "@@ -164,43 +150,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n+    Creates a valid witness malleation transaction:\n     - Parent transaction with a script supporting 2 branches\n     - 2 child transactions with the same txid but different wtxids\n     \"\"\"\n-    def __init__(self):\n-        hashlock = hash160(b'Preimage')\n-        self.witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n-\n-    def build_parent_tx(self, funding_txid, amount):\n-        # Create an unsigned parent transaction paying to the witness script.\n-        witness_program = sha256(self.witness_script)\n-        script_pubkey = CScript([OP_0, witness_program])\n-\n-        parent = CTransaction()\n-        parent.vin.append(CTxIn(COutPoint(int(funding_txid, 16), 0), b\"\"))\n-        parent.vout.append(CTxOut(int(amount), script_pubkey))\n-        return parent\n-\n-    def build_malleated_children(self, signed_parent_txid, amount):\n-        # Create 2 valid children that differ only in witness data.\n-        # 1. Create a new transaction with witness solving first branch\n-        child_witness_script = CScript([OP_TRUE])\n-        child_witness_program = sha256(child_witness_script)\n-        child_script_pubkey = CScript([OP_0, child_witness_program])\n-\n-        child_one = CTransaction()\n-        child_one.vin.append(CTxIn(COutPoint(int(signed_parent_txid, 16), 0), b\"\"))\n-        child_one.vout.append(CTxOut(int(amount), child_script_pubkey))\n-        child_one.wit.vtxinwit.append(CTxInWitness())\n-        child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', self.witness_script]\n-\n-        # 2. Create another identical transaction with witness solving second branch\n-        child_two = deepcopy(child_one)\n-        child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', self.witness_script]\n-        return child_one, child_two\n+    hashlock = hash160(b'Preimage')\n+    witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n+    witness_program = sha256(witness_script)\n+    script_pubkey = CScript([OP_0, witness_program])\n+\n+    # Create parent transaction with a script supporting 2 branches\n+    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 91,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": 2568423936,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Ok, I have gone through both the linked comments now.\r\n\r\nThe main issue that I see in the current implementation is that both the MiniWallet and the node are required to be passed in this function, which unnecessarily ties the two of them together in an utility function that only needs to manipulate & create the related transaction.\r\n\r\nFrom the [#32385 (comment)](https://github.com/bitcoin/bitcoin/pull/32385#discussion_r2163643282):\r\n> one has to create a new dedicated parent transaction, get it in the mempool and then broadcast the two children. Also, one has to handle the fees manually. \r\n\r\nThe diff that I suggested earlier helps in avoiding creating a dedicated parent transaction within the utility function, and even doesn't broadcast to the mempool. The following diff below, slightly altered from the previous implementation, doesn't even accept a fee and let the caller handle. Although the final diff suggested in the 32385 linked comment suggests a completely different approach that malleates only one transaction instead of creating a transaction package - if that approach is preferred, I'm fine with that as well.\r\n\r\n> IMO the diff above doesnt ease the burden of the caller\r\n\r\nI don't think it's a burden for the caller but rather provides flexibility to the caller to create a starting parent transaction and broadcast it whenever it wishes.\r\n\r\n<details open>\r\n<summary>Slightly altered diff with named arguments and allowing multiple tx outputs</summary>\r\n\r\n```diff\r\ndiff --git a/test/functional/mempool_accept_wtxid.py b/test/functional/mempool_accept_wtxid.py\r\nindex a49a886d3a..179ddb0d38 100755\r\n--- a/test/functional/mempool_accept_wtxid.py\r\n+++ b/test/functional/mempool_accept_wtxid.py\r\n@@ -11,7 +11,7 @@ from test_framework.messages import (\r\n     COIN,\r\n )\r\n from test_framework.p2p import P2PTxInvStore\r\n-from test_framework.script_util import valid_witness_malleate_tx\r\n+from test_framework.script_util import build_malleated_tx_package\r\n from test_framework.test_framework import BitcoinTestFramework\r\n from test_framework.util import (\r\n     assert_not_equal,\r\n@@ -34,9 +34,10 @@ class MempoolWtxidTest(BitcoinTestFramework):\r\n         assert_equal(node.getmempoolinfo()['size'], 0)\r\n \r\n         self.log.info(\"Submit parent with multiple script branches to mempool\")\r\n-        parent_amount = int(9.99998 * COIN)\r\n-        child_amount = int(9.99996 * COIN)\r\n-        _, child_one, child_two = valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount)\r\n+        parent, child_one, child_two = build_malleated_tx_package(parent=mini_wallet.create_self_transfer()[\"tx\"],\r\n+            rebalance_parent_output_amount=int(9.99998 * COIN),\r\n+            malleated_child_amount=int(9.99996 * COIN))\r\n+        mini_wallet.sendrawtransaction(from_node=node, tx_hex=parent.serialize().hex())\r\n \r\n         self.generate(node, 1)\r\n \r\ndiff --git a/test/functional/test_framework/script_util.py b/test/functional/test_framework/script_util.py\r\nindex f3b3c803ed..5ab97d6753 100755\r\n--- a/test/functional/test_framework/script_util.py\r\n+++ b/test/functional/test_framework/script_util.py\r\n@@ -6,6 +6,9 @@\r\n import unittest\r\n \r\n from copy import deepcopy\r\n+from test_framework.util import (\r\n+    assert_greater_than_or_equal,\r\n+)\r\n \r\n from test_framework.messages import (\r\n     COutPoint,\r\n@@ -150,19 +153,23 @@ def check_script(script):\r\n     assert False\r\n \r\n \r\n-def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\r\n+def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_amount, malleated_child_amount):\r\n     \"\"\"\r\n-    Creates a valid witness malleation transaction:\r\n-    - Parent transaction with a script supporting 2 branches\r\n-    - 2 child transactions with the same txid but different wtxids\r\n+    Returns a transaction package with valid witness:\r\n+    - Parent transaction whose last output contains a script that has two spending conditions\r\n+    - Two malleated child transactions with same txid but different wtxids because of different witnesses\r\n     \"\"\"\r\n     hashlock = hash160(b'Preimage')\r\n     witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\r\n     witness_program = sha256(witness_script)\r\n     script_pubkey = CScript([OP_0, witness_program])\r\n \r\n-    # Create parent transaction with a script supporting 2 branches\r\n-    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)\r\n+    # Append to the transaction the vout containing the script supporting two spending conditions\r\n+    assert_greater_than_or_equal(len(parent.vout), 1)\r\n+    last_output = parent.vout[len(parent.vout) - 1]\r\n+    assert_greater_than_or_equal(last_output.nValue, rebalance_parent_output_amount)\r\n+    last_output.nValue -= rebalance_parent_output_amount\r\n+    parent.vout.append(CTxOut(rebalance_parent_output_amount, script_pubkey))\r\n \r\n     # Create 2 valid children that differ only in witness data.\r\n     # 1. Create a new transaction with witness solving first branch\r\n@@ -171,13 +178,15 @@ def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\r\n     child_script_pubkey = CScript([OP_0, child_witness_program])\r\n     child_one = CTransaction()\r\n \r\n-    child_one.vin.append(CTxIn(COutPoint(int(parent['txid'], 16), parent['sent_vout']), b\"\"))\r\n-    child_one.vout.append(CTxOut(child_amount, child_script_pubkey))\r\n+    child_one.vin.append(CTxIn(COutPoint(int(parent.txid_hex, 16), len(parent.vout) - 1), b\"\"))\r\n+    child_one.vout.append(CTxOut(malleated_child_amount, child_script_pubkey))\r\n     child_one.wit.vtxinwit.append(CTxInWitness())\r\n     child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', witness_script]\r\n+\r\n     # 2. Create another identical transaction with witness solving second branch\r\n     child_two = deepcopy(child_one)\r\n     child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', witness_script]\r\n+\r\n     return parent, child_one, child_two\r\n```\r\n</details>\r\n\r\nHaving said this, if other reviewers prefer the current approach in this PR, I don't see a strong reason to block (n-a-c-k) the PR based on this but I don't find the function generic enough to treat it as a utility function.",
      "created_at": "2025-12-22T12:13:30Z",
      "updated_at": "2025-12-22T14:18:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2639683133",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2639683133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2707925632",
      "pull_request_review_id": 3681694027,
      "id": 2707925632,
      "node_id": "PRRC_kwDOABII586hZ6qA",
      "diff_hunk": "@@ -164,43 +150,35 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def valid_witness_malleate_tx(mini_wallet, node, parent_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n+    Creates a valid witness malleation transaction:\n     - Parent transaction with a script supporting 2 branches\n     - 2 child transactions with the same txid but different wtxids\n     \"\"\"\n-    def __init__(self):\n-        hashlock = hash160(b'Preimage')\n-        self.witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n-\n-    def build_parent_tx(self, funding_txid, amount):\n-        # Create an unsigned parent transaction paying to the witness script.\n-        witness_program = sha256(self.witness_script)\n-        script_pubkey = CScript([OP_0, witness_program])\n-\n-        parent = CTransaction()\n-        parent.vin.append(CTxIn(COutPoint(int(funding_txid, 16), 0), b\"\"))\n-        parent.vout.append(CTxOut(int(amount), script_pubkey))\n-        return parent\n-\n-    def build_malleated_children(self, signed_parent_txid, amount):\n-        # Create 2 valid children that differ only in witness data.\n-        # 1. Create a new transaction with witness solving first branch\n-        child_witness_script = CScript([OP_TRUE])\n-        child_witness_program = sha256(child_witness_script)\n-        child_script_pubkey = CScript([OP_0, child_witness_program])\n-\n-        child_one = CTransaction()\n-        child_one.vin.append(CTxIn(COutPoint(int(signed_parent_txid, 16), 0), b\"\"))\n-        child_one.vout.append(CTxOut(int(amount), child_script_pubkey))\n-        child_one.wit.vtxinwit.append(CTxInWitness())\n-        child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', self.witness_script]\n-\n-        # 2. Create another identical transaction with witness solving second branch\n-        child_two = deepcopy(child_one)\n-        child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', self.witness_script]\n-        return child_one, child_two\n+    hashlock = hash160(b'Preimage')\n+    witness_script = CScript([OP_IF, OP_HASH160, hashlock, OP_EQUAL, OP_ELSE, OP_TRUE, OP_ENDIF])\n+    witness_program = sha256(witness_script)\n+    script_pubkey = CScript([OP_0, witness_program])\n+\n+    # Create parent transaction with a script supporting 2 branches\n+    parent = mini_wallet.send_to(from_node=node, scriptPubKey=script_pubkey, amount=parent_amount, fee=1000)",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 91,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": 2568423936,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Thanks for the diffIve adopted it and pushed an update with it. If other reviewers agree, Im open to reverting the changes to the class implementation and keeping the scope of this PR to small refactors in test_mempool_accept_wtxid, but for now Im keeping it as is.",
      "created_at": "2026-01-20T11:21:29Z",
      "updated_at": "2026-01-20T11:21:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2707925632",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2707925632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711217224",
      "pull_request_review_id": 3685628125,
      "id": 2711217224,
      "node_id": "PRRC_kwDOABII586hmeRI",
      "diff_hunk": "@@ -25,23 +28,22 @@ def set_test_params(self):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        mini_wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n \n-        privkeys = [node.get_deterministic_priv_key().key]\n-        raw_parent = node.signrawtransactionwithkey(hexstring=parent.serialize().hex(), privkeys=privkeys)['hex']\n-        signed_parent_txid = node.sendrawtransaction(hexstring=raw_parent, maxfeerate=0)\n+        parent, child_one, child_two = build_malleated_tx_package(parent=mini_wallet.create_self_transfer()[\"tx\"],",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 35,
      "commit_id": "6cacc1a42874f619b96a9bcca57c5c7c883636e1",
      "original_commit_id": "30ea90471cb0d26155e85776b2eb503004691c40",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "30ea904: style nit: here and in p2p_private_broadcast.py\r\n```\r\nparent, child_one, child_two = build_malleated_tx_package(\r\n    parent=mini_wallet.create_self_transfer()[\"tx\"],\r\n    rebalance_parent_output_amount=int(9.99998 * COIN),\r\n    child_amount=int(9.99996 * COIN)\r\n)\r\n```",
      "created_at": "2026-01-21T06:56:28Z",
      "updated_at": "2026-01-21T07:12:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2711217224",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711217224"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711239059",
      "pull_request_review_id": 3685628125,
      "id": 2711239059,
      "node_id": "PRRC_kwDOABII586hmjmT",
      "diff_hunk": "@@ -164,43 +167,40 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n-    - Parent transaction with a script supporting 2 branches\n-    - 2 child transactions with the same txid but different wtxids\n+    Returns a transaction package with valid witness:\n+    - Parent transaction whose last output contains a script that has two spending conditions",
      "path": "test/functional/test_framework/script_util.py",
      "position": 23,
      "original_position": 23,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "original_commit_id": "30ea90471cb0d26155e85776b2eb503004691c40",
      "in_reply_to_id": null,
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "30ea9047: maybe also useful to mention the kind of parent we're expecting to be passed into `build_malleated_tx_package`. something like:\r\nExpects parent with anyone-can-spend inputs (ex: MiniWallet's OP_TRUE) to allow output modification.\r\n\r\nwe could also remove `wallet.sign_tx(siblings_parent)` in p2p_private_broadcast.py since signing doesn't really do anything - just adds `OP_TRUE` again in the witness.",
      "created_at": "2026-01-21T07:03:42Z",
      "updated_at": "2026-01-21T07:12:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2711239059",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711239059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 173,
      "original_line": 173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711894295",
      "pull_request_review_id": 3686414722,
      "id": 2711894295,
      "node_id": "PRRC_kwDOABII586hpDkX",
      "diff_hunk": "@@ -164,43 +167,40 @@ def check_script(script):\n     assert False\n \n \n-class ValidWitnessMalleatedTx:\n+def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_amount, child_amount):\n     \"\"\"\n-    Creates a valid witness malleation transaction test case:\n-    - Parent transaction with a script supporting 2 branches\n-    - 2 child transactions with the same txid but different wtxids\n+    Returns a transaction package with valid witness:\n+    - Parent transaction whose last output contains a script that has two spending conditions",
      "path": "test/functional/test_framework/script_util.py",
      "position": 23,
      "original_position": 23,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "original_commit_id": "30ea90471cb0d26155e85776b2eb503004691c40",
      "in_reply_to_id": 2711239059,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Added the explanation in the Doc String https://github.com/bitcoin/bitcoin/pull/33067/commits/4538bb0b11862a14f870185a2ef71b3b22774c20",
      "created_at": "2026-01-21T10:16:44Z",
      "updated_at": "2026-01-21T10:16:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2711894295",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711894295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 173,
      "original_line": 173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711895225",
      "pull_request_review_id": 3686415777,
      "id": 2711895225,
      "node_id": "PRRC_kwDOABII586hpDy5",
      "diff_hunk": "@@ -25,23 +28,22 @@ def set_test_params(self):\n \n     def run_test(self):\n         node = self.nodes[0]\n+        mini_wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n \n-        privkeys = [node.get_deterministic_priv_key().key]\n-        raw_parent = node.signrawtransactionwithkey(hexstring=parent.serialize().hex(), privkeys=privkeys)['hex']\n-        signed_parent_txid = node.sendrawtransaction(hexstring=raw_parent, maxfeerate=0)\n+        parent, child_one, child_two = build_malleated_tx_package(parent=mini_wallet.create_self_transfer()[\"tx\"],",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 35,
      "commit_id": "6cacc1a42874f619b96a9bcca57c5c7c883636e1",
      "original_commit_id": "30ea90471cb0d26155e85776b2eb503004691c40",
      "in_reply_to_id": 2711217224,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "fixed : https://github.com/bitcoin/bitcoin/pull/33067/commits/4538bb0b11862a14f870185a2ef71b3b22774c20",
      "created_at": "2026-01-21T10:17:01Z",
      "updated_at": "2026-01-21T10:17:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2711895225",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711895225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711896629",
      "pull_request_review_id": 3686417290,
      "id": 2711896629,
      "node_id": "PRRC_kwDOABII586hpEI1",
      "diff_hunk": "@@ -11,66 +11,57 @@\n     COIN,\n )\n from test_framework.p2p import P2PTxInvStore\n-from test_framework.script_util import ValidWitnessMalleatedTx\n+from test_framework.script_util import valid_witness_malleate_tx\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import (\n     assert_not_equal,\n     assert_equal,\n )\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n \n \n class MempoolWtxidTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n         node = self.nodes[0]\n+        mini_wallet = MiniWallet(node)\n+        self.log.info('Start with pre-generated blocks')\n \n-        self.log.info('Start with empty mempool and 101 blocks')\n-        # The last 100 coinbase transactions are premature\n-        blockhash = self.generate(node, 101)[0]\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n+        parent_amount = int(9.99998 * COIN)\n+        child_amount = int(9.99996 * COIN)",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 36,
      "commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "original_commit_id": "87c05f04fea4293cc2c09640ddac97e6e425fb59",
      "in_reply_to_id": 2568435169,
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "updated : https://github.com/bitcoin/bitcoin/pull/33067/commits/4538bb0b11862a14f870185a2ef71b3b22774c20",
      "created_at": "2026-01-21T10:17:23Z",
      "updated_at": "2026-01-21T10:17:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2711896629",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711896629"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": 37,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712704718",
      "pull_request_review_id": 3687398511,
      "id": 2712704718,
      "node_id": "PRRC_kwDOABII586hsJbO",
      "diff_hunk": "",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "original_commit_id": "3f5211cba8e73e8eb03781e6ec32ba9c4a263782",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Nit: This commit (3f5211cba8e73e8eb03781e6ec32ba9c4a263782 test: remove child_one/child_two (w)txid variables) could have been merged with the first one as I feel it's not critical enough to be a separate commit.",
      "created_at": "2026-01-21T14:00:25Z",
      "updated_at": "2026-01-21T14:49:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2712704718",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712704718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712708956",
      "pull_request_review_id": 3687398511,
      "id": 2712708956,
      "node_id": "PRRC_kwDOABII586hsKdc",
      "diff_hunk": "",
      "path": "test/functional/test_framework/script_util.py",
      "position": 1,
      "original_position": 1,
      "commit_id": "7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "original_commit_id": "7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Nits if you end up touching the PR for some other reason:\n\n```diff\ndiff --git a/test/functional/test_framework/script_util.py b/test/functional/test_framework/script_util.py\nindex 812d9bbd0a..f4d7d371e5 100755\n--- a/test/functional/test_framework/script_util.py\n+++ b/test/functional/test_framework/script_util.py\n@@ -169,7 +169,7 @@ def check_script(script):\n \n def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_amount, child_amount):\n     \"\"\"\n-    Returns a transaction package with valid witness:\n+    Returns a transaction package with valid witnesses:\n     - Parent transaction whose last output contains a script that has two spending conditions\n     - Two malleated child transactions with same txid but different wtxids because of different witnesses\n \n@@ -189,7 +189,6 @@ def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_\n     last_output.nValue -= rebalance_parent_output_amount\n     parent.vout.append(CTxOut(rebalance_parent_output_amount, script_pubkey))\n \n-\n     # Create 2 valid children that differ only in witness data.\n     # 1. Create a new transaction with witness solving first branch\n     child_witness_script = CScript([OP_TRUE])\n@@ -201,6 +200,7 @@ def build_malleated_tx_package(*, parent: CTransaction, rebalance_parent_output_\n     child_one.vout.append(CTxOut(child_amount, child_script_pubkey))\n     child_one.wit.vtxinwit.append(CTxInWitness())\n     child_one.wit.vtxinwit[0].scriptWitness.stack = [b'Preimage', b'\\x01', witness_script]\n+\n     # 2. Create another identical transaction with witness solving second branch\n     child_two = deepcopy(child_one)\n     child_two.wit.vtxinwit[0].scriptWitness.stack = [b'', witness_script]\n(END)\n```",
      "created_at": "2026-01-21T14:01:34Z",
      "updated_at": "2026-01-21T14:49:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2712708956",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712708956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712887332",
      "pull_request_review_id": 3687398511,
      "id": 2712887332,
      "node_id": "PRRC_kwDOABII586hs2Ak",
      "diff_hunk": "@@ -7,41 +7,44 @@\n with identical non-witness data but different witness.\n \"\"\"\n \n-from test_framework.messages import (\n-    COIN,\n-)\n from test_framework.p2p import P2PTxInvStore\n-from test_framework.script_util import ValidWitnessMalleatedTx\n+from test_framework.script_util import build_malleated_tx_package\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import (\n     assert_not_equal,\n     assert_equal,\n )\n-\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n \n class MempoolWtxidTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n         node = self.nodes[0]\n+        mini_wallet = MiniWallet(node)\n         self.log.info('Start with pre-generated blocks')\n-        blockhash = self.nodes[0].getblockhash(1)\n-        txid = node.getblock(blockhash=blockhash, verbosity=2)[\"tx\"][0][\"txid\"]\n+\n         assert_equal(node.getmempoolinfo()['size'], 0)\n \n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n-        txgen = ValidWitnessMalleatedTx()\n-        parent = txgen.build_parent_tx(txid, 9.99998 * COIN)\n \n-        privkeys = [node.get_deterministic_priv_key().key]\n-        raw_parent = node.signrawtransactionwithkey(hexstring=parent.serialize().hex(), privkeys=privkeys)['hex']\n-        signed_parent_txid = node.sendrawtransaction(hexstring=raw_parent, maxfeerate=0)\n+        parent = mini_wallet.create_self_transfer()[\"tx\"]\n+        parent_amount = parent.vout[0].nValue - 10000\n+        child_amount = parent_amount - 10000",
      "path": "test/functional/mempool_accept_wtxid.py",
      "position": 42,
      "original_position": 42,
      "commit_id": "7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "original_commit_id": "7cfe790820cf247e8a27bb8091defc54c74d6aec",
      "in_reply_to_id": null,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I believe it's unlikely this'd be flaky but it's quite odd to calculate the parent amount based on the first output that ultimately gets subtracted from the last output in case there are multiple outputs in the transaction. I'd prefer to only use the last output for these calculations.\n\nAlso, the `C = A - B` phrase reads fine for the child amount because the reader can realise that `B` is going away in fees when `A` is spent, but using the same phrase for calculating the parent amount that's only going to be rebalanced can be confusing for the reader - can just split the last output amount into two.\n\n```diff\ndiff --git a/test/functional/mempool_accept_wtxid.py b/test/functional/mempool_accept_wtxid.py\nindex a9edea6d64..c44b6b0544 100755\n--- a/test/functional/mempool_accept_wtxid.py\n+++ b/test/functional/mempool_accept_wtxid.py\n@@ -32,8 +32,8 @@ class MempoolWtxidTest(BitcoinTestFramework):\n         self.log.info(\"Submit parent with multiple script branches to mempool\")\n \n         parent = mini_wallet.create_self_transfer()[\"tx\"]\n-        parent_amount = parent.vout[0].nValue - 10000\n-        child_amount = parent_amount - 10000\n+        parent_amount = int(parent.vout[len(parent.vout) - 1].nValue / 2)\n+        child_amount = parent_amount - 10000 # less fees\n         parent, child_one, child_two = build_malleated_tx_package(\n             parent=parent,\n             rebalance_parent_output_amount=parent_amount,",
      "created_at": "2026-01-21T14:42:54Z",
      "updated_at": "2026-01-21T14:49:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33067#discussion_r2712887332",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2712887332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33067"
        }
      },
      "start_line": 35,
      "original_start_line": 35,
      "start_side": "RIGHT",
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    }
  ]
}