{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834",
    "id": 722480860,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyNDgwODYw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22834",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22834.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22834.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0eea83a85ec6b215d44facc2b16ee1b035275a6b",
    "number": 22834,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "net: respect -onlynet= when making outbound connections",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do not make outbound connections to hosts which belong to a network\r\nwhich is restricted by `-onlynet`.\r\n\r\nThis applies to hosts that are automatically chosen to connect to and to\r\nanchors.\r\n\r\nThis does not apply to hosts given to `-connect`, `-addnode`,\r\n`addnode` RPC, dns seeds, `-seednode`.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/13378\r\nFixes https://github.com/bitcoin/bitcoin/issues/22647\r\nSupersedes https://github.com/bitcoin/bitcoin/pull/22651",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/52",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/52",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/52/labels",
      "id": 6179837,
      "node_id": "MDk6TWlsZXN0b25lNjE3OTgzNw==",
      "number": 52,
      "state": "closed",
      "title": "23.0",
      "description": "",
      "creator": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 123,
      "created_at": "2020-12-04T08:54:20Z",
      "updated_at": "2022-04-25T20:51:00Z",
      "closed_at": "2022-04-22T18:08:30Z"
    },
    "created_at": "2021-08-30T13:14:00Z",
    "updated_at": "2023-03-03T10:15:28Z",
    "closed_at": "2022-03-01T17:32:36Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-03-01T17:32:36Z",
    "merge_commit_sha": "848b11615b67a3c49f76ebbcaa241a322d8014d8",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "vasild:onlynet",
      "ref": "onlynet",
      "sha": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 212145,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T10:08:35Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9394964f6b9d1cf1220a4eca17ba18dc49ae876d",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69855,
        "watchers_count": 69855,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T10:08:42Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T10:24:12Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 72,
    "deletions": 52,
    "changed_files": 14,
    "commits": 2,
    "review_comments": 24,
    "comments": 27
  },
  "events": [
    {
      "event": "labeled",
      "id": 5226190154,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUyMjYxOTAxNTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5226190154",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T13:15:01Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 908337743,
      "node_id": "IC_kwDOABII5842JCJP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908337743",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T13:20:36Z",
      "updated_at": "2021-08-30T13:21:45Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, I think this makes onlynet closer to what users expect, clearing up all kind of exceptions that have to be documented. Thanks!",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-908337743",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 908396174,
      "node_id": "IC_kwDOABII5842JQaO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908396174",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T14:35:14Z",
      "updated_at": "2021-08-30T14:35:14Z",
      "author_association": "MEMBER",
      "body": "With this PR, one could use for example `-onlynet=ipv6 -onion=127.0.0.1:9050` and Bitcoin Core will not automatically connect to `.onion` hosts. However one could later use the `addnode` RPC to manually connect to an `.onion` host. This matches the current behavior in `master` wrt other networks, e.g. `-onlynet=ipv6` and later `addnode` to an ipv4 host.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-908396174",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "reviewed",
      "id": 741788733,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQxNzg4NzMz",
      "url": null,
      "actor": null,
      "commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, initial drive-by review on github, will review/test soon",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-741788733",
      "submitted_at": "2021-08-30T15:47:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "commented",
      "id": 908457560,
      "node_id": "IC_kwDOABII5842JfZY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908457560",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T15:51:28Z",
      "updated_at": "2021-08-30T15:51:28Z",
      "author_association": "MEMBER",
      "body": "(Feel free to ignore my comments until you re-push.) \r\n\r\nDo you plan to add functional tests like in #22651?",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-908457560",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 908750635,
      "node_id": "IC_kwDOABII5842Km8r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908750635",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T22:34:03Z",
      "updated_at": "2022-02-12T10:47:24Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24205](https://github.com/bitcoin/bitcoin/pull/24205) (net, init, test: network reachability testing and safety improvements by jonatack)\n* [#15423](https://github.com/bitcoin/bitcoin/pull/15423) (torcontrol: Query Tor for correct -onion configuration by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-908750635",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 909211602,
      "node_id": "IC_kwDOABII5842MXfS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909211602",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-31T12:57:09Z",
      "updated_at": "2021-08-31T12:57:09Z",
      "author_association": "MEMBER",
      "body": "> Do you plan to add functional tests like in #22651?\r\n\r\nIt would be good. I wonder how to test this deterministically. I guess I would want to have an addrman with just addresses from one network and use onlynet another network and check that a connection is never attempted, or something like that.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-909211602",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 909335451,
      "node_id": "IC_kwDOABII5842M1ub",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909335451",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-31T15:19:44Z",
      "updated_at": "2021-08-31T15:24:03Z",
      "author_association": "NONE",
      "body": "Concept ACK\r\n\r\nStarted testing today and need to test lot of combinations with onlynet. Sharing things that I observed during basic tests:\r\n\r\n1. `onlynet=i2p` with `proxy=127.0.0.1:9050` does not create any outbound connections to onion nodes using PR branch however it connects to onion node with Master branch. âœ… \r\n\r\n    1.1 Run node 1:\r\n     ```\r\n     bitcoind -regtest=1 -port=18333 -rpcport=18222 -rpcuser=user1 -rpcpassword=pass1 -datadir=/home/prayank/node1 -debug=net\r\n     ```\r\n     1.2 Run node 2:\r\n     ```\r\n     bitcoind -regtest=1 -port=18777 -rpcport=18666 -rpcuser=user2 -rpcpassword=pass2 -onlynet=i2p -i2psam=127.0.0.1:7656 -proxy=127.0.0.1:9050 -datadir=/home/prayank/node2 -debug=net\r\n     ```\r\n     1.3 Copy onion address for node 1 and add it in peers.dat for node2:\r\n     ```\r\n     bitcoin-cli -rpcport=18666 -rpcuser=user2 -rpcpassword=pass2 addpeeraddress \"6w724ckwacu2sdfitjr6otzfi4hfutxqqcc5mju2gc2ufguysb447gqd.onion\" 18444\r\n     ```\r\n     1.4 Wait for few seconds and node 2 will create an outbound connection with node 1 on Master branch. It should fail on PR branch.\r\n     \r\n     Master branch: https://pastebin.com/raw/krvahBf7\r\n     PR branch: https://pastebin.com/raw/P6uwLtxf\r\n\r\n2. Onion service and i2p service are not created when `proxy=127.0.0.1:9050` is used. (Master and PR branch) :warning:\r\n     \r\n     \r\n     ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-909335451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 909824016,
      "node_id": "IC_kwDOABII5842OtAQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909824016",
      "actor": {
        "login": "Rspigler",
        "id": 24482484,
        "node_id": "MDQ6VXNlcjI0NDgyNDg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/24482484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Rspigler",
        "html_url": "https://github.com/Rspigler",
        "followers_url": "https://api.github.com/users/Rspigler/followers",
        "following_url": "https://api.github.com/users/Rspigler/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Rspigler/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Rspigler/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Rspigler/subscriptions",
        "organizations_url": "https://api.github.com/users/Rspigler/orgs",
        "repos_url": "https://api.github.com/users/Rspigler/repos",
        "events_url": "https://api.github.com/users/Rspigler/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Rspigler/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T02:44:10Z",
      "updated_at": "2021-09-01T02:44:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK! Glad there's a full fix for this now.",
      "user": {
        "login": "Rspigler",
        "id": 24482484,
        "node_id": "MDQ6VXNlcjI0NDgyNDg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/24482484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Rspigler",
        "html_url": "https://github.com/Rspigler",
        "followers_url": "https://api.github.com/users/Rspigler/followers",
        "following_url": "https://api.github.com/users/Rspigler/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Rspigler/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Rspigler/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Rspigler/subscriptions",
        "organizations_url": "https://api.github.com/users/Rspigler/orgs",
        "repos_url": "https://api.github.com/users/Rspigler/repos",
        "events_url": "https://api.github.com/users/Rspigler/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Rspigler/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-909824016",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5240154841,
      "node_id": "HRFPE_lADOABII5846lA1lzwAAAAE4VmrZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5240154841",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T14:49:45Z"
    },
    {
      "event": "commented",
      "id": 910362016,
      "node_id": "IC_kwDOABII5842QwWg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910362016",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T14:51:25Z",
      "updated_at": "2021-09-01T14:51:48Z",
      "author_association": "MEMBER",
      "body": "`7b821b9d4c...0ea0de6438`: optimize `OutboundConnectionAllowedTo()` for a fast lookup coz it is called frequently, plus some rewording in the docs.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910362016",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 910377602,
      "node_id": "IC_kwDOABII5842Q0KC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910377602",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T15:07:51Z",
      "updated_at": "2021-09-01T15:07:51Z",
      "author_association": "MEMBER",
      "body": "@prayank23, thanks for looking into this! So all is working as expected. `-logips=1` will improve your log output a tiny bit. I also tested this manually by adding a printout inside `OutboundConnectionAllowedTo()`, with `-onlynet=i2p -onion=127.0.0.1:9050` it is called many times with `*.onion` addresses and returns `false` as expected.\r\n\r\nA room for improvement (out of the scope of this PR): with `-onlynet=X` if addrman contains a small percentage of `X` addresses, `CConnman::ThreadOpenConnections()` will loop many times trying non-`X` addresses which get rejected either by the existent `IsReachable()` check or by the newly added `OutboundConnectionAllowedTo()`. It takes __seconds__ to select an I2P address for example. `CAddrMan::Select()` could be smarter and take a `onlynets` argument and somehow return addresses that only belong to the requested networks fast.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910377602",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5240285900,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE4WGrM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5240285900",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T15:07:52Z"
    },
    {
      "event": "subscribed",
      "id": 5240285907,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE4WGrT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5240285907",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T15:07:52Z"
    },
    {
      "event": "commented",
      "id": 910427409,
      "node_id": "IC_kwDOABII5842RAUR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910427409",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T16:02:03Z",
      "updated_at": "2021-09-01T16:02:03Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910427409",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 910608011,
      "node_id": "IC_kwDOABII5842RsaL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910608011",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T19:13:34Z",
      "updated_at": "2021-09-02T10:31:52Z",
      "author_association": "NONE",
      "body": "Day 2 of testing `onlynet`\r\n\r\n| ipv4          | ipv6          | onion         | i2p           | logs           | Comments           |  \r\n| ------------- | ------------- | ------------- | ------------- | -------------  |  -------------     |\r\n|   :large_blue_circle:  |      |               |               |        https://pastebin.com/raw/nq5kXqYK          |  No issues          :white_check_mark:          |\r\n|      |   :large_blue_circle:  |                |               |      https://pastebin.com/raw/Hqnz0nAP            |  No issues  :white_check_mark:          | \r\n|      |      |    :large_blue_circle:          |               |       https://pastebin.com/raw/9bwY0Nbw           |   No issues      :white_check_mark:             | \r\n|      |      |       |           :large_blue_circle:            |       https://pastebin.com/raw/mhW371kx           |   No issues    :white_check_mark:      |\r\n\r\n> So all is working as expected\r\n\r\nNeed to test more things. ~~`onlynet=ipv6` did not work as expected today.~~\r\n\r\n> -logips=1 will improve your log output a tiny bit\r\n\r\nThanks. Will try this tomorrow.\r\n\r\n> CAddrMan::Select() could be smarter and take a onlynets argument and somehow return addresses that only belong to the requested networks fast.\r\n\r\nYes we can try this. ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910608011",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 910893133,
      "node_id": "IC_kwDOABII5842SyBN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910893133",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T23:28:17Z",
      "updated_at": "2021-09-01T23:30:45Z",
      "author_association": "MEMBER",
      "body": "I wonder about the interactions of the new `OutboundConnectionAllowedTo()` with `IsReachable()`, which is how `-onlynet` also influences things - it seems complicated  to  have both `OutboundConnectionAllowedTo()` and `IsReachable()` doing similar things with subtle differences, and depending on the situation one or the other is effective.\r\n\r\nMy understanding is that `IsReachable()` will still be able to violate the `-onlynet` option sometimes (if `-proxy` , `-onion` in `init.cpp` or `torcontrol.cpp` call  `SetReachable()` after the `-onlynet` arg was evaluated).\r\nBecause addrman acceptance is gated by `IsReachable()`, I think we could still accept addrs from networks excluded by `-onlynet` into addrman that we no longer would make outgoing connections to - leading to futile connection attempts.\r\n\r\nWould it be possible as an alternative approach to get Reachable in line with `-onlynet` expectations (e.g. by moving the `-onlynet` block in init.cpp below the  `-onion` and `-proxy` blocks and also not calling `SetReachable()` from torcontrol if `-onlynet` excludes onions?) Or would there be negative side effects with other callers of `IsReachable()`?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910893133",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 911377881,
      "node_id": "IC_kwDOABII5842UoXZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/911377881",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T08:25:59Z",
      "updated_at": "2021-09-02T08:25:59Z",
      "author_association": "MEMBER",
      "body": "@prayank23 does the machine have an actual IPv6 connectivity? Do you see successful connections to IPv6 hosts when `-onlynet=` is not used? The text `Network is unreachable` is an actual system error, it does not come from Bitcoin Core.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911377881",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5245575419,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE4qSD7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5245575419",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T08:26:00Z"
    },
    {
      "event": "subscribed",
      "id": 5245575422,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE4qSD-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5245575422",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T08:26:00Z"
    },
    {
      "event": "commented",
      "id": 911511433,
      "node_id": "IC_kwDOABII5842VI-J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/911511433",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T10:30:25Z",
      "updated_at": "2021-09-02T10:30:25Z",
      "author_association": "NONE",
      "body": "Yes it was ipv6 connectivity issue. There were 2 issues: 1. One of my ISP didn't support ipv6 2. Had to change network adapter from NAT to bridged in VM. Checked connectivity on http://test-ipv6.com/\r\n\r\nUpdated logs above as ipv6 works fine. Will test onion-ipv4, onion-ipv6, i2p-ipv4, i2p-ipv6, i2p-onion and ipv6-ipv4 today.",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911511433",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 911645461,
      "node_id": "IC_kwDOABII5842VpsV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/911645461",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T12:51:24Z",
      "updated_at": "2021-09-02T12:51:24Z",
      "author_association": "MEMBER",
      "body": "@mzumsande, good insight! I think there are two distinct properties of a network:\r\n\r\n1. Whether it is reachable (the current `IsReachable()` function). That is - do we have the means to connect to it if we wanted?\r\n2. Whether we should choose hosts from that network for making automatic outbound connections (`-onlynet=`, or the newly added `OutboundConnectionAllowedTo()` function)\r\n\r\nFor example, a setup like `-onlynet=ipv6 -onion=127.0.0.1:9050` should make the Tor network \"reachable\", but avoid automatically opening connections to it. However, manual connections using `-connect`, `-addnode` and `-seednode` to Tor hosts should be still possible, using the proxy given with `-onion=`. Makes sense?\r\n\r\nYour comments make me think - should we only add addresses to addrman if they are both 1. and 2. (right now it is just 1.)? E.g.\r\n```diff\r\n             // Do not store addresses outside our network\r\n-            if (fReachable)\r\n+            if (fReachable && OutboundConnectionAllowedTo(addr))\r\n                 vAddrOk.push_back(addr);\r\n```\r\nor also limit relay of 1. but not 2. addresses?\r\n\r\nWhat about changing the `limited` property in the `getnetworkinfo` RPC reply?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b997dd211ecfe5d0d6f757b8426ad81e40219143/src/rpc/net.cpp#L574-L575",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911645461",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5247233708,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE4wm6s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5247233708",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T12:51:24Z"
    },
    {
      "event": "subscribed",
      "id": 5247233710,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE4wm6u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5247233710",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T12:51:24Z"
    },
    {
      "event": "commented",
      "id": 911890961,
      "node_id": "IC_kwDOABII5842WloR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/911890961",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T17:09:22Z",
      "updated_at": "2021-09-02T17:09:22Z",
      "author_association": "MEMBER",
      "body": "I agree with @mzumsande. I find it confusing that we have two functions considering `-onlynet` (see how `vfLimited` is filled with `onlynet`).",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911890961",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5248920318,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE43Cr-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5248920318",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T17:09:23Z"
    },
    {
      "event": "subscribed",
      "id": 5248920322,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE43CsC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5248920322",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-02T17:09:23Z"
    },
    {
      "event": "commented",
      "id": 912461047,
      "node_id": "IC_kwDOABII5842Ywz3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912461047",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T11:15:53Z",
      "updated_at": "2021-09-03T11:17:25Z",
      "author_association": "NONE",
      "body": "It tried few combinations with `onlynet` and everything works as expected. Although I am still not sure about trade-offs involved in each of these. Things get even more complicated if user has incoming connections on multiple networks as discussed in IRC: https://www.erisian.com.au/bitcoin-core-dev/log-2021-09-01.html (260 2021-09-01T20:26:30)\r\n\r\nThis PR has limited scope and it does fix the issues with `onlynet` and proxy usage.\r\n\r\nACK https://github.com/bitcoin/bitcoin/pull/22834/commits/0ea0de64385c0150e179885a792d615005e20841\r\n\r\nWill reACK if suggestions discussed above are implemented and functional tests are added:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/22834#issuecomment-910893133\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911645461\r\n\r\nAlso not sure why `addpeeraddress` returns `false` in this case: https://bitcoin.stackexchange.com/q/109465/",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-912461047",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 912661346,
      "node_id": "IC_kwDOABII5842Zhti",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912661346",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T16:25:18Z",
      "updated_at": "2021-09-03T16:25:18Z",
      "author_association": "MEMBER",
      "body": "@mzumsande, @naumenkogs, if we need not make a distinction between 1. and 2. (from https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-911645461), then an alternative approach is possible, similar to the one described above by @mzumsande (but not quite the same).\r\n\r\nWhat do you think about this: https://github.com/vasild/bitcoin/commit/46a9a797f1692bc8ceefea1bee49caba5ca87127? Note that even with that, `IsReachable()` does not represent exactly `-onlynet`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-912661346",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5254478765,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE5MPut",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5254478765",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T16:25:19Z"
    },
    {
      "event": "subscribed",
      "id": 5254478770,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE5MPuy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5254478770",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T16:25:19Z"
    },
    {
      "event": "mentioned",
      "id": 5254478776,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAE5MPu4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5254478776",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T16:25:19Z"
    },
    {
      "event": "subscribed",
      "id": 5254478783,
      "node_id": "SE_lADOABII5846lA1lzwAAAAE5MPu_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5254478783",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T16:25:19Z"
    },
    {
      "event": "commented",
      "id": 913233420,
      "node_id": "IC_kwDOABII5842btYM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913233420",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-05T21:51:46Z",
      "updated_at": "2021-09-05T21:51:46Z",
      "author_association": "MEMBER",
      "body": "I didn't find a place we would need to make the distinction between the ability (1) and the willingness (2) to make outbound connections to networks. Also the status quo for `IsReachable()` before this PR, despite the name, is a mix of 1. and 2. because it is initially set by `-onlynet` user preference (2) and then possibly overruled based on the means to connect to a network (1):\r\n\r\n>For example, a setup like -onlynet=ipv6 -onion=127.0.0.1:9050 should make the Tor network \"reachable\", but avoid automatically opening connections to it.\r\n\r\nIs this a relevant scenario, i.e. what should be the practical consequence of a network being \"reachable\" in this scenario when we wouldn't do automatic connections to it?\r\n\r\n> However, manual connections using -connect, -addnode and -seednode to Tor hosts should be still possible, using the proxy given with -onion=. Makes sense?\r\n\r\nYes, I agree. As far as I can see, all of the manual connection code is completely independent from `IsReachable`, so this shouldn't be affected by any of the discussed suggestions.\r\n\r\n>Your comments make me think - should we only add addresses to addrman if they are both 1. and 2. (right now it is just 1.)\r\n\r\nI tend to think that this would make sense. I don't see the point of storing addresses in addrman when we won't connect to them - whether this is because we cannot or because we don't want to doesn't seem crucial to me.\r\n\r\n> What do you think about this: vasild@46a9a79? Note that even with that, IsReachable() does not represent exactly -onlynet.\r\n\r\nOn first sight, I like this approach. I don't quite understand why it is possible to just drop the `SetReachable()` in torcontrol.cpp.\r\n\r\nI have been looking into the other call sites of `IsReachable()` besides connection opening and addrman acceptance to see how they would be affected by possible changes:\r\n`IsPeerAddrLocalGood()` and `AddLocal()` both call `IsReachable()` and therefore might be affected. Considering that they deal with the address used for self-advertising (and thus for getting incoming connections) I don't really understand why they make use of `IsReachable()` in the first place. Shouldn't this affect only outbound connection logic?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-913233420",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 913485177,
      "node_id": "IC_kwDOABII5842cq15",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913485177",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T09:12:47Z",
      "updated_at": "2021-09-06T09:12:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-913485177",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "commented",
      "id": 914265670,
      "node_id": "IC_kwDOABII5842fpZG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/914265670",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-07T12:34:36Z",
      "updated_at": "2021-09-07T12:34:36Z",
      "author_association": "MEMBER",
      "body": "> I didn't find a place we would need to make the distinction between the ability (1) and the willingness (2) to make outbound connections to networks.\r\n\r\nThe only one I can think of is this - it would be strange to display onion as not reachable in `getnetworkinfo` RPC, but to be able to open manual connections to it using `addnode`.\r\n\r\n> Also the status quo for `IsReachable()` before this PR, despite the name, is a mix of 1. and 2. because it is initially set by `-onlynet` user preference (2) and then possibly overruled based on the means to connect to a network (1):\r\n\r\nYes.\r\n\r\n> > For example, a setup like -onlynet=ipv6 -onion=127.0.0.1:9050 should make the Tor network \"reachable\", but avoid automatically opening connections to it.\r\n> \r\n> Is this a relevant scenario, i.e. what should be the practical consequence of a network being \"reachable\" in this scenario when we wouldn't do automatic connections to it?\r\n\r\nIt would be possible to reach the network by opening a manual connection. I am not sure if this is \"relevant\". Maybe it is exotic use case.\r\n \r\n> > What do you think about this: [vasild/bitcoin@46a9a79](https://github.com/vasild/bitcoin/commit/46a9a79)? Note that even with that, IsReachable() does not represent exactly -onlynet.\r\n> \r\n> On first sight, I like this approach. I don't quite understand why it is possible to just drop the `SetReachable()` in torcontrol.cpp.\r\n\r\nHmm, maybe that is not a good idea - if `-torcontrol=... -torpassword=...` are given (without any of `-onlynet`, `-proxy` or `-onion`) then that code would have flipped the Tor network from not reachable to reachable. Is this desirable? If yes, then instead of removing `SetReachable()` from `torcontrol.cpp` it should be made conditional: `if (!onion_restricted) {`. However that variable `onion_restricted` is local in `init.cpp` so it would either have to be made global (:disappointed:) or `OutboundConnectionAllowedTo()` used instead of it. But we are looking into that potentially more invasive patch only because the co-existence of `IsReachable()` and `OutboundConnectionAllowedTo()` is confusing...\r\n\r\n> `IsPeerAddrLocalGood()` and `AddLocal()` both call `IsReachable()` and therefore might be affected. Considering that they deal with the address used for self-advertising (and thus for getting incoming connections) I don't really understand why they make use of `IsReachable()` in the first place. Shouldn't this affect only outbound connection logic?\r\n\r\nI think the logic is this - if a network is not reachable then we cannot accept connections from it. \"Reachable\" in the broader English word meaning, not the stricter `-onlynet` meaning. For example, a host/OS may have support for both IPv4 and IPv6 but its ISP may only support IPv4. So, an operator would run `-onlynet=ipv4` to avoid attempting connections to IPv6 hosts and from advertising an IPv6 address to which the rest of the world cannot connect.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-914265670",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "reviewed",
      "id": 759110568,
      "node_id": "PRR_kwDOABII584tPxuo",
      "url": null,
      "actor": null,
      "commit_id": "0ea0de64385c0150e179885a792d615005e20841",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-759110568",
      "submitted_at": "2021-09-20T21:24:14Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "referenced",
      "id": 5439570111,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAFEOUC_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5439570111",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "93c87541f6a426adceb2c368146fa18b571857d0",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/93c87541f6a426adceb2c368146fa18b571857d0",
      "created_at": "2021-10-10T16:20:03Z"
    },
    {
      "event": "labeled",
      "id": 5546588193,
      "node_id": "LE_lADOABII5846lA1lzwAAAAFKmjgh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5546588193",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-01T04:38:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5584107962,
      "node_id": "HRFPE_lADOABII5846lA1lzwAAAAFM1rm6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584107962",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:23:01Z"
    },
    {
      "event": "commented",
      "id": 963348421,
      "node_id": "IC_kwDOABII5845a4fF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963348421",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:37Z",
      "updated_at": "2021-11-08T16:39:37Z",
      "author_association": "MEMBER",
      "body": "`0ea0de6438...051c2554ca`: rebase and refactor to address concerns:\r\n\r\n1. now we don't have two similar functions `IsReachable()` and `OutboundConnectionAllowedTo()` (@mzumsande, @naumenkogs)\r\n2. initialization order in `OutboundConnectionAllowedTo()` - this function was removed (@luke-jr, @laanwj)\r\n\r\nRename `proxyType` to `Proxy` in a second commit (scripted diff), which is optional.\r\n\r\nInvalidates ACK from @prayank23 ",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-963348421",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5584217728,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2GaA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217728",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:37Z"
    },
    {
      "event": "subscribed",
      "id": 5584217736,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2GaI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217736",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:37Z"
    },
    {
      "event": "mentioned",
      "id": 5584217753,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2GaZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217753",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:37Z"
    },
    {
      "event": "subscribed",
      "id": 5584217759,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2Gaf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217759",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "mentioned",
      "id": 5584217766,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2Gam",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217766",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "subscribed",
      "id": 5584217778,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2Gay",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217778",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "mentioned",
      "id": 5584217792,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2GbA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217792",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "subscribed",
      "id": 5584217802,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2GbK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217802",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "mentioned",
      "id": 5584217811,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2GbT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217811",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "subscribed",
      "id": 5584217815,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2GbX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584217815",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:39:38Z"
    },
    {
      "event": "commented",
      "id": 963355581,
      "node_id": "IC_kwDOABII5845a6O9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963355581",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:47:59Z",
      "updated_at": "2021-11-08T16:48:15Z",
      "author_association": "MEMBER",
      "body": "@mzumsande \r\n\r\n> Would it be possible as an alternative approach to get Reachable in line with `-onlynet` expectations ...\r\n\r\nAlmost! The only exception now is that we `SetReachable(NET_ONION, false)` is we don't have a proxy to reach the Tor network.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-963355581",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5584272022,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFM2TqW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584272022",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:48:00Z"
    },
    {
      "event": "subscribed",
      "id": 5584272031,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFM2Tqf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584272031",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T16:48:00Z"
    },
    {
      "event": "unlabeled",
      "id": 5584708382,
      "node_id": "UNLE_lADOABII5846lA1lzwAAAAFM3-Me",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5584708382",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-08T18:00:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 964362357,
      "node_id": "IC_kwDOABII5845ewB1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964362357",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-09T17:17:37Z",
      "updated_at": "2021-11-09T17:17:37Z",
      "author_association": "MEMBER",
      "body": "Comparison of `IsReachable(NET_ONION)` before and after this PR:\r\n\r\n<table>\r\n<tr>\r\n<td rowspan=\"2\" align=\"center\">Configuration parameters <code>-proxy</code>, <code>-onion</code>, <code>-onlynet</code></td>\r\n<td rowspan=\"2\"></td>\r\n<td colspan=\"2\" align=\"center\"><code>IsReachable(NET_ONION)</code></td>\r\n</tr>\r\n<tr>\r\n<td align=\"center\">master @ 8346004ac8</td>\r\n<td align=\"center\">PR</td>\r\n</tr>\r\n\r\n<tr>\r\n<td><i>none</i></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>false</code>, misconfiguration allowed, no proxy for Tor but <code>-onlynet=onion</code> given</td>\r\n<td>init error</td>\r\n</tr>\r\n\r\n\r\n<tr>\r\n<td><code>-onion=0</code></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onion=0 -onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onion=0 -onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>false</code>, misconfiguration allowed, no proxy for Tor but <code>-onlynet=onion</code> given</td>\r\n<td>init error</td>\r\n</tr>\r\n\r\n\r\n<tr>\r\n<td><code>-onion=addr</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onion=addr -onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>true</code> (bug)</td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-onion=addr -onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n\r\n<!-- proxy -->\r\n\r\n<tr>\r\n<td><code>-proxy=addr</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr -onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>true</code> (bug)</td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr -onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n\r\n\r\n<tr>\r\n<td><code>-proxy=addr -onion=0</code></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr -onion=0 -onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>false</code></td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr -onion=0 -onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>false</code>, the Tor proxy still set to addr, so manual connections to Tor are possible</td>\r\n<td><code>false</code>, no Tor proxy, no connections to Tor possible</td>\r\n</tr>\r\n\r\n\r\n<tr>\r\n<td><code>-proxy=addr1 -onion=addr2</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr1 -onion=addr2 -onlynet=ipv4</code></td>\r\n<td></td>\r\n<td><code>true</code> (bug)</td>\r\n<td><code>false</code></td>\r\n</tr>\r\n\r\n<tr>\r\n<td><code>-proxy=addr1 -onion=addr2 -onlynet=onion</code></td>\r\n<td></td>\r\n<td><code>true</code></td>\r\n<td><code>true</code></td>\r\n</tr>\r\n</table>",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-964362357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "reviewed",
      "id": 803078596,
      "node_id": "PRR_kwDOABII584v3gHE",
      "url": null,
      "actor": null,
      "commit_id": "051c2554ca1eb9f9f2109c586f7b53c5b1e83ce9",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/22834/commits/051c2554ca1eb9f9f2109c586f7b53c5b1e83ce9\r\n\r\nTested only one case with steps mentioned here: https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-909335451\r\n\r\nCould also see the error mentioned in the table above: \r\n\r\n```\r\n2021-11-10T19:34:34Z Error: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided (no -proxy= and no -onion= given) or it is explicitly forbidden (-onion=0)\r\n```",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-803078596",
      "submitted_at": "2021-11-10T19:52:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "commented",
      "id": 965892927,
      "node_id": "IC_kwDOABII5845kls_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965892927",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-11T00:48:13Z",
      "updated_at": "2021-11-11T00:48:13Z",
      "author_association": "MEMBER",
      "body": "Concept/ Approach ACK.\r\n\r\nI like the reworked approach, the handling of `-onlynet` in connection with other parameters and `IsReachable()` makes sense to me and is clearer than before - so my points are addressed.\r\nHaving very little experience with Tor in bitcoin, I'll need to do more testing/exploration before actually ACKing.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-965892927",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "labeled",
      "id": 5666141397,
      "node_id": "LE_lADOABII5846lA1lzwAAAAFRunTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5666141397",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T11:08:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU1M2E4NTA1ZGJiNmY5ZGVhYWU4YWM4Mjc5M2E0ZmI3NjBhMWUwYTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "tree": {
        "sha": "40507a94035ee59351b4a7008616b825a5b32ef6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40507a94035ee59351b4a7008616b825a5b32ef6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 40507a94035ee59351b4a7008616b825a5b32ef6\nparent 9394964f6b9d1cf1220a4eca17ba18dc49ae876d\nauthor Vasil Dimov <vd@FreeBSD.org> 1630326809 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1637754245 +0100\n\nnet: respect -onlynet= when making outbound connections\n\nDo not make outbound connections to hosts which belong to a network\nwhich is restricted by `-onlynet`.\n\nThis applies to hosts that are automatically chosen to connect to and to\nanchors.\n\nThis does not apply to hosts given to `-connect`, `-addnode`,\n`addnode` RPC, dns seeds, `-seednodes`.\n\nFixes https://github.com/bitcoin/bitcoin/issues/13378\nFixes https://github.com/bitcoin/bitcoin/issues/22647\nSupersedes https://github.com/bitcoin/bitcoin/pull/22651\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmGeJYcACgkQVN8G9ktV\ny7/l4yAAqRYGta9RDYTtRWTZxyRk7hB6z7tHUYj6r03+BuFhmLGSGfF4h5EWJYiu\nNUTGOR+qfs6LYCVjYmQa9sc+USUYEc1ftzDFJCMjgitTfCuO1Hwr5gKYL/KHLC88\nJLMDFw/m+Zvjp6xrTuzYv9/hPPJj3h/T07WM3pfpQVe6wpKmrqlb2rj2tUi5i7xg\nkYt+JYbIddqatAKkmDpa5vcN2otSFlnSMZzcFRCWaGp5awFcNhsUc0OyF5ji+QRR\ny0iw0qAz14HjLYq3px1tD+rTw1f/gCG4dWsV5sGwQkcCtt3u1Ai2jsVFeHsjf9gx\nNEE8ykxy9hYYttEcvwho46sl6rPFPTX+pPqhCpD+nrATc7hAHI5QCutRXLHVCEsO\nu7DcpU/a0aACVE01I2rt7R2NjNWjyNa/Tk+awHm7K8/gCkqv33QUOE7Rai1HuTE2\nKnTWz9+Q2YovbqHJCsWOzD4TQVvpQ4G8dDd66874H0kd70/bh597EDLP/pUCA4NP\nVNYyaV45SEXM0VIFRZN7XqSkBmDjiysbSEkRrEVCSrpzDpJgefybAzDQRM/hpLe0\nFlz6xZ8DwXKKUY212mpWYJ4Xa5VMHqkCNrVfmWujvvPgfZSXDBC5ZFFeCMQ7S+BZ\nxXL+0beMTVWr7iFmqbiB5LC48ZxHFqiaGQzMUlkhFJsa325VTByW+DRdL6Egl4L/\nFpsZ35p5GonWPD66jyMchMBBkzq4pMrt+ajYm1IkLaaY1b47k5Dcbnq9GkbLfcoJ\nutz7JpAzPZL5tU30n8NDQ1FUPRmCDvxVc04djh0mG4HQDngFJl/C0z0NuOfmI/n9\n3JonvfY9yJhR89/w9PVOCBN0+1YWXPKb1317OscOFbgeIWkB3hVL4tAgOYlemUan\n/x6gk/cb33bmlqk0i/InQUrxfWwbejOQkgO7yFGRMJ2X8zJsaQhs5qww0S8U08sB\nrX6v2DuI5G9ywktF7PpYN43Iq6p/4WUbMXkavf/R7wMK9rTKyDrzZoQHa1S5vkoP\nFJim7smHD0HGwt3unNbF6YFnmnbAojNG8zkRH7YkKb320fxlog1/u2lAsyi8zmJO\nAxe2syAXik78SJuPvpbt2eiKb5A5lO29vSOL6V3XtCT9e+Z3RfRhROl60aZCmYKv\nWAB+xleaJKAUjgiugZKodZSFYn+hXF6l9r9ZBj6UImBi6NEgnIEJ2HsYpuaarLPf\n8O43PVl4BZAzj8ZsG04cxO036ljyqkzQ3xUlb1MFsWfu0tCopnqmAPdT+VjIzmjG\nbAlSj46dQkptk5SJWelqcYfA4vs9sxH1uAr25DIH5sD2jBEPLqvYOZLlhpwau+Qy\nJC9fHgzcxRtKaU1XFP3fip74LIv8tQ==\n=YqVc\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9394964f6b9d1cf1220a4eca17ba18dc49ae876d",
          "sha": "9394964f6b9d1cf1220a4eca17ba18dc49ae876d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9394964f6b9d1cf1220a4eca17ba18dc49ae876d"
        }
      ],
      "message": "net: respect -onlynet= when making outbound connections\n\nDo not make outbound connections to hosts which belong to a network\nwhich is restricted by `-onlynet`.\n\nThis applies to hosts that are automatically chosen to connect to and to\nanchors.\n\nThis does not apply to hosts given to `-connect`, `-addnode`,\n`addnode` RPC, dns seeds, `-seednodes`.\n\nFixes https://github.com/bitcoin/bitcoin/issues/13378\nFixes https://github.com/bitcoin/bitcoin/issues/22647\nSupersedes https://github.com/bitcoin/bitcoin/pull/22651",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-11-24T11:44:05Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-08-30T12:33:29Z"
      },
      "sha": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBlZWE4M2E4NWVjNmIyMTVkNDRmYWNjMmIxNmVlMWIwMzUyNzVhNmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "tree": {
        "sha": "e6eecb49bd83112cb2b0147f681f65ba88ea9ea2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e6eecb49bd83112cb2b0147f681f65ba88ea9ea2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e6eecb49bd83112cb2b0147f681f65ba88ea9ea2\nparent e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6\nauthor Vasil Dimov <vd@FreeBSD.org> 1636389272 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1637754247 +0100\n\nscripted-diff: rename `proxyType` to `Proxy`\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's/\\<proxyType\\>/Proxy/g' $(git grep -l proxyType)\n-END VERIFY SCRIPT-\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmGeJYcACgkQVN8G9ktV\ny7+tJx/+PKpLsRvaB7b7ZaAirdxZSECVDJnpg3r9KqHfRRagKVmaXrwb4asZqJzG\n0/NDVoZDeMS8lpjFEDGHngBI2puH9i/Ip3T0LotPNpi21LexgUXrpXKzb/Jnre2w\nHV/FSfhmLHzDRIAfjDOXuwjVg/7uVKX36d5I/D/ofzEtP9Sa1SOA+LwHg/+4Z5Uf\nxdmQ2Ix1/d4yI6BdjGTmyYrV/fmrFw6VhQRyXcUjN7vgt6xAkjXNor2ZkIfrjYS9\nL7yVDB0QjPSAaMGSg/JTnLKcHB7mxZ+GRVwlQdWBppPZO6D205N970T1+mUFGObZ\n45ic3FejD6KiXkEIkgW/neKAhvFwnlHdLXyKacAIsN4uSofVjDTi0tv9UDjph7kn\n1uWluNjUNSHnJp0uQ/JqnkiY3B3yUSvCwpKpGD94M8fcgVd9gZYWg1G/1gjss464\nyjZoRZcSC6ubbyCJwtGhG98PXhCSteaG9qabj9eM5tfeAJYo5VF3vnCAsAekw233\n2DWL8N39dwP9MyDUtCyignH+FbzopgezLGx8gbs6UkYQHCvIhoOXHsXWoQoirwid\nS6to8ES5cCpZNU3zg+znR2ji0QOHRT4LfrSlkeaiUNlXH/z2rttaKSKxeWBctICR\nFd7HdGwPSUCuncVvMozarRcCR42c5CH2I+3VQarKCeUnR8ul3mXClzHx94OwFeLU\nVhmpBiyfwYTJnSRyk7vdDmnuVL8zBTt8PvMdiHa7oWe6Mrg5O0X3ffe62CylJTBN\ntslax4DYm2VpmaZFfabn4vj3M4bit3/kgMITtMgs0YfIYDF7e58KrMYuRZnwjRq8\n1QmwvfUGJc1EGt7e9QWA0OtFXuHeGRPzT5LsNS6T8FUSl+sI0CIvX2Yd7j0gctnF\nWCuBV7wZZexBYIvdrldR0L/tGuKY+nLzR3aeu+LAATTlYSoejvEsliQF8/tzqEpd\nwY+a/sXG2r6wNbIwq0rPpjnwmUvu3/mMIEaOGTwMmjX2rnCvfPl35MfAoKeq4mTq\nBwsR410Ngs5Yy+tEKyOu7wIzP5eO7ZlHunl9fDeNnBaMqK4o8SxfaHIYzbJqLgyJ\nhI/xPUqZXMI7nyY9TjoZ2qq6zkFctmfK9ew8lu7QHqBHfJ8v5vkugAyuB8vwviY0\ns4OaoJ/H9hjHU79kHixrMW246SDuSm9UeUpmWKBp/dR0JYFUMfgQZPML/R2AJZT5\nhGuK5TLtd/nMDfIvz1PKvTtJrgeza8nRh+iWd7/bxPip4Qmb8BsAIQSt3elDMFsg\nkRzhe+ifCHRbNlOYrdxK6Yv0cwl2uRbidMhpMf39PJSZDSukE83NYaf4Sly5j2FA\nYj6yUFR1y2bA66NX78Yyy6rXzzh/kA==\n=tKml\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
          "sha": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6"
        }
      ],
      "message": "scripted-diff: rename `proxyType` to `Proxy`\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's/\\<proxyType\\>/Proxy/g' $(git grep -l proxyType)\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-11-24T11:44:07Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-11-08T16:34:32Z"
      },
      "sha": "0eea83a85ec6b215d44facc2b16ee1b035275a6b"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5666346818,
      "node_id": "HRFPE_lADOABII5846lA1lzwAAAAFRvZdC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5666346818",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T11:45:02Z"
    },
    {
      "event": "commented",
      "id": 977801402,
      "node_id": "IC_kwDOABII5846SBC6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/977801402",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T11:47:00Z",
      "updated_at": "2021-11-24T11:47:00Z",
      "author_association": "MEMBER",
      "body": "`051c2554ca...0eea83a85e`: rebase due to conflicts\r\n\r\nInvalidates ACK from @prayank23",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-977801402",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "mentioned",
      "id": 5666357154,
      "node_id": "MEE_lADOABII5846lA1lzwAAAAFRvb-i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5666357154",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T11:47:00Z"
    },
    {
      "event": "subscribed",
      "id": 5666357158,
      "node_id": "SE_lADOABII5846lA1lzwAAAAFRvb-m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5666357158",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T11:47:01Z"
    },
    {
      "event": "reviewed",
      "id": 814831296,
      "node_id": "PRR_kwDOABII584wkVbA",
      "url": null,
      "actor": null,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/22834/commits/0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-814831296",
      "submitted_at": "2021-11-24T12:28:40Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "unlabeled",
      "id": 5666843611,
      "node_id": "UNLE_lADOABII5846lA1lzwAAAAFRxSvb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5666843611",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T13:13:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 820058945,
      "node_id": "PRR_kwDOABII584w4RtB",
      "url": null,
      "actor": null,
      "commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-820058945",
      "submitted_at": "2021-12-01T10:16:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "commented",
      "id": 983542729,
      "node_id": "IC_kwDOABII5846n6vJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983542729",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-01T11:21:12Z",
      "updated_at": "2021-12-01T11:21:12Z",
      "author_association": "MEMBER",
      "body": "utACK 0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-983542729",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22834"
    },
    {
      "event": "referenced",
      "id": 5766469187,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAFXtVZD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5766469187",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "06fc482a73e1cadff69879982b1e797f1623951f",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/06fc482a73e1cadff69879982b1e797f1623951f",
      "created_at": "2021-12-14T19:22:38Z"
    },
    {
      "event": "reviewed",
      "id": 867207753,
      "node_id": "PRR_kwDOABII584zsIpJ",
      "url": null,
      "actor": null,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 0eea83a85ec6b215d44facc2b16ee1b035275a6b code review, rebased to master, debug built, and did some manual testing with various config options on signet\r\n\r\nCame across the onlynet issue again recently that this pull fixes.\r\n\r\nThis pull has been through quite a bit of review and has several ACKs. It may be good to have it in v23.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-867207753",
      "submitted_at": "2022-01-30T21:35:56Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "reviewed",
      "id": 867217109,
      "node_id": "PRR_kwDOABII584zsK7V",
      "url": null,
      "actor": null,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#pullrequestreview-867217109",
      "submitted_at": "2022-01-30T21:41:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
    },
    {
      "event": "milestoned",
      "id": 5980574447,
      "node_id": "MIE_lADOABII5846lA1lzwAAAAFkeFLv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5980574447",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-31T13:01:31Z",
      "milestone": {
        "title": "23.0"
      }
    },
    {
      "event": "merged",
      "id": 6163734121,
      "node_id": "ME_lADOABII5846lA1lzwAAAAFvYx5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6163734121",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "848b11615b67a3c49f76ebbcaa241a322d8014d8",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/848b11615b67a3c49f76ebbcaa241a322d8014d8",
      "created_at": "2022-03-01T17:32:36Z"
    },
    {
      "event": "closed",
      "id": 6163734161,
      "node_id": "CE_lADOABII5846lA1lzwAAAAFvYx6R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6163734161",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-01T17:32:37Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 6168045708,
      "node_id": "HRDE_lADOABII5846lA1lzwAAAAFvpOiM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6168045708",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-02T07:14:20Z"
    },
    {
      "event": "referenced",
      "id": 6174491546,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAFwB0Oa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6174491546",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ca34ee9984f42b3191e723b8e579c053757f4d0f",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/ca34ee9984f42b3191e723b8e579c053757f4d0f",
      "created_at": "2022-03-02T23:25:09Z"
    },
    {
      "event": "referenced",
      "id": 6193834477,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAFxLmnt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6193834477",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f6d335e82822ed8f2da56c1bcaddf7f99acd4997",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/f6d335e82822ed8f2da56c1bcaddf7f99acd4997",
      "created_at": "2022-03-07T10:42:47Z"
    },
    {
      "event": "referenced",
      "id": 6196871270,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAFxXMBm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6196871270",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c561f580991e6d5feb41f069ad176a60d75baf6c",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/c561f580991e6d5feb41f069ad176a60d75baf6c",
      "created_at": "2022-03-07T17:53:52Z"
    },
    {
      "event": "referenced",
      "id": 6302329921,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAF3pexB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6302329921",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f0c9ba2b48c3aabdf445076574be7eeb77fe2f48",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f0c9ba2b48c3aabdf445076574be7eeb77fe2f48",
      "created_at": "2022-03-24T20:19:05Z"
    },
    {
      "event": "referenced",
      "id": 6357121994,
      "node_id": "REFE_lADOABII5846lA1lzwAAAAF66fvK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6357121994",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "94a2f75119e0245610219ae6889e50ab17600a6f",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/94a2f75119e0245610219ae6889e50ab17600a6f",
      "created_at": "2022-04-02T16:12:41Z"
    },
    {
      "event": "locked",
      "id": 8658295262,
      "node_id": "LOE_lADOABII5846lA1lzwAAAAIEExne",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8658295262",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-03T10:15:28Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698592051",
      "pull_request_review_id": 741788733,
      "id": 698592051,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODU5MjA1MQ==",
      "diff_hunk": "@@ -57,11 +57,7 @@ outgoing connections, but more is possible.\n     -onlynet=onion  Make outgoing connections only to .onion addresses. Incoming\n                     connections are not affected by this option. This option can be\n                     specified multiple times to allow multiple network types, e.g.\n-                    onlynet=ipv4, onlynet=ipv6, onlynet=onion, onlynet=i2p.\n-                    Warning: if you use -onlynet with values other than onion, and\n-                    the -onion or -proxy option is set, then outgoing onion\n-                    connections will still be made; use -noonion or -onion=0 to\n-                    disable outbound onion connections in this case.\n+                    onlynet=ipv6, onlynet=onion.",
      "path": "doc/tor.md",
      "position": null,
      "original_position": 9,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(Initial drive-by review.) Every onlynet question I've received has been about using -onlynet=onion, -onlynet=i2p, or both together, so it may be reasonable to address what node operators seem most interested in and minimize confusion, by using the hidden networks for the onlynet examples in both `doc/tor.md` and `doc/i2p.md` (unless you use all of them in the examples to illustrate that it is possible, which is what I did in #22648, but no strong opinion on whether that is helpful)\r\n```suggestion\r\n                    onlynet=onion, onlynet=i2p.\r\n```",
      "created_at": "2021-08-30T15:35:17Z",
      "updated_at": "2021-08-30T15:47:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r698592051",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698592051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698600479",
      "pull_request_review_id": 741788733,
      "id": 698600479,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODYwMDQ3OQ==",
      "diff_hunk": "@@ -113,6 +113,22 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    if (!gArgs.IsArgSet(\"-onlynet\")) {\n+        return true;\n+    }\n+    const auto onlynets = gArgs.GetArgs(\"-onlynet\");\n+    return std::any_of(onlynets.begin(), onlynets.end(), [&addr](const auto& net) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "naming nit, `onlynet` or maybe `onlynet_str` might be a clearer iterator name for `onlynets`, and `net` is often used for passing a `Network` enum, e.g. in `src/net.h::IsReachable()` and `SetReachable()`)\r\n```suggestion\r\n    return std::any_of(onlynets.begin(), onlynets.end(), [&addr](const auto& onlynet) {\r\n```",
      "created_at": "2021-08-30T15:46:28Z",
      "updated_at": "2021-08-30T15:47:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r698600479",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698600479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699293514",
      "pull_request_review_id": 742686359,
      "id": 699293514,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTI5MzUxNA==",
      "diff_hunk": "@@ -57,11 +57,7 @@ outgoing connections, but more is possible.\n     -onlynet=onion  Make outgoing connections only to .onion addresses. Incoming\n                     connections are not affected by this option. This option can be\n                     specified multiple times to allow multiple network types, e.g.\n-                    onlynet=ipv4, onlynet=ipv6, onlynet=onion, onlynet=i2p.\n-                    Warning: if you use -onlynet with values other than onion, and\n-                    the -onion or -proxy option is set, then outgoing onion\n-                    connections will still be made; use -noonion or -onion=0 to\n-                    disable outbound onion connections in this case.\n+                    onlynet=ipv6, onlynet=onion.",
      "path": "doc/tor.md",
      "position": null,
      "original_position": 9,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": 698592051,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, I will update this as per above. I changed it because it was using onlynet with all possible networks which looked strange to me.",
      "created_at": "2021-08-31T12:53:58Z",
      "updated_at": "2021-08-31T12:53:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r699293514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699293514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699294332",
      "pull_request_review_id": 742687538,
      "id": 699294332,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTI5NDMzMg==",
      "diff_hunk": "@@ -113,6 +113,22 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    if (!gArgs.IsArgSet(\"-onlynet\")) {\n+        return true;\n+    }\n+    const auto onlynets = gArgs.GetArgs(\"-onlynet\");\n+    return std::any_of(onlynets.begin(), onlynets.end(), [&addr](const auto& net) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": 698600479,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I will optimize this because it will be called frequently (not as in https://github.com/bitcoin/bitcoin/pull/22651, once per startup). `std::unordered_set` has a lookup time `O(1)`.",
      "created_at": "2021-08-31T12:54:59Z",
      "updated_at": "2021-08-31T12:54:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r699294332",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699294332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700290402",
      "pull_request_review_id": 744033554,
      "id": 700290402,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDI5MDQwMg==",
      "diff_hunk": "@@ -57,11 +57,7 @@ outgoing connections, but more is possible.\n     -onlynet=onion  Make outgoing connections only to .onion addresses. Incoming\n                     connections are not affected by this option. This option can be\n                     specified multiple times to allow multiple network types, e.g.\n-                    onlynet=ipv4, onlynet=ipv6, onlynet=onion, onlynet=i2p.\n-                    Warning: if you use -onlynet with values other than onion, and\n-                    the -onion or -proxy option is set, then outgoing onion\n-                    connections will still be made; use -noonion or -onion=0 to\n-                    disable outbound onion connections in this case.\n+                    onlynet=ipv6, onlynet=onion.",
      "path": "doc/tor.md",
      "position": null,
      "original_position": 9,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": 698592051,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-09-01T14:49:54Z",
      "updated_at": "2021-09-01T14:49:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r700290402",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700290402"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700290807",
      "pull_request_review_id": 744034141,
      "id": 700290807,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDI5MDgwNw==",
      "diff_hunk": "@@ -113,6 +113,22 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    if (!gArgs.IsArgSet(\"-onlynet\")) {\n+        return true;\n+    }\n+    const auto onlynets = gArgs.GetArgs(\"-onlynet\");\n+    return std::any_of(onlynets.begin(), onlynets.end(), [&addr](const auto& net) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "7b821b9d4c5e60ae3b79d2ee9c398852c850fc0d",
      "in_reply_to_id": 698600479,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done (optimized).",
      "created_at": "2021-09-01T14:50:21Z",
      "updated_at": "2021-09-01T14:50:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r700290807",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700290807"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712524563",
      "pull_request_review_id": 759110568,
      "id": 712524563,
      "node_id": "PRRC_kwDOABII584qeEMT",
      "diff_hunk": "@@ -113,6 +114,30 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    static const std::unordered_set<Network> onlynets = [](){",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0ea0de64385c0150e179885a792d615005e20841",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems fragile. Can we guarantee `onlynets` is initialised only after the config files get loaded?\r\n\r\nAt the very least, I think it should be tested.",
      "created_at": "2021-09-20T21:23:57Z",
      "updated_at": "2021-09-20T21:24:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r712524563",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712524563"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 124,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744517063",
      "pull_request_review_id": 799837306,
      "id": 744517063,
      "node_id": "PRRC_kwDOABII584sYG3H",
      "diff_hunk": "@@ -113,6 +114,30 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    static const std::unordered_set<Network> onlynets = [](){",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0ea0de64385c0150e179885a792d615005e20841",
      "in_reply_to_id": 712524563,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I also strongly prefer initialization to be done explicitly in an explicit order. This code belongs in one of the `Init` functions, or called from there. We've historiically had many initialization bugs due to hidden gotchas like this.",
      "created_at": "2021-11-08T08:57:22Z",
      "updated_at": "2021-11-08T08:57:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r744517063",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744517063"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 124,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744903474",
      "pull_request_review_id": 800360017,
      "id": 744903474,
      "node_id": "PRRC_kwDOABII584sZlMy",
      "diff_hunk": "@@ -113,6 +114,30 @@ std::map<CNetAddr, LocalServiceInfo> mapLocalHost GUARDED_BY(cs_mapLocalHost);\n static bool vfLimited[NET_MAX] GUARDED_BY(cs_mapLocalHost) = {};\n std::string strSubVersion;\n \n+/**\n+ * Check if making an automatic outbound connection to the given address is allowed.\n+ * Could be restricted by the `-onlynet` configuration option.\n+ * @return true if allowed\n+ */\n+static bool OutboundConnectionAllowedTo(const CNetAddr& addr)\n+{\n+    static const std::unordered_set<Network> onlynets = [](){",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0ea0de64385c0150e179885a792d615005e20841",
      "in_reply_to_id": 712524563,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Dropped this altogether for a (hopefully) better and simpler approach.",
      "created_at": "2021-11-08T16:40:55Z",
      "updated_at": "2021-11-08T16:40:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r744903474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744903474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 124,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760039973",
      "pull_request_review_id": 820058945,
      "id": 760039973,
      "node_id": "PRRC_kwDOABII584tTUol",
      "diff_hunk": "@@ -1843,7 +1851,6 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (!Lookup(i2psam_arg, addr, 7656, fNameLookup) || !addr.IsValid()) {\n             return InitError(strprintf(_(\"Invalid -i2psam address or hostname: '%s'\"), i2psam_arg));\n         }\n-        SetReachable(NET_I2P, true);",
      "path": "src/init.cpp",
      "position": 80,
      "original_position": 74,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the reason for deleting this line?",
      "created_at": "2021-12-01T10:16:25Z",
      "updated_at": "2021-12-01T10:16:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r760039973",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760039973"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1846,
      "original_line": 1846,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760052397",
      "pull_request_review_id": 820075785,
      "id": 760052397,
      "node_id": "PRRC_kwDOABII584tTXqt",
      "diff_hunk": "@@ -1843,7 +1851,6 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (!Lookup(i2psam_arg, addr, 7656, fNameLookup) || !addr.IsValid()) {\n             return InitError(strprintf(_(\"Invalid -i2psam address or hostname: '%s'\"), i2psam_arg));\n         }\n-        SetReachable(NET_I2P, true);",
      "path": "src/init.cpp",
      "position": 80,
      "original_position": 74,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "in_reply_to_id": 760039973,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same logic as with Tor - avoid explicitly calling `SetReachable(..., true)` because:\r\n\r\n1. Everything is reachable by default (all elements in `vfLimited[]` are `false` by default), so if the network is reachable anyway, `SetReachable(..., true)` is a noop.\r\n2. If the network is not reachable by the time this code executes, that means that `-onlynet=` was specified and the network in question is not among the lucky ones being listed. In this case, respect the `-onlynet=` setting.",
      "created_at": "2021-12-01T10:31:32Z",
      "updated_at": "2021-12-01T10:31:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r760052397",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760052397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1846,
      "original_line": 1846,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760073579",
      "pull_request_review_id": 820104434,
      "id": 760073579,
      "node_id": "PRRC_kwDOABII584tTc1r",
      "diff_hunk": "@@ -1843,7 +1851,6 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (!Lookup(i2psam_arg, addr, 7656, fNameLookup) || !addr.IsValid()) {\n             return InitError(strprintf(_(\"Invalid -i2psam address or hostname: '%s'\"), i2psam_arg));\n         }\n-        SetReachable(NET_I2P, true);",
      "path": "src/init.cpp",
      "position": 80,
      "original_position": 74,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "in_reply_to_id": 760039973,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why even bother doing all these checks if the network was limited in the first place? It just makes it a bit harder to understand, especially in the context of this diff, but no big deal.",
      "created_at": "2021-12-01T10:57:43Z",
      "updated_at": "2021-12-01T10:57:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r760073579",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760073579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1846,
      "original_line": 1846,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760075491",
      "pull_request_review_id": 820107052,
      "id": 760075491,
      "node_id": "PRRC_kwDOABII584tTdTj",
      "diff_hunk": "@@ -1843,7 +1851,6 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (!Lookup(i2psam_arg, addr, 7656, fNameLookup) || !addr.IsValid()) {\n             return InitError(strprintf(_(\"Invalid -i2psam address or hostname: '%s'\"), i2psam_arg));\n         }\n-        SetReachable(NET_I2P, true);",
      "path": "src/init.cpp",
      "position": 80,
      "original_position": 74,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "in_reply_to_id": 760039973,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, here's the answer: ```This does not apply to hosts given to `-connect`, `-addnode`,\r\n`addnode` RPC, dns seeds, `-seednodes`.```",
      "created_at": "2021-12-01T11:00:19Z",
      "updated_at": "2021-12-01T11:19:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r760075491",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760075491"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1846,
      "original_line": 1846,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760096211",
      "pull_request_review_id": 820134677,
      "id": 760096211,
      "node_id": "PRRC_kwDOABII584tTiXT",
      "diff_hunk": "@@ -1843,7 +1851,6 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (!Lookup(i2psam_arg, addr, 7656, fNameLookup) || !addr.IsValid()) {\n             return InitError(strprintf(_(\"Invalid -i2psam address or hostname: '%s'\"), i2psam_arg));\n         }\n-        SetReachable(NET_I2P, true);",
      "path": "src/init.cpp",
      "position": 80,
      "original_position": 74,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "e53a8505dbb6f9deaae8ac82793a4fb760a1e0a6",
      "in_reply_to_id": 760039973,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, because a proxy was provided, it is possible to manually open connections to those networks.",
      "created_at": "2021-12-01T11:28:43Z",
      "updated_at": "2021-12-01T11:28:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r760096211",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/760096211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1846,
      "original_line": 1846,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795250049",
      "pull_request_review_id": 867207753,
      "id": 795250049,
      "node_id": "PRRC_kwDOABII584vZo2B",
      "diff_hunk": "@@ -1315,27 +1315,27 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n+    Proxy onion_proxy;\n+\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n     // -proxy sets a proxy for all outgoing network traffic\n     // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n     std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    SetReachable(NET_ONION, false);",
      "path": "src/init.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The default network reachability values are implicitly set in this line in net.cpp:\r\n```cpp\r\nstatic bool vfLimited[NET_MAX] GUARDED_BY(g_maplocalhost_mutex) = {};\r\n```\r\n\r\nMaybe assert that each network is reachable in this first loop through them during init. Edit: proposed in #24205.\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex 72b86daf21..81c145870b 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -1317,6 +1317,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n         }\r\n         for (int n = 0; n < NET_MAX; n++) {\r\n             enum Network net = (enum Network)n;\r\n+            assert(IsReachable(net));\r\n             if (!nets.count(net))\r\n                 SetReachable(net, false);\r\n         }\r\n```\r\n",
      "created_at": "2022-01-30T21:22:06Z",
      "updated_at": "2022-01-30T22:04:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795250049",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795250049"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795250961",
      "pull_request_review_id": 867207753,
      "id": 795250961,
      "node_id": "PRRC_kwDOABII584vZpER",
      "diff_hunk": "@@ -1344,18 +1344,26 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n-            SetReachable(NET_ONION, false);\n+            onion_proxy = Proxy{};\n         } else {\n-            CService onionProxy;\n-            if (!Lookup(onionArg, onionProxy, 9050, fNameLookup)) {\n+            CService addr;\n+            if (!Lookup(onionArg, addr, 9050, fNameLookup) || !addr.IsValid()) {\n                 return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n             }\n-            proxyType addrOnion = proxyType(onionProxy, proxyRandomize);\n-            if (!addrOnion.IsValid())\n-                return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            onion_proxy = Proxy{addr, proxyRandomize};\n+        }\n+    }\n+\n+    if (onion_proxy.IsValid()) {\n+        SetProxy(NET_ONION, onion_proxy);\n+    } else {\n+        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+            return InitError(\n+                _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                  \"reaching the Tor network is not provided (no -proxy= and no -onion= given) or \"\n+                  \"it is explicitly forbidden (-onion=0)\"));",
      "path": "src/init.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Manually tested hitting this error message. A test may be good in a follow-up.",
      "created_at": "2022-01-30T21:27:19Z",
      "updated_at": "2022-01-30T21:35:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795250961",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795250961"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1364,
      "original_line": 1364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795253056",
      "pull_request_review_id": 867217109,
      "id": 795253056,
      "node_id": "PRRC_kwDOABII584vZplA",
      "diff_hunk": "@@ -441,7 +441,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2psam=<ip:port>\", \"I2P SAM proxy to reach I2P peers and accept I2P connections (default: none)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2pacceptincoming\", \"If set and -i2psam is also set then incoming I2P connections are accepted via the SAM proxy. If this is not set but -i2psam is set then only outgoing connections will be made to the I2P network. Ignored if -i2psam is not set. Listening for incoming I2P connections is done through the SAM proxy, not by binding to a local address and port (default: 1)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-onlynet=<net>\", \"Make outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks. Warning: if it is used with non-onion networks and the -onion or -proxy option is set, then outbound onion connections will still be made; use -noonion or -onion=0 to disable outbound onion connections in this case.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onlynet=<net>\", \"Make automatic outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe `s/outgoing connections/automatic outbound connections` and  `s/incoming connections/inbound and manual connections/` in these three lines:\r\n\r\n```\r\nâ‚¿ git grep \"Incoming connections\\|. Incoming\"\r\ndoc/i2p.md:68:Make outgoing connections only to I2P addresses. Incoming connections are not\r\ndoc/tor.md:56:    -onlynet=onion  Make outgoing connections only to .onion addresses. Incoming\r\nsrc/init.cpp:444:    argsman.AddArg(\"-onlynet=<net>\", \"Make automatic outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\r\n```\r\n",
      "created_at": "2022-01-30T21:41:09Z",
      "updated_at": "2022-01-30T21:41:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795253056",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795253056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 444,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795642241",
      "pull_request_review_id": 867805314,
      "id": 795642241,
      "node_id": "PRRC_kwDOABII584vbImB",
      "diff_hunk": "@@ -1315,27 +1315,27 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n+    Proxy onion_proxy;\n+\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n     // -proxy sets a proxy for all outgoing network traffic\n     // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n     std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    SetReachable(NET_ONION, false);",
      "path": "src/init.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795250049,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Marking as resolved. I think #24205 is ok and that this PR should be merged first.",
      "created_at": "2022-01-31T12:55:01Z",
      "updated_at": "2022-01-31T12:55:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795642241",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795642241"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795642656",
      "pull_request_review_id": 867805933,
      "id": 795642656,
      "node_id": "PRRC_kwDOABII584vbIsg",
      "diff_hunk": "@@ -1344,18 +1344,26 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n-            SetReachable(NET_ONION, false);\n+            onion_proxy = Proxy{};\n         } else {\n-            CService onionProxy;\n-            if (!Lookup(onionArg, onionProxy, 9050, fNameLookup)) {\n+            CService addr;\n+            if (!Lookup(onionArg, addr, 9050, fNameLookup) || !addr.IsValid()) {\n                 return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n             }\n-            proxyType addrOnion = proxyType(onionProxy, proxyRandomize);\n-            if (!addrOnion.IsValid())\n-                return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            onion_proxy = Proxy{addr, proxyRandomize};\n+        }\n+    }\n+\n+    if (onion_proxy.IsValid()) {\n+        SetProxy(NET_ONION, onion_proxy);\n+    } else {\n+        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+            return InitError(\n+                _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                  \"reaching the Tor network is not provided (no -proxy= and no -onion= given) or \"\n+                  \"it is explicitly forbidden (-onion=0)\"));",
      "path": "src/init.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795250961,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A candidate for #24205?",
      "created_at": "2022-01-31T12:55:35Z",
      "updated_at": "2022-01-31T12:55:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795642656",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795642656"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1364,
      "original_line": 1364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795643450",
      "pull_request_review_id": 867807053,
      "id": 795643450,
      "node_id": "PRRC_kwDOABII584vbI46",
      "diff_hunk": "@@ -441,7 +441,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2psam=<ip:port>\", \"I2P SAM proxy to reach I2P peers and accept I2P connections (default: none)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2pacceptincoming\", \"If set and -i2psam is also set then incoming I2P connections are accepted via the SAM proxy. If this is not set but -i2psam is set then only outgoing connections will be made to the I2P network. Ignored if -i2psam is not set. Listening for incoming I2P connections is done through the SAM proxy, not by binding to a local address and port (default: 1)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-onlynet=<net>\", \"Make outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks. Warning: if it is used with non-onion networks and the -onion or -proxy option is set, then outbound onion connections will still be made; use -noonion or -onion=0 to disable outbound onion connections in this case.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onlynet=<net>\", \"Make automatic outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795253056,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will do if I retouch.",
      "created_at": "2022-01-31T12:56:39Z",
      "updated_at": "2022-01-31T12:56:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795643450",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795643450"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 444,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795644811",
      "pull_request_review_id": 867808823,
      "id": 795644811,
      "node_id": "PRRC_kwDOABII584vbJOL",
      "diff_hunk": "@@ -441,7 +441,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2psam=<ip:port>\", \"I2P SAM proxy to reach I2P peers and accept I2P connections (default: none)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2pacceptincoming\", \"If set and -i2psam is also set then incoming I2P connections are accepted via the SAM proxy. If this is not set but -i2psam is set then only outgoing connections will be made to the I2P network. Ignored if -i2psam is not set. Listening for incoming I2P connections is done through the SAM proxy, not by binding to a local address and port (default: 1)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-onlynet=<net>\", \"Make outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks. Warning: if it is used with non-onion networks and the -onion or -proxy option is set, then outbound onion connections will still be made; use -noonion or -onion=0 to disable outbound onion connections in this case.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onlynet=<net>\", \"Make automatic outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795253056,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, can be as a follow-up. This seems RFM.",
      "created_at": "2022-01-31T12:58:15Z",
      "updated_at": "2022-01-31T12:58:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795644811",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795644811"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 444,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795645298",
      "pull_request_review_id": 867809481,
      "id": 795645298,
      "node_id": "PRRC_kwDOABII584vbJVy",
      "diff_hunk": "@@ -1315,27 +1315,27 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     // Check for host lookup allowed before parsing any network related parameters\n     fNameLookup = args.GetBoolArg(\"-dns\", DEFAULT_NAME_LOOKUP);\n \n+    Proxy onion_proxy;\n+\n     bool proxyRandomize = args.GetBoolArg(\"-proxyrandomize\", DEFAULT_PROXYRANDOMIZE);\n     // -proxy sets a proxy for all outgoing network traffic\n     // -noproxy (or -proxy=0) as well as the empty string can be used to not set a proxy, this is the default\n     std::string proxyArg = args.GetArg(\"-proxy\", \"\");\n-    SetReachable(NET_ONION, false);",
      "path": "src/init.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795250049,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Marking as resolved. I think #24205 is ok and that this PR should be merged first.\r\n\r\nAgree.",
      "created_at": "2022-01-31T12:58:51Z",
      "updated_at": "2022-01-31T12:58:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r795645298",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795645298"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817180318",
      "pull_request_review_id": 896877034,
      "id": 817180318,
      "node_id": "PRRC_kwDOABII584wtS6e",
      "diff_hunk": "@@ -441,7 +441,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2psam=<ip:port>\", \"I2P SAM proxy to reach I2P peers and accept I2P connections (default: none)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2pacceptincoming\", \"If set and -i2psam is also set then incoming I2P connections are accepted via the SAM proxy. If this is not set but -i2psam is set then only outgoing connections will be made to the I2P network. Ignored if -i2psam is not set. Listening for incoming I2P connections is done through the SAM proxy, not by binding to a local address and port (default: 1)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-onlynet=<net>\", \"Make outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks. Warning: if it is used with non-onion networks and the -onion or -proxy option is set, then outbound onion connections will still be made; use -noonion or -onion=0 to disable outbound onion connections in this case.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onlynet=<net>\", \"Make automatic outgoing connections only through network <net> (\" + Join(GetNetworkNames(), \", \") + \"). Incoming connections are not affected by this option. This option can be specified multiple times to allow multiple networks.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795253056,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in #24468",
      "created_at": "2022-03-01T22:06:21Z",
      "updated_at": "2022-03-03T15:21:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r817180318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817180318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 444,
      "original_line": 444,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817180773",
      "pull_request_review_id": 896877714,
      "id": 817180773,
      "node_id": "PRRC_kwDOABII584wtTBl",
      "diff_hunk": "@@ -1344,18 +1344,26 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n-            SetReachable(NET_ONION, false);\n+            onion_proxy = Proxy{};\n         } else {\n-            CService onionProxy;\n-            if (!Lookup(onionArg, onionProxy, 9050, fNameLookup)) {\n+            CService addr;\n+            if (!Lookup(onionArg, addr, 9050, fNameLookup) || !addr.IsValid()) {\n                 return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n             }\n-            proxyType addrOnion = proxyType(onionProxy, proxyRandomize);\n-            if (!addrOnion.IsValid())\n-                return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            onion_proxy = Proxy{addr, proxyRandomize};\n+        }\n+    }\n+\n+    if (onion_proxy.IsValid()) {\n+        SetProxy(NET_ONION, onion_proxy);\n+    } else {\n+        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+            return InitError(\n+                _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                  \"reaching the Tor network is not provided (no -proxy= and no -onion= given) or \"\n+                  \"it is explicitly forbidden (-onion=0)\"));",
      "path": "src/init.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "original_commit_id": "0eea83a85ec6b215d44facc2b16ee1b035275a6b",
      "in_reply_to_id": 795250961,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> A candidate for #24205?\r\n\r\nDone, along with test coverage for the other proxy/onion/onlynet init errors.",
      "created_at": "2022-03-01T22:07:09Z",
      "updated_at": "2022-03-01T22:07:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22834#discussion_r817180773",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817180773"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22834"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1364,
      "original_line": 1364,
      "side": "RIGHT"
    }
  ]
}