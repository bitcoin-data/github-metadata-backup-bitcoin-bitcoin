{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050",
    "id": 2691571505,
    "node_id": "PR_kwDOABII586gbh8x",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33050",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33050.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33050.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/876dbdfb4702410dfd4037614dc9298a0c09c63e",
    "number": 33050,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "net, validation: don't punish peers for consensus-invalid txs",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Because we do not discourage nodes for transactions we consider non-standard, we don't get any DoS protection from this check in adversarial scenarios, so remove the check entirely both to simplify the code and reduce the risk of splitting the network due to changes in tx relay policy.\r\n\r\nThen, because we no longer make use of the distinction between consensus and standardness failures during script validation, don't re-validate each script with only-consensus rules, reducing the cost to us of transactions that we won't relay.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/72",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/72/labels",
      "id": 12172984,
      "node_id": "MI_kwDOABII584Aub64",
      "number": 72,
      "state": "open",
      "title": "30.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "open_issues": 16,
      "closed_issues": 44,
      "created_at": "2025-01-15T19:21:36Z",
      "updated_at": "2025-08-08T15:41:09Z"
    },
    "created_at": "2025-07-24T10:38:37Z",
    "updated_at": "2025-08-08T21:14:37Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "c74a78cce90f093db14855ec51043a43ebc38c43",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ajtowns:202507-nopunishtx",
      "ref": "202507-nopunishtx",
      "sha": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 53941525,
        "node_id": "MDEwOlJlcG9zaXRvcnk1Mzk0MTUyNQ==",
        "name": "bitcoin",
        "full_name": "ajtowns/bitcoin",
        "owner": {
          "login": "ajtowns",
          "id": 127186,
          "node_id": "MDQ6VXNlcjEyNzE4Ng==",
          "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ajtowns",
          "html_url": "https://github.com/ajtowns",
          "followers_url": "https://api.github.com/users/ajtowns/followers",
          "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
          "organizations_url": "https://api.github.com/users/ajtowns/orgs",
          "repos_url": "https://api.github.com/users/ajtowns/repos",
          "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ajtowns/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/ajtowns/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ajtowns/bitcoin",
        "archive_url": "https://api.github.com/repos/ajtowns/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ajtowns/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ajtowns/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ajtowns/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ajtowns/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ajtowns/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ajtowns/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ajtowns/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ajtowns/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ajtowns/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ajtowns/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ajtowns/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ajtowns/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ajtowns/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ajtowns/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ajtowns/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ajtowns/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ajtowns/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ajtowns/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ajtowns/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ajtowns/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ajtowns/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ajtowns/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ajtowns/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ajtowns/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ajtowns/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ajtowns/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ajtowns/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ajtowns/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ajtowns/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ajtowns/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ajtowns/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ajtowns/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ajtowns/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ajtowns/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ajtowns/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ajtowns/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ajtowns/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ajtowns/bitcoin/hooks",
        "svn_url": "https://github.com/ajtowns/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 8,
        "watchers_count": 8,
        "size": 321588,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-08-08T19:28:47Z",
        "created_at": "2016-03-15T12:11:24Z",
        "updated_at": "2025-07-16T22:11:43Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "f679bad6052ad4b7ea0b57a406adc617746d54ed",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37620,
        "stargazers_count": 84932,
        "watchers_count": 84932,
        "size": 291023,
        "default_branch": "master",
        "open_issues_count": 749,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-08-08T18:20:56Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-08-08T22:00:10Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 63,
    "deletions": 140,
    "changed_files": 14,
    "commits": 3,
    "review_comments": 4,
    "comments": 13
  },
  "events": [
    {
      "event": "commented",
      "id": 3112958473,
      "node_id": "IC_kwDOABII5865i_oJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3112958473",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T10:38:42Z",
      "updated_at": "2025-08-08T21:14:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33050.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3102109469), [sipa](https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3102160381) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32575](https://github.com/bitcoin/bitcoin/pull/32575) (refactor: Split multithreaded case out of CheckInputScripts by fjahr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3112958473",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "commented",
      "id": 3113000946,
      "node_id": "IC_kwDOABII5865jJ_y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3113000946",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T10:53:15Z",
      "updated_at": "2025-07-24T10:53:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "See also #33012.\r\n\r\nDoS banning was introduced in #517. DoS banning for some txs was removed in #896, #2540 and #3843, and then extended back to cover various post-p2sh soft forks in #26291. DoS banning was changed to be less banny in #14929, changed to discouragement in #19219 and changed from score-based to instant in #29575.\r\n\r\nAlso related is the `RECENT_CONSENSUS_CHANGE` validation state, which was removed in #31269, but which was intended to prevent banning/discouragement of peers that would relay txs/blocks that were invalid due to recent consensus rule changes in order to reduce chances of a network split.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3113000946",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18793062331,
      "node_id": "HRFPE_lADOABII587CRrpCzwAAAARgJ1-7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18793062331",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b1a685d597cac7c32b8a391c9b4dbaa8d0ced712",
      "commit_url": "https://api.github.com/repos/ajtowns/bitcoin/commits/b1a685d597cac7c32b8a391c9b4dbaa8d0ced712",
      "created_at": "2025-07-24T11:05:27Z"
    },
    {
      "event": "labeled",
      "id": 18793065878,
      "node_id": "LE_lADOABII587CRrpCzwAAAARgJ22W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18793065878",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T11:05:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18793840639,
      "node_id": "HRFPE_lADOABII587CRrpCzwAAAARgMz__",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18793840639",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "commit_url": "https://api.github.com/repos/ajtowns/bitcoin/commits/a4aa23a9c5589fc922f0e708533400a8c410701f",
      "created_at": "2025-07-24T11:57:38Z"
    },
    {
      "event": "reviewed",
      "id": 3051560671,
      "node_id": "PRR_kwDOABII58614x7f",
      "url": null,
      "actor": null,
      "commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-24T13:03:58Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3051560671",
      "submitted_at": "2025-07-24T13:03:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    },
    {
      "event": "labeled",
      "id": 18798044157,
      "node_id": "LE_lADOABII587CRrpCzwAAAARgc2P9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18798044157",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T15:33:58Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 3114131937,
      "node_id": "IC_kwDOABII5865neHh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3114131937",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-24T16:38:28Z",
      "updated_at": "2025-07-24T16:38:28Z",
      "author_association": "MEMBER",
      "body": "CI failure here is (#33015).",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3114131937",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "reviewed",
      "id": 3052706227,
      "node_id": "PRR_kwDOABII58619Jmz",
      "url": null,
      "actor": null,
      "commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-07-24T18:11:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Because we do not discourage nodes for transactions we consider non-standard, we don't get any DoS protection from this check in adversarial scenarios.\r\n\r\nCould you expand on the logic of this - is it just because the most effective DoS vectors known today happen to involve non-standard but valid transactions, or does this hold with more generality?\r\nWhat if the current DoS vectors involving non-standard txs are fixed in the future, and the most-effective known DoS vectors then will involve consensus-invalid txs - wouldn't we want to go back to punishing peers then?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3052706227",
      "submitted_at": "2025-07-24T18:11:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    },
    {
      "event": "commented",
      "id": 3116333758,
      "node_id": "IC_kwDOABII5865v3q-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3116333758",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-25T04:18:49Z",
      "updated_at": "2025-07-25T04:18:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Could you expand on the logic of this - is it just because the most effective DoS vectors known today happen to involve non-standard but valid transactions, or does this hold with more generality?\r\n> What if the current DoS vectors involving non-standard txs are fixed in the future, and the most-effective known DoS vectors then will involve consensus-invalid txs - wouldn't we want to go back to punishing peers then?\r\n\r\nA DoS attack needs two features: each instance needs to be relatively high cost, and you need to be able to cheaply create many instances. The \"high cost\" part comes from the consensus-valid and standard-compliant parts of the tx -- for example a valid multisig script that checks 20 signatures, or a script that calculates many hashes. The non-standard/consensus-invalid parts is what gives you the \"cheap repeatability\" part -- if the tx were standard and valid, you'd accept it into the mempool, and quickly reject other txs because they were double spends, or require them to bump the fee, eventually making the tx costly.\r\n\r\nMaking the tx non-standard gives you an easy way to repeat the attack: because we reject the tx, we'll have to re-evaluate a new tx that spends the same inputs with the same fee to see if it's possibly valid. If all the txs are consensus-invalid the attacker won't even risk paying fees to a miner, but even if they are, they can still send a million variations on a single tx to you, and only have to pay a single fee to a miner for whichever one is eventually confirmed.\r\n\r\nIf we were in a world where there weren't many standardness rules and consensus rules dominated mempool acceptance, then we probably wouldn't want to discourage/ban for some consensus failures in that case -- recent soft forks would make previously valid txs invalid for both block inclusion and mempool acceptance, so discouraging peers who sent us those sorts of transactions would increase the p2p network's fragility, possibly leading to network splits. If we did want to selectively discourage peers who should have upgraded, that would suggest reinstating the `RECENT_CONSENSUS_CHANGE` logic linked to above. In that world, an attacker could DoS us with txs that violated recent consensus rules, without being banned/discouraged.\r\n\r\nThe main DoS protection here is to limit how much tx validation can interfere with other processing, so not evaluating potentially expensive scripts a second time when we already know they're not interesting is more of a step forwards.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3116333758",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "unlabeled",
      "id": 18816710154,
      "node_id": "UNLE_lADOABII587CRrpCzwAAAARhkDYK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18816710154",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-25T15:11:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3137886715,
      "node_id": "IC_kwDOABII5867CFn7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3137886715",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-30T21:32:01Z",
      "updated_at": "2025-07-30T21:36:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "I don't see why all standardness rules can't be validated prior to doing any costly hashing or signature validation (sadly, they do require looking up inputs which is costly).\r\n\r\nIf indeed standardness validation happens before costly operations then the fact that they drop txn without disconnecting the peer doesn't really tell us anything about what should be done *after* performing expensive operations.\r\n\r\nBut most critically the primary reason to disconnect (and potentially keep disconnected) a peer that submits a consensus invalid transaction is to prevent our finite connection slots from being consumed by peers which have adopted consensus rules which are incompatible with our own (and to prevent us from consuming theirs, too).\r\n\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3137886715",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "referenced",
      "id": 18935351615,
      "node_id": "REFE_lADOABII587CRrpCzwAAAARoook_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18935351615",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4f27e8ca4d2a31b685b91e70b0542c0077a944b2",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4f27e8ca4d2a31b685b91e70b0542c0077a944b2",
      "created_at": "2025-08-01T09:15:14Z"
    },
    {
      "event": "commented",
      "id": 3152209934,
      "node_id": "IC_kwDOABII58674ugO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3152209934",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T20:14:08Z",
      "updated_at": "2025-08-04T20:14:08Z",
      "author_association": "MEMBER",
      "body": "> I don't see why all standardness rules can't be validated prior to doing any costly hashing or signature validation\r\n\r\nI think it's non-trivial but should be possible in Tapscript to validate all standardness rules before executing the leaf script. It would effectively be a tightening of standardness (runtime upgrade hook checks like the key version would be statically inspected instead), but not one that should cause any issue to non-pathological transactions. For non-Tapscript scripts, short of restricting standardness to Miniscript-compatible scripts, i am not sure it's realistic. For instance, i am not sure we could come up with a generalist way to inspect whether a redeem script / witness script is going to fail the MINIMALIF check without executing it.\r\n\r\nBut more importantly i am not sure it's worth it. As far as i can tell the existing behaviour does not exist for DoS resistance as it's trivial for an attacker to circumvent (although it seems to be the reason why it was originally introduced), but as an opportunistic way to boot off non-malicious misbehaving peers.\r\n\r\n> But most critically the primary reason to disconnect [...] is to prevent our finite connection slots from being consumed by peers which have adopted consensus rules which are incompatible\r\n\r\nAnd we do so very inconsistently. Any consensus-invalid transaction which has a non-standard header or a non-standard input before the consensus-invalid input will be treated as non-standard and the peer not disconnected. Plus as @ajtowns points out in https://github.com/bitcoin/bitcoin/pull/33012#issuecomment-3111631541 we would already disconnect those peers after two incompatible blocks.\r\n\r\nIt seems to me the current behaviour is the result of starting off with always disconnecting for script failure with #517 and progressively carving out exceptions (see https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3113000946). As a result we don't consistently achieve the primary reason you state for this behaviour, but we still double our CPU DoS exposure.\r\n\r\nI think the tradeoff of getting rid of the opportunistic early-disconnection of misbehaving peers in order to halve our CPU DoS exposure is worth it.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3152209934",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "mentioned",
      "id": 18977794680,
      "node_id": "MEE_lADOABII587CRrpCzwAAAARrKip4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18977794680",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T20:14:09Z"
    },
    {
      "event": "subscribed",
      "id": 18977794699,
      "node_id": "SE_lADOABII587CRrpCzwAAAARrKiqL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18977794699",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-04T20:14:09Z"
    },
    {
      "event": "commented",
      "id": 3160927878,
      "node_id": "IC_kwDOABII5868Z-6G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3160927878",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-06T17:07:38Z",
      "updated_at": "2025-08-06T17:09:45Z",
      "author_association": "MEMBER",
      "body": "Approach ACK.\r\n\r\nI agree that the current ability to distinguish consensus vs standardness failures doesn't really achieve much. It is not the case that consensus-invalidity is inherently more harmful to us (in terms of DoS potential) than non-standardness violations, and attackers can today already mask any consensus-invalidity by causing a non-standardness to be detected first, evading the punishment.\r\n\r\nSo it seems the benefit of this distinction is largely so we can kick peers with diverging consensus rules. That is worthwhile, but we have other measures that take care of this already: disconnecting ones that give invalid blocks, and actively seeking out more connections when we don't learn about a new block for a while.\r\n\r\nIt would be possible to improve upon this somewhat without double/triple execution in theory, if we could do a single execution that reported using something like #33012, but that's a much more invasive change. If we don't limit what code changes we're willing to make, I think an ideal situation is something where execution runs once, with all flags enabled, and then returns:\r\n* If a \"DoSy condition\" (whether consensus or standardness) is reached, immediately (with what type of failure).\r\n* Otherwise, run until consensus failure or consensus success, and then return success/success+nonstandard/consensus failure.\r\n\r\n---\r\n\r\n@gmaxwell \r\n\r\n> I don't see why all standardness rules can't be validated prior to doing any costly hashing or signature validation (sadly, they do require looking up inputs which is costly).\r\n\r\nIn Taproot I think that's possible for signature validation at least, because execution paths can be determined without executing sigchecks. For other scripts, or other expensive operations in tapscript (like big OP_ROLLs) it seems much harder.\r\n\r\nBut moreover, I think what we want here, for the goal of keeping our slots reserved for consensus-compatible clients, is determining whether a transaction is consensus-invalid *even* when it is non-standard. Absent that, it's independently useful to avoid doing expensive checks if can determine rejection without that, but I think that can be done separately, and also, this goal is somewhat in conflict with determining consensus invalidity.\r\n\r\nI think the question really is: how much computational work are we willing to do, for an already-known-non-standard transaction, to determine it's also consensus invalid do we can free the connection slot? If the answer is nothing, then this PR is the complete solution. If it's more than that, then more complicated solutions may be considered.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3160927878",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "mentioned",
      "id": 19017725906,
      "node_id": "MEE_lADOABII587CRrpCzwAAAARti3fS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19017725906",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-06T17:07:40Z"
    },
    {
      "event": "subscribed",
      "id": 19017725929,
      "node_id": "SE_lADOABII587CRrpCzwAAAARti3fp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19017725929",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-06T17:07:40Z"
    },
    {
      "event": "milestoned",
      "id": 19039094978,
      "node_id": "MIE_lADOABII587CRrpCzwAAAARu0YjC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19039094978",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-07T16:09:24Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "commented",
      "id": 3167852379,
      "node_id": "IC_kwDOABII58680Zdb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3167852379",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T13:07:50Z",
      "updated_at": "2025-08-08T13:07:50Z",
      "author_association": "MEMBER",
      "body": "@ajtowns Do you plan to address the feedback here?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3167852379",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "mentioned",
      "id": 19054915363,
      "node_id": "MEE_lADOABII587CRrpCzwAAAARvwu8j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19054915363",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T13:07:52Z"
    },
    {
      "event": "subscribed",
      "id": 19054915457,
      "node_id": "SE_lADOABII587CRrpCzwAAAARvwu-B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19054915457",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T13:07:52Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19055222036,
      "node_id": "HRFPE_lADOABII587CRrpCzwAAAARvx50U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19055222036",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "commit_url": "https://api.github.com/repos/ajtowns/bitcoin/commits/f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "created_at": "2025-08-08T13:24:38Z"
    },
    {
      "event": "reviewed",
      "id": 3101168568,
      "node_id": "PRR_kwDOABII58642BO4",
      "url": null,
      "actor": null,
      "commit_id": "f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-08T15:02:13Z",
      "author_association": "MEMBER",
      "body": "ACK f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3101168568",
      "submitted_at": "2025-08-08T15:02:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    },
    {
      "event": "review_requested",
      "id": 19057102835,
      "node_id": "RRE_lADOABII587CRrpCzwAAAARv5E_z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19057102835",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T15:02:22Z",
      "requested_reviewer": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3101675533,
      "node_id": "PRR_kwDOABII586439AN",
      "url": null,
      "actor": null,
      "commit_id": "f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-08T17:24:02Z",
      "author_association": "MEMBER",
      "body": "ACK f3bf5e25d70710c35556df7c5659446ebd23efc5",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3101675533",
      "submitted_at": "2025-08-08T17:24:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    },
    {
      "event": "referenced",
      "id": 19060064907,
      "node_id": "REFE_lADOABII587CRrpCzwAAAARwEYKL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19060064907",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "dda32199e39a9b5ca05cb7fe8a9af2f3685e1f4a",
      "commit_url": "https://api.github.com/repos/darosior/bitcoin/commits/dda32199e39a9b5ca05cb7fe8a9af2f3685e1f4a",
      "created_at": "2025-08-08T18:11:48Z"
    },
    {
      "event": "commented",
      "id": 3168985963,
      "node_id": "IC_kwDOABII58684uNr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168985963",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T18:43:29Z",
      "updated_at": "2025-08-08T18:43:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "silent merge conflict with 33105 presumably?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3168985963",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI2NmRkMGUxMGQwOGMwYmZkZTYzMjA1ZGIxNWQ2YzIxMGEwMjFiOTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/266dd0e10d08c0bfde63205db15d6c210a021b90",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/266dd0e10d08c0bfde63205db15d6c210a021b90",
      "tree": {
        "sha": "c77ef1f6386d5466f66baec626c37ab447e623ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c77ef1f6386d5466f66baec626c37ab447e623ef"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f679bad6052ad4b7ea0b57a406adc617746d54ed",
          "sha": "f679bad6052ad4b7ea0b57a406adc617746d54ed",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f679bad6052ad4b7ea0b57a406adc617746d54ed"
        }
      ],
      "message": "net_processing: drop MaybePunishNodeForTx\n\nDo not discourage nodes even when they send us consensus invalid\ntransactions.\n\nBecause we do not discourage nodes for transactions we consider\nnon-standard, we don't get any DoS protection from this check in\nadversarial scenarios, so remove the check entirely both to simplify the\ncode and reduce the risk of splitting the network due to changes in tx\nrelay policy.",
      "committer": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-08-08T18:45:51Z"
      },
      "author": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-07-23T00:50:33Z"
      },
      "sha": "266dd0e10d08c0bfde63205db15d6c210a021b90"
    },
    {
      "event": "commented",
      "id": 3168998882,
      "node_id": "IC_kwDOABII58684xXi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168998882",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T18:49:20Z",
      "updated_at": "2025-08-08T18:49:20Z",
      "author_association": "MEMBER",
      "body": "Unsure. Due to what?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3168998882",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "commented",
      "id": 3168999506,
      "node_id": "IC_kwDOABII58684xhS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168999506",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T18:49:35Z",
      "updated_at": "2025-08-08T18:50:30Z",
      "author_association": "MEMBER",
      "body": "> silent merge conflict with 33105 presumably?\r\n\r\n~Doesn't seem like it~\r\nedit: yes",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3168999506",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "commented",
      "id": 3168999630,
      "node_id": "IC_kwDOABII58684xjO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168999630",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T18:49:38Z",
      "updated_at": "2025-08-08T18:49:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "\"mandatory-script-verify\" tx rejection in p2p_segwit.py",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3168999630",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyOWFlOWVmZGZlZWZmNzc0ZTMyZWU0MzNjZTY3ZDhlZDhlY2Q0OWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f",
      "tree": {
        "sha": "73d377993f9d6b9a7a5df92ae8d0271f4681ae82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/73d377993f9d6b9a7a5df92ae8d0271f4681ae82"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/266dd0e10d08c0bfde63205db15d6c210a021b90",
          "sha": "266dd0e10d08c0bfde63205db15d6c210a021b90",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/266dd0e10d08c0bfde63205db15d6c210a021b90"
        }
      ],
      "message": "validation: only check input scripts once\n\nPreviously, we would check failing input scripts twice when considering\na transaction for the mempool, in order to distinguish policy failures\nfrom consensus failures. This allowed us both to provide a different\nerror message and to discourage peers for consensus failures. Because we\nare no longer discouraging peers for consensus failures during tx relay,\nand because checking a script can be expensive, only do this once.\n\nAlso renames non-mandatory-script-verify-flag error to\nmempool-script-verify-flag-failed.",
      "committer": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-08-08T19:06:01Z"
      },
      "author": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-07-23T00:51:06Z"
      },
      "sha": "b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3NmRiZGZiNDcwMjQxMGRmZDQwMzc2MTRkYzkyOThhMGMwOWM2M2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "tree": {
        "sha": "96837536897a611c764c54d28b0017d4da8c041a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/96837536897a611c764c54d28b0017d4da8c041a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f",
          "sha": "b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b29ae9efdfeeff774e32ee433ce67d8ed8ecd49f"
        }
      ],
      "message": "tests: drop expect_disconnect behaviour for tx relay",
      "committer": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-08-08T19:10:27Z"
      },
      "author": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2025-08-08T13:15:17Z"
      },
      "sha": "876dbdfb4702410dfd4037614dc9298a0c09c63e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19060975065,
      "node_id": "HRFPE_lADOABII587CRrpCzwAAAARwH2XZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19060975065",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "commit_url": "https://api.github.com/repos/ajtowns/bitcoin/commits/876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "created_at": "2025-08-08T19:28:49Z"
    },
    {
      "event": "commented",
      "id": 3169215776,
      "node_id": "IC_kwDOABII58685mUg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3169215776",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T20:30:50Z",
      "updated_at": "2025-08-08T20:30:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "rebased",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#issuecomment-3169215776",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33050"
    },
    {
      "event": "reviewed",
      "id": 3102109469,
      "node_id": "PRR_kwDOABII58645m8d",
      "url": null,
      "actor": null,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-08T20:43:00Z",
      "author_association": "MEMBER",
      "body": "re-ACK 876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3102109469",
      "submitted_at": "2025-08-08T20:42:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    },
    {
      "event": "review_requested",
      "id": 19061840234,
      "node_id": "RRE_lADOABII587CRrpCzwAAAARwLJlq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19061840234",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-08T20:42:56Z",
      "requested_reviewer": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3102160381,
      "node_id": "PRR_kwDOABII58645zX9",
      "url": null,
      "actor": null,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-08T21:14:34Z",
      "author_association": "MEMBER",
      "body": "re-ACK 876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#pullrequestreview-3102160381",
      "submitted_at": "2025-08-08T21:14:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2228448364",
      "pull_request_review_id": 3051560671,
      "id": 2228448364,
      "node_id": "PRRC_kwDOABII586E02xs",
      "diff_hunk": "@@ -73,7 +73,7 @@ def run_test(self):\n             tx = template.get_tx()\n             node.p2ps[0].send_txs_and_test(\n                 [tx], node, success=False,\n-                expect_disconnect=template.expect_disconnect,\n+                expect_disconnect=False,",
      "path": "test/functional/p2p_invalid_tx.py",
      "position": null,
      "original_position": 5,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "original_commit_id": "46f9f8069f435c5259d0eeb727405510b52f4b3c",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "You might as well drop `expect_disconnect` in the templates then, instead of setting it to False both there and here? Also the reconnect logic just below here is now dead code.",
      "created_at": "2025-07-24T12:57:33Z",
      "updated_at": "2025-07-24T13:03:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#discussion_r2228448364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2228448364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2228460217",
      "pull_request_review_id": 3051560671,
      "id": 2228460217,
      "node_id": "PRRC_kwDOABII586E05q5",
      "diff_hunk": "@@ -2211,34 +2211,17 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n         if (pvChecks) {\n             pvChecks->emplace_back(std::move(check));\n         } else if (auto result = check(); result.has_value()) {\n+            // Tx failures never trigger disconnections/bans.\n+            // This is so that network splits aren't triggered\n+            // either due to non-consensus relay policies (such as\n+            // non-standard DER encodings or non-null dummy\n+            // arguments) or due to new consensus rules introduced in\n+            // soft forks.\n             if (flags & STANDARD_NOT_MANDATORY_VERIFY_FLAGS) {\n-                // Check whether the failure was caused by a\n-                // non-mandatory script verification check, such as\n-                // non-standard DER encodings or non-null dummy\n-                // arguments; if so, ensure we return NOT_STANDARD\n-                // instead of CONSENSUS to avoid downstream users\n-                // splitting the network between upgraded and\n-                // non-upgraded nodes by banning CONSENSUS-failing\n-                // data providers.\n-                CScriptCheck check2(txdata.m_spent_outputs[i], tx, validation_cache.m_signature_cache, i,\n-                        flags & ~STANDARD_NOT_MANDATORY_VERIFY_FLAGS, cacheSigStore, &txdata);\n-                auto mandatory_result = check2();\n-                if (!mandatory_result.has_value()) {\n-                    return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);\n-                } else {\n-                    // If the second check failed, it failed due to a mandatory script verification\n-                    // flag, but the first check might have failed on a non-mandatory script\n-                    // verification flag.\n-                    //\n-                    // Avoid reporting a mandatory script check failure with a non-mandatory error\n-                    // string by reporting the error from the second check.\n-                    result = mandatory_result;\n-                }\n+                return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "original_commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This could make a non-standard transaction error with \"non-mandatory-script-verify-flag\", which would be confusing. I think we can just drop the mandatoriness language.\r\n\r\n```diff\r\n- return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);\r\n+ return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"script validation failed (%s)\", ScriptErrorString(result->first)), result->second);\r\n```",
      "created_at": "2025-07-24T13:02:23Z",
      "updated_at": "2025-07-24T13:03:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#discussion_r2228460217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2228460217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2230103371",
      "pull_request_review_id": 3054037335,
      "id": 2230103371,
      "node_id": "PRRC_kwDOABII586E7K1L",
      "diff_hunk": "@@ -2211,34 +2211,17 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n         if (pvChecks) {\n             pvChecks->emplace_back(std::move(check));\n         } else if (auto result = check(); result.has_value()) {\n+            // Tx failures never trigger disconnections/bans.\n+            // This is so that network splits aren't triggered\n+            // either due to non-consensus relay policies (such as\n+            // non-standard DER encodings or non-null dummy\n+            // arguments) or due to new consensus rules introduced in\n+            // soft forks.\n             if (flags & STANDARD_NOT_MANDATORY_VERIFY_FLAGS) {\n-                // Check whether the failure was caused by a\n-                // non-mandatory script verification check, such as\n-                // non-standard DER encodings or non-null dummy\n-                // arguments; if so, ensure we return NOT_STANDARD\n-                // instead of CONSENSUS to avoid downstream users\n-                // splitting the network between upgraded and\n-                // non-upgraded nodes by banning CONSENSUS-failing\n-                // data providers.\n-                CScriptCheck check2(txdata.m_spent_outputs[i], tx, validation_cache.m_signature_cache, i,\n-                        flags & ~STANDARD_NOT_MANDATORY_VERIFY_FLAGS, cacheSigStore, &txdata);\n-                auto mandatory_result = check2();\n-                if (!mandatory_result.has_value()) {\n-                    return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);\n-                } else {\n-                    // If the second check failed, it failed due to a mandatory script verification\n-                    // flag, but the first check might have failed on a non-mandatory script\n-                    // verification flag.\n-                    //\n-                    // Avoid reporting a mandatory script check failure with a non-mandatory error\n-                    // string by reporting the error from the second check.\n-                    result = mandatory_result;\n-                }\n+                return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "original_commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "in_reply_to_id": 2228460217,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe \"mempool-script-verify-flag-failed\" and \"block-script-verify-flag-failed\" would be better? I didn't want to change that here since it's a bit more intrusive for no functional change. Could probably be a scripted-diff in a followup?",
      "created_at": "2025-07-25T04:21:42Z",
      "updated_at": "2025-07-25T04:21:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#discussion_r2230103371",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2230103371"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2221,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2231118764",
      "pull_request_review_id": 3055454777,
      "id": 2231118764,
      "node_id": "PRRC_kwDOABII586E_Cus",
      "diff_hunk": "@@ -2211,34 +2211,17 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\n         if (pvChecks) {\n             pvChecks->emplace_back(std::move(check));\n         } else if (auto result = check(); result.has_value()) {\n+            // Tx failures never trigger disconnections/bans.\n+            // This is so that network splits aren't triggered\n+            // either due to non-consensus relay policies (such as\n+            // non-standard DER encodings or non-null dummy\n+            // arguments) or due to new consensus rules introduced in\n+            // soft forks.\n             if (flags & STANDARD_NOT_MANDATORY_VERIFY_FLAGS) {\n-                // Check whether the failure was caused by a\n-                // non-mandatory script verification check, such as\n-                // non-standard DER encodings or non-null dummy\n-                // arguments; if so, ensure we return NOT_STANDARD\n-                // instead of CONSENSUS to avoid downstream users\n-                // splitting the network between upgraded and\n-                // non-upgraded nodes by banning CONSENSUS-failing\n-                // data providers.\n-                CScriptCheck check2(txdata.m_spent_outputs[i], tx, validation_cache.m_signature_cache, i,\n-                        flags & ~STANDARD_NOT_MANDATORY_VERIFY_FLAGS, cacheSigStore, &txdata);\n-                auto mandatory_result = check2();\n-                if (!mandatory_result.has_value()) {\n-                    return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);\n-                } else {\n-                    // If the second check failed, it failed due to a mandatory script verification\n-                    // flag, but the first check might have failed on a non-mandatory script\n-                    // verification flag.\n-                    //\n-                    // Avoid reporting a mandatory script check failure with a non-mandatory error\n-                    // string by reporting the error from the second check.\n-                    result = mandatory_result;\n-                }\n+                return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "876dbdfb4702410dfd4037614dc9298a0c09c63e",
      "original_commit_id": "a4aa23a9c5589fc922f0e708533400a8c410701f",
      "in_reply_to_id": 2228460217,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If only the non-standard error message is renamed, and \"block-script-verify-flag-failed\" is left as a followup, this should not meaningfully affect the size of the diff at all. Here is a diff which does this with your \"mempool-script-verify-flag-failed\" suggestion:\r\n<details>\r\n<summary>Expand patch</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex 3acdc6f63a1..a73ebc56eeb 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -2218,7 +2218,7 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\r\n             // arguments) or due to new consensus rules introduced in\r\n             // soft forks.\r\n             if (flags & STANDARD_NOT_MANDATORY_VERIFY_FLAGS) {\r\n-                return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"non-mandatory-script-verify-flag (%s)\", ScriptErrorString(result->first)), result->second);\r\n+                return state.Invalid(TxValidationResult::TX_NOT_STANDARD, strprintf(\"mempool-script-verify-flag-failed (%s)\", ScriptErrorString(result->first)), result->second);\r\n             } else {\r\n                 return state.Invalid(TxValidationResult::TX_CONSENSUS, strprintf(\"mandatory-script-verify-flag-failed (%s)\", ScriptErrorString(result->first)), result->second);\r\n             }\r\ndiff --git a/test/functional/data/invalid_txs.py b/test/functional/data/invalid_txs.py\r\nindex f34c5375090..57080fb271c 100644\r\n--- a/test/functional/data/invalid_txs.py\r\n+++ b/test/functional/data/invalid_txs.py\r\n@@ -223,7 +223,8 @@ class CreateSumTooLarge(BadTxTemplate):\r\n \r\n \r\n class InvalidOPIFConstruction(BadTxTemplate):\r\n-    reject_reason = \"non-mandatory-script-verify-flag (Invalid OP_IF construction)\"\r\n+    reject_reason = \"mempool-script-verify-flag-failed (Invalid OP_IF construction)\"\r\n+    block_reject_reason = \"mandatory-script-verify-flag-failed (Invalid OP_IF construction)\"\r\n     expect_disconnect = False\r\n \r\n     def get_tx(self):\r\n@@ -277,7 +278,7 @@ def getDisabledOpcodeTemplate(opcode):\r\n \r\n class NonStandardAndInvalid(BadTxTemplate):\r\n     \"\"\"A non-standard transaction which is also consensus-invalid should return the first error.\"\"\"\r\n-    reject_reason = \"non-mandatory-script-verify-flag (Using OP_CODESEPARATOR in non-witness script)\"\r\n+    reject_reason = \"mempool-script-verify-flag-failed (Using OP_CODESEPARATOR in non-witness script)\"\r\n     block_reject_reason = \"mandatory-script-verify-flag-failed (OP_RETURN was encountered)\"\r\n     expect_disconnect = False\r\n     valid_in_block = False\r\ndiff --git a/test/functional/feature_cltv.py b/test/functional/feature_cltv.py\r\nindex fe502515721..75cd38a98bf 100755\r\n--- a/test/functional/feature_cltv.py\r\n+++ b/test/functional/feature_cltv.py\r\n@@ -154,7 +154,7 @@ class BIP65Test(BitcoinTestFramework):\r\n             cltv_invalidate(spendtx, i)\r\n \r\n             blk_rej = \"mandatory-script-verify-flag-failed\"\r\n-            tx_rej = \"non-mandatory-script-verify-flag\"\r\n+            tx_rej = \"mempool-script-verify-flag-failed\"\r\n             expected_cltv_reject_reason = [\r\n                 \" (Operation not valid with the current stack size)\",\r\n                 \" (Negative locktime)\",\r\ndiff --git a/test/functional/feature_dersig.py b/test/functional/feature_dersig.py\r\nindex 0828fdb601e..eec1559a13e 100755\r\n--- a/test/functional/feature_dersig.py\r\n+++ b/test/functional/feature_dersig.py\r\n@@ -121,8 +121,8 @@ class BIP66Test(BitcoinTestFramework):\r\n                 'txid': spendtx_txid,\r\n                 'wtxid': spendtx_wtxid,\r\n                 'allowed': False,\r\n-                'reject-reason': 'non-mandatory-script-verify-flag (Non-canonical DER signature)',\r\n-                'reject-details': 'non-mandatory-script-verify-flag (Non-canonical DER signature), ' +\r\n+                'reject-reason': 'mempool-script-verify-flag-failed (Non-canonical DER signature)',\r\n+                'reject-details': 'mempool-script-verify-flag-failed (Non-canonical DER signature), ' +\r\n                                   f\"input 0 of {spendtx_txid} (wtxid {spendtx_wtxid}), spending {coin_txid}:0\"\r\n             }],\r\n             self.nodes[0].testmempoolaccept(rawtxs=[spendtx.serialize().hex()], maxfeerate=0),\r\ndiff --git a/test/functional/feature_nulldummy.py b/test/functional/feature_nulldummy.py\r\nindex 0fca9791480..cd7c4491a27 100755\r\n--- a/test/functional/feature_nulldummy.py\r\n+++ b/test/functional/feature_nulldummy.py\r\n@@ -37,7 +37,7 @@ from test_framework.util import (\r\n from test_framework.wallet import getnewdestination\r\n from test_framework.wallet_util import generate_keypair\r\n \r\n-NULLDUMMY_TX_ERROR = \"non-mandatory-script-verify-flag (Dummy CHECKMULTISIG argument must be zero)\"\r\n+NULLDUMMY_TX_ERROR = \"mempool-script-verify-flag-failed (Dummy CHECKMULTISIG argument must be zero)\"\r\n NULLDUMMY_BLK_ERROR = \"mandatory-script-verify-flag-failed (Dummy CHECKMULTISIG argument must be zero)\"\r\n \r\n def invalidate_nulldummy_tx(tx):\r\ndiff --git a/test/functional/feature_segwit.py b/test/functional/feature_segwit.py\r\nindex 3b864f8ceed..80266aa2e72 100755\r\n--- a/test/functional/feature_segwit.py\r\n+++ b/test/functional/feature_segwit.py\r\n@@ -177,8 +177,8 @@ class SegWitTest(BitcoinTestFramework):\r\n         assert_equal(self.nodes[2].getbalance(), 20 * Decimal(\"49.999\"))\r\n \r\n         self.log.info(\"Verify unsigned p2sh witness txs without a redeem script are invalid\")\r\n-        self.fail_accept(self.nodes[2], \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\", p2sh_ids[NODE_2][P2WPKH][1], sign=False)\r\n-        self.fail_accept(self.nodes[2], \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\", p2sh_ids[NODE_2][P2WSH][1], sign=False)\r\n+        self.fail_accept(self.nodes[2], \"mempool-script-verify-flag-failed (Operation not valid with the current stack size)\", p2sh_ids[NODE_2][P2WPKH][1], sign=False)\r\n+        self.fail_accept(self.nodes[2], \"mempool-script-verify-flag-failed (Operation not valid with the current stack size)\", p2sh_ids[NODE_2][P2WSH][1], sign=False)\r\n \r\n         self.generate(self.nodes[0], 1)  # block 164\r\n \r\n@@ -197,13 +197,13 @@ class SegWitTest(BitcoinTestFramework):\r\n \r\n         self.log.info(\"Verify default node can't accept txs with missing witness\")\r\n         # unsigned, no scriptsig\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Witness program hash mismatch)\", wit_ids[NODE_0][P2WPKH][0], sign=False)\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Witness program was passed an empty witness)\", wit_ids[NODE_0][P2WSH][0], sign=False)\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\", p2sh_ids[NODE_0][P2WPKH][0], sign=False)\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\", p2sh_ids[NODE_0][P2WSH][0], sign=False)\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Witness program hash mismatch)\", wit_ids[NODE_0][P2WPKH][0], sign=False)\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Witness program was passed an empty witness)\", wit_ids[NODE_0][P2WSH][0], sign=False)\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Operation not valid with the current stack size)\", p2sh_ids[NODE_0][P2WPKH][0], sign=False)\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Operation not valid with the current stack size)\", p2sh_ids[NODE_0][P2WSH][0], sign=False)\r\n         # unsigned with redeem script\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Witness program hash mismatch)\", p2sh_ids[NODE_0][P2WPKH][0], sign=False, redeem_script=witness_script(False, self.pubkey[0]))\r\n-        self.fail_accept(self.nodes[0], \"non-mandatory-script-verify-flag (Witness program was passed an empty witness)\", p2sh_ids[NODE_0][P2WSH][0], sign=False, redeem_script=witness_script(True, self.pubkey[0]))\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Witness program hash mismatch)\", p2sh_ids[NODE_0][P2WPKH][0], sign=False, redeem_script=witness_script(False, self.pubkey[0]))\r\n+        self.fail_accept(self.nodes[0], \"mempool-script-verify-flag-failed (Witness program was passed an empty witness)\", p2sh_ids[NODE_0][P2WSH][0], sign=False, redeem_script=witness_script(True, self.pubkey[0]))\r\n \r\n         # Coinbase contains the witness commitment nonce, check that RPC shows us\r\n         coinbase_txid = self.nodes[2].getblock(blockhash)['tx'][0]\r\n@@ -214,10 +214,10 @@ class SegWitTest(BitcoinTestFramework):\r\n         assert_equal(witnesses[0], '00' * 32)\r\n \r\n         self.log.info(\"Verify witness txs without witness data are invalid after the fork\")\r\n-        self.fail_accept(self.nodes[2], 'non-mandatory-script-verify-flag (Witness program hash mismatch)', wit_ids[NODE_2][P2WPKH][2], sign=False)\r\n-        self.fail_accept(self.nodes[2], 'non-mandatory-script-verify-flag (Witness program was passed an empty witness)', wit_ids[NODE_2][P2WSH][2], sign=False)\r\n-        self.fail_accept(self.nodes[2], 'non-mandatory-script-verify-flag (Witness program hash mismatch)', p2sh_ids[NODE_2][P2WPKH][2], sign=False, redeem_script=witness_script(False, self.pubkey[2]))\r\n-        self.fail_accept(self.nodes[2], 'non-mandatory-script-verify-flag (Witness program was passed an empty witness)', p2sh_ids[NODE_2][P2WSH][2], sign=False, redeem_script=witness_script(True, self.pubkey[2]))\r\n+        self.fail_accept(self.nodes[2], 'mempool-script-verify-flag-failed (Witness program hash mismatch)', wit_ids[NODE_2][P2WPKH][2], sign=False)\r\n+        self.fail_accept(self.nodes[2], 'mempool-script-verify-flag-failed (Witness program was passed an empty witness)', wit_ids[NODE_2][P2WSH][2], sign=False)\r\n+        self.fail_accept(self.nodes[2], 'mempool-script-verify-flag-failed (Witness program hash mismatch)', p2sh_ids[NODE_2][P2WPKH][2], sign=False, redeem_script=witness_script(False, self.pubkey[2]))\r\n+        self.fail_accept(self.nodes[2], 'mempool-script-verify-flag-failed (Witness program was passed an empty witness)', p2sh_ids[NODE_2][P2WSH][2], sign=False, redeem_script=witness_script(True, self.pubkey[2]))\r\n \r\n         self.log.info(\"Verify default node can now use witness txs\")\r\n         self.success_mine(self.nodes[0], wit_ids[NODE_0][P2WPKH][0], True)\r\ndiff --git a/test/functional/mempool_accept.py b/test/functional/mempool_accept.py\r\nindex 81c6ea3e5d2..e981933e2e4 100755\r\n--- a/test/functional/mempool_accept.py\r\n+++ b/test/functional/mempool_accept.py\r\n@@ -473,7 +473,7 @@ class MempoolAcceptanceTest(BitcoinTestFramework):\r\n         nested_anchor_spend.vout.append(CTxOut(nested_anchor_tx.vout[0].nValue - int(fee*COIN), script_to_p2wsh_script(CScript([OP_TRUE]))))\r\n \r\n         self.check_mempool_result(\r\n-            result_expected=[{'txid': nested_anchor_spend.txid_hex, 'allowed': False, 'reject-reason': 'non-mandatory-script-verify-flag (Witness version reserved for soft-fork upgrades)'}],\r\n+            result_expected=[{'txid': nested_anchor_spend.txid_hex, 'allowed': False, 'reject-reason': 'mempool-script-verify-flag-failed (Witness version reserved for soft-fork upgrades)'}],\r\n             rawtxs=[nested_anchor_spend.serialize().hex()],\r\n             maxfeerate=0,\r\n         )\r\ndiff --git a/test/functional/p2p_segwit.py b/test/functional/p2p_segwit.py\r\nindex edb5048acab..4b17cd619de 100755\r\n--- a/test/functional/p2p_segwit.py\r\n+++ b/test/functional/p2p_segwit.py\r\n@@ -690,13 +690,13 @@ class SegWitTest(BitcoinTestFramework):\r\n         # segwit activation.  Note that older bitcoind's that are not\r\n         # segwit-aware would also reject this for failing CLEANSTACK.\r\n         with self.nodes[0].assert_debug_log(\r\n-                expected_msgs=[spend_tx.txid_hex, 'was not accepted: non-mandatory-script-verify-flag (Witness program was passed an empty witness)']):\r\n+                expected_msgs=[spend_tx.txid_hex, 'was not accepted: mempool-script-verify-flag-failed (Witness program was passed an empty witness)']):\r\n             test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\r\n \r\n         # Try to put the witness script in the scriptSig, should also fail.\r\n         spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\r\n         with self.nodes[0].assert_debug_log(\r\n-                expected_msgs=[spend_tx.txid_hex, 'was not accepted: non-mandatory-script-verify-flag (Script evaluated without error but finished with a false/empty top stack element)']):\r\n+                expected_msgs=[spend_tx.txid_hex, 'was not accepted: mempool-script-verify-flag-failed (Script evaluated without error but finished with a false/empty top stack element)']):\r\n             test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\r\n \r\n         # Now put the witness script in the witness, should succeed after\r\n@@ -1434,7 +1434,7 @@ class SegWitTest(BitcoinTestFramework):\r\n         sign_input_segwitv0(tx2, 0, script, tx.vout[0].nValue, key)\r\n \r\n         # Should fail policy test.\r\n-        test_transaction_acceptance(self.nodes[0], self.test_node, tx2, True, False, 'non-mandatory-script-verify-flag (Using non-compressed keys in segwit)')\r\n+        test_transaction_acceptance(self.nodes[0], self.test_node, tx2, True, False, 'mempool-script-verify-flag-failed (Using non-compressed keys in segwit)')\r\n         # But passes consensus.\r\n         block = self.build_next_block()\r\n         self.update_witness_block_with_transactions(block, [tx2])\r\n@@ -1453,7 +1453,7 @@ class SegWitTest(BitcoinTestFramework):\r\n         sign_p2pk_witness_input(witness_script, tx3, 0, SIGHASH_ALL, tx2.vout[0].nValue, key)\r\n \r\n         # Should fail policy test.\r\n-        test_transaction_acceptance(self.nodes[0], self.test_node, tx3, True, False, 'non-mandatory-script-verify-flag (Using non-compressed keys in segwit)')\r\n+        test_transaction_acceptance(self.nodes[0], self.test_node, tx3, True, False, 'mempool-script-verify-flag-failed (Using non-compressed keys in segwit)')\r\n         # But passes consensus.\r\n         block = self.build_next_block()\r\n         self.update_witness_block_with_transactions(block, [tx3])\r\n@@ -1470,7 +1470,7 @@ class SegWitTest(BitcoinTestFramework):\r\n         sign_p2pk_witness_input(witness_script, tx4, 0, SIGHASH_ALL, tx3.vout[0].nValue, key)\r\n \r\n         # Should fail policy test.\r\n-        test_transaction_acceptance(self.nodes[0], self.test_node, tx4, True, False, 'non-mandatory-script-verify-flag (Using non-compressed keys in segwit)')\r\n+        test_transaction_acceptance(self.nodes[0], self.test_node, tx4, True, False, 'mempool-script-verify-flag-failed (Using non-compressed keys in segwit)')\r\n         block = self.build_next_block()\r\n         self.update_witness_block_with_transactions(block, [tx4])\r\n         test_witness_block(self.nodes[0], self.test_node, block, accepted=True)\r\ndiff --git a/test/functional/rpc_packages.py b/test/functional/rpc_packages.py\r\nindex 4fdc1785cdc..ae14baf953a 100755\r\n--- a/test/functional/rpc_packages.py\r\n+++ b/test/functional/rpc_packages.py\r\n@@ -122,8 +122,8 @@ class RPCPackagesTest(BitcoinTestFramework):\r\n         assert_equal(testres_bad_sig, self.independent_txns_testres + [{\r\n             \"txid\": tx_bad_sig_txid,\r\n             \"wtxid\": tx_bad_sig_wtxid, \"allowed\": False,\r\n-            \"reject-reason\": \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\",\r\n-            \"reject-details\": \"non-mandatory-script-verify-flag (Operation not valid with the current stack size), \" +\r\n+            \"reject-reason\": \"mempool-script-verify-flag-failed (Operation not valid with the current stack size)\",\r\n+            \"reject-details\": \"mempool-script-verify-flag-failed (Operation not valid with the current stack size), \" +\r\n                               f\"input 0 of {tx_bad_sig_txid} (wtxid {tx_bad_sig_wtxid}), spending {coin['txid']}:{coin['vout']}\"\r\n         }])\r\n ```\r\n\r\n</details>\r\n\r\nSquashing this diff into a4aa23a9c5589fc922f0e708533400a8c410701f makes it go from (+51, -62) to (+56, -66) and avoids an arguably regression from https://github.com/bitcoin/bitcoin/pull/26291 's error messages fix. Although in any case i agree this is secondary and i'm happy to PR this diff in a followup if you feel strongly.\r\n",
      "created_at": "2025-07-25T13:40:57Z",
      "updated_at": "2025-07-25T13:42:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33050#discussion_r2231118764",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2231118764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33050"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2221,
      "side": "RIGHT"
    }
  ]
}