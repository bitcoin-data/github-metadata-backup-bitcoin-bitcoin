{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403",
    "id": 521845070,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxODQ1MDcw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20403",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/20403.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/20403.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3eb6f8b2e61c24a22ea9396d86672307845f35eb",
    "number": 20403,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: upgradewallet fixes, improvements, test coverage",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This follows up on #18836 and #20282 to fix and improve the as-yet unreleased `upgradewallet` feature and also implement review follow-up in https://github.com/bitcoin/bitcoin/pull/18836#discussion_r519328607.\r\n\r\nThis PR fixes 4 upgradewallet issues:\r\n\r\n- this bug: https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526063920\r\n- it returns nothing in the absence of an RPC error, which isn't reassuring for users\r\n- it returns the same thing both in the case of a successful upgrade and when no upgrade took place\r\n- the error message object is currently dead code\r\n\r\nThis PR fixes the above and provides:\r\n\r\n...user feedback to not silently return without upgrading\r\n```\r\n{\r\n  \"wallet_name\": \"disable private keys\",\r\n  \"previous_version\": 169900,\r\n  \"current_version\": 169900,\r\n  \"result\": \"Already at latest version. Wallet version unchanged.\"\r\n}\r\n```\r\n...better feedback after successfully upgrading\r\n```\r\n{\r\n  \"wallet_name\": \"watch-only\",\r\n  \"previous_version\": 159900,\r\n  \"current_version\": 169900,\r\n  \"result\": \"Wallet upgraded successfully from version 159900 to version 169900.\"\r\n}\r\n```\r\n...helpful error responses\r\n```\r\n{\r\n  \"wallet_name\": \"blank\",\r\n  \"previous_version\": 169900,\r\n  \"current_version\": 169900,\r\n  \"error\": \"Cannot downgrade wallet from version 169900 to version 159900. Wallet version unchanged.\"\r\n}\r\n{\r\n  \"wallet_name\": \"blank\",\r\n  \"previous_version\": 130000,\r\n  \"current_version\": 130000,\r\n  \"error\": \"Cannot upgrade a non HD split wallet from version 130000 to version 169899 without upgrading to support pre-split keypool. Please use version 169900 or no version specified.\"\r\n}\r\n```\r\nupdated help:\r\n```\r\nupgradewallet ( version )\r\n\r\nUpgrade the wallet. Upgrades to the latest version if no version number is specified.\r\nNew keys may be generated and a new wallet backup will need to be made.\r\nArguments:\r\n1. version    (numeric, optional, default=169900) The version number to upgrade to. Default is the latest wallet version.\r\n\r\nResult:\r\n{                            (json object)\r\n  \"wallet_name\" : \"str\",     (string) Name of wallet this operation was performed on\r\n  \"previous_version\" : n,    (numeric) Version of wallet before this operation\r\n  \"current_version\" : n,     (numeric) Version of wallet after this operation\r\n  \"result\" : \"str\",          (string, optional) Description of result, if no error\r\n  \"error\" : \"str\"            (string, optional) Error message (if there is one)\r\n}\r\n```",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
      "id": 4914019,
      "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
      "number": 45,
      "state": "closed",
      "title": "0.21.0",
      "description": "",
      "creator": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 132,
      "created_at": "2019-12-09T08:39:58Z",
      "updated_at": "2021-01-15T19:50:53Z",
      "closed_at": "2021-01-15T19:50:53Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2020-11-16T18:21:02Z",
    "updated_at": "2022-02-15T11:15:32Z",
    "closed_at": "2020-11-25T11:48:13Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-11-25T11:48:12Z",
    "merge_commit_sha": "afdfd3c8c1ce96adae11809e3989de381137fee9",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "jonatack:upgradewallet-improvements",
      "ref": "upgradewallet-improvements",
      "sha": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 173103842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzMxMDM4NDI=",
        "name": "bitcoin",
        "full_name": "jonatack/bitcoin",
        "owner": {
          "login": "jonatack",
          "id": 2415484,
          "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonatack",
          "html_url": "https://github.com/jonatack",
          "followers_url": "https://api.github.com/users/jonatack/followers",
          "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
          "organizations_url": "https://api.github.com/users/jonatack/orgs",
          "repos_url": "https://api.github.com/users/jonatack/repos",
          "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonatack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonatack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jonatack/bitcoin",
        "archive_url": "https://api.github.com/repos/jonatack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonatack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonatack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonatack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonatack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonatack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonatack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonatack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonatack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonatack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonatack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonatack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonatack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonatack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonatack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonatack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonatack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonatack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonatack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonatack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonatack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonatack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonatack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonatack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonatack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonatack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonatack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonatack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonatack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonatack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonatack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonatack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonatack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonatack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonatack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonatack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonatack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonatack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonatack/bitcoin/hooks",
        "svn_url": "https://github.com/jonatack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 217428,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-31T14:39:25Z",
        "created_at": "2019-02-28T11:57:18Z",
        "updated_at": "2023-01-03T22:00:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "0a267f4eb88597f9e3dbd4614c70427e6e41df20",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34347,
        "stargazers_count": 69854,
        "watchers_count": 69854,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-09T09:32:33Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T09:00:41Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 79,
    "deletions": 54,
    "changed_files": 5,
    "commits": 5,
    "review_comments": 39,
    "comments": 10
  },
  "events": [
    {
      "event": "reviewed",
      "id": 531597413,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNTk3NDEz",
      "url": null,
      "actor": null,
      "commit_id": "cabea155570ceeae807895a7576b474fdab4e572",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-531597413",
      "submitted_at": "2020-11-16T18:34:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "commented",
      "id": 728246886,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyODI0Njg4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/728246886",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T18:34:27Z",
      "updated_at": "2020-11-16T18:34:27Z",
      "author_association": "MEMBER",
      "body": "Code review ACK b95925c751fb97a1a17bf5a540ec06f0634ea72e",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-728246886",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "commented",
      "id": 728248066,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyODI0ODA2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/728248066",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T18:36:45Z",
      "updated_at": "2020-11-17T20:38:16Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-728248066",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4001795438,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAwMTc5NTQzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4001795438",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T18:44:19Z"
    },
    {
      "event": "commented",
      "id": 728253158,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyODI1MzE1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/728253158",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T18:46:27Z",
      "updated_at": "2020-11-16T18:46:27Z",
      "author_association": "MEMBER",
      "body": "Removed the cast in UpgradeWallet() per `git diff b95925c 377fa31` (thanks!)\r\n```diff\r\n@@ -4128,7 +4128,7 @@ bool CWallet::UpgradeWallet(int& version, bilingual_str& error, std::vector<bili\r\n     // Permanently upgrade to the version\r\n     const WalletFeature new_version{GetClosestWalletFeature(version)};\r\n     SetMinVersion(new_version);\r\n-    version = static_cast<int>(new_version); // return actual updated version\r\n+    version = new_version; // return actual updated version\r\n```",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-728253158",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "commented",
      "id": 728255170,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyODI1NTE3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/728255170",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T18:50:23Z",
      "updated_at": "2020-11-16T18:50:23Z",
      "author_association": "MEMBER",
      "body": "ACK 377fa31",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-728255170",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "labeled",
      "id": 4001882291,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQwMDE4ODIyOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4001882291",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T19:06:37Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 4001882293,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQwMDE4ODIyOTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4001882293",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T19:06:37Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 532154490,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMTU0NDkw",
      "url": null,
      "actor": null,
      "commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-532154490",
      "submitted_at": "2020-11-17T09:08:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "labeled",
      "id": 4005067015,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQwMDUwNjcwMTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4005067015",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T11:56:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 4005385003,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQwMDUzODUwMDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4005385003",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T13:13:57Z",
      "label": {
        "name": "Needs backport (0.21)",
        "color": "ff8200"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4006435408,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAwNjQzNTQwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4006435408",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T16:39:35Z"
    },
    {
      "event": "commented",
      "id": 729057297,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyOTA1NzI5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/729057297",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T16:50:19Z",
      "updated_at": "2020-11-17T16:50:19Z",
      "author_association": "MEMBER",
      "body": "Rebased after the merge of #20139 and addressed https://github.com/bitcoin/bitcoin/pull/20403#discussion_r524992713 with 877aba836ec48bfa881ec0dd90299015a3c27cce.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-729057297",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "reviewed",
      "id": 532589316,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNTg5MzE2",
      "url": null,
      "actor": null,
      "commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-532589316",
      "submitted_at": "2020-11-17T17:04:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "unlabeled",
      "id": 4006863303,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDAwNjg2MzMwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4006863303",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T18:13:43Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4006980416,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAwNjk4MDQxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4006980416",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-17T18:42:49Z"
    },
    {
      "event": "reviewed",
      "id": 533188211,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMTg4MjEx",
      "url": null,
      "actor": null,
      "commit_id": "84efee1aa665d2c92257898aecd6ffcc383d5efe",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-533188211",
      "submitted_at": "2020-11-18T08:09:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "milestoned",
      "id": 4009975108,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDQwMDk5NzUxMDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4009975108",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T10:39:54Z",
      "milestone": {
        "title": "0.21.0"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4010486690,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAxMDQ4NjY5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4010486690",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T12:46:50Z"
    },
    {
      "event": "commented",
      "id": 729655687,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyOTY1NTY4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/729655687",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T12:49:06Z",
      "updated_at": "2020-11-18T12:50:01Z",
      "author_association": "MEMBER",
      "body": "Found an edge case bug in the first commit, \"wallet: enable CWallet::UpgradeWallet to return updated version\", and the fix led to a simpler implementation.\r\n\r\nFixed two tests in the third commit, \"wallet: fix and improve upgradewallet result responses\"; thanks @MarcoFalke for catching one of them. The other one led to seeing the edge case bug.\r\n\r\nRe-verified build and the `wallet_upgradewallet.py` test at each commit.\r\n\r\n<details><summary>Diff: <code>git diff dfec0a8 25909e6</code></summary><p>\r\n\r\n```diff\r\njon@purity:~/projects/bitcoin/bitcoin (upgradewallet-improvements)$ git diff dfec0a8 25909e6\r\ndiff --git a/src/wallet/wallet.cpp b/src/wallet/wallet.cpp\r\nindex 17631c58e7..10a7a07ee7 100644\r\n--- a/src/wallet/wallet.cpp\r\n+++ b/src/wallet/wallet.cpp\r\n@@ -4127,15 +4127,15 @@ bool CWallet::UpgradeWallet(int& version, bilingual_str& error)\r\n     }\r\n \r\n     // Permanently upgrade to the version\r\n-    const WalletFeature new_version{GetClosestWalletFeature(version)};\r\n-    SetMinVersion(new_version);\r\n-    version = new_version; // return actual updated version\r\n+    SetMinVersion(GetClosestWalletFeature(version));\r\n \r\n     for (auto spk_man : GetActiveScriptPubKeyMans()) {\r\n         if (!spk_man->Upgrade(prev_version, version, error)) {\r\n             return false;\r\n         }\r\n     }\r\n+\r\n+    version = GetVersion(); // return actual updated version\r\n     return true;\r\n }\r\n \r\ndiff --git a/test/functional/wallet_upgradewallet.py b/test/functional/wallet_upgradewallet.py\r\nindex cec3dd2b6d..7cae913fa1 100755\r\n--- a/test/functional/wallet_upgradewallet.py\r\n+++ b/test/functional/wallet_upgradewallet.py\r\n@@ -90,10 +90,10 @@ class UpgradeWalletTest(BitcoinTestFramework):\r\n             v16_3_node.submitblock(b)\r\n         assert_equal(v16_3_node.getblockcount(), to_height)\r\n \r\n-    def test_upgradewallet(self, wallet, previous_version, requested_version, unchanged=False):\r\n-        new_version = previous_version if unchanged else requested_version\r\n+    def test_upgradewallet(self, wallet, previous_version, requested_version, expected_version=None, no_arg=False, unchanged=False):\r\n+        new_version = previous_version if unchanged else expected_version if expected_version else requested_version\r\n         assert_equal(wallet.getwalletinfo()[\"walletversion\"], previous_version)\r\n-        assert_equal(wallet.upgradewallet(requested_version),\r\n+        assert_equal(wallet.upgradewallet() if no_arg else wallet.upgradewallet(requested_version),\r\n             {\r\n                 \"wallet_name\": \"\",\r\n                 \"previous_version\": previous_version,\r\n@@ -182,7 +182,7 @@ class UpgradeWalletTest(BitcoinTestFramework):\r\n         copy_v16()\r\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\r\n         self.log.info(\"Test upgradewallet without version arguments\")\r\n-        self.test_upgradewallet(wallet, previous_version=159900, requested_version=169900)\r\n+        self.test_upgradewallet(wallet, previous_version=159900, requested_version=169900, no_arg=True)\r\n         # wallet should still contain the same balance\r\n         assert_equal(wallet.getbalance(), v16_3_balance)\r\n \r\n@@ -342,7 +342,7 @@ class UpgradeWalletTest(BitcoinTestFramework):\r\n         old_kvs = dump_bdb_kv(node_master_wallet)\r\n         defaultkey = old_kvs[b'\\x0adefaultkey']\r\n         self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\r\n-        self.test_upgradewallet(wallet, previous_version=139900, requested_version=169900)\r\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=169900)\r\n         new_kvs = dump_bdb_kv(node_master_wallet)\r\n         up_defaultkey = new_kvs[b'\\x0adefaultkey']\r\n         assert_equal(defaultkey, up_defaultkey)\r\n```\r\n</p></details>\r\n\r\n\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-729655687",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "mentioned",
      "id": 4010495831,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDAxMDQ5NTgzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4010495831",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T12:49:06Z"
    },
    {
      "event": "subscribed",
      "id": 4010495841,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQwMTA0OTU4NDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4010495841",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T12:49:06Z"
    },
    {
      "event": "reviewed",
      "id": 533415587,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNDE1NTg3",
      "url": null,
      "actor": null,
      "commit_id": "25909e6701ed42ca67b50247727c84bfb5cb1f16",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-533415587",
      "submitted_at": "2020-11-18T12:54:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "reviewed",
      "id": 533518488,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNTE4NDg4",
      "url": null,
      "actor": null,
      "commit_id": "2310fe9685246b0d505495ee98d38c82a1730293",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-533518488",
      "submitted_at": "2020-11-18T14:50:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNDZjMThiNzg4Y2IwODYyYWFmYmIxMTZmZDM3OTM2Y2JlZDZhNDMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c46c18b788cb0862aafbb116fd37936cbed6a431",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c46c18b788cb0862aafbb116fd37936cbed6a431",
      "tree": {
        "sha": "8852d6d1334d1aa181bfc2f26ff388527f754800",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8852d6d1334d1aa181bfc2f26ff388527f754800"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8852d6d1334d1aa181bfc2f26ff388527f754800\nparent c463f70fb05ed45cfcc609324078a0ccb08c7f06\nauthor Jon Atack <jon@atack.com> 1605549332 +0100\ncommitter Jon Atack <jon@atack.com> 1605712307 +0100\n\nwallet: refactor GetClosestWalletFeature()\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+1ObQACgkQT1chs9Dj\nkh2cGw/9EzvkN5swMFdhZNu6daW/ZQTQVEKq99HRmIxAej/4YoXcn6GyiNrX5p9R\nFHW0GF2F9jGKdyeDRjrTPbKBt30abQWIqh8VxIHGTbjshuchT8w1+onxUW7nowwI\nFMSadhVJPXImElRltSVFU5PkOPtFtW6H4xOpWIsvQDHQved9t/52R8e57DMUaNUw\n3PAmyl+voUaU/NxJwbLdDt+jhTC6a+ds8IjpYMcjz9dOgNh3+BsTcsaBMnWiqC47\nRTl9L5kIIPE/LKMTMyPY2v6Yr8pW45qqQMvsOzPpN/YanW6qz/EkfTNwgCcmDgX4\nk4YIKLxerp8hcYrDhVGImHDlTjqkaR6yREo4NEFXNqL1+sQ1hfX3d4fBmDps4VRi\naexsSmjtv6UBv9Wr9jTS0NduL1ZBKN85suSOifYDsaGKUskk7YhyAqMpexr5Vv15\nSSFd8M8s6yeFjB3bEIgPkYetYyrz13I1FAvRSfiFCQomRixU2oKLpudcpiwgcp28\no3VQ0DUrE+ZpIrZZK8rWgUE5jtNPTFijXqgwSoZy1Z60v/zubz3KEBKhJ5PhVE1a\nKcS/map4vi2teJwiNP3UsYYj9s7LYuYJQZYSzc/Y2oDHbQkhpL6Z+hIavozbrdtU\ndCwMFQrvOFwvPkspdy+2UzWQ6usTAktCKb7yqIip8Kt4snBAdnE=\n=ZALG\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIPEWR8t8MK8NfGb+tqDjshQZ2IFWo6Nl8zxrMzAi0dlfCP/wEC9USYw4ak+K\nWLnXhgL/DSAI8QRftTm28AgfE6PgSZqhrwCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQTtc1wQbjDoryVNu1\nqo9MzQjxBF+1ObXwCMCbc1eaRE7OAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMu\nY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQe/YAbsjwIdOs8nWtMAA8OQjx\nBF+1ObXwCAgVs4w1+ltqAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5j\nYXRhbGxheHkuY29t8BDgxNDQ/14QCSjRnxsjorZBCPEEX7U5ufAIUSbVWNNXmBAA\ng9/jDS75DI4pKGh0dHBzOi8vZmlubmV5LmNhbGVuZGFyLmV0ZXJuaXR5d2FsbC5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c463f70fb05ed45cfcc609324078a0ccb08c7f06",
          "sha": "c463f70fb05ed45cfcc609324078a0ccb08c7f06",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c463f70fb05ed45cfcc609324078a0ccb08c7f06"
        }
      ],
      "message": "wallet: refactor GetClosestWalletFeature()",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-18T15:11:47Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-16T17:55:32Z"
      },
      "sha": "c46c18b788cb0862aafbb116fd37936cbed6a431"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4011253175,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAxMTI1MzE3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4011253175",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T15:24:04Z"
    },
    {
      "event": "commented",
      "id": 729754336,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyOTc1NDMzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/729754336",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-18T15:27:10Z",
      "updated_at": "2020-11-18T15:27:10Z",
      "author_association": "MEMBER",
      "body": "Dropped the first commit to call `GetVersion()` in `RPCHelpMan upgradewallet()`.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-729754336",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "referenced",
      "id": 4012097227,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwMTIwOTcyMjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4012097227",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6e213cbd1759ad8aa2933731540fc53609c0cf50",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/6e213cbd1759ad8aa2933731540fc53609c0cf50",
      "created_at": "2020-11-18T18:16:29Z"
    },
    {
      "event": "referenced",
      "id": 4012105073,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwMTIxMDUwNzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4012105073",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ecc6458b5a9ade3c6aa4a8a0fc088246eaba632b",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/ecc6458b5a9ade3c6aa4a8a0fc088246eaba632b",
      "created_at": "2020-11-18T18:18:25Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNDk4YjA0Y2U4ODY5NmEzMjE2ZmMzOGI3ZDM5MzkwNmI3MzNlOGIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2498b04ce88696a3216fc38b7d393906b733e8b1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2498b04ce88696a3216fc38b7d393906b733e8b1",
      "tree": {
        "sha": "87b23a9701e5cc674360578e69594477da19b2fc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/87b23a9701e5cc674360578e69594477da19b2fc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 87b23a9701e5cc674360578e69594477da19b2fc\nparent c46c18b788cb0862aafbb116fd37936cbed6a431\nauthor Andrew Chow <achow101-github@achow101.com> 1605723259 -0500\ncommitter Jon Atack <jon@atack.com> 1605769445 +0100\n\nDon't upgrade to HD split if it is already supported\n\nIt is unnecessary to upgrade to FEATURE_HD_SPLIT if this feature is\nalready supported by the wallet. Because upgrading to FEATURE_HD_SPLIT\nactually requires upgrading to FEATURE_PRE_SPLIT_KEYPOOL, users would\naccidentally be upgraded to FEATURE_PRE_SPLIT_KEYPOOL instead of nothing\nbeing done.\n\nFixes the issue described at\nhttps://github.com/bitcoin/bitcoin/pull/20403#discussion_r526063920\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+2GOUACgkQT1chs9Dj\nkh2R2w/+ONRDuS31832eAMkD0QN5ia79Ms372egz0/+ikj0hmbbswGjRNUmvvATq\nvsOKDyPfU0axf/qzEGR7U93xbLk+/ZNiieXL771I0P6mvZAu3Un/6vsGEgyftpTP\nP1/l55fNlMO1MdM+QzYNIw87bEkBcoDR+3zRb7FCyjgiV5DOTglym5bpCfgCXoGF\nyZauy6Yf1iSsIGmZ9W/Muyv2zuSKDl14UBGnBDXgp6xAh/KCeFbvs2mG4SKk50gg\nH5z11sYx6w/O8J9t6ysgLr5FJ0sHRSR8ymWkm6R0S+Nk49sJSDhpvleys9df/g1Y\nHl6vLW0UM8ZxFLjFWDIeYHf+Hu7h0FdROFe/KbPy0zDw66iB1e6ycD1ZG/mkLDxn\nNza06RqvujdXlZzLkRUdMbfu7+hiabLO9q8dztcbgeIBLzg5scWSjSNuaylxzOvu\njDCOZxBeR+9LTGgyjTt5VFyy5iZYsAF1hyKxXJjk4vEZUS8Y+9mksy1Up/xG/1mw\nky3tfDkD2P+1Sq3HJ61IjhNAxKlozKH4eiVDz9BruG6QlqC/M2TUi29UdMOWFClT\nATezWD4KF9eGrz7g6UhFMFYGfD2dilZkf+8Fd6ktxkYxVhzmORyKH2lT17rCBIkE\nbPhLpuodsjew4qhVr2NDLo3i2c9PDpL3WK4u6WwwKbIMD1Ftsmc=\n=cC/o\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIG6J3cvW/P6pcXi8o4En9FYrKPPx5qIoDZ900IcWhbd0CP/wEEIsqV/mUoKl\n6+YKz6d5VgAI8CDboEfIYhFqlC5+DIBamDWOFpJGN2uTk5IKpazV3C9wsAjxBF+2\nGOfwCJW+YOpz9b6YAIPf4w0u+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRh\nci5vcGVudGltZXN0YW1wcy5vcmf/8BCXN3msbqKoSiyyYS06vBR7CPEg3Q13S3Kz\nOeVdv/HSNkZ3K74mqyTnt7xYMGPOV7PCGNsI8QRfthjn8Ahb7OL2lqTiqwCD3+MN\nLvkMjiwraHR0cHM6Ly9ib2IuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9y\nZ//wEKjD1rrdRB8s/WnHr3ebyYcI8SAkSSllC80KpssY94s5Cn678LfxPG1pE35B\nBb3z9L+heAjxBF+2GOvwCPlRQ6KVGsO3AIPf4w0u+QyOKShodHRwczovL2Zpbm5l\neS5jYWxlbmRhci5ldGVybml0eXdhbGwuY29t8BDJ10M8o78/k1uk2kP0Vk2qCPEE\nX7YY5/AIkdleHKlIEMsAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNh\ndGFsbGF4eS5jb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c46c18b788cb0862aafbb116fd37936cbed6a431",
          "sha": "c46c18b788cb0862aafbb116fd37936cbed6a431",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c46c18b788cb0862aafbb116fd37936cbed6a431"
        }
      ],
      "message": "Don't upgrade to HD split if it is already supported\n\nIt is unnecessary to upgrade to FEATURE_HD_SPLIT if this feature is\nalready supported by the wallet. Because upgrading to FEATURE_HD_SPLIT\nactually requires upgrading to FEATURE_PRE_SPLIT_KEYPOOL, users would\naccidentally be upgraded to FEATURE_PRE_SPLIT_KEYPOOL instead of nothing\nbeing done.\n\nFixes the issue described at\nhttps://github.com/bitcoin/bitcoin/pull/20403#discussion_r526063920",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-19T07:04:05Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2020-11-18T18:14:19Z"
      },
      "sha": "2498b04ce88696a3216fc38b7d393906b733e8b1"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4014468301,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAxNDQ2ODMwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4014468301",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T08:03:42Z"
    },
    {
      "event": "commented",
      "id": 730202907,
      "node_id": "MDEyOklzc3VlQ29tbWVudDczMDIwMjkwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730202907",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T08:08:46Z",
      "updated_at": "2020-11-19T08:08:46Z",
      "author_association": "MEMBER",
      "body": "Pulled in #20420.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-730202907",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "reviewed",
      "id": 534695605,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0Njk1NjA1",
      "url": null,
      "actor": null,
      "commit_id": "4dc34408bfe8fa1c229d99a3d0d03a42c83ced69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-534695605",
      "submitted_at": "2020-11-19T17:45:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OWQ1NmUzNTcxNTljNzE1NGY2OWYyOGNiNTU4N2M1Y2EyMGQ2NTk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99d56e357159c7154f69f28cb5587c5ca20d6594",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99d56e357159c7154f69f28cb5587c5ca20d6594",
      "tree": {
        "sha": "93f3e455c85fd9586b75c7c90d29e5a64dfe188f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93f3e455c85fd9586b75c7c90d29e5a64dfe188f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 93f3e455c85fd9586b75c7c90d29e5a64dfe188f\nparent 2498b04ce88696a3216fc38b7d393906b733e8b1\nauthor Jon Atack <jon@atack.com> 1605547390 +0100\ncommitter Jon Atack <jon@atack.com> 1605812450 +0100\n\nwallet: fix and improve upgradewallet result responses\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+2wOMACgkQT1chs9Dj\nkh0fEg/+NK35bs4eZ2ucJjgchllYRFNXQSx+nM7VpiZCNkeDQ0u7c+eLvovneVKf\nccrm9FzWZhjpK+/1GQbEJ35Cy+8jJh0iH7/qf8xC0OSpsGmUNYTkvS6KE6lFunSi\np9Yy7dAum+ZZ4qu0R/8Y1w/lfdgo4MUCDVIDH4w4oGWbkONEStF7MS1zOs3jxI+X\nvQMXnJxeKKp96qt41BxRY/qhetVYRVwAQasc2DptrRCPnhlgmfhTE2/n00+GXSGb\nj3S9GGi9um2f958FsqgIvWQk409XNJTkoElyIITdDGg/1cx0IS4t3Nl/WB+RFEHf\nz044ip/wkNwJTzwNJi3mRVhEx64JcyOjCh9gJ7Y20WBdGMBrffZ9N7dO2+NTh49l\n4EzjJvsqS2QkeeU06gy/PK7NeKBy2GaYo3b+O/wudgBvtveNg9G30R8CsyQL5q9s\n5C2xIQcvrAx/qbT89sq1X5Do1oMlBaOqph4bW+P13D5ysYgCUCujfc1fYcVXMwzO\ndqNPjhv06/22XtN9tNyuvRerjcqNdH576wgCzeZQMFtClCJxPOCvumFtYuPwWCOl\nmZyUNv0k3l49CJG50eviYw3nm/LV5heOv/cKBxf9lmfdede6sme/JfjNsOdNtOik\nw/FDzo/oUe5oyukNVqiNU8YTPxqPJ6EAs97D7s+TYe28E+kN/z8=\n=rVQP\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIO0ijrmzKil8qLiSGEp9PZPUyZuNaaBIsKpa3hWUL42dCP/wEACVpHxOcbMN\nDvIUJXhwoUYI8SDPG2rG3Tky9GvkKkkskKZG5M7i1gU5mZyHxE7JtjcUmAjxBF+2\nwOXwCMc59RtITqtpAIPf4w0u+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRh\nci5vcGVudGltZXN0YW1wcy5vcmf/8BAbSXn/diJ4COxDQPdtxAI7CPEEX7bA5fAI\n4WRlAc6R9IkAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4\neS5jb23/8BDFA2KXJSLcn9fzwH7/bNDFCPEEX7bA5fAIyrok9Vo6GT0Ag9/jDS75\nDI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5vcmfw\nENH/J4Nv90F75ZjhAarGzysI8QRftsDo8Ai6URpYuXlMzACD3+MNLvkMjikoaHR0\ncHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2498b04ce88696a3216fc38b7d393906b733e8b1",
          "sha": "2498b04ce88696a3216fc38b7d393906b733e8b1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2498b04ce88696a3216fc38b7d393906b733e8b1"
        }
      ],
      "message": "wallet: fix and improve upgradewallet result responses",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-19T19:00:50Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-16T17:23:10Z"
      },
      "sha": "99d56e357159c7154f69f28cb5587c5ca20d6594"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYThjZDg5M2JiNTZiZjVkNDU1MTU0YjA0OThiMWY1OGY3N2QyMGVk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca8cd893bb56bf5d455154b0498b1f58f77d20ed",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ca8cd893bb56bf5d455154b0498b1f58f77d20ed",
      "tree": {
        "sha": "6d3ed90574f06145e8bbe4646a3c9a8beea65f0f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6d3ed90574f06145e8bbe4646a3c9a8beea65f0f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6d3ed90574f06145e8bbe4646a3c9a8beea65f0f\nparent 99d56e357159c7154f69f28cb5587c5ca20d6594\nauthor Jon Atack <jon@atack.com> 1605625034 +0100\ncommitter Jon Atack <jon@atack.com> 1605812453 +0100\n\nwallet: fix and improve upgradewallet error responses\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+2wOUACgkQT1chs9Dj\nkh1lcA/9FTOEGZFMFjekOgDSb7o/Y4G7AuwXqHVfEFC4rZCeP8BOf6KZf1Z+Pi0b\n3Fl8OF2x0AxyTXPEHlsJeFs1gZ+pe1wpjKYoZrYBHbM7Z9jCWof2YRHmLTe2hktd\neHAr4FtpLJbiKfHmauwmFvF5oWFWAVJjWLKhwU+rcsvuf1vFW84MbkpzoYHDkoaH\nEFU8OzwYi5HAE3fyuIMRuzb1xW/coJQRUT5mk1OWKxOiH0VU3qh+OLXiHlCpTFb0\nxazRGwLyRVh5RjYk1qKtTIEJVkXq3JNtGAMtG7B8egRhGK1CnkbN6n9cQ53Spfb9\nddDfyQBBLygr26JS0VMeeMwilkW1hOEvzmPDNI7BXjurjMVM+9ucZJnqAfAmrKgr\n2ZvxMM4U1sw53HHAwux83rYtSTw6QVoiikZUFksFGBDHVonY2fGLTawFPKyou4lE\n623zkv+Upbxd4YvlLal+kQFk0sY5mFWSFnzeGQRM5PNhgQxY+MErwth+tSEixiWU\nk5BL2qr2Ds1SrMaWNq3lCxFSPQskaeIQH67SvwhdKYiLZn3zhLk4+5I9eSAW7gBL\njenWaYoRpN+vLO2fOhOwGQU3YsHdG+VKXPqrb6k9PnjJQrO+aPV9P3zop92FJB6l\nVwwoiT6LvifCWX5xLxIx1DPKqAI/Hl/WrF1ErAX16RGyOjPHJNY=\n=zzIz\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIOc4g+SSwYVlSZZHAKe81kfBhdxgp7sh/Tm66/VS5hkWCP/wEE8o4gn8kS1j\nvSkCn9N5jtQI8QRftsDr8AjseAqZhLz3jwCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEJvtbIKTQlHFUYYyO2RGZasI\n8QRftsDo8Ajy03OH/FQiGACD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIu\nY2F0YWxsYXh5LmNvbf/wEJzggZrAxP3nNsfeKpX0zhoI8QRftsDo8AhhxVzJBeE3\nGACD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn8BDsf9AS8Rw2PWzMqx2dK0yOCPEEX7bA6PAIvd9LRZNeS68Ag9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99d56e357159c7154f69f28cb5587c5ca20d6594",
          "sha": "99d56e357159c7154f69f28cb5587c5ca20d6594",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99d56e357159c7154f69f28cb5587c5ca20d6594"
        }
      ],
      "message": "wallet: fix and improve upgradewallet error responses",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-19T19:00:53Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-17T14:57:14Z"
      },
      "sha": "ca8cd893bb56bf5d455154b0498b1f58f77d20ed"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZWI2ZjhiMmU2MWMyNGEyMmVhOTM5NmQ4NjY3MjMwNzg0NWYzNWVi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "tree": {
        "sha": "40b93928a05d3dba8a9a59863379291815679502",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40b93928a05d3dba8a9a59863379291815679502"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 40b93928a05d3dba8a9a59863379291815679502\nparent ca8cd893bb56bf5d455154b0498b1f58f77d20ed\nauthor Jon Atack <jon@atack.com> 1605637092 +0100\ncommitter Jon Atack <jon@atack.com> 1605812456 +0100\n\nwallet (not for backport): improve upgradewallet error messages\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+2wOgACgkQT1chs9Dj\nkh01xg//d/rVP0Mkdc/X0mLlE1SFVFjGDb069qpAYrBhwDZpPkah1XoD2SwXzBd7\n+VlP5iqXKNsJ4LQm12SOE3ufNy7Um+04w1SLxf4hER23/+qoH5tHo7nlfpAMr8y9\nKTM3VJrXeXnZbychnGnb/Hxc5f1Iaq1ziHtXTjmc+EXOXcxxX+CSuLMQDnkShqAj\nNKqVOk3MJd+qfDd0H1kUH7Kmgjlt4BBTISBJldWW/ie36sNqD7Mv/3M8pT+qIgGx\neZsBj1/0oGnfDlfX8rlz7A65WyhifpEm76fLVAyJe8l2HpxciyJHh0d6C9sJGTbz\ny+SR5uwdPCTsI8t4TgxMXxfgONnW5gi66Rrq7J68X8IKACqumz1hW/H65p38olXI\neTVtUYg78Kn+aaGW4wkpas8W99SGgK6iRM4p7SPtryojUvN5+wLtoRGo/0sdP+x2\nHrVj06t3Kl/wpc7JgPLfsFJ2lLd5ZI2VFMcUSYsy8C94JYnj3+Zp+e7w8E5ktlLd\nfSIxO2RuiSnuyGp4unWR9KHZ+A4guIxizsxsbisS5B2ZOEArEaM3J7EfJcW9UGwJ\nt6zbB7r6pNGWE0qqG3BOmdjmGsI+RR8CiXULMEQ6KQDvVmYZs+XjxmI4VRIBy1vj\nbQarvXxUANFcijAVzOwWI2iVV5pFXzYD1cEfz6Ii7krVIEMNTY4=\n=6B48\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIN4bZOiRQeodBmWS8p9jHJ1Av5vpYzgT8nPQBv36GHVBCP/wECWVghPGeuN6\nZDvld+YKogMI8CCFgNK2nJzYpZ86SDFxoXRGpMItRq/0GcCoiTcYEynxwgjxBF+2\nwOrwCFAKSNUD8YfuAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRh\nbGxheHkuY29t//AQNwE8p+DYdrAY7OY7uUoqQgjxBF+2wO7wCCX64k1extSVAIPf\n4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0eXdhbGwuY29t\n//AQdal9qjwaggvAq/t//A0isgjxILEQ1x8mHJbC8t1svDrzXLYIp6tNufhYcoVK\nnTj7G/6uCPEEX7bA6vAIQx1YoIiyn2cAg9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0\nYy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5vcmfwEMled57P9alJ7lGDz8UiGwUI\n8QRftsDr8Ag5XGZ+9gN8OgCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca8cd893bb56bf5d455154b0498b1f58f77d20ed",
          "sha": "ca8cd893bb56bf5d455154b0498b1f58f77d20ed",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ca8cd893bb56bf5d455154b0498b1f58f77d20ed"
        }
      ],
      "message": "wallet (not for backport): improve upgradewallet error messages",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-19T19:00:56Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-17T18:18:12Z"
      },
      "sha": "3eb6f8b2e61c24a22ea9396d86672307845f35eb"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4017444257,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDAxNzQ0NDI1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4017444257",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T19:03:31Z"
    },
    {
      "event": "commented",
      "id": 730576312,
      "node_id": "MDEyOklzc3VlQ29tbWVudDczMDU3NjMxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730576312",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T19:05:32Z",
      "updated_at": "2020-11-19T19:05:32Z",
      "author_association": "MEMBER",
      "body": "ACK  3eb6f8b",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-730576312",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "reviewed",
      "id": 538043515,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MDQzNTE1",
      "url": null,
      "actor": null,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-538043515",
      "submitted_at": "2020-11-24T23:21:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "reviewed",
      "id": 538408343,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NDA4MzQz",
      "url": null,
      "actor": null,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "review ACK 3eb6f8b2e61c24a22ea9396d86672307845f35eb \r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 3eb6f8b2e61c24a22ea9396d86672307845f35eb \r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUin9Av/YujicGdR4qxlxmUVaSijOicvW7fTqB6MnQH6+MJnzn5mApTxTVF4ZLZj\r\nnrHGzoEVTcnok6tsDS62eGJvmuP/FxXDZExtb/DrjMdcXqjdP4kpH67tMGAnyrnw\r\nV/M5psoZxs/u0qm4zFa08ni6OBaeSA3U8bZ5Qj6Uk1P9of3VblGEjlw8wa3P/JU0\r\n71s8J3wcyfXY+GS5iQ1DIbz4SgP7Ch7wLPQtgvetEPRblTvhoAgueZeURmgwHai9\r\nZIf1T9DpMkkBuJiZM+BhygbYF5J3r7vD0hcT/rrp3XNHpLuuMK0/ijaoJk2VXC44\r\n/pnjQNbNXW01NH2PiamTY84rdXJW6qt7NJQtuIeOm2jivvo+Av+DOboOR5KRURUW\r\nm4Ux1i6VaJ1Hov34Sqcnm4zy+WEq2/Lkpl5viwSOqctm7Yak/R38X5wYAx8PmsLP\r\nS8/HSAS4aZob64D/Kkakod5VG1xl9fFw7aUQVioBGQ17hQ3PBYyXnBaIfaOiMXyR\r\nRaovSwTo\r\n=l1/v\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `1140e347b1496cc50a43fa6fca8080f5ac91dbec5a7d8191668b108f5c1bf70d  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401081140e347b1496cc50a43fa6fca8080f5ac91dbec5a7d8191668b108f5c1bf70df0103871354e509d8422a4de110ca94571d408fff010706983b688c47d1a40b98bd7391c43ee08f120bded4670fc478c105b679805a44642c2f3b86d34fa83cd8db3185781e40812cf08f1045fbe43ecf00820e0993aa03700540083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010840d27bbc3c6182e87c9c2882fe6473a08f12087b43e22ab3865430032e43750d4f3104fa6257688ff52ef7afa1693e885a89b08f1045fbe43ecf00824383ee24466dab90083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0109e4c19da3cee0115338e2fd21f0a428d08f1045fbe43f0f008072b913f048159f90083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010f11b87d7b3eccedeae96a3c20440208c08f1207971a731feb40969f477971727bbab526e7bb95caa83d8997abf2ec9abc122dd08f1045fbe43ecf008c390c0e04140145b0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6d)\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#pullrequestreview-538408343",
      "submitted_at": "2020-11-25T11:46:03Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
    },
    {
      "event": "merged",
      "id": 4037690255,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDAzNzY5MDI1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4037690255",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "afdfd3c8c1ce96adae11809e3989de381137fee9",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/afdfd3c8c1ce96adae11809e3989de381137fee9",
      "created_at": "2020-11-25T11:48:12Z"
    },
    {
      "event": "closed",
      "id": 4037690285,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDAzNzY5MDI4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4037690285",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-25T11:48:13Z"
    },
    {
      "event": "unlabeled",
      "id": 4037708319,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDAzNzcwODMxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4037708319",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-25T11:52:57Z",
      "label": {
        "name": "Needs backport (0.21)",
        "color": "ff8200"
      }
    },
    {
      "event": "commented",
      "id": 733661230,
      "node_id": "MDEyOklzc3VlQ29tbWVudDczMzY2MTIzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/733661230",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-25T11:53:05Z",
      "updated_at": "2020-11-25T11:53:05Z",
      "author_association": "MEMBER",
      "body": "Backported in #20490",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#issuecomment-733661230",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20403"
    },
    {
      "event": "referenced",
      "id": 4038636486,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwMzg2MzY0ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4038636486",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b91d3bb3db09ecc1dcda677a8ab6491049e9c775",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/b91d3bb3db09ecc1dcda677a8ab6491049e9c775",
      "created_at": "2020-11-25T15:26:52Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 4038903934,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQ0MDM4OTAzOTM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4038903934",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-25T16:25:17Z"
    },
    {
      "event": "referenced",
      "id": 4039071537,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwMzkwNzE1Mzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4039071537",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9facca3ce0ad3c325676f9c9f0e6ed4429f0c335",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9facca3ce0ad3c325676f9c9f0e6ed4429f0c335",
      "created_at": "2020-11-25T17:04:10Z"
    },
    {
      "event": "referenced",
      "id": 4105787377,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQxMDU3ODczNzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4105787377",
      "actor": {
        "login": "janus",
        "id": 6726,
        "node_id": "MDQ6VXNlcjY3MjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janus",
        "html_url": "https://github.com/janus",
        "followers_url": "https://api.github.com/users/janus/followers",
        "following_url": "https://api.github.com/users/janus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janus/subscriptions",
        "organizations_url": "https://api.github.com/users/janus/orgs",
        "repos_url": "https://api.github.com/users/janus/repos",
        "events_url": "https://api.github.com/users/janus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "caa5069d34970eb24e38fd8d588b51acd845cb06",
      "commit_url": "https://api.github.com/repos/janus/bitgesell/commits/caa5069d34970eb24e38fd8d588b51acd845cb06",
      "created_at": "2020-12-13T08:23:49Z"
    },
    {
      "event": "referenced",
      "id": 5242033787,
      "node_id": "REFE_lADOABII584sWW7WzwAAAAE4cxZ7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5242033787",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9b24f6aa60ee4710c3ddb39f4ea56d94a7e38b8c",
      "commit_url": "https://api.github.com/repos/apoelstra/elements/commits/9b24f6aa60ee4710c3ddb39f4ea56d94a7e38b8c",
      "created_at": "2021-09-01T19:57:15Z"
    },
    {
      "event": "referenced",
      "id": 5322271178,
      "node_id": "REFE_lADOABII584sWW7WzwAAAAE9O2nK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5322271178",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e8ccd5fffe0580d13d1679b65cd32f0f169e9389",
      "commit_url": "https://api.github.com/repos/apoelstra/elements/commits/e8ccd5fffe0580d13d1679b65cd32f0f169e9389",
      "created_at": "2021-09-18T03:24:19Z"
    },
    {
      "event": "referenced",
      "id": 5340031762,
      "node_id": "REFE_lADOABII584sWW7WzwAAAAE-SmsS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5340031762",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "92251542e56458414f3be7af2377ad0c7068e932",
      "commit_url": "https://api.github.com/repos/apoelstra/elements/commits/92251542e56458414f3be7af2377ad0c7068e932",
      "created_at": "2021-09-22T02:44:08Z"
    },
    {
      "event": "locked",
      "id": 6074090350,
      "node_id": "LOE_lADOABII584sWW7WzwAAAAFqC0Nu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074090350",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:15:32Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524486828",
      "pull_request_review_id": 531597413,
      "id": 524486828,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ4NjgyOA==",
      "diff_hunk": "@@ -4126,7 +4126,9 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error, std::vector<bilin\n     }\n \n     // Permanently upgrade to the version\n-    SetMinVersion(GetClosestWalletFeature(version));\n+    const WalletFeature new_version{GetClosestWalletFeature(version)};\n+    SetMinVersion(new_version);\n+    version = static_cast<int>(new_version); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "cabea155570ceeae807895a7576b474fdab4e572",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is `static_cast` necessary here? `WalletFeature` should already be an int.",
      "created_at": "2020-11-16T18:34:01Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r524486828",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524486828"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524489680",
      "pull_request_review_id": 531600963,
      "id": 524489680,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ4OTY4MA==",
      "diff_hunk": "@@ -4126,7 +4126,9 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error, std::vector<bilin\n     }\n \n     // Permanently upgrade to the version\n-    SetMinVersion(GetClosestWalletFeature(version));\n+    const WalletFeature new_version{GetClosestWalletFeature(version)};\n+    SetMinVersion(new_version);\n+    version = static_cast<int>(new_version); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "cabea155570ceeae807895a7576b474fdab4e572",
      "in_reply_to_id": 524486828,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh you're right, looks like we can just do `version = new_version` here. Will test a push without the cast. Thanks!",
      "created_at": "2020-11-16T18:38:51Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r524489680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524489680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524992713",
      "pull_request_review_id": 532154490,
      "id": 524992713,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk5MjcxMw==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It looks like this is dead code, and always has been.\r\n\r\nIt would be easier to have one way to deal with errors. Either return them as `JSONRPCError` or as `{\"error\":...}`, but not both. Also, the error approach should be documented.",
      "created_at": "2020-11-17T09:08:54Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r524992713",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/524992713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525006514",
      "pull_request_review_id": 532172105,
      "id": 525006514,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAwNjUxNA==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I plan to have a look at this later today. That's the second part of my review feedback from #20282.\n\nIn #20391 I proposed returning an error field rather than raising an RPC error for this type of errors but wasn't sure which is preferred.",
      "created_at": "2020-11-17T09:29:19Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525006514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525006514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525025383",
      "pull_request_review_id": 532195734,
      "id": 525025383,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNTM4Mw==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think either is fine as long as it is documented and consistent. An RPCError makes sense when the return object would otherwise be empty and would have to omit a lot of optional fields, except for the error.",
      "created_at": "2020-11-17T09:56:36Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525025383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525025383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525134613",
      "pull_request_review_id": 532335185,
      "id": 525134613,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTEzNDYxMw==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Proposing this:\r\n```\r\n$ ./src/bitcoin-cli -signet -rpcwallet=\"blank\" upgradewallet 5\r\n{\r\n  \"wallet_name\": \"blank\",\r\n  \"previous_version\": 169900,\r\n  \"current_version\": 169900,\r\n  \"error\": \"Cannot downgrade wallet from version 169900 to version 5\"\r\n}\r\n```\r\n",
      "created_at": "2020-11-17T13:00:02Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525134613",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525134613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525136126",
      "pull_request_review_id": 532337276,
      "id": 525136126,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTEzNjEyNg==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(currently that returns):\r\n```\r\n$ ./src/bitcoin-cli -signet -rpcwallet=\"blank\" upgradewallet 5\r\nerror code: -4\r\nerror message:\r\nCannot downgrade wallet\r\n```\r\n",
      "created_at": "2020-11-17T13:02:38Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525136126",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525136126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525316759",
      "pull_request_review_id": 532574322,
      "id": 525316759,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMxNjc1OQ==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-11-17T16:48:16Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525316759",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525316759"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525319514",
      "pull_request_review_id": 532577949,
      "id": 525319514,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMxOTUxNA==",
      "diff_hunk": "@@ -4475,12 +4479,26 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n \n+    std::string result;\n     bilingual_str error;\n     std::vector<bilingual_str> warnings;\n+    const int previous_version{pwallet->GetVersion()};\n+\n     if (!pwallet->UpgradeWallet(version, error, warnings)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    } else if (version == previous_version) {\n+        result = \"wallet version unchanged\";\n+    } else {\n+        result = strprintf(\"wallet upgraded successfully from version %i to version %i\", previous_version, version);\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {\n         obj.pushKV(\"error\", error.original);",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 58,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "377fa31c0e5515350ff3e6917fd7e09653c7ebd2",
      "in_reply_to_id": 524992713,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Let me know if there is anything needed WRT documenting the error approach.",
      "created_at": "2020-11-17T16:51:59Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525319514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525319514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4503,
      "original_line": 4503,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525328086",
      "pull_request_review_id": 532589316,
      "id": 525328086,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMyODA4Ng==",
      "diff_hunk": "@@ -4474,11 +4478,25 @@ static RPCHelpMan upgradewallet()\n     if (!request.params[0].isNull()) {\n         version = request.params[0].get_int();\n     }\n+    const int previous_version{pwallet->GetVersion()};\n+    std::string result;\n     bilingual_str error;\n-    if (!pwallet->UpgradeWallet(version, error)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+\n+    if (pwallet->UpgradeWallet(version, error)) {\n+        if (version == previous_version) {\n+            result = \"Already at latest version. Wallet version unchanged.\";\n+        } else {\n+            result = strprintf(\"Wallet upgraded successfully from version %i to version %i.\", previous_version, version);\n+        }\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    else { CHECK_NONFATAL(!error.empty());\r\n```",
      "created_at": "2020-11-17T17:02:29Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525328086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525328086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4500,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525329735",
      "pull_request_review_id": 532589316,
      "id": 525329735,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMyOTczNQ==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "the translation shouldn't be changed here, if you want this to be backported",
      "created_at": "2020-11-17T17:04:29Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525329735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525329735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525341964",
      "pull_request_review_id": 532607160,
      "id": 525341964,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM0MTk2NA==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525329735,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh right (thanks!) and same for the translation just above as well, I suppose\r\n```diff\r\n-        error = _(\"Cannot downgrade wallet\");\r\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\r\n```\r\n",
      "created_at": "2020-11-17T17:18:24Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525341964",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525341964"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525369168",
      "pull_request_review_id": 532642044,
      "id": 525369168,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM2OTE2OA==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525329735,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If you like the translation changes, you can put them into a separate commit and write \"not for backport\" in the commit body",
      "created_at": "2020-11-17T17:55:28Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525369168",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525369168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525400534",
      "pull_request_review_id": 532681081,
      "id": 525400534,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQwMDUzNA==",
      "diff_hunk": "@@ -4474,11 +4478,25 @@ static RPCHelpMan upgradewallet()\n     if (!request.params[0].isNull()) {\n         version = request.params[0].get_int();\n     }\n+    const int previous_version{pwallet->GetVersion()};\n+    std::string result;\n     bilingual_str error;\n-    if (!pwallet->UpgradeWallet(version, error)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+\n+    if (pwallet->UpgradeWallet(version, error)) {\n+        if (version == previous_version) {\n+            result = \"Already at latest version. Wallet version unchanged.\";\n+        } else {\n+            result = strprintf(\"Wallet upgraded successfully from version %i to version %i.\", previous_version, version);\n+        }\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    }\n     if (!error.empty()) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525328086,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks--done.",
      "created_at": "2020-11-17T18:43:45Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525400534",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525400534"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4500,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525424342",
      "pull_request_review_id": 532712485,
      "id": 525424342,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQyNDM0Mg==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525329735,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, thanks",
      "created_at": "2020-11-17T19:19:24Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525424342",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525424342"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525884287",
      "pull_request_review_id": 533188211,
      "id": 525884287,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg4NDI4Nw==",
      "diff_hunk": "@@ -158,40 +170,29 @@ def copy_split_hd():\n         self.restart_node(0)\n         copy_v16()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n-        old_version = wallet.getwalletinfo()[\"walletversion\"]\n-\n-        # calling upgradewallet without version arguments\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet version should be greater than older one\n-        assert_greater_than(new_version, old_version)\n+        self.log.info(\"Test upgradewallet without version arguments\")\n+        self.test_upgradewallet(wallet, previous_version=159900, requested_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "84efee1aa665d2c92257898aecd6ffcc383d5efe",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is not testing what the log claims to test",
      "created_at": "2020-11-18T08:09:46Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525884287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525884287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525886052",
      "pull_request_review_id": 533191848,
      "id": 525886052,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg4NjA1Mg==",
      "diff_hunk": "@@ -158,40 +170,29 @@ def copy_split_hd():\n         self.restart_node(0)\n         copy_v16()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n-        old_version = wallet.getwalletinfo()[\"walletversion\"]\n-\n-        # calling upgradewallet without version arguments\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet version should be greater than older one\n-        assert_greater_than(new_version, old_version)\n+        self.log.info(\"Test upgradewallet without version arguments\")\n+        self.test_upgradewallet(wallet, previous_version=159900, requested_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "84efee1aa665d2c92257898aecd6ffcc383d5efe",
      "in_reply_to_id": 525884287,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch ",
      "created_at": "2020-11-18T08:12:27Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525886052",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525886052"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525887477",
      "pull_request_review_id": 533192579,
      "id": 525887477,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg4NzQ3Nw==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525329735,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thought: do translated strings need to be static? I should look at the implementation.",
      "created_at": "2020-11-18T08:13:30Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525887477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525887477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525889455",
      "pull_request_review_id": 533193680,
      "id": 525889455,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg4OTQ1NQ==",
      "diff_hunk": "@@ -4113,20 +4113,25 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n     }\n     if (version < prev_version)\n     {\n-        error = _(\"Cannot downgrade wallet\");\n+        error = strprintf(_(\"Cannot downgrade wallet from version %i to version %i. Wallet version unchanged.\"), prev_version, version);\n+        version = prev_version;\n         return false;\n     }\n \n     LOCK(cs_wallet);\n \n     // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n     if (!CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n-        error = _(\"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use version 169900 or no version specified.\");\n+        error = strprintf(_(\"Cannot upgrade a non HD split wallet from version %i to version %i without upgrading to support pre-split keypool. Please use version %i or no version specified.\"),",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "877aba836ec48bfa881ec0dd90299015a3c27cce",
      "in_reply_to_id": 525329735,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "They can only be literals, but may include format specifiers",
      "created_at": "2020-11-18T08:15:05Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r525889455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/525889455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526059121",
      "pull_request_review_id": 533409240,
      "id": 526059121,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA1OTEyMQ==",
      "diff_hunk": "@@ -158,40 +170,29 @@ def copy_split_hd():\n         self.restart_node(0)\n         copy_v16()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n-        old_version = wallet.getwalletinfo()[\"walletversion\"]\n-\n-        # calling upgradewallet without version arguments\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet version should be greater than older one\n-        assert_greater_than(new_version, old_version)\n+        self.log.info(\"Test upgradewallet without version arguments\")\n+        self.test_upgradewallet(wallet, previous_version=159900, requested_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "84efee1aa665d2c92257898aecd6ffcc383d5efe",
      "in_reply_to_id": 525884287,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2020-11-18T12:46:24Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526059121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526059121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526063920",
      "pull_request_review_id": 533415587,
      "id": 526063920,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA2MzkyMA==",
      "diff_hunk": "@@ -333,14 +341,15 @@ def copy_split_hd():\n         # Check the wallet has a default key initially\n         old_kvs = dump_bdb_kv(node_master_wallet)\n         defaultkey = old_kvs[b'\\x0adefaultkey']\n-        # Upgrade the wallet. Should still have the same default key\n-        wallet.upgradewallet(159900)\n+        self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 148,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "25909e6701ed42ca67b50247727c84bfb5cb1f16",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@achow101 sanity check, if current version is 139900 `FEATURE_HD`, and upgradewallet 159900 `FEATURE_NO_DEFAULT_KEY` is called, is the wallet actually upgrading to 169900 `FEATURE_PRE_SPLIT_KEYPOOL/FEATURE_LATEST` the expected behavior ?",
      "created_at": "2020-11-18T12:54:41Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526063920",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526063920"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 345,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526143279",
      "pull_request_review_id": 533518488,
      "id": 526143279,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE0MzI3OQ==",
      "diff_hunk": "@@ -4133,6 +4133,8 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n             return false;\n         }\n     }\n+\n+    version = GetVersion(); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "2310fe9685246b0d505495ee98d38c82a1730293",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit 2310fe9685246b0d505495ee98d38c82a1730293: would be a smaller diff and less complexity if this was moved to the caller, no?",
      "created_at": "2020-11-18T14:46:06Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526143279",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526143279"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526150676",
      "pull_request_review_id": 533528196,
      "id": 526150676,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE1MDY3Ng==",
      "diff_hunk": "@@ -4133,6 +4133,8 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n             return false;\n         }\n     }\n+\n+    version = GetVersion(); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "2310fe9685246b0d505495ee98d38c82a1730293",
      "in_reply_to_id": 526143279,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I tried removing the first commit and just calling GetVersion() in `RPCHelpMan upgradewallet()` but the last test failed.\r\n\r\nLines 345, 96\r\nAssertionError: not({'wallet_name': '', 'previous_version': 139900, 'current_version': 169900, 'result': 'Wallet upgraded successfully from version 139900 to version 159900.'} == {'wallet_name': '', 'previous_version': 139900, 'current_version': 159900, 'result': 'Wallet upgraded successfully from version 139900 to version 159900.'})\r\n",
      "created_at": "2020-11-18T14:55:39Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526150676",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526150676"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526156133",
      "pull_request_review_id": 533535360,
      "id": 526156133,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE1NjEzMw==",
      "diff_hunk": "@@ -4133,6 +4133,8 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n             return false;\n         }\n     }\n+\n+    version = GetVersion(); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "2310fe9685246b0d505495ee98d38c82a1730293",
      "in_reply_to_id": 526143279,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hm, will try again.",
      "created_at": "2020-11-18T15:02:16Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526156133",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526156133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526166042",
      "pull_request_review_id": 533548396,
      "id": 526166042,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE2NjA0Mg==",
      "diff_hunk": "@@ -4133,6 +4133,8 @@ bool CWallet::UpgradeWallet(int version, bilingual_str& error)\n             return false;\n         }\n     }\n+\n+    version = GetVersion(); // return actual updated version",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "2310fe9685246b0d505495ee98d38c82a1730293",
      "in_reply_to_id": 526143279,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I didn't update one of the version variables the first time. Seems good.",
      "created_at": "2020-11-18T15:14:41Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526166042",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526166042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526218796",
      "pull_request_review_id": 533618348,
      "id": 526218796,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjIxODc5Ng==",
      "diff_hunk": "@@ -333,14 +341,15 @@ def copy_split_hd():\n         # Check the wallet has a default key initially\n         old_kvs = dump_bdb_kv(node_master_wallet)\n         defaultkey = old_kvs[b'\\x0adefaultkey']\n-        # Upgrade the wallet. Should still have the same default key\n-        wallet.upgradewallet(159900)\n+        self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 148,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "25909e6701ed42ca67b50247727c84bfb5cb1f16",
      "in_reply_to_id": 526063920,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Versions less than `FEATURE_HD_SPLIT` cannot upgrade to `FEATURE_HD_SPLIT` or `FEATURE_NO_DEFAULT_KEY`. They must upgrade to `FEATURE_PRE_SPLIT_KEYPOOL` at which time both the previous features will also be applied.\r\n\r\nIf a user specifies `FEATURE_NO_DEFAULT_KEY` on ` FEATURE_HD` wallet, we should probably give an error and tell the user they can't do that.\r\n\r\nEdit: This test is `FEATURE_HD_SPLIT`, not `FEATURE_HD`. I'm not sure why it jumps to `FEATURE_LATEST`.",
      "created_at": "2020-11-18T16:18:48Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526218796",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526218796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 345,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526314740",
      "pull_request_review_id": 533742390,
      "id": 526314740,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMxNDc0MA==",
      "diff_hunk": "@@ -333,14 +341,15 @@ def copy_split_hd():\n         # Check the wallet has a default key initially\n         old_kvs = dump_bdb_kv(node_master_wallet)\n         defaultkey = old_kvs[b'\\x0adefaultkey']\n-        # Upgrade the wallet. Should still have the same default key\n-        wallet.upgradewallet(159900)\n+        self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=169900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 148,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "25909e6701ed42ca67b50247727c84bfb5cb1f16",
      "in_reply_to_id": 526063920,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Found it. Here's a fix.\r\n\r\n```diff\r\ndiff --git a/src/wallet/scriptpubkeyman.cpp b/src/wallet/scriptpubkeyman.cpp\r\nindex d2e1be6402..7dbbf17302 100644\r\n--- a/src/wallet/scriptpubkeyman.cpp\r\n+++ b/src/wallet/scriptpubkeyman.cpp\r\n@@ -453,7 +453,7 @@ bool LegacyScriptPubKeyMan::Upgrade(int prev_version, int new_version, bilingual\r\n         hd_upgrade = true;\r\n     }\r\n     // Upgrade to HD chain split if necessary\r\n-    if (IsFeatureSupported(new_version, FEATURE_HD_SPLIT)) {\r\n+    if (!IsFeatureSupported(prev_version, FEATURE_HD_SPLIT) && IsFeatureSupported(new_version, FEATURE_HD_SPLIT)) {\r\n         WalletLogPrintf(\"Upgrading wallet to use HD chain split\\n\");\r\n         m_storage.SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);\r\n         split_upgrade = FEATURE_HD_SPLIT > prev_version;\r\ndiff --git a/test/functional/wallet_upgradewallet.py b/test/functional/wallet_upgradewallet.py\r\nindex 7cae913fa1..fdd52ba574 100755\r\n--- a/test/functional/wallet_upgradewallet.py\r\n+++ b/test/functional/wallet_upgradewallet.py\r\n@@ -342,7 +342,7 @@ class UpgradeWalletTest(BitcoinTestFramework):\r\n         old_kvs = dump_bdb_kv(node_master_wallet)\r\n         defaultkey = old_kvs[b'\\x0adefaultkey']\r\n         self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\r\n-        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=169900)\r\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900, expected_version=159900)\r\n         new_kvs = dump_bdb_kv(node_master_wallet)\r\n         up_defaultkey = new_kvs[b'\\x0adefaultkey']\r\n         assert_equal(defaultkey, up_defaultkey)\r\n```\r\n\r\nThis particular change probably needs backport to 0.21, so I'll make a separate PR for it.",
      "created_at": "2020-11-18T18:11:50Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r526314740",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/526314740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 345,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527077372",
      "pull_request_review_id": 534695605,
      "id": 527077372,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3NzM3Mg==",
      "diff_hunk": "@@ -158,40 +171,29 @@ def copy_split_hd():\n         self.restart_node(0)\n         copy_v16()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n-        old_version = wallet.getwalletinfo()[\"walletversion\"]\n-\n-        # calling upgradewallet without version arguments\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet version should be greater than older one\n-        assert_greater_than(new_version, old_version)\n+        self.log.info(\"Test upgradewallet without a version argument\")\n+        self.test_upgradewallet(wallet, previous_version=159900, expected_version=169900)\n         # wallet should still contain the same balance\n         assert_equal(wallet.getbalance(), v16_3_balance)\n \n         copy_non_hd()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n         # should have no master key hash before conversion\n         assert_equal('hdseedid' in wallet.getwalletinfo(), False)\n-        # calling upgradewallet with explicit version number\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(169900), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet should have version 169900\n-        assert_equal(new_version, 169900)\n+        self.log.info(\"Test upgradewallet with explicit version number\")\n+        self.test_upgradewallet(wallet, previous_version=60000, requested_version=169900)\n         # after conversion master key hash should be present\n         assert_is_hex_string(wallet.getwalletinfo()['hdseedid'])\n \n-        self.log.info('Intermediary versions don\\'t effect anything')\n+        self.log.info(\"Intermediary versions don't effect anything\")\n         copy_non_hd()\n         # Wallet starts with 60000\n         assert_equal(60000, wallet.getwalletinfo()['walletversion'])\n         wallet.unloadwallet()\n         before_checksum = sha256sum_file(node_master_wallet)\n         node_master.loadwallet('')\n-        # Can \"upgrade\" to 129999 which should have no effect on the wallet\n-        wallet.upgradewallet(129999)\n-        assert_equal(60000, wallet.getwalletinfo()['walletversion'])\n+        # Test an \"upgrade\" from 60000 to 129999 has no effect, as next version is 130000\n+        self.test_upgradewallet(wallet, previous_version=60000, requested_version=129900, expected_version=60000)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 73,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "4dc34408bfe8fa1c229d99a3d0d03a42c83ced69",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 4dc34408bfe8fa1c229d99a3d0d03a42c83ced69 \"wallet: fix and improve upgradewallet result responses\"\r\n\r\n`requested_version` should be 129999, not 129900",
      "created_at": "2020-11-19T17:42:15Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r527077372",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527077372"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527079206",
      "pull_request_review_id": 534695605,
      "id": 527079206,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3OTIwNg==",
      "diff_hunk": "@@ -333,8 +332,8 @@ def copy_split_hd():\n         # Check the wallet has a default key initially\n         old_kvs = dump_bdb_kv(node_master_wallet)\n         defaultkey = old_kvs[b'\\x0adefaultkey']\n-        # Upgrade the wallet. Should still have the same default key\n-        wallet.upgradewallet(159900)\n+        self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": 149,
      "original_position": 114,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "4dc34408bfe8fa1c229d99a3d0d03a42c83ced69",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 4dc34408bfe8fa1c229d99a3d0d03a42c83ced69 \"wallet: fix and improve upgradewallet result responses\"\r\n\r\nThe `assert_equal(wallet.getwalletinfo()[\"walletversion\"], 159900)` below can be removed now.",
      "created_at": "2020-11-19T17:45:00Z",
      "updated_at": "2020-11-19T19:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r527079206",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527079206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 346,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527128305",
      "pull_request_review_id": 534760864,
      "id": 527128305,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEyODMwNQ==",
      "diff_hunk": "@@ -158,40 +171,29 @@ def copy_split_hd():\n         self.restart_node(0)\n         copy_v16()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n-        old_version = wallet.getwalletinfo()[\"walletversion\"]\n-\n-        # calling upgradewallet without version arguments\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet version should be greater than older one\n-        assert_greater_than(new_version, old_version)\n+        self.log.info(\"Test upgradewallet without a version argument\")\n+        self.test_upgradewallet(wallet, previous_version=159900, expected_version=169900)\n         # wallet should still contain the same balance\n         assert_equal(wallet.getbalance(), v16_3_balance)\n \n         copy_non_hd()\n         wallet = node_master.get_wallet_rpc(self.default_wallet_name)\n         # should have no master key hash before conversion\n         assert_equal('hdseedid' in wallet.getwalletinfo(), False)\n-        # calling upgradewallet with explicit version number\n-        # should return nothing if successful\n-        assert_equal(wallet.upgradewallet(169900), {})\n-        new_version = wallet.getwalletinfo()[\"walletversion\"]\n-        # upgraded wallet should have version 169900\n-        assert_equal(new_version, 169900)\n+        self.log.info(\"Test upgradewallet with explicit version number\")\n+        self.test_upgradewallet(wallet, previous_version=60000, requested_version=169900)\n         # after conversion master key hash should be present\n         assert_is_hex_string(wallet.getwalletinfo()['hdseedid'])\n \n-        self.log.info('Intermediary versions don\\'t effect anything')\n+        self.log.info(\"Intermediary versions don't effect anything\")\n         copy_non_hd()\n         # Wallet starts with 60000\n         assert_equal(60000, wallet.getwalletinfo()['walletversion'])\n         wallet.unloadwallet()\n         before_checksum = sha256sum_file(node_master_wallet)\n         node_master.loadwallet('')\n-        # Can \"upgrade\" to 129999 which should have no effect on the wallet\n-        wallet.upgradewallet(129999)\n-        assert_equal(60000, wallet.getwalletinfo()['walletversion'])\n+        # Test an \"upgrade\" from 60000 to 129999 has no effect, as next version is 130000\n+        self.test_upgradewallet(wallet, previous_version=60000, requested_version=129900, expected_version=60000)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": null,
      "original_position": 73,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "4dc34408bfe8fa1c229d99a3d0d03a42c83ced69",
      "in_reply_to_id": 527077372,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch, thanks. Done.",
      "created_at": "2020-11-19T19:03:50Z",
      "updated_at": "2020-11-19T19:03:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r527128305",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527128305"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527128481",
      "pull_request_review_id": 534761077,
      "id": 527128481,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEyODQ4MQ==",
      "diff_hunk": "@@ -333,8 +332,8 @@ def copy_split_hd():\n         # Check the wallet has a default key initially\n         old_kvs = dump_bdb_kv(node_master_wallet)\n         defaultkey = old_kvs[b'\\x0adefaultkey']\n-        # Upgrade the wallet. Should still have the same default key\n-        wallet.upgradewallet(159900)\n+        self.log.info(\"Upgrade the wallet. Should still have the same default key.\")\n+        self.test_upgradewallet(wallet, previous_version=139900, requested_version=159900)",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": 149,
      "original_position": 114,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "4dc34408bfe8fa1c229d99a3d0d03a42c83ced69",
      "in_reply_to_id": 527079206,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for confirming that. Done.",
      "created_at": "2020-11-19T19:04:07Z",
      "updated_at": "2020-11-19T19:04:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r527128481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/527128481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 346,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529992162",
      "pull_request_review_id": 538043515,
      "id": 529992162,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTk5MjE2Mg==",
      "diff_hunk": "@@ -4214,7 +4214,7 @@ static RPCHelpMan sethdseed()\n \n     // Do not do anything to non-HD wallets\n     if (!pwallet->CanSupportFeature(FEATURE_HD)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set an HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD\");",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"a\" is correct...",
      "created_at": "2020-11-24T23:17:19Z",
      "updated_at": "2020-11-24T23:21:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r529992162",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529992162"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4217,
      "original_line": 4217,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530003033",
      "pull_request_review_id": 538048263,
      "id": 530003033,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDAwMzAzMw==",
      "diff_hunk": "@@ -4214,7 +4214,7 @@ static RPCHelpMan sethdseed()\n \n     // Do not do anything to non-HD wallets\n     if (!pwallet->CanSupportFeature(FEATURE_HD)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set an HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD\");",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": 529992162,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://www.referencepointsoftware.com/a-vs-an-before-an-abbreviation/",
      "created_at": "2020-11-24T23:28:41Z",
      "updated_at": "2020-11-24T23:28:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r530003033",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530003033"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4217,
      "original_line": 4217,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530307834",
      "pull_request_review_id": 538408343,
      "id": 530307834,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMwNzgzNA==",
      "diff_hunk": "@@ -92,6 +90,32 @@ def dumb_sync_blocks(self):\n             v16_3_node.submitblock(b)\n         assert_equal(v16_3_node.getblockcount(), to_height)\n \n+    def test_upgradewallet(self, wallet, previous_version, requested_version=None, expected_version=None):",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": 14,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit 99d56e357159c7154f69f28cb5587c5ca20d6594:\r\n\r\n```suggestion\r\n    def test_upgradewallet(self, wallet, *, previous_version, requested_version, expected_version=None):\r\n```\r\n\r\nCould force named args and pass requested_version in all cases for clarity. Only one call needs to be adjusted, I think.",
      "created_at": "2020-11-25T11:36:25Z",
      "updated_at": "2020-11-25T11:46:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r530307834",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530307834"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 93,
      "original_line": 93,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530312324",
      "pull_request_review_id": 538408343,
      "id": 530312324,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMxMjMyNA==",
      "diff_hunk": "@@ -4475,11 +4479,27 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n     bilingual_str error;\n-    if (!pwallet->UpgradeWallet(version, error)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    const int previous_version{pwallet->GetVersion()};\n+    const bool wallet_upgraded{pwallet->UpgradeWallet(version, error)};\n+    const int current_version{pwallet->GetVersion()};\n+    std::string result;\n+\n+    if (wallet_upgraded) {\n+        if (previous_version == current_version) {\n+            result = \"Already at latest version. Wallet version unchanged.\";\n+        } else {\n+            result = strprintf(\"Wallet upgraded successfully from version %i to version %i.\", previous_version, current_version);\n+        }\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n-    if (!error.empty()) {\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", current_version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    } else {\n+        CHECK_NONFATAL(!error.empty());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "style nit ca8cd893bb56bf5d455154b0498b1f58f77d20ed:\r\n\r\nThis should check (before the if) that there is either an error or a result, but not both.\r\n\r\n```cpp\r\n\r\nCHECK_NONFATAL(error.empty != result.empty());",
      "created_at": "2020-11-25T11:44:31Z",
      "updated_at": "2020-11-25T11:46:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r530312324",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530312324"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4502,
      "original_line": 4502,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530333145",
      "pull_request_review_id": 538440810,
      "id": 530333145,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMzMzE0NQ==",
      "diff_hunk": "@@ -92,6 +90,32 @@ def dumb_sync_blocks(self):\n             v16_3_node.submitblock(b)\n         assert_equal(v16_3_node.getblockcount(), to_height)\n \n+    def test_upgradewallet(self, wallet, previous_version, requested_version=None, expected_version=None):",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": 14,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": 530307834,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> nit [99d56e3](https://github.com/bitcoin/bitcoin/commit/99d56e357159c7154f69f28cb5587c5ca20d6594):\r\n> \r\n> Could force named args and pass requested_version in all cases for clarity. Only one call needs to be adjusted, I think.\r\n\r\nThanks! Good idea.",
      "created_at": "2020-11-25T12:22:11Z",
      "updated_at": "2020-11-25T12:22:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r530333145",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530333145"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 93,
      "original_line": 93,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530334298",
      "pull_request_review_id": 538442230,
      "id": 530334298,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMzNDI5OA==",
      "diff_hunk": "@@ -4475,11 +4479,27 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n     bilingual_str error;\n-    if (!pwallet->UpgradeWallet(version, error)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    const int previous_version{pwallet->GetVersion()};\n+    const bool wallet_upgraded{pwallet->UpgradeWallet(version, error)};\n+    const int current_version{pwallet->GetVersion()};\n+    std::string result;\n+\n+    if (wallet_upgraded) {\n+        if (previous_version == current_version) {\n+            result = \"Already at latest version. Wallet version unchanged.\";\n+        } else {\n+            result = strprintf(\"Wallet upgraded successfully from version %i to version %i.\", previous_version, current_version);\n+        }\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n-    if (!error.empty()) {\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", current_version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    } else {\n+        CHECK_NONFATAL(!error.empty());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": 530312324,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> style nit [ca8cd89](https://github.com/bitcoin/bitcoin/commit/ca8cd893bb56bf5d455154b0498b1f58f77d20ed):\r\n> \r\n> This should check (before the if) that there is either an error or a result, but not both.\r\n\r\nGood idea, that would be better.",
      "created_at": "2020-11-25T12:24:05Z",
      "updated_at": "2020-11-25T12:24:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r530334298",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/530334298"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4502,
      "original_line": 4502,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/531710908",
      "pull_request_review_id": 540115970,
      "id": 531710908,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcxMDkwOA==",
      "diff_hunk": "@@ -92,6 +90,32 @@ def dumb_sync_blocks(self):\n             v16_3_node.submitblock(b)\n         assert_equal(v16_3_node.getblockcount(), to_height)\n \n+    def test_upgradewallet(self, wallet, previous_version, requested_version=None, expected_version=None):",
      "path": "test/functional/wallet_upgradewallet.py",
      "position": 14,
      "original_position": 14,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": 530307834,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in e915a2a2c87dad5beb68a175b21a07136bcc21ca",
      "created_at": "2020-11-27T17:32:34Z",
      "updated_at": "2020-11-27T17:32:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r531710908",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/531710908"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 93,
      "original_line": 93,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/531710951",
      "pull_request_review_id": 540116031,
      "id": 531710951,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcxMDk1MQ==",
      "diff_hunk": "@@ -4475,11 +4479,27 @@ static RPCHelpMan upgradewallet()\n         version = request.params[0].get_int();\n     }\n     bilingual_str error;\n-    if (!pwallet->UpgradeWallet(version, error)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, error.original);\n+    const int previous_version{pwallet->GetVersion()};\n+    const bool wallet_upgraded{pwallet->UpgradeWallet(version, error)};\n+    const int current_version{pwallet->GetVersion()};\n+    std::string result;\n+\n+    if (wallet_upgraded) {\n+        if (previous_version == current_version) {\n+            result = \"Already at latest version. Wallet version unchanged.\";\n+        } else {\n+            result = strprintf(\"Wallet upgraded successfully from version %i to version %i.\", previous_version, current_version);\n+        }\n     }\n+\n     UniValue obj(UniValue::VOBJ);\n-    if (!error.empty()) {\n+    obj.pushKV(\"wallet_name\", pwallet->GetName());\n+    obj.pushKV(\"previous_version\", previous_version);\n+    obj.pushKV(\"current_version\", current_version);\n+    if (!result.empty()) {\n+        obj.pushKV(\"result\", result);\n+    } else {\n+        CHECK_NONFATAL(!error.empty());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 57,
      "original_position": 57,
      "commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "original_commit_id": "3eb6f8b2e61c24a22ea9396d86672307845f35eb",
      "in_reply_to_id": 530312324,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in e915a2a2c87dad5beb68a175b21a07136bcc21ca",
      "created_at": "2020-11-27T17:32:42Z",
      "updated_at": "2020-11-27T17:32:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20403#discussion_r531710951",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/531710951"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4502,
      "original_line": 4502,
      "side": "RIGHT"
    }
  ]
}