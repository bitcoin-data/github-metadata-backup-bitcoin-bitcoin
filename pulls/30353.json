{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353",
    "id": 1943072567,
    "node_id": "PR_kwDOABII585z0O83",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30353",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30353.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30353.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
    "number": 30353,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: fix inconsistency in fundrawtransaction weight limits test",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fix https://github.com/bitcoin/bitcoin/pull/30309#discussion_r1657628378 inconsistency.\r\n\r\nCurrently, the test is passing due to a mistake in the test inputs\r\nselection process. We are selecting the parent transaction change\r\noutput as one of the inputs of the transaction to fund, which\r\nhelps to surpass the target amount when it shouldn't due to the\r\nfee reduction.\r\n\r\nThe failure arises when the test behaves as intended by its coder;\r\nthat is, when it does not select the change output. In this case,\r\nthe pre-selected inputs aren't enough to cover the target amount.\r\n\r\nFix this by excluding the parent transaction's change output from\r\nthe inputs selection and including an extra input to cover the tx\r\nfee.\r\n\r\nThe CI failure can be replicated with the following patch in master:\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_fundrawtransaction.py b/test/functional/wallet_fundrawtransaction.py\r\n--- a/test/functional/wallet_fundrawtransaction.py\t(revision 9b480f7a25a737c9c4ebc33401e94d66c2da9ec3)\r\n+++ b/test/functional/wallet_fundrawtransaction.py\t(date 1720652934739)\r\n@@ -1322,7 +1322,7 @@\r\n         outputs = []\r\n         for _ in range(1472):\r\n             outputs.append({wallet.getnewaddress(address_type=\"legacy\"): 0.1})\r\n-        txid = self.nodes[0].send(outputs=outputs)[\"txid\"]\r\n+        txid = self.nodes[0].send(outputs=outputs, change_position=0)[\"txid\"]\r\n         self.generate(self.nodes[0], 1)\r\n \r\n         # 272 WU per input (273 when high-s); picking 1471 inputs will exceed the max standard tx weight.\r\n@@ -1330,7 +1330,7 @@\r\n \r\n         # 1) Try to fund transaction only using the preset inputs\r\n         input_weights = []\r\n-        for i in range(1471):\r\n+        for i in range(1, 1472):  # skip first output as it is the parent tx change output\r\n             input_weights.append({\"txid\": txid, \"vout\": i, \"weight\": 273})\r\n         assert_raises_rpc_error(-4, \"Transaction too large\", wallet.fundrawtransaction, hexstring=rawtx, input_weights=input_weights)\r\n```",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/66",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66/labels",
      "id": 10314936,
      "node_id": "MI_kwDOABII584AnWS4",
      "number": 66,
      "state": "open",
      "title": "28.0",
      "creator": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 8,
      "closed_issues": 20,
      "created_at": "2023-12-15T12:08:23Z",
      "updated_at": "2024-07-10T17:22:30Z"
    },
    "created_at": "2024-06-27T19:50:09Z",
    "updated_at": "2024-07-11T18:50:59Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "71a75101779ad529bae75ebee296166973d604d6",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "furszy:2024_test_fix_max_weight_test",
      "ref": "2024_test_fix_max_weight_test",
      "sha": "00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 407104,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-10T23:04:59Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-07-04T14:23:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9b480f7a25a737c9c4ebc33401e94d66c2da9ec3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35629,
        "stargazers_count": 77157,
        "watchers_count": 77157,
        "size": 263004,
        "default_branch": "master",
        "open_issues_count": 683,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-11T18:54:49Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-11T18:21:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 3,
    "deletions": 3,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 0,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 2195558939,
      "node_id": "IC_kwDOABII586C3ZIb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2195558939",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T19:50:11Z",
      "updated_at": "2024-07-11T18:49:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30353).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2171797056), [achow101](https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2223661762) |\n| Stale ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2147327181), [fjahr](https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2198529040) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2195558939",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353"
    },
    {
      "event": "labeled",
      "id": 13322824366,
      "node_id": "LE_lADOABII586NzEzvzwAAAAMaGiqu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13322824366",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T19:50:14Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "milestoned",
      "id": 13322878723,
      "node_id": "MIE_lADOABII586NzEzvzwAAAAMaGv8D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13322878723",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T19:55:46Z",
      "milestone": {
        "title": "28.0"
      }
    },
    {
      "event": "reviewed",
      "id": 2147327181,
      "node_id": "PRR_kwDOABII585__ZzN",
      "url": null,
      "actor": null,
      "commit_id": "4f571fb73526b55a83af3c04fbc662ccdd1307ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "tACK [4f571fb](https://github.com/bitcoin/bitcoin/pull/30353/commits/4f571fb73526b55a83af3c04fbc662ccdd1307ae)\r\n\r\n`make, test/functional` are successful.\r\n\r\nVerified that the default value of `add_inputs` is `True` in `fundrawtransaction` that might have caused the inconsistency in the CI: https://github.com/bitcoin/bitcoin/blob/master/src/wallet/rpc/spend.cpp#L751\r\n\r\nAlso verified that the corresponding scenario in `wallet_send.py` has `add_inputs: False` passed already here: https://github.com/bitcoin/bitcoin/blob/master/test/functional/wallet_send.py#L600",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2147327181",
      "submitted_at": "2024-06-28T08:06:53Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
    },
    {
      "event": "commented",
      "id": 2198529040,
      "node_id": "IC_kwDOABII586DCuQQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2198529040",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-30T11:26:14Z",
      "updated_at": "2024-06-30T11:26:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 4f571fb73526b55a83af3c04fbc662ccdd1307ae\r\n\r\nThis looks like the right fix for the observed test failure to me.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2198529040",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353"
    },
    {
      "event": "labeled",
      "id": 13434765509,
      "node_id": "LE_lADOABII586NzEzvzwAAAAMgxkDF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13434765509",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-09T07:11:19Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 2169806132,
      "node_id": "PRR_kwDOABII586BVJ00",
      "url": null,
      "actor": null,
      "commit_id": "4f571fb73526b55a83af3c04fbc662ccdd1307ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "\r\nConcept ACK\r\n\r\nI could not recreate [this failure](https://cirrus-ci.com/task/5319226913718272?logs=ci#L1923) locally. Looking closely at  the code,  4f571fb73526b55a83af3c04fbc662ccdd1307ae might not solve the issue. \r\nFor us to load coins from `AutomaticCoinSelection` and reach the failure in the C.I.\r\n`selection_target` in `SelectCoins` must be greater than 0.\r\n\r\n\r\nBut when `selection_target` is > 0 and we prevent adding input with `m_allow_other_inputs=False`, just as it's done in  4f571fb73526b55a83af3c04fbc662ccdd1307ae we will encounter another issue:\r\nhttps://github.com/bitcoin/bitcoin/blob/9adebe145557ef410964dd48a02f3d239f488cd0/src/wallet/spend.cpp#L769-L771\r\n\r\nI wonder why `selection_target` is not even positive in this test and cause failure like it did in the C.I because;\r\nThe selected inputs values should be `14710000000` sats.\r\nOutput value is also same `14710000000` sats.\r\n`nTargetValue` (output value + fees) should be greater than the selected inputs values making  `selection_target` positive?\r\n\r\n---\r\nI think to fix to prevent this failure, we should add more inputs to the `input_weight` to cover for the fees and ensure the `selection_target` is negative.\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_fundrawtransaction.py b/test/functional/wallet_fundrawtransaction.py\r\nindex 3c1b2deb1d7..fdc7d8e80a2 100755\r\n--- a/test/functional/wallet_fundrawtransaction.py\r\n+++ b/test/functional/wallet_fundrawtransaction.py\r\n@@ -1326,11 +1326,12 @@ class RawTransactionsTest(BitcoinTestFramework):\r\n         self.generate(self.nodes[0], 1)\r\n \r\n         # 272 WU per input (273 when high-s); picking 1471 inputs will exceed the max standard tx weight.\r\n+        # Add 1 input to cover for fees\r\n         rawtx = wallet.createrawtransaction([], [{wallet.getnewaddress(): 0.1 * 1471}])\r\n \r\n         # 1) Try to fund transaction only using the preset inputs\r\n         input_weights = []\r\n-        for i in range(1471):\r\n+        for i in range 1472):\r\n             input_weights.append({\"txid\": txid, \"vout\": i, \"weight\": 273})\r\n         assert_raises_rpc_error(-4, \"Transaction too large\", wallet.fundrawtransaction, hexstring=rawtx, input_weights=input_weights)\r\n```\r\n\r\nOr even better, we should fail early without needing to perform all the redundant operations whenever pre-selected inputs weight alone exceed the maximum standard weight.\r\n\r\n```diff\r\ndiff --git a/src/wallet/rpc/spend.cpp b/src/wallet/rpc/spend.cpp\r\nindex ac2a4826f05..d3c1349553e 100644\r\n--- a/src/wallet/rpc/spend.cpp\r\n+++ b/src/wallet/rpc/spend.cpp\r\n@@ -670,6 +670,7 @@ CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransact\r\n         }\r\n     }\r\n \r\n+    int total_inputs_weight{0};\r\n     if (options.exists(\"input_weights\")) {\r\n         for (const UniValue& input : options[\"input_weights\"].get_array().getValues()) {\r\n             Txid txid = Txid::FromUint256(ParseHashO(input, \"txid\"));\r\n@@ -696,10 +697,13 @@ CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransact\r\n             if (weight > MAX_STANDARD_TX_WEIGHT) {\r\n                 throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Invalid parameter, weight cannot be greater than the maximum standard tx weight of %d\", MAX_STANDARD_TX_WEIGHT));\r\n             }\r\n-\r\n+            total_inputs_weight += weight;\r\n             coinControl.SetInputWeight(COutPoint(txid, vout), weight);\r\n         }\r\n     }\r\n+    if (total_inputs_weight > MAX_STANDARD_TX_WEIGHT) {\r\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Selected inputs weight cannot be greater than the maximum standard tx weight of %d\", MAX_STANDARD_TX_WEIGHT));\r\n+    }\r\n \r\n     if (recipients.empty())\r\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"TX must have at least one output\");\r\ndiff --git a/test/functional/wallet_fundrawtransaction.py b/test/functional/wallet_fundrawtransaction.py\r\nindex 3c1b2deb1d7..727451fb79e 100755\r\n--- a/test/functional/wallet_fundrawtransaction.py\r\n+++ b/test/functional/wallet_fundrawtransaction.py\r\n@@ -1332,7 +1332,7 @@ class RawTransactionsTest(BitcoinTestFramework):\r\n         input_weights = []\r\n         for i in range 1471):\r\n             input_weights.append({\"txid\": txid, \"vout\": i, \"weight\": 273})\r\n-        assert_raises_rpc_error(-4, \"Transaction too large\", wallet.fundrawtransaction, hexstring=rawtx, input_weights=input_weights)\r\n+        assert_raises_rpc_error(-8, \"Selected inputs weight cannot be greater than the maximum standard tx weight of 400000\", wallet.fundrawtransaction, hexstring=rawtx, input_weights=input_weights)\r\n \r\n         # 2) Let the wallet fund the transaction\r\n         assert_raises_rpc_error(-4, \"The inputs size exceeds the maximum weight. Please try sending a smaller amount or manually consolidating your wallet's UTXOs\",\r\n```",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2169806132",
      "submitted_at": "2024-07-10T17:17:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
    },
    {
      "event": "reviewed",
      "id": 2170403279,
      "node_id": "PRR_kwDOABII586BXbnP",
      "url": null,
      "actor": null,
      "commit_id": "4f571fb73526b55a83af3c04fbc662ccdd1307ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Nice writeup @ismaelsadeeq!. Thanks for the push, just understood the reason behind it.\r\n\r\nThe issue is in the inputs selection. They are manually selected from the parent tx without excluding the change output. This output is not from the wallet and helps to surpass the selection amount (otherwise yes, the test would be failing all the time). So, the CI failure arises when the test excludes the change output which only occurs when the change output is at the end of the tx outputs vector.. whose probability is very low.\r\n\r\nThis also presents an issue inside the wallet. Because it is not detecting that the pre-selected input is not solvable when the user provides the inputs weight. And this has an edge case explanation too.. it is because the wallet can know the not-owned change output internally (which is not so common) when it is an output of a transaction the wallet stores -> because another output(s) of this tx is owned by the wallet. Extra note: This is not a problem for `fundrawtransaction()` because the command does not sign the transaction. Only for `send()`.\r\n\r\nWill fix the test and also this last issue.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2170403279",
      "submitted_at": "2024-07-10T21:35:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAwYjhlMjZiZDZhNDdhODIwN2M3NTcxY2E3ZWY5NjQzZjBlZTI2Njg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
      "tree": {
        "sha": "dd6cde204060d038056018bbad5dedf07a6ed947",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd6cde204060d038056018bbad5dedf07a6ed947"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dd6cde204060d038056018bbad5dedf07a6ed947\nparent f0745d028e42486fb346015cfc481923739c479e\nauthor furszy <matiasfurszyfer@protonmail.com> 1719517619 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1720652661 -0300\n\ntest: fix inconsistency in fundrawtransaction weight limits test\n\nCurrently, the test is passing due to a mistake in the test inputs\nselection process. We are selecting the parent transaction change\noutput as one of the inputs of the transaction to fund, which\nhelps to surpass the target amount when it shouldn't due to the\nfee reduction.\n\nThe failure arises when the test behaves as intended by its coder;\nthat is, when it does not select the change output. In this case,\nthe pre-selected inputs aren't enough to cover the target amount.\n\nFix this by excluding the parent transaction's change output from\nthe inputs selection and including an extra input to cover the tx\nfee.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmaPE3UACgkQXdI8zGhq\npiNWJxAAsFDJsjaKM6/Xu4/RYlYnCT53cGy9ZlXKF6WTiz/aWgl7hrbT3zPojdhu\nrazdJQhwr4N2sQS69SwtD77UKnxt3Z0qCOGf+g16FtTo7x9wvx6Ye90gLVJ6x3bm\nobOrUX9ckgZSYi6XZrR1NuLEKvVmx8lvfXkNJ21b/k3qkm4CIjIwSfSZyo2UlXZS\ndd0EDTzh0qOKGUrBM3x2Z0N6HRn6200qgnruF387rET1DGpHpcMi4Z0fVZ74/NbA\n6J5kBa1C9u+6EfaSihCVj85KErxP9wYaYS86/Rrvv8eCiO2M5+1bpRGbXNgJtrjZ\noZ9AfPBuNcq+bUBuu1+E1WmTAmM6c3ci6U6l2FTwPXo/XbaWXmNqYTZUyRkyX67m\n6y8/u2DUqit8q2yMww+teN2BBq12vGYqp07jRrFASFiAXL1nYKC4filUAHCxSGIc\ndkPXlureWmVMX/sJF5kKakFhj9nE6wBk1HPbHLy/psrtgNoA38GaIu2BCtYHe2Gb\n62DzLX1eG2UTOXDql/nu5iKtwidB4PFPnSVqr1RjtrGkzwgcGi5/BjktqU2OsIaJ\nYKv2jl9BMFTyQmZd/ffjFWlRdpP9/qL9aI9hOjuvBj8yNVZ1M0wxHThulRMTY+LG\nj++cnFHRVpevb5IPdkcsPfd0/RHD3ID+EFnbolYGZfVVeUcMwqQ=\n=x1JD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f0745d028e42486fb346015cfc481923739c479e",
          "sha": "f0745d028e42486fb346015cfc481923739c479e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f0745d028e42486fb346015cfc481923739c479e"
        }
      ],
      "message": "test: fix inconsistency in fundrawtransaction weight limits test\n\nCurrently, the test is passing due to a mistake in the test inputs\nselection process. We are selecting the parent transaction change\noutput as one of the inputs of the transaction to fund, which\nhelps to surpass the target amount when it shouldn't due to the\nfee reduction.\n\nThe failure arises when the test behaves as intended by its coder;\nthat is, when it does not select the change output. In this case,\nthe pre-selected inputs aren't enough to cover the target amount.\n\nFix this by excluding the parent transaction's change output from\nthe inputs selection and including an extra input to cover the tx\nfee.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-07-10T23:04:21Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-27T19:46:59Z"
      },
      "sha": "00b8e26bd6a47a8207c7571ca7ef9643f0ee2668"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13463596459,
      "node_id": "HRFPE_lADOABII586NzEzvzwAAAAMifi2r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13463596459",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-10T23:05:01Z"
    },
    {
      "event": "reviewed",
      "id": 2170533629,
      "node_id": "PRR_kwDOABII586BX7b9",
      "url": null,
      "actor": null,
      "commit_id": "00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Updated per feedback.\r\n\r\nThe CI failure that originated this PR (https://github.com/bitcoin/bitcoin/pull/30309#discussion_r1657628378) can be replicated with the following patch in master:\r\n```diff\r\ndiff --git a/test/functional/wallet_fundrawtransaction.py b/test/functional/wallet_fundrawtransaction.py\r\n--- a/test/functional/wallet_fundrawtransaction.py\t(revision 9b480f7a25a737c9c4ebc33401e94d66c2da9ec3)\r\n+++ b/test/functional/wallet_fundrawtransaction.py\t(date 1720652934739)\r\n@@ -1322,7 +1322,7 @@\r\n         outputs = []\r\n         for _ in range(1472):\r\n             outputs.append({wallet.getnewaddress(address_type=\"legacy\"): 0.1})\r\n-        txid = self.nodes[0].send(outputs=outputs)[\"txid\"]\r\n+        txid = self.nodes[0].send(outputs=outputs, change_position=0)[\"txid\"]\r\n         self.generate(self.nodes[0], 1)\r\n \r\n         # 272 WU per input (273 when high-s); picking 1471 inputs will exceed the max standard tx weight.\r\n@@ -1330,7 +1330,7 @@\r\n \r\n         # 1) Try to fund transaction only using the preset inputs\r\n         input_weights = []\r\n-        for i in range(1471):\r\n+        for i in range(1, 1472):  # skip first output as it is the parent tx change output\r\n             input_weights.append({\"txid\": txid, \"vout\": i, \"weight\": 273})\r\n         assert_raises_rpc_error(-4, \"Transaction too large\", wallet.fundrawtransaction, hexstring=rawtx, input_weights=input_weights)\r\n```",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2170533629",
      "submitted_at": "2024-07-10T23:12:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
    },
    {
      "event": "commented",
      "id": 2222128215,
      "node_id": "IC_kwDOABII586EcvxX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2222128215",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T06:23:40Z",
      "updated_at": "2024-07-11T06:23:40Z",
      "author_association": "MEMBER",
      "body": "The test failure looks unrelated:\r\n\r\n```\r\n2024-07-10T23:36:07.2558178Z test_framework.authproxy.JSONRPCException: 'stop' RPC took longer than 1200.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)\r\n```\r\n\r\nhttps://github.com/bitcoin/bitcoin/actions/runs/9882674449/job/27296008093?pr=30353\r\n\r\n```\r\n2024-07-10T23:36:12.6566166Z  test  2024-07-10T23:16:06.381000Z TestFramework (INFO): Stopping nodes \r\n2024-07-10T23:36:12.6566491Z  test  2024-07-10T23:16:06.381000Z TestFramework.node0 (DEBUG): Stopping node \r\n2024-07-10T23:36:12.6567186Z  node0 2024-07-10T23:16:06.382752Z [http] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:305] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:61436 \r\n2024-07-10T23:36:12.6567862Z  node0 2024-07-10T23:16:06.382862Z [httpworker.3] [D:\\a\\bitcoin\\bitcoin\\src\\rpc\\request.cpp:232] [parse] [rpc] ThreadRPCServer method=stop user=__cookie__ \r\n2024-07-10T23:36:12.6568479Z  node0 2024-07-10T23:16:06.382950Z [init] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:498] [InterruptHTTPServer] [http] Interrupting HTTP server \r\n2024-07-10T23:36:12.6569093Z  node0 2024-07-10T23:16:06.382994Z [init] [D:\\a\\bitcoin\\bitcoin\\src\\httprpc.cpp:378] [InterruptHTTPRPC] [rpc] Interrupting HTTP RPC server \r\n2024-07-10T23:36:12.6569629Z  node0 2024-07-10T23:16:06.383015Z [init] [D:\\a\\bitcoin\\bitcoin\\src\\rpc\\server.cpp:308] [operator ()] [rpc] Interrupting RPC \r\n2024-07-10T23:36:12.6570126Z  node0 2024-07-10T23:16:06.383041Z [init] [D:\\a\\bitcoin\\bitcoin\\src\\init.cpp:273] [Shutdown] Shutdown: In progress... \r\n2024-07-10T23:36:12.6570693Z  node0 2024-07-10T23:16:06.383060Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httprpc.cpp:383] [StopHTTPRPC] [rpc] Stopping HTTP RPC server \r\n2024-07-10T23:36:12.6571484Z  node0 2024-07-10T23:16:06.383086Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:760] [UnregisterHTTPHandler] [http] Unregistering HTTP handler for / (exactmatch 1) \r\n2024-07-10T23:36:12.6572255Z  node0 2024-07-10T23:16:06.383112Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:760] [UnregisterHTTPHandler] [http] Unregistering HTTP handler for /wallet/ (exactmatch 0) \r\n2024-07-10T23:36:12.6572774Z  node0 2024-07-10T23:16:06.383131Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\rpc\\server.cpp:320] [operator ()] [rpc] Stopping RPC \r\n2024-07-10T23:36:12.6573277Z  node0 2024-07-10T23:16:06.383334Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\init.cpp:440] [OnRPCStopped] [rpc] RPC stopped. \r\n2024-07-10T23:36:12.6573860Z  node0 2024-07-10T23:16:06.383370Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:510] [StopHTTPServer] [http] Stopping HTTP server \r\n2024-07-10T23:36:12.6574524Z  node0 2024-07-10T23:16:06.383391Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:512] [StopHTTPServer] [http] Waiting for HTTP worker threads to exit \r\n2024-07-10T23:36:12.6575470Z  node0 2024-07-10T23:16:06.383437Z [addcon] [D:\\a\\bitcoin\\bitcoin\\src\\util\\thread.cpp:22] [TraceThread] addcon thread exit \r\n2024-07-10T23:36:12.6576169Z  node0 2024-07-10T23:16:06.383557Z [shutoff] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:526] [StopHTTPServer] [http] Waiting for 1 connections to stop HTTP server \r\n2024-07-10T23:36:12.6576732Z  node0 2024-07-10T23:16:06.383658Z [http] [D:\\a\\bitcoin\\bitcoin\\src\\httpserver.cpp:354] [ThreadHTTP] [http] Exited http event loop \r\n2024-07-10T23:36:12.6577232Z  node0 2024-07-10T23:16:06.404069Z [net] [D:\\a\\bitcoin\\bitcoin\\src\\util\\thread.cpp:22] [TraceThread] net thread exit \r\n2024-07-10T23:36:12.6577770Z  node0 2024-07-10T23:16:06.419772Z [msghand] [D:\\a\\bitcoin\\bitcoin\\src\\util\\thread.cpp:22] [TraceThread] msghand thread exit \r\n2024-07-10T23:36:12.6578383Z  node0 2024-07-10T23:16:08.104417Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\wallet\\bdb.cpp:663] [PeriodicFlush] [walletdb] Flushing wallet.dat \r\n2024-07-10T23:36:12.6579062Z  node0 2024-07-10T23:16:08.106925Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\wallet\\bdb.cpp:671] [PeriodicFlush] [walletdb] Flushed wallet.dat 2ms \r\n2024-07-10T23:36:12.6579686Z  node0 2024-07-10T23:16:08.106958Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\wallet\\bdb.cpp:663] [PeriodicFlush] [walletdb] Flushing wallet.dat \r\n2024-07-10T23:36:12.6580288Z  node0 2024-07-10T23:16:08.108697Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\wallet\\bdb.cpp:671] [PeriodicFlush] [walletdb] Flushed wallet.dat 1ms \r\n2024-07-10T23:36:12.6580980Z  node1 2024-07-10T23:16:45.638808Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2369] [StartExtraBlockRelayPeers] [net] enabling extra block-relay-only peers \r\n2024-07-10T23:36:12.6581662Z  node2 2024-07-10T23:16:46.802204Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2369] [StartExtraBlockRelayPeers] [net] enabling extra block-relay-only peers \r\n2024-07-10T23:36:12.6582341Z  node0 2024-07-10T23:16:51.102814Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2369] [StartExtraBlockRelayPeers] [net] enabling extra block-relay-only peers \r\n2024-07-10T23:36:12.6583076Z  node1 2024-07-10T23:17:00.635058Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\validation.cpp:2015] [IsInitialBlockDownload] Leaving InitialBlockDownload (latching to false) \r\n2024-07-10T23:36:12.6583697Z  node1 2024-07-10T23:31:00.645441Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2332] [DumpAddresses] [net] Flushed 0 addresses to peers.dat  2ms \r\n2024-07-10T23:36:12.6584292Z  node2 2024-07-10T23:31:01.787885Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2332] [DumpAddresses] [net] Flushed 0 addresses to peers.dat  1ms \r\n2024-07-10T23:36:12.6584894Z  node0 2024-07-10T23:31:06.111388Z [scheduler] [D:\\a\\bitcoin\\bitcoin\\src\\net.cpp:2332] [DumpAddresses] [net] Flushed 0 addresses to peers.dat  1ms \r\n2024-07-10T23:36:12.6584902Z \r\n2024-07-10T23:36:12.6584907Z ",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2222128215",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353"
    },
    {
      "event": "reviewed",
      "id": 2171797056,
      "node_id": "PRR_kwDOABII586Bcv5A",
      "url": null,
      "actor": null,
      "commit_id": "00b8e26bd6a47a8207c7571ca7ef9643f0ee2668",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review and Tested ACK 00b8e26bd6a47a8207c7571ca7ef9643f0ee2668\r\n\r\nI was able to recreate the failure with the diff in the OP. I also decoded the transaction and confirmed that it's selecting the change output of the parent transaction with a value of 2.79949465 BTC. That's why the test was not failing.\r\n\r\nThe commit 00b8e26bd6a47a8207c7571ca7ef9643f0ee2668 fixes this issue.\r\n\r\n> This is not a problem for `fundrawtransaction()`\r\n\r\nYes, it is not. The call will succeed, but when attempting to sign the transaction with `signrawtransactionwithkey`, the RPC will return an error: \"Unable to sign input, invalid stack size (possibly missing key)\".\r\n\r\n> Only for send()\r\n\r\nHow is this an issue for `send()`?\r\n\r\n> Will fix the test and also this last issue.\r\n\r\nIn this PR? Also, should we consider returning this error early as I suggested?",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#pullrequestreview-2171797056",
      "submitted_at": "2024-07-11T12:47:56Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30353"
    },
    {
      "event": "review_requested",
      "id": 13471271838,
      "node_id": "RRE_lADOABII586NzEzvzwAAAAMi80ue",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13471271838",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T12:47:59Z",
      "requested_reviewer": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 13471272009,
      "node_id": "RRE_lADOABII586NzEzvzwAAAAMi80xJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13471272009",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T12:48:00Z",
      "requested_reviewer": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 2223661762,
      "node_id": "IC_kwDOABII586EimLC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2223661762",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T18:49:14Z",
      "updated_at": "2024-07-11T18:50:59Z",
      "author_association": "MEMBER",
      "body": "ACK 00b8e26bd6a47a8207c7571ca7ef9643f0ee2668\r\n\r\nRan into a similar failure in #27286 which I fixed slightly differently. However this fix would work just as well, and aligns with my understanding of both failures.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30353#issuecomment-2223661762",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30353"
    }
  ],
  "comments": []
}