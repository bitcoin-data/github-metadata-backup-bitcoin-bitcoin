{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660",
    "id": 2020979175,
    "node_id": "PR_kwDOABII5854dbHn",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30660",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30660.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30660.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ce87c0e7852864847d97e2eafba9caff196d54bc",
    "number": 30660,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "qa: Verify clean shutdown on startup failure",
    "user": {
      "login": "hodlinator",
      "id": 172445034,
      "node_id": "U_kgDOCkdNag",
      "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hodlinator",
      "html_url": "https://github.com/hodlinator",
      "followers_url": "https://api.github.com/users/hodlinator/followers",
      "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
      "organizations_url": "https://api.github.com/users/hodlinator/orgs",
      "repos_url": "https://api.github.com/users/hodlinator/repos",
      "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hodlinator/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Improves handling of startup errors in functional tests and puts tests in place to ensure knock-on errors don't creep in.\r\n- `wait_for_rpc_connection()` now appends specific failures leading up to the `Unable to connect to bitcoind` error to that error message:\r\n  `[node 0] Unable to connect to bitcoind after 60s (ignored errors: {'missing_credentials': 1, 'OSError.ECONNREFUSED': 239}, latest error: ConnectionRefusedError(111, 'Connection refused'))`\r\n- Fixes Windows Python issue where `socket.timeout` exceptions end up with unset `errno`-fields.\r\n- Also adds comments, refactors code, improves logging.\r\n\r\nThe underlying purpose is to ensure developer efficiency in finding root causes of test failures.\r\n\r\nPrior iterations of the PR partially focused on fixing the same issue as #31620.\r\nOriginally inspired by #30390.\r\n\r\n### Testing\r\n\r\nCan be tested by reverting either faf2f2c654d9aa18b2f49a157956f9ab0fce302a or fae3bf6b870eb0f9cddd1adac82ba72890806ae3 from #31620, or the \"qa: Avoid calling stop-RPC if not connected\" from this PR, and running *feature_framework_startup_failures.py*. Checking out the commit which adds the tests before applying the reverts avoids conflicts with the last logging-change-only commit.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2024-08-15T11:53:45Z",
    "updated_at": "2025-03-14T15:13:55Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "50684934a72c67b4645d46cbe9f1dac09cd2fb27",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "hodlinator:2024-08/test_node_rpc_connection_failure",
      "ref": "2024-08/test_node_rpc_connection_failure",
      "sha": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 813856282,
        "node_id": "R_kgDOMIJ2Gg",
        "name": "bitcoin",
        "full_name": "hodlinator/bitcoin",
        "owner": {
          "login": "hodlinator",
          "id": 172445034,
          "node_id": "U_kgDOCkdNag",
          "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hodlinator",
          "html_url": "https://github.com/hodlinator",
          "followers_url": "https://api.github.com/users/hodlinator/followers",
          "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
          "organizations_url": "https://api.github.com/users/hodlinator/orgs",
          "repos_url": "https://api.github.com/users/hodlinator/repos",
          "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/hodlinator/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/hodlinator/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/hodlinator/bitcoin",
        "archive_url": "https://api.github.com/repos/hodlinator/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/hodlinator/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/hodlinator/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/hodlinator/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/hodlinator/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/hodlinator/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/hodlinator/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/hodlinator/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/hodlinator/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/hodlinator/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/hodlinator/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/hodlinator/bitcoin/events",
        "forks_url": "https://api.github.com/repos/hodlinator/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/hodlinator/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/hodlinator/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/hodlinator/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/hodlinator/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/hodlinator/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/hodlinator/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/hodlinator/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/hodlinator/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/hodlinator/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/hodlinator/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/hodlinator/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/hodlinator/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:hodlinator/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/hodlinator/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/hodlinator/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/hodlinator/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/hodlinator/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/hodlinator/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/hodlinator/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/hodlinator/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/hodlinator/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/hodlinator/bitcoin/hooks",
        "svn_url": "https://github.com/hodlinator/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 235135,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-14T15:13:53Z",
        "created_at": "2024-06-11T22:00:51Z",
        "updated_at": "2025-03-09T08:58:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "698f86964c68041d938aaf54fdd39466266c371c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36929,
        "stargazers_count": 82469,
        "watchers_count": 82469,
        "size": 278049,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-14T03:23:42Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-03-14T14:32:05Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 160,
    "deletions": 31,
    "changed_files": 4,
    "commits": 6,
    "review_comments": 52,
    "comments": 24
  },
  "events": [
    {
      "event": "commented",
      "id": 2291135616,
      "node_id": "IC_kwDOABII586Ij_SA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2291135616",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T11:53:48Z",
      "updated_at": "2025-03-14T14:10:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/30660.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2425524929), [m3dwards](https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2491116799), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2683088562) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2291135616",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "labeled",
      "id": 13894930195,
      "node_id": "LE_lADOABII586TGVLXzwAAAAM8M88T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13894930195",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T11:53:50Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 2291136157,
      "node_id": "IC_kwDOABII586Ij_ad",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2291136157",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T11:54:15Z",
      "updated_at": "2024-08-15T11:54:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Encountered a case of #30390 here:\r\nhttps://github.com/bitcoin/bitcoin/actions/runs/10380115902/job/28739417666?pr=30377\r\n\r\nOutput with only the test (no fix commit):\r\n```\r\n$ test/functional/feature_framework_rpc_failure.py\r\n2024-08-15T07:30:20.427000Z TestFramework (INFO): PRNG seed is: 635212259632049987\r\n2024-08-15T07:30:20.427000Z TestFramework (INFO): Initializing test directory /run/user/1001/bitcoin_func_test_ujsvbdnm\r\n2024-08-15T07:30:20.428000Z TestFramework (INFO): Forcing us to timeout instantly to simulate an unresponsive bitcoind\r\n2024-08-15T07:30:20.429000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 329, in wait_for_rpc_connection\r\n    self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 192, in _raise_assertion_error\r\n    raise AssertionError(self._node_msg(msg))\r\nAssertionError: [node 0] Unable to connect to bitcoind after 0s\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bitcoin/test/functional/feature_framework_rpc_failure.py\", line 21, in setup_network\r\n    BitcoinTestFramework.setup_network(self)\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 572, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 390, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 209, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/home/hodlinator/bitcoin/test/functional/feature_framework_rpc_failure.py\", line 23, in setup_network\r\n    assert_equal(str(e), \"[node 0] Unable to connect to bitcoind after 0s\")\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/util.py\", line 75, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not([node 0] Error: no RPC connection == [node 0] Unable to connect to bitcoind after 0s)\r\n2024-08-15T07:30:20.480000Z TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bitcoin/test/functional/feature_framework_rpc_failure.py\", line 32, in <module>\r\n    FeatureFrameworkRPCFailure(__file__).main()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 390, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 209, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n[node 0] Cleaning up leftover process\r\n```\r\n\r\nWith fix:\r\n```\r\n$ test/functional/feature_framework_rpc_failure.py\r\n2024-08-15T07:30:05.092000Z TestFramework (INFO): PRNG seed is: 1672695534155872365\r\n2024-08-15T07:30:05.092000Z TestFramework (INFO): Initializing test directory /run/user/1001/bitcoin_func_test_cow4vrf7\r\n2024-08-15T07:30:05.093000Z TestFramework (INFO): Forcing us to timeout instantly to simulate an unresponsive bitcoind\r\n2024-08-15T07:30:05.094000Z TestFramework.node0 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 326500.\r\n2024-08-15T07:30:05.144000Z TestFramework (INFO): Caught AssertionError with expected message\r\n2024-08-15T07:30:05.194000Z TestFramework (INFO): Stopping nodes\r\n2024-08-15T07:30:05.194000Z TestFramework (INFO): Cleaning up /run/user/1001/bitcoin_func_test_cow4vrf7 on exit\r\n2024-08-15T07:30:05.194000Z TestFramework (INFO): Tests successful\r\n```",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2291136157",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "commented",
      "id": 2291183910,
      "node_id": "IC_kwDOABII586IkLEm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2291183910",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T12:32:10Z",
      "updated_at": "2024-08-15T12:32:10Z",
      "author_association": "MEMBER",
      "body": "Can you explain this a bit more? I think optimizing the test framework to cleanly shut down on a failure is a bit premature, and may not be needed. However, if a failing test may leave behind a dangling bitcoind process, this seems like something to fix, because it will otherwise lead to test warnings and failures down the road.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2291183910",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13922841561,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAM93bPZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13922841561",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bcc87514e780cd35d1f71d5c4c4069a8fac95324",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/bcc87514e780cd35d1f71d5c4c4069a8fac95324",
      "created_at": "2024-08-18T20:10:11Z"
    },
    {
      "event": "commented",
      "id": 2295379703,
      "node_id": "IC_kwDOABII586I0Lb3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2295379703",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-18T20:23:33Z",
      "updated_at": "2024-08-18T20:31:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Can you explain this a bit more? I think optimizing the test framework to cleanly shut down on a failure is a bit premature, and may not be needed.\r\n\r\nAs long as the additional complexity and maintenance burden is low, I think it is worth having a cleaner shutdown to avoid muddying the waters for people trying to figure out root causes.\r\n\r\n> However, if a failing test may leave behind a dangling bitcoind process, this seems like something to fix, because it will otherwise lead to test warnings and failures down the road.\r\n\r\nIt does clean up dangling bitcoind processes without the fix, as can be seen in the log:\r\n```\r\n[node 0] Cleaning up leftover process\r\n```\r\nThe latest push (~bcc87514e780cd35d1f71d5c4c4069a8fac95324~ 0ea00cddc3d4a3f92c6bfae13a8b844e97ebc8c3) now explains in the log message that it is terminating the process to avoid `wait_until_stopped` timing out (which raises an additional exception).\r\n\r\n\\+ Broke out a commit adding the `self.expected_ret_code` functionality, so that the fix commit in the middle is clearer.\r\n\\+ Attempted to make the comment at the top of the test file more explanatory.\r\n\\+ ~Switched from `process.kill()` to the somewhat less aggressive `process.terminate()` (although on second thoughts, if the RPC interface is not responding in a real-world situation outside of the added test, maybe `.kill()` is closer to what we want).~",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2295379703",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13922875317,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAM93je1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13922875317",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0ea00cddc3d4a3f92c6bfae13a8b844e97ebc8c3",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/0ea00cddc3d4a3f92c6bfae13a8b844e97ebc8c3",
      "created_at": "2024-08-18T20:29:55Z"
    },
    {
      "event": "commented",
      "id": 2311026632,
      "node_id": "IC_kwDOABII586Jv3fI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2311026632",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-26T20:27:30Z",
      "updated_at": "2024-08-26T20:50:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Last week I was [hit by this again](https://github.com/hodlinator/bitcoin/actions/runs/10491632082/job/29061229925#step:27:98). Probably line ending differences on Windows makes any additional Python exception reporting extra annoying to read due to every second line being blank (separate issue, but slightly improved by this PR producing less output).\r\n\r\n### Git-sleuthing to help motivate this PR\r\n#### Was this ever working?\r\nUnfortunately for my case, it seems the answer is no:\r\n7897338918dac072e788b8ab2919d4559f311bef (Aug, 2017) broke out **test_node.py** from **test_framework.py** added the `self.rpc_connected` flag. Would have been nice if it had protected use of the `stop()` RPC using this new flag (like in this PR) but unfortunately it did not.\r\n\r\n#### Fixes in the same area\r\n\r\nfafb33cdefd2d8ce065263978075d26a1672b630 (May, 2016) MarcoFalke wrapped `stop()` attempts in `try`/`except` so at least *other nodes* would have a chance of [shutting down properly](https://github.com/bitcoin/bitcoin/pull/7971#issuecomment-215962540). (6 days later in fab5233fe6c99d446a2cebc48cf479c3f026c2cc a timeout for waiting on the process to shutdown was added too, probably so the tests wouldn't hang waiting for a non-crashed `bitcoind` that we failed to send `stop()` to).\r\n\r\n#14670 (Dec, 2018) is tangential and adds **test/functional/feature_shutdown.py** in 28479f926f21f2a91bec5a06671c60e5b0c55532, to ensure that HTTP responses for `stop()` make it all the way back to the client if I'm understanding it correctly. It fixes #11777 (Nov, 2017) which is arguably about shutdowns not being clean enough (sometimes showing additional errors depending on timing). The current PR is certainly more nit-level, but still continuing in the same general direction.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2311026632",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "commented",
      "id": 2311186892,
      "node_id": "IC_kwDOABII586JwenM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2311186892",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-26T22:07:37Z",
      "updated_at": "2024-08-26T22:07:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Another argument for this PR is that even the current title of #30390 is \"ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it\". This in itself when looking at logs like https://github.com/bitcoin/bitcoin/actions/runs/9677128783/job/26698120754#step:27:225 is actually just a knock-on exception happening after the RPC connection attempt times out and `stop()`-RPC is called in vain:\r\n<details>\r\n<summary>Copied log excerpt</summary>\r\n\r\n```\r\n313/313 - wallet_listsinceblock.py --legacy-wallet failed, Duration: 2415 s\r\nstdout:\r\n2024-06-26T09:53:17.196000Z TestFramework (INFO): PRNG seed is: 3062882430636553844\r\n2024-06-26T09:53:17.227000Z TestFramework (INFO): Initializing test directory D:\\a\\_temp\\test_runner_â‚¿_ðŸƒ_20240626_093314\\wallet_listsinceblock_88\r\n2024-06-26T10:33:29.783000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_node.py\", line 314, in wait_for_rpc_connection\r\n    self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_node.py\", line 188, in _raise_assertion_error\r\n    raise AssertionError(self._node_msg(msg))\r\nAssertionError: [node 3] Unable to connect to bitcoind after 2400s\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 572, in start_nodes\r\n    self.stop_nodes()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_node.py\", line 375, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_node.py\", line 205, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 3] Error: no RPC connection\r\n2024-06-26T10:33:29.842000Z TestFramework (INFO): Stopping nodes\r\n[node 3] Cleaning up leftover process\r\n[node 2] Cleaning up leftover process\r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n\r\nstderr:\r\nTraceback (most recent call last):\r\n  File \"D:\\a\\bitcoin\\bitcoin/test/functional/wallet_listsinceblock.py\", line 508, in <module>\r\n    ListSinceBlockTest().main()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_node.py\", line 375, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\coverage.py\", line 50, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\authproxy.py\", line 127, in __call__\r\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\authproxy.py\", line 105, in _request\r\n    self.__conn.request(method, path, postdata, headers)\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1336, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1382, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1331, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1091, in _send_output\r\n    self.send(msg)\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1035, in send\r\n    self.connect()\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\http\\client.py\", line 1001, in connect\r\n    self.sock = self._create_connection(\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\socket.py\", line 853, in create_connection\r\n    raise exceptions[0]\r\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.12.4\\x64\\Lib\\socket.py\", line 838, in create_connection\r\n    sock.connect(sa)\r\nConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it\r\n```\r\n\r\n</details>\r\n\r\nA better title might have been \"Unable to connect to bitcoind after 2400s errors on Windows\", which this PR would have made it more likely to be in the first place (had it predated the issue).",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2311186892",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14035813832,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAANEmYXI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14035813832",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "3d97816fffab3c715b6ec1183c349d66c784f530",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/3d97816fffab3c715b6ec1183c349d66c784f530",
      "created_at": "2024-08-27T21:53:56Z"
    },
    {
      "event": "commented",
      "id": 2313645385,
      "node_id": "IC_kwDOABII586J521J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2313645385",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-27T21:54:40Z",
      "updated_at": "2024-08-27T21:54:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "After more investigation into #30390, my impression is that since `TestNode.wait_for_rpc_connection()` ignores a bunch of exceptions, the knock-on exceptions when calling `stop()` and failing prior to this PR actually may sometimes provide a clue for why the RPC connection wasn't established in the first place.\r\n\r\nThat realization made me add 2 more commits here, which provide more information on the original exceptions being triggered and ignored inside `wait_for_rpc_connection`. Only fair since we are avoiding the triggering of knock-on exceptions later.\r\n\r\nThe timeout exception's message thereby now includes counters of encountered (and ignored) exceptions + latest exception type & message:\r\n`Unable to connect to bitcoind after 60s (ignored errors: {'missing_credentials': 5}, latest error: ValueError('No RPC credentials'))`",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2313645385",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "labeled",
      "id": 14036556028,
      "node_id": "LE_lADOABII586TGVLXzwAAAANEpNj8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14036556028",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-27T23:54:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "subscribed",
      "id": 14041105342,
      "node_id": "SE_lADOABII586TGVLXzwAAAANE6kO-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14041105342",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T06:40:00Z"
    },
    {
      "event": "unlabeled",
      "id": 14445101903,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAANc_sNP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14445101903",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-29T11:58:25Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 14619266491,
      "node_id": "LE_lADOABII586TGVLXzwAAAANnYE27",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14619266491",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-13T10:25:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "review_requested",
      "id": 14659939105,
      "node_id": "RRE_lADOABII586TGVLXzwAAAANpzOsh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14659939105",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:30:23Z",
      "requested_reviewer": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 14659942643,
      "node_id": "RRE_lADOABII586TGVLXzwAAAANpzPjz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14659942643",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:30:36Z",
      "requested_reviewer": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2414327186,
      "node_id": "IC_kwDOABII586P57WS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2414327186",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:30:43Z",
      "updated_at": "2024-10-15T15:30:43Z",
      "author_association": "MEMBER",
      "body": "cc @tdb3 ",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2414327186",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "mentioned",
      "id": 14659948324,
      "node_id": "MEE_lADOABII586TGVLXzwAAAANpzQ8k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14659948324",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:30:46Z"
    },
    {
      "event": "subscribed",
      "id": 14659948347,
      "node_id": "SE_lADOABII586TGVLXzwAAAANpzQ87",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14659948347",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T15:30:46Z"
    },
    {
      "event": "unlabeled",
      "id": 14727847056,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAANt2RyQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14727847056",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-18T21:52:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14772018129,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAANwexvR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14772018129",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9173b056006fd3940675108aa3fe0d0d855af768",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/9173b056006fd3940675108aa3fe0d0d855af768",
      "created_at": "2024-10-21T22:11:10Z"
    },
    {
      "event": "commented",
      "id": 2427838505,
      "node_id": "IC_kwDOABII586QteAp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2427838505",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-21T22:14:16Z",
      "updated_at": "2024-10-21T22:14:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "(Rebased onto latest master).",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2427838505",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "reviewed",
      "id": 2408783550,
      "node_id": "PRR_kwDOABII586Pkx6-",
      "url": null,
      "actor": null,
      "commit_id": "9173b056006fd3940675108aa3fe0d0d855af768",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 9173b056006fd3940675108aa3fe0d0d855af768\r\n\r\nThis seems quite useful when troubleshooting errors. Left a few nits, but nothing I feel very strongly about.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2408783550",
      "submitted_at": "2024-10-31T18:49:37Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15083990718,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAODE26-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15083990718",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1148c4a53295e7635a813aadfde53ba5d973395c",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/1148c4a53295e7635a813aadfde53ba5d973395c",
      "created_at": "2024-11-02T20:15:14Z"
    },
    {
      "event": "reviewed",
      "id": 2411714494,
      "node_id": "PRR_kwDOABII586Pv9e-",
      "url": null,
      "actor": null,
      "commit_id": "1148c4a53295e7635a813aadfde53ba5d973395c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review @tdb3!\r\n\r\nImplemented feedback from that review, made the code a bit more Pythonic and improved comments slightly.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2411714494",
      "submitted_at": "2024-11-02T20:26:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "reviewed",
      "id": 2411750030,
      "node_id": "PRR_kwDOABII586PwGKO",
      "url": null,
      "actor": null,
      "commit_id": "1148c4a53295e7635a813aadfde53ba5d973395c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review re ACK 1148c4a53295e7635a813aadfde53ba5d973395c\r\n\r\nNice work cleaning up the existing code around the core changes. Increases readability.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2411750030",
      "submitted_at": "2024-11-02T22:59:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15087180052,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAODRBkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15087180052",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "042cee7073b338d79b5176d4157cf08bbd079b9f",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/042cee7073b338d79b5176d4157cf08bbd079b9f",
      "created_at": "2024-11-02T23:10:24Z"
    },
    {
      "event": "reviewed",
      "id": 2411752016,
      "node_id": "PRR_kwDOABII586PwGpQ",
      "url": null,
      "actor": null,
      "commit_id": "042cee7073b338d79b5176d4157cf08bbd079b9f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re ACK 042cee7073b338d79b5176d4157cf08bbd079b9f",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2411752016",
      "submitted_at": "2024-11-02T23:15:46Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "reviewed",
      "id": 2412663196,
      "node_id": "PRR_kwDOABII586PzlGc",
      "url": null,
      "actor": null,
      "commit_id": "042cee7073b338d79b5176d4157cf08bbd079b9f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left some nits on the first commit. Will take a look at the others later.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2412663196",
      "submitted_at": "2024-11-06T18:18:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15210659600,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOKoD8Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15210659600",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a637f27f926ec64835757559585b3a2df7e2f8ed",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/a637f27f926ec64835757559585b3a2df7e2f8ed",
      "created_at": "2024-11-08T10:44:50Z"
    },
    {
      "event": "commented",
      "id": 2464405109,
      "node_id": "IC_kwDOABII586S49Z1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2464405109",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T10:56:45Z",
      "updated_at": "2024-11-08T10:56:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the reviews! Was trying to keep comments largely intact, but agree with @maflcko that they were somewhat incorrect, so altered them. Also renamed `ignored_errors` (introduced by this PR) to `suppressed_errors` since it felt more fitting and also matches the updated comments.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2464405109",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "mentioned",
      "id": 15211022922,
      "node_id": "MEE_lADOABII586TGVLXzwAAAAOKpcpK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15211022922",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T10:56:47Z"
    },
    {
      "event": "subscribed",
      "id": 15211022945,
      "node_id": "SE_lADOABII586TGVLXzwAAAAOKpcph",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15211022945",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T10:56:47Z"
    },
    {
      "event": "labeled",
      "id": 15212189413,
      "node_id": "LE_lADOABII586TGVLXzwAAAAOKt5bl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15212189413",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T11:32:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2464482883,
      "node_id": "IC_kwDOABII586S5QZD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2464482883",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T11:32:53Z",
      "updated_at": "2024-11-08T11:32:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/32707688603</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2464482883",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15216497315,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOK-VKj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15216497315",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "68b0530d5fe867dbee5e551ecf6d491fecbc77f1",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/68b0530d5fe867dbee5e551ecf6d491fecbc77f1",
      "created_at": "2024-11-08T13:44:33Z"
    },
    {
      "event": "unlabeled",
      "id": 15217218309,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAOLBFMF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15217218309",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-08T14:33:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2425524929,
      "node_id": "PRR_kwDOABII586QkpLB",
      "url": null,
      "actor": null,
      "commit_id": "68b0530d5fe867dbee5e551ecf6d491fecbc77f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review re ACK 68b0530d5fe867dbee5e551ecf6d491fecbc77f1",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2425524929",
      "submitted_at": "2024-11-09T17:32:13Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "commented",
      "id": 2482647517,
      "node_id": "IC_kwDOABII586T-jHd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2482647517",
      "actor": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-18T10:40:33Z",
      "updated_at": "2024-11-18T10:51:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI like the motivation to cleanup the logs and remove the cascade of exceptions.\r\n\r\nTo test, I modified the included test to see what errors a user would have seen without the assertion:\r\n\r\n```diff\r\n--- a/test/functional/feature_framework_rpc_failure.py\r\n+++ b/test/functional/feature_framework_rpc_failure.py\r\n@@ -23,7 +23,8 @@ class FeatureFrameworkRPCFailure(BitcoinTestFramework):\r\n         self.log.info(f\"Setting RPC timeout to 0 to simulate an unresponsive bitcoind, expect one warning.\")\r\n         self.rpc_timeout = 0\r\n\r\n-        assert_raises_message(AssertionError, \"[node 0] Unable to connect to bitcoind after 0s\", BitcoinTestFramework.setup_network, self)\r\n+        BitcoinTestFramework.setup_network(self)\r\n\r\n     def run_test(self):\r\n         pass\r\n```\r\n\r\n<details>\r\n<summary>\r\nWithout PR:\r\n</summary>\r\n\r\n```shell\r\n2024-11-18T09:59:33.936000Z TestFramework (INFO): PRNG seed is: 6704525597374825472\r\n2024-11-18T09:59:33.937000Z TestFramework (INFO): Initializing test directory /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_kccj2gaf\r\n2024-11-18T09:59:33.939000Z TestFramework (INFO): Setting RPC timeout to 0 to simulate an unresponsive bitcoind, expect one warning.\r\n2024-11-18T09:59:33.944000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 335, in wait_for_rpc_connection\r\n    self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 198, in _raise_assertion_error\r\n    raise AssertionError(self._node_msg(msg))\r\nAssertionError: [node 0] Unable to connect to bitcoind after 0s\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/Users/max/source/bitcoin/./build/test/functional/feature_framework_rpc_failure.py\", line 24, in setup_network\r\n    BitcoinTestFramework.setup_network(self)\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 572, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 396, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 215, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n2024-11-18T09:59:33.997000Z TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/./build/test/functional/feature_framework_rpc_failure.py\", line 32, in <module>\r\n    FeatureFrameworkRPCFailure(__file__).main()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 396, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/build/test/functional/test_framework/test_node.py\", line 215, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n[node 0] Cleaning up leftover process\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>\r\nWith PR\r\n</summary>\r\n\r\n```shell\r\n2024-11-18T10:09:52.135000Z TestFramework (INFO): PRNG seed is: 7321683449385937851\r\n2024-11-18T10:09:52.135000Z TestFramework (INFO): Initializing test directory /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_izqaxw8a\r\n2024-11-18T10:09:52.137000Z TestFramework (INFO): Setting RPC timeout to 0 to simulate an unresponsive bitcoind, expect one warning.\r\n2024-11-18T10:09:52.141000Z TestFramework.node0 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 47850 so that wait_until_stopped will not time out.\r\n2024-11-18T10:09:52.194000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/Users/max/source/bitcoin/./build/test/functional/feature_framework_rpc_failure.py\", line 26, in setup_network\r\n    BitcoinTestFramework.setup_network(self)\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 344, in wait_for_rpc_connection\r\n    self._raise_assertion_error(f\"Unable to connect to bitcoind after {self.rpc_timeout}s (ignored errors: {str(dict(suppressed_errors))}, latest error: {latest_error})\")\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 199, in _raise_assertion_error\r\n    raise AssertionError(self._node_msg(msg))\r\nAssertionError: [node 0] Unable to connect to bitcoind after 0s (ignored errors: {}, latest error: )\r\n2024-11-18T10:09:52.250000Z TestFramework (INFO): Stopping nodes\r\n2024-11-18T10:09:52.250000Z TestFramework (WARNING): Not cleaning up dir /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_izqaxw8a\r\n2024-11-18T10:09:52.250000Z TestFramework (ERROR): Test failed. Test logging available at /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_izqaxw8a/test_framework.log\r\n2024-11-18T10:09:52.250000Z TestFramework (ERROR):\r\n2024-11-18T10:09:52.251000Z TestFramework (ERROR): Hint: Call /Users/max/source/bitcoin/test/functional/combine_logs.py '/var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_izqaxw8a' to consolidate all logs\r\n2024-11-18T10:09:52.251000Z TestFramework (ERROR):\r\n2024-11-18T10:09:52.251000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2024-11-18T10:09:52.251000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2024-11-18T10:09:52.251000Z TestFramework (ERROR):\r\n\r\n```\r\n</details>\r\n\r\nI prefer the logs with this change!\r\n\r\nNext I modified bitcoind so that it would fail to start and ran a random functional test (`p2p_blockfilters.py`) \r\n\r\n<details>\r\n<summary>\r\nWithout PR\r\n</summary>\r\n\r\n```shell\r\n2024-11-18T09:39:40.861000Z TestFramework (INFO): PRNG seed is: 8730495587434508112\r\n2024-11-18T09:39:40.862000Z TestFramework (INFO): Initializing test directory /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_0gw_zhhl\r\n2024-11-18T09:39:41.372000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 276, in wait_for_rpc_connection\r\n    raise FailedToStartError(self._node_msg(\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 572, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 396, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 215, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n2024-11-18T09:39:41.431000Z TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/build/test/functional/p2p_blockfilters.py\", line 285, in <module>\r\n    CompactFiltersTest(__file__).main()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 587, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 396, in stop_node\r\n    self.stop(wait=wait)\r\n    ^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 215, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Error: no RPC connection\r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>\r\nWith PR\r\n</summary>\r\n\r\n```shell\r\n2024-11-15T13:07:28.308000Z TestFramework (INFO): PRNG seed is: 2784953090753807617\r\n2024-11-15T13:07:28.308000Z TestFramework (INFO): Initializing test directory /var/folders/q9/65c9dvyj3lbdsv5zrhp_8qk80000gn/T/bitcoin_func_test_udgky3fr\r\n2024-11-15T13:07:28.821000Z TestFramework.node0 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 26867 so that wait_until_stopped will not time out.\r\n2024-11-15T13:07:28.821000Z TestFramework.node1 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 26868 so that wait_until_stopped will not time out.\r\n2024-11-15T13:07:28.821000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 279, in wait_for_rpc_connection\r\n    raise FailedToStartError(self._node_msg(\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 572, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 591, in stop_nodes\r\n    node.wait_until_stopped()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 462, in wait_until_stopped\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 860, in wait_until\r\n    return wait_until_helper_internal(test_function, timeout=timeout, timeout_factor=self.timeout_factor)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/util.py\", line 291, in wait_until_helper_internal\r\n    if predicate():\r\n       ^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 462, in <lambda>\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 439, in is_node_stopped\r\n    assert return_code == expected_ret_code, self._node_msg(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Node returned unexpected exit code (1) vs (-9) when stopping\r\n2024-11-15T13:07:28.880000Z TestFramework (INFO): Stopping nodes\r\n2024-11-15T13:07:28.881000Z TestFramework.node0 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 26867 so that wait_until_stopped will not time out.\r\n2024-11-15T13:07:28.881000Z TestFramework.node1 (WARNING): Cannot call stop-RPC as we are not connected. Killing process 26868 so that wait_until_stopped will not time out.\r\nTraceback (most recent call last):\r\n  File \"/Users/max/source/bitcoin/build/test/functional/p2p_blockfilters.py\", line 285, in <module>\r\n    CompactFiltersTest(__file__).main()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 155, in main\r\n    exit_code = self.shutdown()\r\n                ^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 318, in shutdown\r\n    self.stop_nodes()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_framework.py\", line 591, in stop_nodes\r\n    node.wait_until_stopped()\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 462, in wait_until_stopped\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 860, in wait_until\r\n    return wait_until_helper_internal(test_function, timeout=timeout, timeout_factor=self.timeout_factor)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/util.py\", line 291, in wait_until_helper_internal\r\n    if predicate():\r\n       ^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 462, in <lambda>\r\n    self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/max/source/bitcoin/test/functional/test_framework/test_node.py\", line 439, in is_node_stopped\r\n    assert return_code == expected_ret_code, self._node_msg(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: [node 0] Node returned unexpected exit code (1) vs (-9) when stopping\r\n[node 1] Cleaning up leftover process 26868\r\n[node 0] Cleaning up leftover process 26867\r\n\r\n```\r\n</details>\r\n\r\nI'm not sure if it's the intention of this PR to improve things in that scenario but the log doesn't seem much better and if anything it was slightly easier to understand before.\r\n\r\nBefore this change the logs showed `AssertionError: [node 0] Error: no RPC connection` and after this change that is now `AssertionError: [node 0] Node returned unexpected exit code (1) vs (-9) when stopping`. I feel like no RPC connection is the better error here?",
      "user": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2482647517",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15341418497,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOSa3gB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15341418497",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ba28593147ccc880c3a4d40db0d4ef57f4766254",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/ba28593147ccc880c3a4d40db0d4ef57f4766254",
      "created_at": "2024-11-18T23:02:52Z"
    },
    {
      "event": "commented",
      "id": 2484340220,
      "node_id": "IC_kwDOABII586UFAX8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2484340220",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-18T23:13:54Z",
      "updated_at": "2024-11-18T23:13:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @m3dwards for having a look!\r\n\r\nI had not tested the case of *bitcoind* exiting early together with my suggested change here (focused more on stalling as in one of the issues inspiring it).\r\n\r\nMade some changes to this part of `TestNode.stop_node()` to handle an already dead process:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/ba28593147ccc880c3a4d40db0d4ef57f4766254/test/functional/test_framework/test_node.py#L412-L420\r\n\r\nWith those changes, the output for such a case is now:\r\n\r\n<details>\r\n<summary>\r\nOutput\r\n</summary>\r\n\r\n```\r\nâ‚¿ build/test/functional/p2p_blockfilters.py \r\n2024-11-18T23:01:17.204000Z TestFramework (INFO): PRNG seed is: 5667811122664278008\r\n2024-11-18T23:01:17.205000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_mzr3jg96\r\n2024-11-18T23:01:17.458000Z TestFramework.node0 (WARNING): Process 175180 already died with return code 1.\r\n2024-11-18T23:01:17.458000Z TestFramework.node1 (WARNING): Process 175181 already died with return code 1.\r\n2024-11-18T23:01:17.459000Z TestFramework (ERROR): Unexpected exception caught during testing\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.setup()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 302, in setup\r\n    self.setup_network()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 396, in setup_network\r\n    self.setup_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 418, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_framework.py\", line 569, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/home/hodlinator/bitcoin/test/functional/test_framework/test_node.py\", line 279, in wait_for_rpc_connection\r\n    raise FailedToStartError(self._node_msg(\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization. \r\n2024-11-18T23:01:17.513000Z TestFramework (INFO): Stopping nodes\r\n2024-11-18T23:01:17.513000Z TestFramework (WARNING): Not cleaning up dir /tmp/bitcoin_func_test_mzr3jg96\r\n2024-11-18T23:01:17.513000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/bitcoin_func_test_mzr3jg96/test_framework.log\r\n2024-11-18T23:01:17.513000Z TestFramework (ERROR): \r\n2024-11-18T23:01:17.513000Z TestFramework (ERROR): Hint: Call /home/hodlinator/bitcoin/test/functional/combine_logs.py '/tmp/bitcoin_func_test_mzr3jg96' to consolidate all logs\r\n2024-11-18T23:01:17.513000Z TestFramework (ERROR): \r\n2024-11-18T23:01:17.514000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2024-11-18T23:01:17.514000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2024-11-18T23:01:17.514000Z TestFramework (ERROR):\r\n```\r\n</details>",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2484340220",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "mentioned",
      "id": 15341538308,
      "node_id": "MEE_lADOABII586TGVLXzwAAAAOSbUwE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15341538308",
      "actor": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-18T23:13:56Z"
    },
    {
      "event": "subscribed",
      "id": 15341538324,
      "node_id": "SE_lADOABII586TGVLXzwAAAAOSbUwU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15341538324",
      "actor": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-18T23:13:56Z"
    },
    {
      "event": "commented",
      "id": 2491116799,
      "node_id": "IC_kwDOABII586Ue2z_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2491116799",
      "actor": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-21T13:13:47Z",
      "updated_at": "2024-11-21T13:13:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Made some changes to this part of `TestNode.stop_node()` to handle an already dead process\r\n\r\nLooks cleaner.\r\n\r\nACK ba28593147ccc880c3a4d40db0d4ef57f4766254",
      "user": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2491116799",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "review_requested",
      "id": 15381727197,
      "node_id": "RRE_lADOABII586TGVLXzwAAAAOU0ofd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15381727197",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-21T13:13:51Z",
      "requested_reviewer": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2476693353,
      "node_id": "PRR_kwDOABII586Tn1dp",
      "url": null,
      "actor": null,
      "commit_id": "ba28593147ccc880c3a4d40db0d4ef57f4766254",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2476693353",
      "submitted_at": "2024-12-03T20:31:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "labeled",
      "id": 15610041709,
      "node_id": "LE_lADOABII586TGVLXzwAAAAOiblVt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15610041709",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-11T01:30:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2533415892,
      "node_id": "IC_kwDOABII586XANvU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2533415892",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-11T01:30:36Z",
      "updated_at": "2024-12-11T01:30:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/33168290506</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2533415892",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15624366615,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOjSOoX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15624366615",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d4cda43d1716580a08acb4f7788fbcff165b9bf9",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/d4cda43d1716580a08acb4f7788fbcff165b9bf9",
      "created_at": "2024-12-11T20:26:50Z"
    },
    {
      "event": "commented",
      "id": 2537066932,
      "node_id": "IC_kwDOABII586XOJG0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2537066932",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-11T20:29:24Z",
      "updated_at": "2024-12-11T20:30:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "- Fixed [ruff linter error reported by CI](https://github.com/bitcoin/bitcoin/runs/33168290506) due to #31417 being merged.\r\n- Added *feature_framework_stop_node.py*-test to verify clean shutdown of TestNode when the bitcoind-process already exited/crashed, [issue found earlier](https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2482647517) by m3dwards. (Also added comment justifying setting of `self.expected_ret_code` in *test_node.py*).\r\n- Switched from `Counter` to simpler `collections.defaultdict(int)`-type.\r\n- Updated copyright headers to include \"-present\".",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2537066932",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15624472254,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOjSoa-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15624472254",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "608b9ff097214bff3527cc240b7be313c62131d5",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/608b9ff097214bff3527cc240b7be313c62131d5",
      "created_at": "2024-12-11T20:33:08Z"
    },
    {
      "event": "unlabeled",
      "id": 15625327742,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAOjV5R-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15625327742",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-11T21:27:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2532868324,
      "node_id": "PRR_kwDOABII586W-IDk",
      "url": null,
      "actor": null,
      "commit_id": "608b9ff097214bff3527cc240b7be313c62131d5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review 608b9ff097214bff3527cc240b7be313c62131d5\r\n\r\nNice changes in this PR. I've been confused by the error output from wait_for_rpc_connection() before, so think this will be helpful.\r\n\r\nOne thing that wasn't obvious to me from the PR description is that this improving error output in two separate ways:\r\n\r\n- One change here is *adding* error output to `wait_for_rpc_connection`. Previously errors that happened during polling before the final \"Unable to connect to bitcoind\" error were silently ignored, so less information would be visible about what was causing the problem. Now counts of the different errors and the most recent message are shown.\r\n\r\n- Another change here is *suppressing* error output after the `wait_for_rpc_connection` error, specifically suppressing exceptions from in `stop_node` when trying to call stop method fails.\r\n\r\nI didn't ACK the PR because I think the changes to the `stop_node` method are overbroad, and I [suggested](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904621833) a way to limit them. Other than that I think this all looks very good.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2532868324",
      "submitted_at": "2025-01-07T18:54:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "renamed",
      "id": 15870697892,
      "node_id": "RTE_lADOABII586TGVLXzwAAAAOx96Gk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15870697892",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T16:46:02Z",
      "rename": {
        "from": "test: Shut down framework cleanly on RPC connection failure",
        "to": "qa: Shut down framework cleanly on RPC connection failure"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15870710838,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOx99Q2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15870710838",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bd24bae94eae75b34172056874a50338c9e7c30e",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/bd24bae94eae75b34172056874a50338c9e7c30e",
      "created_at": "2025-01-09T16:47:02Z"
    },
    {
      "event": "commented",
      "id": 2580812651,
      "node_id": "IC_kwDOABII586Z1BNr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2580812651",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T16:55:14Z",
      "updated_at": "2025-01-09T16:55:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated based off ryanofsky's [review](https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2532868324).\r\n\r\nHopefully latest PR summary is slightly clearer.\r\n\r\nReplaced \"test\" -> \"qa\" since PR is about functional tests and not unit tests, should conform better with *CONTRIBUTING.md*.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2580812651",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15871864319,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOyCW3_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15871864319",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "965b23a6c134214bf179db907b56b9699d6c0369",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/965b23a6c134214bf179db907b56b9699d6c0369",
      "created_at": "2025-01-09T18:21:11Z"
    },
    {
      "event": "labeled",
      "id": 15871865116,
      "node_id": "LE_lADOABII586TGVLXzwAAAAOyCXEc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15871865116",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T18:21:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2580978629,
      "node_id": "IC_kwDOABII586Z1pvF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2580978629",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T18:21:16Z",
      "updated_at": "2025-01-09T18:21:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/35384673501</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2580978629",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15872230947,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAOyDwYj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15872230947",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8148e4da2c6d756cc24e337060d002473f1eebbf",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/8148e4da2c6d756cc24e337060d002473f1eebbf",
      "created_at": "2025-01-09T18:53:34Z"
    },
    {
      "event": "unlabeled",
      "id": 15872984516,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAOyGoXE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15872984516",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-09T20:05:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2541894649,
      "node_id": "PRR_kwDOABII586Xgjv5",
      "url": null,
      "actor": null,
      "commit_id": "8148e4da2c6d756cc24e337060d002473f1eebbf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2541894649",
      "submitted_at": "2025-01-10T09:10:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "commented",
      "id": 2598305057,
      "node_id": "IC_kwDOABII586a3v0h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2598305057",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-17T12:53:35Z",
      "updated_at": "2025-01-17T12:53:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Excuse me from being [brief](https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2580812651) earlier.\r\n\r\nTaking the time do document changes in latest push - `git range-diff master 608b9ff 8148e4d`\r\n\r\n- [Inlined comments](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909144554) about different `errno`-codes instead of duplicating the identifiers in the comment.\r\n- Made missing cookie file comment [slightly more informative](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909141475).\r\n- Removed `expect_error` in favor of `expected_ret_code` after ryanofsky's [suggestion](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904607706) (grepping for uses of the former). This helps decrease the amount of added complexity to test_node.py.\r\n- Add `avoid_exceptions` parameter to `stop_node()` to make the behavior change more surgical, thanks to ryanofsky's [suggestion](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904621833). We now only kill the node under more narrow conditions.\r\n- Clarified in log output of tests when a WARNING is expected ([ryanofsky suggestion](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905790290)).\r\n- ee4c9d7eba6ba6fb6dcb7abd539c23f5b62d5991 - Added *feature_framework_rpc_failure_details.py* to verify that suppressed exception information is included in RPC connection timeout message ([ryanofsky suggestion](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905811915)).\r\n- Switched *feature_framework_stop_node.py* from using `TestNode.start()` + `TestNode.wait_for_rpc_connection()` to `BitcoinTestFramework.start_node()` which combines the two.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2598305057",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "labeled",
      "id": 16092005494,
      "node_id": "LE_lADOABII586TGVLXzwAAAAO_KIR2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16092005494",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T12:10:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "renamed",
      "id": 16100282544,
      "node_id": "RTE_lADOABII586TGVLXzwAAAAO_ptCw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100282544",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T22:42:52Z",
      "rename": {
        "from": "qa: Shut down framework cleanly on RPC connection failure",
        "to": "qa: Verify clean shutdown on startup failure"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16100288290,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAO_puci",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100288290",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f2e3721e018c3038d5d648ec7ae08e96418f3c29",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/f2e3721e018c3038d5d648ec7ae08e96418f3c29",
      "created_at": "2025-01-28T22:43:43Z"
    },
    {
      "event": "commented",
      "id": 2620208770,
      "node_id": "IC_kwDOABII586cLTaC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2620208770",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T22:45:41Z",
      "updated_at": "2025-01-28T22:45:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Resolved conflict with @maflcko's #31620 which solved the core issue more elegantly.\r\n\r\nI think there is still some use in the tests from this PR, as we want to avoid knock-on exceptions being reintroduced. I've reworked the tests from 3 to 1 Python file. They now launch a child process of which keeps the success-state of the parent `BitcoinTestFramework` separate from the expected failures of the child processes.\r\n\r\nThe final commit (f2e3721e018c3038d5d648ec7ae08e96418f3c29) is what remains of the core of what this PR used to be, but I haven't been able to construe a test that exercises it. So if reviewers prefer, I can drop it.\r\n\r\nTest instructions in updated PR summary.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2620208770",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "mentioned",
      "id": 16100302316,
      "node_id": "MEE_lADOABII586TGVLXzwAAAAO_px3s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100302316",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T22:45:43Z"
    },
    {
      "event": "subscribed",
      "id": 16100302326,
      "node_id": "SE_lADOABII586TGVLXzwAAAAO_px32",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100302326",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T22:45:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16100498898,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAO_qh3S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100498898",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "eb6b88aac89bcfa258385f6cb2a2c7181a1163d1",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/eb6b88aac89bcfa258385f6cb2a2c7181a1163d1",
      "created_at": "2025-01-28T23:11:59Z"
    },
    {
      "event": "labeled",
      "id": 16100499474,
      "node_id": "LE_lADOABII586TGVLXzwAAAAO_qiAS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100499474",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T23:12:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2620246834,
      "node_id": "IC_kwDOABII586cLcsy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2620246834",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-28T23:12:05Z",
      "updated_at": "2025-01-28T23:12:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/36321182366</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2620246834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "unlabeled",
      "id": 16100840437,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAO_r1P1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16100840437",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-29T00:07:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 16101108297,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAO_s2pJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16101108297",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-29T00:47:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16110500071,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPAQrjn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16110500071",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "798fa7bd220f7a4c1c7149ad4c1b25c8baa9c692",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/798fa7bd220f7a4c1c7149ad4c1b25c8baa9c692",
      "created_at": "2025-01-29T16:04:29Z"
    },
    {
      "event": "commented",
      "id": 2622149035,
      "node_id": "IC_kwDOABII586cStGr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2622149035",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-29T16:37:03Z",
      "updated_at": "2025-01-29T16:37:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Latest push adds 2347ce8f018b1b9b8d6ef1933a778023fd228b7f which fixes a Windows Python issue [found by CI](https://github.com/bitcoin/bitcoin/actions/runs/13021269281/job/36322263072). It's still a mystery to me why the old test from a previous version of this PR in ee4c9d7eba6ba6fb6dcb7abd539c23f5b62d5991 didn't provoke the same issue on Windows CI ([successful run including that commit](https://github.com/bitcoin/bitcoin/actions/runs/12696631983/job/35391102229#step:12:388)). CI output states they're running the same [Python](https://github.com/bitcoin/bitcoin/actions/runs/13021269281/job/36322263072#step:4:69) [version](https://github.com/bitcoin/bitcoin/actions/runs/12696631983/job/35391102229#step:4:69).\r\n\r\nTest was also updated to re-launch child processes using the same Python interpreter as the parent, as I was ending up with mixed 64/32-bit interpeters on Windows. Also switches from using `subprocesses.getoutput()` which is marked as [legacy](https://docs.python.org/3/library/subprocess.html#legacy-shell-invocation-functions), to `subprocess.run()` with a timeout.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2622149035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16114128049,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPAehSx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16114128049",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a18f7c8a252bdffd181fe696ede8a91e285e1cce",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/a18f7c8a252bdffd181fe696ede8a91e285e1cce",
      "created_at": "2025-01-29T20:45:49Z"
    },
    {
      "event": "commented",
      "id": 2622819631,
      "node_id": "IC_kwDOABII586cVQ0v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2622819631",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-29T20:50:46Z",
      "updated_at": "2025-01-29T23:06:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Sorry about the churn here. Went back to ee4c9d7eba6ba6fb6dcb7abd539c23f5b62d5991 and was able to reproduce the `TimeoutError.errno==None`-issue there too, which is a relief. It seemed to be a bit timing-sensitive, so in the latest push I increased the still low `rpc_timeout`-override and applied `self.options.timeout_factor` to it in hopes of making it more robust.\r\n\r\nEdit:\r\nThe above was for a18f7c8a252bdffd181fe696ede8a91e285e1cce.\r\nFixed trivial type-error in next push, 8102f3d8e0b6715433eeda78b9b57a83109fc45e.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2622819631",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "labeled",
      "id": 16115451393,
      "node_id": "LE_lADOABII586TGVLXzwAAAAPAjkYB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16115451393",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-29T22:28:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16115758223,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPAkvSP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16115758223",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "created_at": "2025-01-29T23:03:37Z"
    },
    {
      "event": "unlabeled",
      "id": 16116313919,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAPAm28_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16116313919",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-30T00:21:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unsubscribed",
      "id": 16129607252,
      "node_id": "UE_lADOABII586TGVLXzwAAAAPBZkZU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16129607252",
      "actor": {
        "login": "PRADACANDI18",
        "id": 91190628,
        "node_id": "MDQ6VXNlcjkxMTkwNjI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/91190628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PRADACANDI18",
        "html_url": "https://github.com/PRADACANDI18",
        "followers_url": "https://api.github.com/users/PRADACANDI18/followers",
        "following_url": "https://api.github.com/users/PRADACANDI18/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PRADACANDI18/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PRADACANDI18/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PRADACANDI18/subscriptions",
        "organizations_url": "https://api.github.com/users/PRADACANDI18/orgs",
        "repos_url": "https://api.github.com/users/PRADACANDI18/repos",
        "events_url": "https://api.github.com/users/PRADACANDI18/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PRADACANDI18/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-30T20:18:09Z"
    },
    {
      "event": "reviewed",
      "id": 2612568019,
      "node_id": "PRR_kwDOABII586buJ_T",
      "url": null,
      "actor": null,
      "commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 8102f3d8e0b6715433eeda78b9b57a83109fc45e. Looks like #31620 made some overlapping changes, but this PR still seems very useful.\r\n\r\nFrom PR description:\r\n\r\n> Before #31620, failure to establish RPC connections would result in an attempt to stop the node via RPC, triggering knock-on exceptions. This would muddy the waters for developers looking for root causes of test failures. This PR used to solve that issue in a more roundabout way than aforementioned PR, but now merely adds tests to ensure knock-on errors/exceptions are not reintroduced.\r\n\r\nEven after reviewing this PR twice and rereading this paragraph several times, I find this pretty difficult to understand. Would suggest giving a more straightforward description like:\r\n\r\n- This PR improves handling of startup errors in functional tests. Specifically it improves `wait_for_rpc_connection` so instead of returning a vague `Unable to connect to bitcoind` error, it returns details about specific failures leading up to it. This PR also adds comments, refactors code, improves logging, detects timeout errors on windows, adds a test to make sure error handling behavior is not broken in the future.\r\n\r\nI think it is ok to mention #31620 and mention the earlier version of this PR in a postscript to provide context for early review comments, but the main goal of the PR description should be to describe the PR as it currently is.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2612568019",
      "submitted_at": "2025-02-12T17:26:07Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "review_requested",
      "id": 16284667358,
      "node_id": "RRE_lADOABII586TGVLXzwAAAAPKpE3e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16284667358",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T17:26:13Z",
      "requested_reviewer": {
        "login": "m3dwards",
        "id": 1204616,
        "node_id": "MDQ6VXNlcjEyMDQ2MTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1204616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m3dwards",
        "html_url": "https://github.com/m3dwards",
        "followers_url": "https://api.github.com/users/m3dwards/followers",
        "following_url": "https://api.github.com/users/m3dwards/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m3dwards/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m3dwards/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m3dwards/subscriptions",
        "organizations_url": "https://api.github.com/users/m3dwards/orgs",
        "repos_url": "https://api.github.com/users/m3dwards/repos",
        "events_url": "https://api.github.com/users/m3dwards/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m3dwards/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16294149647,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPLNP4P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16294149647",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2069c8754c2636a6a8df15ca3bed2bc6a7fbb523",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/2069c8754c2636a6a8df15ca3bed2bc6a7fbb523",
      "created_at": "2025-02-13T10:22:01Z"
    },
    {
      "event": "reviewed",
      "id": 2613365399,
      "node_id": "PRR_kwDOABII586bxMqX",
      "url": null,
      "actor": null,
      "commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for bearing with me @ryanofsky. :)\r\n\r\nUpdated PR description based on feedback and addressed inline comments.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2613365399",
      "submitted_at": "2025-02-13T10:23:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16294230239,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPLNjjf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16294230239",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c107aa8c873cb3c031b341baef487638133823f1",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/c107aa8c873cb3c031b341baef487638133823f1",
      "created_at": "2025-02-13T10:27:24Z"
    },
    {
      "event": "labeled",
      "id": 16294232098,
      "node_id": "LE_lADOABII586TGVLXzwAAAAPLNkAi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16294232098",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-13T10:27:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2656153442,
      "node_id": "IC_kwDOABII586eUa9i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2656153442",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-13T10:27:34Z",
      "updated_at": "2025-02-13T10:27:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/37155473613</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#issuecomment-2656153442",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30660"
    },
    {
      "event": "unlabeled",
      "id": 16295616474,
      "node_id": "UNLE_lADOABII586TGVLXzwAAAAPLS1_a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16295616474",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-13T12:14:36Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2683088562,
      "node_id": "PRR_kwDOABII586f7K6y",
      "url": null,
      "actor": null,
      "commit_id": "c107aa8c873cb3c031b341baef487638133823f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK c107aa8c873cb3c031b341baef487638133823f1. Changes since last review were just updating some messages and expanding the test a little. Thanks for the updates. This still looks good to me and I left some more comments, but they are not important.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#pullrequestreview-2683088562",
      "submitted_at": "2025-03-13T20:02:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhmZjczOGE2ZTk2YzE5YWFmMTRlYmVhNTJjOGFlMTM3NTFjZjQ0M2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ff738a6e96c19aaf14ebea52c8ae13751cf443b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ff738a6e96c19aaf14ebea52c8ae13751cf443b",
      "tree": {
        "sha": "671f98c19c463e224aee1078954bd96e945dfef1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/671f98c19c463e224aee1078954bd96e945dfef1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 671f98c19c463e224aee1078954bd96e945dfef1\nparent b432e367427f1f9fe0f0a5800e31e496f00cd38d\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741960808 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741960808 +0100\n\nqa refactor: wait_for_rpc_connection - Treat OSErrors the same\n\nConnectionResetError is an OSError as well (ECONNRESET), no reason to have a separate except-block for it.\n\nAlso improves comments for other exceptions and make condition above more Pythonic.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQI4CsVnDGzvWU47Z/2DJ3lFmHyGIsg12Ha7dh6Plk+bmCvSTx+eOQ3V5Vbhu4Xk6LY\nPm2+v1IMA7EShcp/J9iQg=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b432e367427f1f9fe0f0a5800e31e496f00cd38d",
          "sha": "b432e367427f1f9fe0f0a5800e31e496f00cd38d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b432e367427f1f9fe0f0a5800e31e496f00cd38d"
        }
      ],
      "message": "qa refactor: wait_for_rpc_connection - Treat OSErrors the same\n\nConnectionResetError is an OSError as well (ECONNRESET), no reason to have a separate except-block for it.\n\nAlso improves comments for other exceptions and make condition above more Pythonic.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T14:00:08Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T14:00:08Z"
      },
      "sha": "8ff738a6e96c19aaf14ebea52c8ae13751cf443b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY1MjU0ZWQ1MWJhN2I2NDhmMTA2NmVhMGExMTk2NTAzMGIxYmY5MmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5254ed51ba7b648f1066ea0a11965030b1bf92f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f5254ed51ba7b648f1066ea0a11965030b1bf92f",
      "tree": {
        "sha": "8d7aff0ad1118ed8cdbc6f4145716efa5773e3c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8d7aff0ad1118ed8cdbc6f4145716efa5773e3c7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8d7aff0ad1118ed8cdbc6f4145716efa5773e3c7\nparent 8ff738a6e96c19aaf14ebea52c8ae13751cf443b\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1733925376 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741960811 +0100\n\nqa: Include ignored errors in RPC connection timeout\n\nWhen an RPC connection attempt with bitcoind times out, include which ignored errors occurred in the exception message.\n\nMay provide clues of what has gone wrong.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGpejyxFtjLtNaju4UlxNQpYSu/g9Pabwn42Cd2EHJ4el8x1JscduEsz7Kaac8n9ex\nCWAgATI4k89AEcjZcrLgQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ff738a6e96c19aaf14ebea52c8ae13751cf443b",
          "sha": "8ff738a6e96c19aaf14ebea52c8ae13751cf443b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ff738a6e96c19aaf14ebea52c8ae13751cf443b"
        }
      ],
      "message": "qa: Include ignored errors in RPC connection timeout\n\nWhen an RPC connection attempt with bitcoind times out, include which ignored errors occurred in the exception message.\n\nMay provide clues of what has gone wrong.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T14:00:11Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-12-11T13:56:16Z"
      },
      "sha": "f5254ed51ba7b648f1066ea0a11965030b1bf92f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMjE3OGU2N2ZmYjYzMGFjMGEwNjQzZmQ1M2VjYTgyZGIyYThmYzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2178e67ffb630ac0a0643fd53eca82db2a8fc8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2178e67ffb630ac0a0643fd53eca82db2a8fc8",
      "tree": {
        "sha": "7f446af5b7cb4ed9fc594eeafd9c7ce219b363a2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7f446af5b7cb4ed9fc594eeafd9c7ce219b363a2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7f446af5b7cb4ed9fc594eeafd9c7ce219b363a2\nparent f5254ed51ba7b648f1066ea0a11965030b1bf92f\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1738157827 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741960811 +0100\n\nqa: Workaround Windows issue with socket timeouts\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQHhrgcuaQC5axRoKcW0JLofEReHSEy/U1FSxGjtgvHb6FaGKRsWMt4C0e35rCm6Xq5\n0wCEQhep1K1tDKZRce3gE=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5254ed51ba7b648f1066ea0a11965030b1bf92f",
          "sha": "f5254ed51ba7b648f1066ea0a11965030b1bf92f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f5254ed51ba7b648f1066ea0a11965030b1bf92f"
        }
      ],
      "message": "qa: Workaround Windows issue with socket timeouts",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T14:00:11Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-01-29T13:37:07Z"
      },
      "sha": "fa2178e67ffb630ac0a0643fd53eca82db2a8fc8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16775272756,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPn4lk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16775272756",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "47a70f2c675244fd5476ca6832a1e6bb39c32289",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/47a70f2c675244fd5476ca6832a1e6bb39c32289",
      "created_at": "2025-03-14T14:10:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16775459833,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPn5TP5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16775459833",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b2ea0bd922c080d01ac52d819b9f0fecc0679571",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/b2ea0bd922c080d01ac52d819b9f0fecc0679571",
      "created_at": "2025-03-14T14:23:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16775467653,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPn5VKF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16775467653",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9d8dbad70d6ad87ec4fd7a4b8ebe88a01f0d8b31",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/9d8dbad70d6ad87ec4fd7a4b8ebe88a01f0d8b31",
      "created_at": "2025-03-14T14:23:39Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16776142463,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPn755_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16776142463",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b31bdf5ffbec89cd2bdf8092d4b6e9bcee25c34c",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/b31bdf5ffbec89cd2bdf8092d4b6e9bcee25c34c",
      "created_at": "2025-03-14T15:06:53Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJlNWZiNDI1MWFjNzhmYmZiMjU0YTRkODBkNTFlOTQzMzhkNzk0MjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e5fb4251ac78fbfb254a4d80d51e94338d79420",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2e5fb4251ac78fbfb254a4d80d51e94338d79420",
      "tree": {
        "sha": "83247fb79a4a110464307d086a8104d858895d63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/83247fb79a4a110464307d086a8104d858895d63"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 83247fb79a4a110464307d086a8104d858895d63\nparent fa2178e67ffb630ac0a0643fd53eca82db2a8fc8\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1739434704 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741965209 +0100\n\nqa: Only allow calling TestNode.stop() after connecting\n\n(Still tolerate calling it on a no longer (self.)running node, as in a node that has been queried for is_node_stopped() and modified state before returning True).\n\nTests should not attempt to use the non-functioning RPC interface to call stop() unless wait_for_connections() has succeeded.\n\nNo longer log and suppress http.client.CannotSendRequest as a consequence of stop()-RPC, as error conditions causing this knock-on issue are now guarded against before the call.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQLIHLFGUYgi6UggQG7p8spwMBkj5BqrBiN63jsdb0R6z9QLvhDyCAryLDX2+fBCaSr\nm3bUw5y3xfICOccuTkrgM=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2178e67ffb630ac0a0643fd53eca82db2a8fc8",
          "sha": "fa2178e67ffb630ac0a0643fd53eca82db2a8fc8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2178e67ffb630ac0a0643fd53eca82db2a8fc8"
        }
      ],
      "message": "qa: Only allow calling TestNode.stop() after connecting\n\n(Still tolerate calling it on a no longer (self.)running node, as in a node that has been queried for is_node_stopped() and modified state before returning True).\n\nTests should not attempt to use the non-functioning RPC interface to call stop() unless wait_for_connections() has succeeded.\n\nNo longer log and suppress http.client.CannotSendRequest as a consequence of stop()-RPC, as error conditions causing this knock-on issue are now guarded against before the call.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T15:13:29Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-02-13T08:18:24Z"
      },
      "sha": "2e5fb4251ac78fbfb254a4d80d51e94338d79420"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE1MzhkY2U5NTFhNjFkOTc1OTE3YWJhNzQ3YWJjM2IyNWVlMzlmMjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a538dce951a61d975917aba747abc3b25ee39f24",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a538dce951a61d975917aba747abc3b25ee39f24",
      "tree": {
        "sha": "bdce505856adca73436020c19f6815a59db28079",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bdce505856adca73436020c19f6815a59db28079"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bdce505856adca73436020c19f6815a59db28079\nparent 2e5fb4251ac78fbfb254a4d80d51e94338d79420\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741960584 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741965209 +0100\n\nqa: Add feature_framework_startup_failures.py\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQCGe6B1YPhleeCqRtnqC+DrMEjHlIjBsVKtfWevGumpRsxTb9sZZLM/WD7rdU+u+9a\nXqoNhR3libDzQEdFf55gg=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e5fb4251ac78fbfb254a4d80d51e94338d79420",
          "sha": "2e5fb4251ac78fbfb254a4d80d51e94338d79420",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2e5fb4251ac78fbfb254a4d80d51e94338d79420"
        }
      ],
      "message": "qa: Add feature_framework_startup_failures.py",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T15:13:29Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T13:56:24Z"
      },
      "sha": "a538dce951a61d975917aba747abc3b25ee39f24"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNlODdjMGU3ODUyODY0ODQ3ZDk3ZTJlYWZiYTljYWZmMTk2ZDU0YmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce87c0e7852864847d97e2eafba9caff196d54bc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ce87c0e7852864847d97e2eafba9caff196d54bc",
      "tree": {
        "sha": "81da3fc519c4e93bbf92644a329bb4712333ba0e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/81da3fc519c4e93bbf92644a329bb4712333ba0e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 81da3fc519c4e93bbf92644a329bb4712333ba0e\nparent a538dce951a61d975917aba747abc3b25ee39f24\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1739400737 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1741965209 +0100\n\nqa: Avoid logging node stopping info when a test has 0 nodes\n\nThis applies to the test in the parent commit which does not run any nodes itself, only indirectly through child test processes.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGTLed/OYrqd6zPxKvXqz95TRF96sYakaxK418ogCug9/teMXH4dVIG9sUh8pgFZe7\njnnTvY2H9YMbiLLBL/fQo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a538dce951a61d975917aba747abc3b25ee39f24",
          "sha": "a538dce951a61d975917aba747abc3b25ee39f24",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a538dce951a61d975917aba747abc3b25ee39f24"
        }
      ],
      "message": "qa: Avoid logging node stopping info when a test has 0 nodes\n\nThis applies to the test in the parent commit which does not run any nodes itself, only indirectly through child test processes.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-14T15:13:29Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-02-12T22:52:17Z"
      },
      "sha": "ce87c0e7852864847d97e2eafba9caff196d54bc"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16776257842,
      "node_id": "HRFPE_lADOABII586TGVLXzwAAAAPn8WEy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16776257842",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/ce87c0e7852864847d97e2eafba9caff196d54bc",
      "created_at": "2025-03-14T15:13:55Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1824983303",
      "pull_request_review_id": 2408783550,
      "id": 1824983303,
      "node_id": "PRRC_kwDOABII585sxwkH",
      "diff_hunk": "@@ -313,25 +316,35 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 return\n             except JSONRPCException as e:  # Initialization phase\n                 # -28 RPC in warmup\n+                if e.error['code'] == -28:\n+                    ignored_errors[\"JSONRPCException -28\"] += 1\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # - Ignore the exception to properly raise the FailedToStartError.\n+                elif e.error['code'] == -342:\n+                    ignored_errors[\"JSONRPCException -342\"] += 1",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 27,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5c95843281bea483544e3f8348d40badda233aa1",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "non-blocking nit: might be a bit more Pythonic to use Counter.update() rather than `+= 1`.\r\nFor example:\r\n```python\r\nignored_errors.update([f\"JSONRPCException {e.error['code']}\"])\r\n```",
      "created_at": "2024-10-31T18:19:07Z",
      "updated_at": "2024-10-31T18:49:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1824983303",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1824983303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 319,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1824996905",
      "pull_request_review_id": 2408783550,
      "id": 1824996905,
      "node_id": "PRRC_kwDOABII585sxz4p",
      "diff_hunk": "@@ -313,25 +316,35 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 return\n             except JSONRPCException as e:  # Initialization phase\n                 # -28 RPC in warmup\n+                if e.error['code'] == -28:\n+                    ignored_errors[\"JSONRPCException -28\"] += 1\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # - Ignore the exception to properly raise the FailedToStartError.\n+                elif e.error['code'] == -342:\n+                    ignored_errors[\"JSONRPCException -342\"] += 1\n+                else:\n                     raise  # unknown JSON RPC exception\n+                latest_error = repr(e)\n             except OSError as e:\n                 if e.errno == errno.ECONNRESET:\n                     # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n                     # succeeds. Try again to properly raise the FailedToStartError\n-                    pass\n+                    ignored_errors[\"OSError.ECONNRESET\"] += 1\n                 elif e.errno == errno.ETIMEDOUT:\n-                    pass # Treat identical to ECONNRESET\n+                    ignored_errors[\"OSError.ETIMEDOUT\"] += 1 # Treat identical to ECONNRESET\n                 elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n+                    ignored_errors[\"OSError.ECONNREFUSED\"] += 1 # Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 42,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5c95843281bea483544e3f8348d40badda233aa1",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "non-blocking nit: same with these.\r\ne.g.\r\n```python\r\nignored_errors.update([errno.errorcode[e.errno]])\r\n```",
      "created_at": "2024-10-31T18:27:21Z",
      "updated_at": "2024-10-31T18:49:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1824996905",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1824996905"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 332,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1825023128",
      "pull_request_review_id": 2408783550,
      "id": 1825023128,
      "node_id": "PRRC_kwDOABII585sx6SY",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from pathlib import Path\n+\n+from test_framework.util import (\n+    assert_equal,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        test_name = Path(__file__).name\n+        self.log.info(f\"{test_name}: Setting RPC timeout to 0 to simulate an unresponsive bitcoind\")\n+        self.rpc_timeout = 0\n+\n+        try:\n+            BitcoinTestFramework.setup_network(self)\n+        except AssertionError as e:\n+            assert_equal(str(e)[:47], \"[node 0] Unable to connect to bitcoind after 0s\")\n+            self.log.info(f\"{test_name}: Caught AssertionError with expected RPC connection failure message\")\n+        else:\n+            raise AssertionError(\"Didn't raise expected error\")",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 35,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "9173b056006fd3940675108aa3fe0d0d855af768",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe we can use `util.assert_raises()` or `util.assert_raises_message()` here to keep things more concise?",
      "created_at": "2024-10-31T18:47:30Z",
      "updated_at": "2024-10-31T18:49:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1825023128",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1825023128"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 29,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826772195",
      "pull_request_review_id": 2411714494,
      "id": 1826772195,
      "node_id": "PRRC_kwDOABII585s4lTj",
      "diff_hunk": "@@ -313,25 +316,35 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 return\n             except JSONRPCException as e:  # Initialization phase\n                 # -28 RPC in warmup\n+                if e.error['code'] == -28:\n+                    ignored_errors[\"JSONRPCException -28\"] += 1\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # - Ignore the exception to properly raise the FailedToStartError.\n+                elif e.error['code'] == -342:\n+                    ignored_errors[\"JSONRPCException -342\"] += 1\n+                else:\n                     raise  # unknown JSON RPC exception\n+                latest_error = repr(e)\n             except OSError as e:\n                 if e.errno == errno.ECONNRESET:\n                     # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n                     # succeeds. Try again to properly raise the FailedToStartError\n-                    pass\n+                    ignored_errors[\"OSError.ECONNRESET\"] += 1\n                 elif e.errno == errno.ETIMEDOUT:\n-                    pass # Treat identical to ECONNRESET\n+                    ignored_errors[\"OSError.ETIMEDOUT\"] += 1 # Treat identical to ECONNRESET\n                 elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n+                    ignored_errors[\"OSError.ECONNREFUSED\"] += 1 # Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 42,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5c95843281bea483544e3f8348d40badda233aa1",
      "in_reply_to_id": 1824996905,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(Same issue with `update()`, see https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826774806).",
      "created_at": "2024-11-02T20:21:00Z",
      "updated_at": "2024-11-02T20:28:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826772195",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826772195"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 332,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826774077",
      "pull_request_review_id": 2411714494,
      "id": 1826774077,
      "node_id": "PRRC_kwDOABII585s4lw9",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from pathlib import Path\n+\n+from test_framework.util import (\n+    assert_equal,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        test_name = Path(__file__).name\n+        self.log.info(f\"{test_name}: Setting RPC timeout to 0 to simulate an unresponsive bitcoind\")\n+        self.rpc_timeout = 0\n+\n+        try:\n+            BitcoinTestFramework.setup_network(self)\n+        except AssertionError as e:\n+            assert_equal(str(e)[:47], \"[node 0] Unable to connect to bitcoind after 0s\")\n+            self.log.info(f\"{test_name}: Caught AssertionError with expected RPC connection failure message\")\n+        else:\n+            raise AssertionError(\"Didn't raise expected error\")",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 35,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "9173b056006fd3940675108aa3fe0d0d855af768",
      "in_reply_to_id": 1825023128,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Had to add a commit (2a0c0e410e9f32dbf7af7229457889b09553c438) that refurbishes `assert_raises_message()`, but test is much cleaner now!",
      "created_at": "2024-11-02T20:22:41Z",
      "updated_at": "2024-11-02T20:26:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826774077",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826774077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 29,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826774806",
      "pull_request_review_id": 2411714494,
      "id": 1826774806,
      "node_id": "PRRC_kwDOABII585s4l8W",
      "diff_hunk": "@@ -313,25 +316,35 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 return\n             except JSONRPCException as e:  # Initialization phase\n                 # -28 RPC in warmup\n+                if e.error['code'] == -28:\n+                    ignored_errors[\"JSONRPCException -28\"] += 1\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # - Ignore the exception to properly raise the FailedToStartError.\n+                elif e.error['code'] == -342:\n+                    ignored_errors[\"JSONRPCException -342\"] += 1",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 27,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5c95843281bea483544e3f8348d40badda233aa1",
      "in_reply_to_id": 1824983303,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Tried using `update()`, but it resulted in things like:\r\n```\r\nAssertionError: [node 0] Unable to connect to bitcoind after 10s (ignored errors: {'m': 40, 'i': 120, 's': 120, 'n': 80, 'g': 40, '_': 40, 'c': 40, 'r': 40, 'e': 80, 'd': 40, 't': 40, 'a': 40, 'l': 40}, latest error: ValueError('No RPC credentials'))\r\n```\r\ni.e. it was iterating over the string and incrementing an entry for each unique character, which seems to match the [docs](https://docs.python.org/3/library/collections.html#collections.Counter.update) even though not super clear.~\r\n\r\n---\r\n\r\nEdit: @tdb3 pointed out out of band than I'd probably missed out the `[]`-brackets around the strings to make `update()` iterate through whole strings instead of chars.\r\n```python\r\nignored_errors.update([f\"JSONRPCException {e.error['code']}\"])\r\n````\r\nfeels slightly more contrived and verbose to me than\r\n```python\r\nignored_errors[f\"JSONRPCException {e.error['code']}\"] += 1\r\n```\r\nbut neither is too elegant.\r\n\r\nMight switch away from `Counter` if something more appropriate is found.",
      "created_at": "2024-11-02T20:23:20Z",
      "updated_at": "2024-11-02T21:37:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826774806",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826774806"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 319,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826867112",
      "pull_request_review_id": 2411750030,
      "id": 1826867112,
      "node_id": "PRRC_kwDOABII585s48eo",
      "diff_hunk": "@@ -317,19 +320,25 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n                 if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n+                ignored_errors[f\"JSONRPCException {e.error['code']}\"] += 1\n+                latest_error = repr(e)\n             except OSError as e:\n                 # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n                 #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n                 # ETIMEDOUT    - Treat identical to ECONNRESET\n                 # ECONNREFUSED - Port not yet open?\n                 if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n+                ignored_errors[f\"OSError {errno.errorcode[e.errno]}\"] += 1\n+                latest_error = repr(e)\n             except ValueError as e:\n                 # If cookie file is missing and no rpcuser or rpcpassword; bitcoind is still starting, otherwise raise\n                 if \"No RPC credentials\" not in str(e):\n                     raise\n+                ignored_errors[\"missing_credentials\"] += 1\n+                latest_error = repr(e)\n             time.sleep(1.0 / poll_per_s)\n-        self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\n+        self._raise_assertion_error(\"Unable to connect to bitcoind after {}s (ignored errors: {}, latest error: {})\".format(self.rpc_timeout, str(dict(ignored_errors)), latest_error))",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 40,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "b6b30c2d9c24fde23a613ee9b3681d66ec7abff1",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "non-blocking pico-nit:\r\nIf this file gets touched again, could use `f` string instead of `format`.\r\nhttps://github.com/bitcoin/bitcoin/blob/master/test/functional/README.md#style-guidelines",
      "created_at": "2024-11-02T22:50:33Z",
      "updated_at": "2024-11-02T22:59:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826867112",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826867112"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826869399",
      "pull_request_review_id": 2411751751,
      "id": 1826869399,
      "node_id": "PRRC_kwDOABII585s49CX",
      "diff_hunk": "@@ -317,19 +320,25 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n                 if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n+                ignored_errors[f\"JSONRPCException {e.error['code']}\"] += 1\n+                latest_error = repr(e)\n             except OSError as e:\n                 # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n                 #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n                 # ETIMEDOUT    - Treat identical to ECONNRESET\n                 # ECONNREFUSED - Port not yet open?\n                 if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n+                ignored_errors[f\"OSError {errno.errorcode[e.errno]}\"] += 1\n+                latest_error = repr(e)\n             except ValueError as e:\n                 # If cookie file is missing and no rpcuser or rpcpassword; bitcoind is still starting, otherwise raise\n                 if \"No RPC credentials\" not in str(e):\n                     raise\n+                ignored_errors[\"missing_credentials\"] += 1\n+                latest_error = repr(e)\n             time.sleep(1.0 / poll_per_s)\n-        self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\n+        self._raise_assertion_error(\"Unable to connect to bitcoind after {}s (ignored errors: {}, latest error: {})\".format(self.rpc_timeout, str(dict(ignored_errors)), latest_error))",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 40,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "b6b30c2d9c24fde23a613ee9b3681d66ec7abff1",
      "in_reply_to_id": 1826867112,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point! Resolved in latest push.",
      "created_at": "2024-11-02T23:11:35Z",
      "updated_at": "2024-11-02T23:11:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1826869399",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1826869399"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827490394",
      "pull_request_review_id": 2412663196,
      "id": 1827490394,
      "node_id": "PRRC_kwDOABII585s7Upa",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from pathlib import Path\n+\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        test_name = Path(__file__).name\n+        self.log.info(f\"{test_name}: Setting RPC timeout to 0 to simulate an unresponsive bitcoind\")",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "042cee7073b338d79b5176d4157cf08bbd079b9f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Any reason to log the file name here? The containing folder of the log should already have the name of the test/file. If not, the user should know which test they called to know it.\r\n\r\nIf not, and this was helpful, it would be better to log it for all tests, instead of just for this one test specifically.",
      "created_at": "2024-11-04T10:15:01Z",
      "updated_at": "2024-11-06T18:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827490394",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827490394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827578786",
      "pull_request_review_id": 2412663196,
      "id": 1827578786,
      "node_id": "PRRC_kwDOABII585s7qOi",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 5ca92b17c5d2d5efa7b2246da1905bb8fd186230: It is obvious, but could mention the success case as well?\r\n\r\n`Retry after these, until a permanent success or failure state (such as FailedToStartError, or timeout) is reached.`?",
      "created_at": "2024-11-04T11:24:08Z",
      "updated_at": "2024-11-06T18:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827578786",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827578786"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827592298",
      "pull_request_review_id": 2412663196,
      "id": 1827592298,
      "node_id": "PRRC_kwDOABII585s7thq",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 8,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think this is true, it is just one example. I think 342 can be raised by authproxy.py for various reasons.",
      "created_at": "2024-11-04T11:36:02Z",
      "updated_at": "2024-11-06T18:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827592298",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827592298"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 317,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827600606",
      "pull_request_review_id": 2412663196,
      "id": 1827600606,
      "node_id": "PRRC_kwDOABII585s7vje",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Could just mention that the three are treated equal to \"-342 Service unavailable\", which is already explained above?",
      "created_at": "2024-11-04T11:42:48Z",
      "updated_at": "2024-11-06T18:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827600606",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827600606"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827605564",
      "pull_request_review_id": 2412663196,
      "id": 1827605564,
      "node_id": "PRRC_kwDOABII585s7ww8",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?\n+                if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n-            except ValueError as e:  # cookie file not found and no rpcuser or rpcpassword; bitcoind is still starting\n+            except ValueError as e:\n+                # If cookie file is missing and no rpcuser or rpcpassword; bitcoind is still starting, otherwise raise",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 30,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: I don't think \"bitcoind is still starting\" is true either. It is just one example. Another example would be that the cookie file is (accidentally) disabled in the config.\r\n\r\nWhat about just `Retry if cookie file is not created and no rpcuser or rpcpassword.\"?",
      "created_at": "2024-11-04T11:47:12Z",
      "updated_at": "2024-11-06T18:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827605564",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1827605564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 328,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834128269",
      "pull_request_review_id": 2423368450,
      "id": 1834128269,
      "node_id": "PRRC_kwDOABII585tUpON",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from pathlib import Path\n+\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        test_name = Path(__file__).name\n+        self.log.info(f\"{test_name}: Setting RPC timeout to 0 to simulate an unresponsive bitcoind\")",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "042cee7073b338d79b5176d4157cf08bbd079b9f",
      "in_reply_to_id": 1827490394,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Wanted to make clear it wasn't something internal to `BitcoinTestFramework/TestNode` deciding to set the RPC timeout. Replaced that with instead appending \", expect one warning\" to the log message. (Edit: now pushed).",
      "created_at": "2024-11-08T10:44:14Z",
      "updated_at": "2024-11-08T10:45:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834128269",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834128269"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834132074",
      "pull_request_review_id": 2423382638,
      "id": 1834132074,
      "node_id": "PRRC_kwDOABII585tUqJq",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827578786,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point, changed to\r\n`Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).`",
      "created_at": "2024-11-08T10:47:20Z",
      "updated_at": "2024-11-08T22:26:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834132074",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834132074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834132851",
      "pull_request_review_id": 2423383926,
      "id": 1834132851,
      "node_id": "PRRC_kwDOABII585tUqVz",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 8,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827592298,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Made comment less definitive.",
      "created_at": "2024-11-08T10:48:03Z",
      "updated_at": "2024-11-08T10:48:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834132851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834132851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 317,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834133495",
      "pull_request_review_id": 2423385042,
      "id": 1834133495,
      "node_id": "PRRC_kwDOABII585tUqf3",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added:\r\n`Suppress similarly to the above JSONRPCException errors:`",
      "created_at": "2024-11-08T10:48:40Z",
      "updated_at": "2024-11-08T10:48:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834133495",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834133495"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834134904",
      "pull_request_review_id": 2423387458,
      "id": 1834134904,
      "node_id": "PRRC_kwDOABII585tUq14",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?\n+                if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n-            except ValueError as e:  # cookie file not found and no rpcuser or rpcpassword; bitcoind is still starting\n+            except ValueError as e:\n+                # If cookie file is missing and no rpcuser or rpcpassword; bitcoind is still starting, otherwise raise",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 30,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827605564,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Agree, made comment less definitive, but still think it's good to include the common cause:\r\n`Suppress if cookie file is missing and no rpcuser or rpcpassword; bitcoind may be starting`",
      "created_at": "2024-11-08T10:49:56Z",
      "updated_at": "2024-11-08T10:49:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834134904",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834134904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 328,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834551086",
      "pull_request_review_id": 2424048996,
      "id": 1834551086,
      "node_id": "PRRC_kwDOABII585tWQcu",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I still don't know if the current docs are correct and useful.\r\n\r\nWhy would `ETIMEDOUT` only happen on warmup? Why is it even relevant to mention anything here?\r\n\r\nI think it would be clearer to just mention that the three are treated equal to \"-342 Service unavailable\", which is already explained above?",
      "created_at": "2024-11-08T15:06:26Z",
      "updated_at": "2024-11-08T15:06:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834551086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1834551086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1846425672",
      "pull_request_review_id": 2442357273,
      "id": 1846425672,
      "node_id": "PRRC_kwDOABII585uDjhI",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1834551086\r\n\r\nAre you still working on this?",
      "created_at": "2024-11-18T11:27:29Z",
      "updated_at": "2024-11-18T11:27:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1846425672",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1846425672"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1847351945",
      "pull_request_review_id": 2443849497,
      "id": 1847351945,
      "node_id": "PRRC_kwDOABII585uHFqJ",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I am still working on this PR. Not thrilled about removing the 3 comment strings predating this PR.",
      "created_at": "2024-11-18T22:19:43Z",
      "updated_at": "2024-11-18T22:19:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1847351945",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1847351945"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1858229897",
      "pull_request_review_id": 2461064621,
      "id": 1858229897,
      "node_id": "PRRC_kwDOABII585uwlaJ",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I am satisfied with the PR in it's latest revision, but if you don't consider this a nit, but rather a blocker, let me know.",
      "created_at": "2024-11-26T10:35:47Z",
      "updated_at": "2024-11-26T10:35:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1858229897",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1858229897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1868331201",
      "pull_request_review_id": 2476693353,
      "id": 1868331201,
      "node_id": "PRRC_kwDOABII585vXHjB",
      "diff_hunk": "@@ -5,6 +5,7 @@\n \"\"\"Class for bitcoind node under test\"\"\"\n \n import contextlib\n+from collections import Counter",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 4,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "ba28593147ccc880c3a4d40db0d4ef57f4766254",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(Could possibly use `collections.defaultdict(int)` instead of `Counter` iff I really need to retouch).",
      "created_at": "2024-12-03T20:31:38Z",
      "updated_at": "2024-12-03T20:31:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1868331201",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1868331201"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 8,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904577914",
      "pull_request_review_id": 2532868324,
      "id": 1904577914,
      "node_id": "PRRC_kwDOABII585xhY16",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test refactor: wait_for_rpc_connection - Treat OSErrors the same\" (5321eb089cd1b39160038050a6ef6f27fd6f4ef9)\r\n\r\nI think these documentation changes look ok, but looking at old and new versions side by side I mostly found the previous comments easier to follow because they were more direct and interspersed with relevant code.\r\n\r\nE.g. the previous \"# Initialization phase\" comment next to the exception being caught told me that the exception was expected during initialization. The current comment \"Suppress these in favor of a later outcome\" tells me the code does not care about this exception as much as other exceptions, but not why.\r\n\r\nAm fine with both versions though.\r\n\r\n",
      "created_at": "2025-01-06T19:57:04Z",
      "updated_at": "2025-01-07T18:54:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904577914",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904577914"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904579994",
      "pull_request_review_id": 2532868324,
      "id": 1904579994,
      "node_id": "PRRC_kwDOABII585xhZWa",
      "diff_hunk": "@@ -311,23 +311,22 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).\n                 # -28 RPC in warmup\n-                # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # -342 Service unavailable, could be starting up or shutting down\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # Suppress similarly to the above JSONRPCException errors:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds.\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?\n+                if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n-            except ValueError as e:  # cookie file not found and no rpcuser or rpcpassword; bitcoind is still starting\n+            except ValueError as e:\n+                # Suppress if cookie file is missing and no rpcuser or rpcpassword; bitcoind may be starting",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 32,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5321eb089cd1b39160038050a6ef6f27fd6f4ef9",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test refactor: wait_for_rpc_connection - Treat OSErrors the same\" (5321eb089cd1b39160038050a6ef6f27fd6f4ef9)\r\n\r\nFound both this comment \"cookie file is missing\" and previous comment \"cookie file not found\" confusing because it is not clear why the cookie file would not be present. IMO saying \"node has not generated the cookie file yet\" would be clearer.",
      "created_at": "2025-01-06T19:59:28Z",
      "updated_at": "2025-01-07T18:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904579994",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904579994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 329,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904607706",
      "pull_request_review_id": 2532868324,
      "id": 1904607706,
      "node_id": "PRRC_kwDOABII585xhgHa",
      "diff_hunk": "@@ -447,7 +448,9 @@ def is_node_stopped(self, *, expected_stderr=\"\", expected_ret_code=0):\n \n     def wait_until_stopped(self, *, timeout=BITCOIND_PROC_WAIT_TIMEOUT, expect_error=False, **kwargs):\n         if \"expected_ret_code\" not in kwargs:\n-            kwargs[\"expected_ret_code\"] = 1 if expect_error else 0  # Whether node shutdown return EXIT_FAILURE or EXIT_SUCCESS\n+            # Whether node shutdown is expected to return EXIT_FAILURE (1) or\n+            # EXIT_SUCCESS (self.expected_ret_code).\n+            kwargs[\"expected_ret_code\"] = 1 if expect_error else self.expected_ret_code",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 33,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "db0e1580a5212a162908ac4f23e935e1f76e06dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Allow changing expected internal return code\" (db0e1580a5212a162908ac4f23e935e1f76e06dc)\r\n\r\nNow that this logic is getting more complicated with `self.expected_ret_code` I think the `expect_error` argument should be dropped so the code can be more understandable. It looks like there is only a single `expect_error` usage in `feature_abortnode.py` and it can be easily replaced by using `expected_ret_code`. Would suggest:\r\n\r\n```diff\r\n--- a/test/functional/feature_abortnode.py\r\n+++ b/test/functional/feature_abortnode.py\r\n@@ -36,7 +36,7 @@ class AbortNodeTest(BitcoinTestFramework):\r\n \r\n             # Check that node0 aborted\r\n             self.log.info(\"Waiting for crash\")\r\n-            self.nodes[0].wait_until_stopped(timeout=5, expect_error=True, expected_stderr=\"Error: A fatal internal error occurred, see debug.log for details: Failed to disconnect block.\")\r\n+            self.nodes[0].wait_until_stopped(timeout=5, expected_ret_code=1, expected_stderr=\"Error: A fatal internal error occurred, see debug.log for details: Failed to disconnect block.\")\r\n         self.log.info(\"Node crashed - now verifying restart fails\")\r\n         self.nodes[0].assert_start_raises_init_error()\r\n \r\n--- a/test/functional/test_framework/test_node.py\r\n+++ b/test/functional/test_framework/test_node.py\r\n@@ -460,11 +460,11 @@ class TestNode():\r\n         self.log.debug(\"Node stopped\")\r\n         return True\r\n \r\n-    def wait_until_stopped(self, *, timeout=BITCOIND_PROC_WAIT_TIMEOUT, expect_error=False, **kwargs):\r\n+    def wait_until_stopped(self, *, timeout=BITCOIND_PROC_WAIT_TIMEOUT, **kwargs):\r\n         if \"expected_ret_code\" not in kwargs:\r\n             # Whether node shutdown is expected to return EXIT_FAILURE (1) or\r\n             # EXIT_SUCCESS (self.expected_ret_code).\r\n-            kwargs[\"expected_ret_code\"] = 1 if expect_error else self.expected_ret_code\r\n+            kwargs[\"expected_ret_code\"] = self.expected_ret_code\r\n         self.wait_until(lambda: self.is_node_stopped(**kwargs), timeout=timeout)\r\n \r\n     def replace_in_config(self, replacements):\r\n```\r\n",
      "created_at": "2025-01-06T20:30:06Z",
      "updated_at": "2025-01-07T18:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904607706",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904607706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 453,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904621833",
      "pull_request_review_id": 2532868324,
      "id": 1904621833,
      "node_id": "PRRC_kwDOABII585xhjkJ",
      "diff_hunk": "@@ -397,14 +398,27 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n-            # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n-            if self.version_is_at_least(180000):\n-                self.stop(wait=wait)\n+        if self.rpc_connected:\n+            try:\n+                # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n+                if self.version_is_at_least(180000):\n+                    self.stop(wait=wait)\n+                else:\n+                    self.stop()\n+            except http.client.CannotSendRequest:\n+                self.log.exception(\"Unable to stop node.\")\n+        else:\n+            return_code = self.process.poll()\n+            if return_code is None:\n+                self.log.warning(\"Cannot call stop-RPC as we are not connected. \"\n+                    f\"Killing process {self.process.pid} so that wait_until_stopped will not time out.\")\n+                self.expected_ret_code = 1 if platform.system() == \"Windows\" else -9\n+                self.process.kill()\n             else:\n-                self.stop()\n-        except http.client.CannotSendRequest:\n-            self.log.exception(\"Unable to stop node.\")\n+                self.log.warning(f\"Process {self.process.pid} already died with return code {return_code}.\")\n+                # If we no longer have a running process once stop_node() is called, assume we've already triggered an",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 42,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "4ab7879ec6b71804cc3a51bcf58fa6318fa103b0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Kill process if stop-RPC is not available\" (4ab7879ec6b71804cc3a51bcf58fa6318fa103b0)\r\n\r\nThis change doesn't seem safe. The stop_node method can be called by arbitrary test code at arbitrary times, including when `self.rpc_connected` is False, and I don't think it should be suppressing errors unless the caller has explicitly requested that errors should not be passed on.\r\n\r\nWould suggest narrowing the error suppression behavior, so errors and bugs will be less likely to go unnoticed because of this change:\r\n\r\n<details><summary>diff</summary>\r\n<p>\r\n\r\n```diff\r\n--- a/test/functional/feature_framework_stop_node.py\r\n+++ b/test/functional/feature_framework_stop_node.py\r\n@@ -42,7 +42,7 @@ class FeatureFrameworkStopNode(BitcoinTestFramework):\r\n         assert self.nodes[0].running, \\\r\n             \"The process should still be flagged as running before calling stop_node()\"\r\n         self.log.debug(\"Explicitly stopping the node to verify it completes cleanly during the test\")\r\n-        self.nodes[0].stop_node(expected_stderr=invalid_arg_error)\r\n+        self.nodes[0].stop_node(expected_stderr=invalid_arg_error, force=True)\r\n \r\n if __name__ == '__main__':\r\n     FeatureFrameworkStopNode(__file__).main()\r\n--- a/test/functional/test_framework/test_framework.py\r\n+++ b/test/functional/test_framework/test_framework.py\r\n@@ -315,7 +315,7 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n         if not self.options.noshutdown:\r\n             self.log.info(\"Stopping nodes\")\r\n             if self.nodes:\r\n-                self.stop_nodes()\r\n+                self.stop_nodes(force=self.success != TestStatus.PASSED)\r\n         else:\r\n             for node in self.nodes:\r\n                 node.cleanup_on_exit = False\r\n@@ -569,7 +569,7 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n                 node.wait_for_rpc_connection()\r\n         except Exception:\r\n             # If one node failed to start, stop the others\r\n-            self.stop_nodes()\r\n+            self.stop_nodes(force=True)\r\n             raise\r\n \r\n         if self.options.coveragedir is not None:\r\n@@ -580,11 +580,11 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n         \"\"\"Stop a bitcoind test node\"\"\"\r\n         self.nodes[i].stop_node(expected_stderr, wait=wait)\r\n \r\n-    def stop_nodes(self, wait=0):\r\n+    def stop_nodes(self, wait=0, force=False):\r\n         \"\"\"Stop multiple bitcoind test nodes\"\"\"\r\n         for node in self.nodes:\r\n             # Issue RPC to stop nodes\r\n-            node.stop_node(wait=wait, wait_until_stopped=False)\r\n+            node.stop_node(wait=wait, wait_until_stopped=False, force=force)\r\n \r\n         for node in self.nodes:\r\n             # Wait for nodes to stop\r\n--- a/test/functional/test_framework/test_node.py\r\n+++ b/test/functional/test_framework/test_node.py\r\n@@ -393,12 +393,30 @@ class TestNode():\r\n     def version_is_at_least(self, ver):\r\n         return self.version is None or self.version >= ver\r\n \r\n-    def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\r\n-        \"\"\"Stop the node.\"\"\"\r\n+    def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True, force=False):\r\n+        \"\"\"Stop the node.\r\n+\r\n+        Args:\r\n+            force (bool): Stop the node forcefully if necessary, and change\r\n+                errors that would otherwise be exceptions into logged warnings.\r\n+\r\n+        Notes:\r\n+            - The force argument should only be set to true when a test has\r\n+            already failed, and the caller is already throwing an exception of\r\n+            its own, and wants its own exception to take precedence over errors\r\n+            from this function. Since the error that happened was presumably\r\n+            unknown and unexpected, the node may have already crashed or may\r\n+            need to be shut down forcefully.\r\n+        \"\"\"\r\n         if not self.running:\r\n             return\r\n         self.log.debug(\"Stopping node\")\r\n-        if self.rpc_connected:\r\n+\r\n+        # If self.running is true but self.rpc_connected is not true, it means\r\n+        # that the process has been started, but wait_for_rpc_connection() was\r\n+        # not able to make a successful connection. In this case, if force is\r\n+        # true, avoid trying to make another RPC call and just stop the process.\r\n+        if not force or self.rpc_connected:\r\n             try:\r\n                 # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\r\n                 if self.version_is_at_least(180000):\r\n```\r\n</p>\r\n</details>\r\n\r\nNote: The diff above is still calling the stop RPC instead of killing the node when `self.rpc_connected` is true. But it might actually be more desirable to change `if not force or self.rpc_connected:` there to `if not force:` and prefer to kill node processes instead of stopping them after test failures. Would not suggest doing this here, since it would change other behavior beyond the scope of the PR, but I could imagine cases where changing this might reduce noise and help debugging errors in CI.",
      "created_at": "2025-01-06T20:47:25Z",
      "updated_at": "2025-01-07T18:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1904621833",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904621833"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 431,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905685464",
      "pull_request_review_id": 2532868324,
      "id": 1905685464,
      "node_id": "PRRC_kwDOABII585xlnPY",
      "diff_hunk": "@@ -397,14 +398,27 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n-            # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n-            if self.version_is_at_least(180000):\n-                self.stop(wait=wait)\n+        if self.rpc_connected:\n+            try:\n+                # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n+                if self.version_is_at_least(180000):\n+                    self.stop(wait=wait)\n+                else:\n+                    self.stop()\n+            except http.client.CannotSendRequest:\n+                self.log.exception(\"Unable to stop node.\")\n+        else:\n+            return_code = self.process.poll()\n+            if return_code is None:\n+                self.log.warning(\"Cannot call stop-RPC as we are not connected. \"\n+                    f\"Killing process {self.process.pid} so that wait_until_stopped will not time out.\")\n+                self.expected_ret_code = 1 if platform.system() == \"Windows\" else -9\n+                self.process.kill()",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 36,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "4ab7879ec6b71804cc3a51bcf58fa6318fa103b0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Kill process if stop-RPC is not available\" (4ab7879ec6b71804cc3a51bcf58fa6318fa103b0)\r\n\r\nI think this is probably the simplest way to write this code and we should stick with it for now, but just want to point out there is a minor race condition here because the process could end between the time that poll and kill are called and then the kill call could throw an exception.\r\n\r\nAnother separate idea is that it might be safer to write `self.expected_ret_code = self.process.wait()` instead of hardcoding 1/-9 return codes. Again though would be inclined to stick with the working code unless there is a more of a reason to change.",
      "created_at": "2025-01-07T16:05:15Z",
      "updated_at": "2025-01-07T18:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905685464",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905685464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 415,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 428,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905790290",
      "pull_request_review_id": 2532868324,
      "id": 1905790290,
      "node_id": "PRRC_kwDOABII585xmA1S",
      "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify that when a node process fails due to a startup error, we can still call\n+TestNode.stop_node() without triggering knock-on errors.\n+\"\"\"\n+\n+from test_framework.test_node import (\n+    FailedToStartError,\n+    TestNode,\n+)\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkStopNode(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    # Overridden to avoid syncing non-started nodes.\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    # Overridden to avoid starting nodes before run_test.\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, self.extra_args)\n+\n+    def run_test(self):\n+        # We don't call assert_start_raises_init_error here, as we want\n+        # to exercise the more common wait_for_rpc_connection flow.\n+        self.nodes[0].start(extra_args=['-nonexistentarg'])\n+        invalid_arg_error = \"Error: Error parsing command line arguments: Invalid parameter -nonexistentarg\"\n+        assert_raises_message(\n+            exc=FailedToStartError,\n+            message=\"[node 0] bitcoind exited with status 1 during initialization. \" + invalid_arg_error,\n+            fun=TestNode.wait_for_rpc_connection,\n+            self=self.nodes[0]\n+        )\n+        assert self.nodes[0].running, \\\n+            \"The process should still be flagged as running before calling stop_node()\"\n+        self.log.debug(\"Explicitly stopping the node to verify it completes cleanly during the test\")\n+        self.nodes[0].stop_node(expected_stderr=invalid_arg_error)",
      "path": "test/functional/feature_framework_stop_node.py",
      "position": null,
      "original_position": 45,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "608b9ff097214bff3527cc240b7be313c62131d5",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Add feature_framework_stop_node.py\" (608b9ff097214bff3527cc240b7be313c62131d5)\r\n\r\nOne problem with this test as currently written is that it prints a real warning to the output (like `TestFramework.node0 (WARNING): Process 579831 already died with return code 1`). This is potentially confusing because this warning is expected and should not be a cause for concern, but you can't know that from looking at test output.\r\n\r\nI can think of a few possible solutions:\r\n\r\n- Redirecting log output during the stop_node call and checking for the expected warning with an assertion here.\r\n- Letting the stop_node function throw exceptions instead of converting errors into warnings, then catching and handling the exceptions in the places (just 2 places currently) where they are expected.\r\n- Not changing anything but just add a warning before the warning instructing reader to ignore the next warning.\r\n\r\n",
      "created_at": "2025-01-07T17:02:28Z",
      "updated_at": "2025-01-07T18:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905790290",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905790290"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905811915",
      "pull_request_review_id": 2532868324,
      "id": 1905811915,
      "node_id": "PRRC_kwDOABII585xmGHL",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        self.log.info(\"Setting RPC timeout to 0 to simulate an unresponsive bitcoind, expect one warning.\")\n+        self.rpc_timeout = 0\n+\n+        assert_raises_message(AssertionError, \"[node 0] Unable to connect to bitcoind after 0s\", BitcoinTestFramework.setup_network, self)",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "f67d8963575feecdd4914c1a56bab4e0bebc000d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Add feature_framework_rpc_failure.py\" (f67d8963575feecdd4914c1a56bab4e0bebc000d)\r\n\r\nNote: there is no test coverage for the \"ignored errors\" and \"latest error\" parts of the message. I think it would be good to add some coverage for this, even if it just checking for 0 and None, so there is a at least a hint that more coverage could be added here, especially since it's possible to imagine this functionality becoming broken in the future and more coverage helping prevent this.",
      "created_at": "2025-01-07T17:20:33Z",
      "updated_at": "2025-01-07T18:54:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905811915",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905811915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905869855",
      "pull_request_review_id": 2532868324,
      "id": 1905869855,
      "node_id": "PRRC_kwDOABII585xmUQf",
      "diff_hunk": "@@ -157,6 +157,7 @@ def __init__(self, i, datadir_path, *, chain, rpchost, timewait, timeout_factor,\n         self.rpc = None\n         self.url = None\n         self.log = logging.getLogger('TestFramework.node%d' % i)\n+        self.expected_ret_code = 0 # EXIT_SUCCESS",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 4,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "db0e1580a5212a162908ac4f23e935e1f76e06dc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"test: Allow changing expected internal return code\" (db0e1580a5212a162908ac4f23e935e1f76e06dc)\r\n\r\nNote: I like the changes in this commit, and think the new `TestNode.expected_ret_code` member could be a useful way to signal expected statuses when shutdown starts. But just want to point out that I don't think adding a new `expected_ret_code` member is strictly necessary for this PR to work. The only place it is actually used later in the PR is in the `stop_node` function when it is killing a failed process, and it seems to me that `stop_node` could just as easily set `self.running = False` instead and call `process.wait()` itself to reap the pid without blocking.",
      "created_at": "2025-01-07T18:13:36Z",
      "updated_at": "2025-01-07T18:54:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1905869855",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1905869855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1908463115",
      "pull_request_review_id": 2537277498,
      "id": 1908463115,
      "node_id": "PRRC_kwDOABII585xwNYL",
      "diff_hunk": "@@ -397,14 +398,27 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n-            # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n-            if self.version_is_at_least(180000):\n-                self.stop(wait=wait)\n+        if self.rpc_connected:\n+            try:\n+                # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n+                if self.version_is_at_least(180000):\n+                    self.stop(wait=wait)\n+                else:\n+                    self.stop()\n+            except http.client.CannotSendRequest:\n+                self.log.exception(\"Unable to stop node.\")\n+        else:\n+            return_code = self.process.poll()\n+            if return_code is None:\n+                self.log.warning(\"Cannot call stop-RPC as we are not connected. \"\n+                    f\"Killing process {self.process.pid} so that wait_until_stopped will not time out.\")\n+                self.expected_ret_code = 1 if platform.system() == \"Windows\" else -9\n+                self.process.kill()",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 36,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "4ab7879ec6b71804cc3a51bcf58fa6318fa103b0",
      "in_reply_to_id": 1905685464,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for pointing out the race condition! It is not so likely if we get here because of RPC connection timeout, but still possible.\r\n\r\nI tried adding a second `.kill()` after the first one and it does not raise an exception, and no exception is [documented](https://docs.python.org/3/library/subprocess.html#subprocess.Popen.kill).",
      "created_at": "2025-01-09T09:52:58Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1908463115",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1908463115"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": 415,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 428,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1908515569",
      "pull_request_review_id": 2537277498,
      "id": 1908515569,
      "node_id": "PRRC_kwDOABII585xwaLx",
      "diff_hunk": "@@ -397,14 +398,27 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n-            # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n-            if self.version_is_at_least(180000):\n-                self.stop(wait=wait)\n+        if self.rpc_connected:\n+            try:\n+                # Do not use wait argument when testing older nodes, e.g. in wallet_backwards_compatibility.py\n+                if self.version_is_at_least(180000):\n+                    self.stop(wait=wait)\n+                else:\n+                    self.stop()\n+            except http.client.CannotSendRequest:\n+                self.log.exception(\"Unable to stop node.\")\n+        else:\n+            return_code = self.process.poll()\n+            if return_code is None:\n+                self.log.warning(\"Cannot call stop-RPC as we are not connected. \"\n+                    f\"Killing process {self.process.pid} so that wait_until_stopped will not time out.\")\n+                self.expected_ret_code = 1 if platform.system() == \"Windows\" else -9\n+                self.process.kill()\n             else:\n-                self.stop()\n-        except http.client.CannotSendRequest:\n-            self.log.exception(\"Unable to stop node.\")\n+                self.log.warning(f\"Process {self.process.pid} already died with return code {return_code}.\")\n+                # If we no longer have a running process once stop_node() is called, assume we've already triggered an",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 42,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "4ab7879ec6b71804cc3a51bcf58fa6318fa103b0",
      "in_reply_to_id": 1904621833,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It seems wrong to me to attempt using the RPC connection in `stop_node()` when we known that `self.rpc_connected == False`. New version has:\r\n```Python\r\nif self.rpc_connected:\r\n    # Call stop-RPC...\r\nelif force:\r\n    # Kill etc...\r\nelse:\r\n    raise RuntimeError(f\"Cannot call stop-RPC as we don't have an RPC connection to process {self.process.pid}.\")\r\n```\r\n\r\nEdit: (Ended up calling it `avoid_exceptions` which I think is slightly better than `force`).",
      "created_at": "2025-01-09T10:31:19Z",
      "updated_at": "2025-01-09T18:56:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1908515569",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1908515569"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 431,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909135121",
      "pull_request_review_id": 2537277498,
      "id": 1909135121,
      "node_id": "PRRC_kwDOABII585xyxcR",
      "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify that when a node process fails due to a startup error, we can still call\n+TestNode.stop_node() without triggering knock-on errors.\n+\"\"\"\n+\n+from test_framework.test_node import (\n+    FailedToStartError,\n+    TestNode,\n+)\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkStopNode(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    # Overridden to avoid syncing non-started nodes.\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    # Overridden to avoid starting nodes before run_test.\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, self.extra_args)\n+\n+    def run_test(self):\n+        # We don't call assert_start_raises_init_error here, as we want\n+        # to exercise the more common wait_for_rpc_connection flow.\n+        self.nodes[0].start(extra_args=['-nonexistentarg'])\n+        invalid_arg_error = \"Error: Error parsing command line arguments: Invalid parameter -nonexistentarg\"\n+        assert_raises_message(\n+            exc=FailedToStartError,\n+            message=\"[node 0] bitcoind exited with status 1 during initialization. \" + invalid_arg_error,\n+            fun=TestNode.wait_for_rpc_connection,\n+            self=self.nodes[0]\n+        )\n+        assert self.nodes[0].running, \\\n+            \"The process should still be flagged as running before calling stop_node()\"\n+        self.log.debug(\"Explicitly stopping the node to verify it completes cleanly during the test\")\n+        self.nodes[0].stop_node(expected_stderr=invalid_arg_error)",
      "path": "test/functional/feature_framework_stop_node.py",
      "position": null,
      "original_position": 45,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "608b9ff097214bff3527cc240b7be313c62131d5",
      "in_reply_to_id": 1905790290,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Went for option 3, making clear in the log message just above that a WARNING is expected.",
      "created_at": "2025-01-09T16:36:10Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909135121",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909135121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909136687",
      "pull_request_review_id": 2537277498,
      "id": 1909136687,
      "node_id": "PRRC_kwDOABII585xyx0v",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify failure to connect to bitcoind's RPC interface only raises one exception.\n+\n+Multiple exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as additional\n+maintenance and complexity is low.\n+\"\"\"\n+\n+from test_framework.util import (\n+    assert_raises_message,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_network(self):\n+        self.log.info(\"Setting RPC timeout to 0 to simulate an unresponsive bitcoind, expect one warning.\")\n+        self.rpc_timeout = 0\n+\n+        assert_raises_message(AssertionError, \"[node 0] Unable to connect to bitcoind after 0s\", BitcoinTestFramework.setup_network, self)",
      "path": "test/functional/feature_framework_rpc_failure.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "f67d8963575feecdd4914c1a56bab4e0bebc000d",
      "in_reply_to_id": 1905811915,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added *test/functional/feature_framework_rpc_failure_details.py*.",
      "created_at": "2025-01-09T16:37:25Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909136687",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909136687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909139264",
      "pull_request_review_id": 2537277498,
      "id": 1909139264,
      "node_id": "PRRC_kwDOABII585xyydA",
      "diff_hunk": "@@ -157,6 +157,7 @@ def __init__(self, i, datadir_path, *, chain, rpchost, timewait, timeout_factor,\n         self.rpc = None\n         self.url = None\n         self.log = logging.getLogger('TestFramework.node%d' % i)\n+        self.expected_ret_code = 0 # EXIT_SUCCESS",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 4,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "db0e1580a5212a162908ac4f23e935e1f76e06dc",
      "in_reply_to_id": 1905869855,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Interesting, I do agree there is a spaghetti/complexity factor to `expected_ret_code`, so might revisit this.",
      "created_at": "2025-01-09T16:39:29Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909139264",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909139264"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909141475",
      "pull_request_review_id": 2537277498,
      "id": 1909141475,
      "node_id": "PRRC_kwDOABII585xyy_j",
      "diff_hunk": "@@ -311,23 +311,22 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).\n                 # -28 RPC in warmup\n-                # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                # -342 Service unavailable, could be starting up or shutting down\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # Suppress similarly to the above JSONRPCException errors:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds.\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?\n+                if e.errno not in [errno.ECONNRESET, errno.ETIMEDOUT, errno.ECONNREFUSED]:\n                     raise  # unknown OS error\n-            except ValueError as e:  # cookie file not found and no rpcuser or rpcpassword; bitcoind is still starting\n+            except ValueError as e:\n+                # Suppress if cookie file is missing and no rpcuser or rpcpassword; bitcoind may be starting",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 32,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5321eb089cd1b39160038050a6ef6f27fd6f4ef9",
      "in_reply_to_id": 1904579994,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "New version:\r\n`# Suppress if cookie file isn't generated yet and no rpcuser or rpcpassword; bitcoind may be starting.`",
      "created_at": "2025-01-09T16:41:09Z",
      "updated_at": "2025-01-09T18:55:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909141475",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909141475"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 329,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909144554",
      "pull_request_review_id": 2537277498,
      "id": 1909144554,
      "node_id": "PRRC_kwDOABII585xyzvq",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Avoid raising these, to possibly raise the FailedToStartError on next iteration.\n                 # -28 RPC in warmup\n                 # -342 Service unavailable, RPC server started but is shutting down due to error\n-                if e.error['code'] != -28 and e.error['code'] != -342:\n+                if e.error['code'] not in [-28, -342]:\n                     raise  # unknown JSON RPC exception\n-            except ConnectionResetError:\n-                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\n-                # succeeds. Try again to properly raise the FailedToStartError\n-                pass\n             except OSError as e:\n-                if e.errno == errno.ETIMEDOUT:\n-                    pass  # Treat identical to ConnectionResetError\n-                elif e.errno == errno.ECONNREFUSED:\n-                    pass  # Port not yet open?\n-                else:\n+                # ECONNRESET   - This might happen when the RPC server is in warmup, but shut down before the call to\n+                #                getblockcount succeeds. Try again to properly raise the FailedToStartError\n+                # ETIMEDOUT    - Treat identical to ECONNRESET\n+                # ECONNREFUSED - Port not yet open?",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 25,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "5ca92b17c5d2d5efa7b2246da1905bb8fd186230",
      "in_reply_to_id": 1827600606,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> I mostly found the previous comments easier to follow because they were more direct and interspersed with relevant code.\r\n\r\nHopefully this is from the latest push can be considered an improvement:\r\n```python\r\nif e.errno not in [ errno.ECONNRESET,     # This might happen when the RPC server is in warmup,\r\n                                          # but shut down before the call to getblockcount succeeds.\r\n                    errno.ETIMEDOUT,      # Treat identical to ECONNRESET\r\n                    errno.ECONNREFUSED ]: # Port not yet open?\r\n```",
      "created_at": "2025-01-09T16:43:26Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909144554",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909144554"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909147382",
      "pull_request_review_id": 2537277498,
      "id": 1909147382,
      "node_id": "PRRC_kwDOABII585xy0b2",
      "diff_hunk": "@@ -447,7 +448,9 @@ def is_node_stopped(self, *, expected_stderr=\"\", expected_ret_code=0):\n \n     def wait_until_stopped(self, *, timeout=BITCOIND_PROC_WAIT_TIMEOUT, expect_error=False, **kwargs):\n         if \"expected_ret_code\" not in kwargs:\n-            kwargs[\"expected_ret_code\"] = 1 if expect_error else 0  # Whether node shutdown return EXIT_FAILURE or EXIT_SUCCESS\n+            # Whether node shutdown is expected to return EXIT_FAILURE (1) or\n+            # EXIT_SUCCESS (self.expected_ret_code).\n+            kwargs[\"expected_ret_code\"] = 1 if expect_error else self.expected_ret_code",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 33,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "db0e1580a5212a162908ac4f23e935e1f76e06dc",
      "in_reply_to_id": 1904607706,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Taken, although I moved some of the handling of `expected_ret_code` directly into `is_node_stopped()`.",
      "created_at": "2025-01-09T16:45:32Z",
      "updated_at": "2025-01-09T16:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1909147382",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1909147382"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 453,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1910044619",
      "pull_request_review_id": 2541894649,
      "id": 1910044619,
      "node_id": "PRRC_kwDOABII585x2PfL",
      "diff_hunk": "@@ -569,7 +569,7 @@ def start_nodes(self, extra_args=None, *args, **kwargs):\n                 node.wait_for_rpc_connection()\n         except Exception:\n             # If one node failed to start, stop the others\n-            self.stop_nodes()\n+            self.stop_nodes(avoid_exceptions=True)",
      "path": "test/functional/test_framework/test_framework.py",
      "position": null,
      "original_position": 14,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8148e4da2c6d756cc24e337060d002473f1eebbf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "coming from the conflicting pull, I don't think this call should exist in the first place for two reasons:\r\n\r\n* It doesn't work in most cases, because a failure to start any node likely means the RPC isn't up for the other nodes either, so the call will just fail in most cases. Effectively just using the kill fallback.\r\n* It doesn't make sense to special case startup. Nodes can at any time fail to start (not only in start_nodes), or crash, and adding this exception handling to all places isn't useful nor trivially possible.\r\n\r\nSo I removed it in https://github.com/bitcoin/bitcoin/pull/31620.\r\n\r\n(Just leaving a comment here to document the merge conflict between the two changes. Should be trivial to solve either way, so nothing to be done here, I think.)",
      "created_at": "2025-01-10T09:10:43Z",
      "updated_at": "2025-01-10T09:10:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1910044619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1910044619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 572,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953030408",
      "pull_request_review_id": 2612568019,
      "id": 1953030408,
      "node_id": "PRRC_kwDOABII5850aOEI",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8fa04cb13a4bf62a42b18e7c0c79151d13cb494b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"qa refactor: wait_for_rpc_connection - Treat OSErrors the same\" (8fa04cb13a4bf62a42b18e7c0c79151d13cb494b)\r\n\r\nVarious thoughts:\r\n\r\n- I think \"initialization phase\" comment that was removed provided more context and was more understandable than the new \"Suppress these in favor of\" comment.\r\n- I don't see why it is useful to list later outcomes that can happen after these errors are suppressed, especially when the list seems to contains every imaginable outcome.\r\n- I don't understand why \"-342 Service unavailable, RPC server started but is shutting down due to error\" comment is being changed to \"-342 Service unavailable, could be starting up or shutting down\". These descriptions seem inconsistent and I don't know which one is correct since I don't see where -342 is being returned and https://github.com/bitcoin/bitcoin/blob/master/src/rpc/protocol.h doesn't seem to contain that error code.\r\n\r\nGiven all this, I'd suggest just keeping the comments in this except block unchanged.\r\n\r\nBut if not doing that, I think \"Suppress these\" should be changed to something like \"Suppress early init errors\" so overall purpose of the except block is clear.\r\n\r\n",
      "created_at": "2025-02-12T16:38:56Z",
      "updated_at": "2025-02-12T17:26:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953030408",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953030408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953060817",
      "pull_request_review_id": 2612568019,
      "id": 1953060817,
      "node_id": "PRRC_kwDOABII5850aVfR",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Verify various startup failures only raise one exception since multiple\n+exceptions being raised muddies the waters of what actually went wrong.\n+We should maintain this bar of only raising one exception as long as\n+additional maintenance and complexity is low.\n+\n+Test relaunches itself into a child processes in order to trigger failure\n+without the parent process' BitcoinTestFramework also failing.\n+\"\"\"\n+\n+from test_framework.util import (\n+    assert_equal,\n+    rpc_port,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+import re\n+import subprocess\n+import sys\n+\n+class FeatureFrameworkRPCFailure(BitcoinTestFramework):\n+    def set_test_params(self):\n+        # Only run a node for child processes\n+        self.num_nodes = 1 if self.options.rpc_timeout is not None or self.options.extra_args else 0\n+\n+        if self.options.rpc_timeout is not None:\n+            self.rpc_timeout = self.options.rpc_timeout\n+        if self.options.extra_args:\n+            self.extra_args = [[self.options.extra_args]]\n+\n+    def add_options(self, parser):\n+        parser.add_argument(\"--rpc_timeout\", dest=\"rpc_timeout\", help=\"ONLY TO BE USED WHEN TEST RELAUNCHES ITSELF\")",
      "path": "test/functional/feature_framework_startup_failures.py",
      "position": null,
      "original_position": 36,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "2226e1489101f363114ce474d7f5e56ec50c9c6a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"qa: Add feature_framework_startup_failures.py\" (2226e1489101f363114ce474d7f5e56ec50c9c6a)\r\n\r\nMaybe give these arguments a prefix like `--internal-` so it obvious they are internal, and to avoid risk of silent conflicts if real test arguments with the same names are added later.",
      "created_at": "2025-02-12T16:57:56Z",
      "updated_at": "2025-02-12T17:26:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953060817",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953060817"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953080253",
      "pull_request_review_id": 2612568019,
      "id": 1953080253,
      "node_id": "PRRC_kwDOABII5850aaO9",
      "diff_hunk": "@@ -323,12 +323,13 @@ def shutdown(self):\n \n         self.log.debug('Closing down network thread')\n         self.network_thread.close()\n-        if self.success == TestStatus.FAILED:\n-            self.log.info(\"Not stopping nodes as test failed. The dangling processes will be cleaned up later.\")\n-        else:\n-            self.log.info(\"Stopping nodes\")\n-            if self.nodes:\n-                self.stop_nodes()\n+        if self.nodes:",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 9,
      "original_position": 10,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "9d0e6a1b2aa5be186550658ff85e5ad643554338",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"qa: Only log node stopping info if we have any\" (9d0e6a1b2aa5be186550658ff85e5ad643554338)\r\n\r\nWould be helpful if commit description stated motivation for this change. After looking at the `stop_nodes()` method implementation it seem like this is a logging-only change and point is just to remove stopping log statements when there are no nodes. But it would be good if actual intent of change were explicit.",
      "created_at": "2025-02-12T17:10:02Z",
      "updated_at": "2025-02-12T17:26:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953080253",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953080253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 326,
      "original_line": 326,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953084710",
      "pull_request_review_id": 2612568019,
      "id": 1953084710,
      "node_id": "PRRC_kwDOABII5850abUm",
      "diff_hunk": "@@ -400,14 +400,14 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n+        if self.rpc_connected:",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"qa: Avoid calling stop-RPC if not connected\" (8102f3d8e0b6715433eeda78b9b57a83109fc45e)\r\n\r\nThis change seems good, but unclear what motivation is. Is it supposed to be a refactoring that makes code more robust, or were there actually any cases where CannotSendRequest exceptions were caught and suppressed? If so what were those cases? Commit description should say what goals of this change are and if CannotSendRequest is an actual or theoretical change in behavior.",
      "created_at": "2025-02-12T17:12:59Z",
      "updated_at": "2025-02-12T17:26:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953084710",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953084710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953499371",
      "pull_request_review_id": 2613365399,
      "id": 1953499371,
      "node_id": "PRRC_kwDOABII5850cAjr",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8fa04cb13a4bf62a42b18e7c0c79151d13cb494b",
      "in_reply_to_id": 1953030408,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> I think \"initialization phase\" comment that was removed provided more context and was more understandable than the new \"Suppress these in favor of\" comment.\r\n\r\nAs the commit message specifies, we are changing `wait_for_rpc_connection()`, so the only value the \"Initialization phase\" comment had came from adding some context to a ~80 line long function which is part of initialization IMO. (The mention of `FailedToStartError` also gives a hint at what phase we are in).\r\n\r\n> I don't see why it is useful to list later outcomes that can happen after these errors are suppressed, especially when the list seems to contains every imaginable outcome.\r\n\r\nI think it is good to document *why* we are catching and suppressing some exceptions (while re-raising others).\r\n\r\n> I don't understand why \"-342 Service unavailable, RPC server started but is shutting down due to error\" comment is being changed to \"-342 Service unavailable, could be starting up or shutting down\". These descriptions seem inconsistent and I don't know which one is correct since I don't see where -342 is being returned and https://github.com/bitcoin/bitcoin/blob/master/src/rpc/protocol.h doesn't seem to contain that error code.\r\n\r\nI think -342 comes from *test/functional/test_framework/authproxy.py*. This is what prompted my changed phrasing: https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827592298\r\n\r\n> But if not doing that, I think \"Suppress these\" should be changed to something like \"Suppress early init errors\" so overall purpose of the except block is clear.\r\n\r\nWould rather improve the comment at the top of the function if you think it doesn't provide enough context?\r\nhttps://github.com/bitcoin/bitcoin/blob/8fa04cb13a4bf62a42b18e7c0c79151d13cb494b/test/functional/test_framework/test_node.py#L264-L265\r\n\r\n(Edit: This comment was pending when maflcko left his below).",
      "created_at": "2025-02-12T22:33:59Z",
      "updated_at": "2025-02-13T10:25:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953499371",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1953499371"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954047202",
      "pull_request_review_id": 2613365399,
      "id": 1954047202,
      "node_id": "PRRC_kwDOABII5850eGTi",
      "diff_hunk": "@@ -323,12 +323,13 @@ def shutdown(self):\n \n         self.log.debug('Closing down network thread')\n         self.network_thread.close()\n-        if self.success == TestStatus.FAILED:\n-            self.log.info(\"Not stopping nodes as test failed. The dangling processes will be cleaned up later.\")\n-        else:\n-            self.log.info(\"Stopping nodes\")\n-            if self.nodes:\n-                self.stop_nodes()\n+        if self.nodes:",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 9,
      "original_position": 10,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "9d0e6a1b2aa5be186550658ff85e5ad643554338",
      "in_reply_to_id": 1953080253,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "- Saw the code still had an inner `if self.nodes`-check - removed in new push.\r\n- Slightly clarified commit message, describing the change (even though it adds some negation) rather than describing then end state of the change.",
      "created_at": "2025-02-13T08:33:54Z",
      "updated_at": "2025-02-13T10:23:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1954047202",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954047202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 326,
      "original_line": 326,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954056589",
      "pull_request_review_id": 2613365399,
      "id": 1954056589,
      "node_id": "PRRC_kwDOABII5850eImN",
      "diff_hunk": "@@ -400,14 +400,14 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n+        if self.rpc_connected:",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "in_reply_to_id": 1953084710,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks! This made me actually realize I could add a test for it and improve the exception message (+ commit message).",
      "created_at": "2025-02-13T08:40:02Z",
      "updated_at": "2025-02-13T10:23:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1954056589",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954056589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954103791",
      "pull_request_review_id": 2614330874,
      "id": 1954103791,
      "node_id": "PRRC_kwDOABII5850eUHv",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8fa04cb13a4bf62a42b18e7c0c79151d13cb494b",
      "in_reply_to_id": 1953030408,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> * I don't understand why \"-342 Service unavailable, RPC server started but is shutting down due to error\" comment is being changed to \"-342 Service unavailable, could be starting up or shutting down\". These descriptions seem inconsistent and I don't know which one is correct since I don't see where -342 is being returned\r\n\r\nI'd guess that it is coming from authproxy and is pretty general:\r\n\r\n```\r\n$ git grep '\\-342\\>' ./test/\r\ntest/functional/feature_taproot.py:# Test Taproot softfork (BIPs 340-342)\r\ntest/functional/rpc_bind.py:        assert_raises_rpc_error(-342, \"non-JSON HTTP response with '403 Forbidden' from server\", self.run_allowip_test, ['1.1.1.1'], self.non_loopback_ip, self.defaultport)\r\ntest/functional/test_framework/authproxy.py:                    'code': -342, 'message': 'non-200 HTTP status code but no JSON-RPC error'}, status)\r\ntest/functional/test_framework/authproxy.py:                    'code': -342, 'message': 'non-200 HTTP status code'}, status)\r\ntest/functional/test_framework/authproxy.py:                'code': -342, 'message': 'non-200 HTTP status code'}, status)\r\ntest/functional/test_framework/authproxy.py:                'code': -342, 'message': 'missing HTTP response from server'})\r\ntest/functional/test_framework/authproxy.py:                raise JSONRPCException({'code': -342, 'message': 'Content received with NO CONTENT status code'})\r\ntest/functional/test_framework/authproxy.py:                {'code': -342, 'message': 'non-JSON HTTP response with \\'%i %s\\' from server' % (http_response.status, http_response.reason)},\r\ntest/functional/test_framework/authproxy.py:                'code': -342, 'message': f'Cannot decode response in utf8 format, content: {data}, exception: {e}'})\r\ntest/functional/test_framework/test_node.py:                # -342 Service unavailable, RPC server started but is shutting down due to error\r\ntest/functional/test_framework/test_node.py:                if e.error['code'] != -28 and e.error['code'] != -342:\r\n",
      "created_at": "2025-02-13T09:07:24Z",
      "updated_at": "2025-02-13T09:07:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1954103791",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1954103791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1994143659",
      "pull_request_review_id": 2683088562,
      "id": 1994143659,
      "node_id": "PRRC_kwDOABII58523Der",
      "diff_hunk": "@@ -400,14 +400,14 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n+        if self.rpc_connected:",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "in_reply_to_id": 1953084710,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1954056589\r\n\r\n> Thanks! This made me actually realize I could add a test for it and improve the exception message (+ commit message).\r\n\r\nI'm still not clear when this case would ever be expected to happen.\r\n\r\nIIUC, there is no runtime error that could trigger this, and nothing non-test code could could do to trigger it, and the only thing that could trigger it is incorrectly written test code?\r\n\r\nIf so, it would seem clearer to replace the exception with an assertion like `assert self.rpc_connected, self._node_msg(...)` to be clear this is a bug in the test code, not some other failure.",
      "created_at": "2025-03-13T18:58:25Z",
      "updated_at": "2025-03-13T20:02:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1994143659",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1994143659"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1994186307",
      "pull_request_review_id": 2683088562,
      "id": 1994186307,
      "node_id": "PRRC_kwDOABII58523N5D",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8fa04cb13a4bf62a42b18e7c0c79151d13cb494b",
      "in_reply_to_id": 1953030408,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1953499371\r\n\r\n> I think it is good to document _why_ we are catching and suppressing some exceptions (while re-raising others).\r\n\r\nIt's funny, because to me replacing \"Initialization phase\" with \"Suppress these in favor of a later outcome\" is literally *removing* the comment that explains why it is ok to suppress these errors. The previous comment made it clear these errors were being suppressed because they are expected during initialization. The new comment tells me they are being suppressed and that various other outcomes are possible later, which tells me nothing about why it is safe or good to suppress errors *here*.\r\n\r\nMaybe the problem is that I've wasted too much time debugging issues and being traumatized by code that suppresses errors and fails to report useful information, but I found the new comment here hard to parse, and could not figure out what it was trying to tell me, and it made me not trust this code for seeming to suppress errors without a clear reason.\r\n\r\n> I think -342 comes from _test/functional/test_framework/authproxy.py_. This is what prompted my changed phrasing: [#30660 (comment)](https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1827592298)\r\n\r\nThanks that helps. But the phrase \"Service unavailable\" would seem to connote that server is running but it is telling us it can't process requests, when actually this is a low-level error coming from the JSON-RPC client. Would suggest replacing \"-342 Service unavailable\" with something like \"-342 HTTP error\" to be clearer about the source of this error.",
      "created_at": "2025-03-13T19:30:54Z",
      "updated_at": "2025-03-13T20:02:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1994186307",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1994186307"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1995687071",
      "pull_request_review_id": 2685495327,
      "id": 1995687071,
      "node_id": "PRRC_kwDOABII585288Sf",
      "diff_hunk": "@@ -400,14 +400,14 @@ def stop_node(self, expected_stderr='', *, wait=0, wait_until_stopped=True):\n         if not self.running:\n             return\n         self.log.debug(\"Stopping node\")\n-        try:\n+        if self.rpc_connected:",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 26,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8102f3d8e0b6715433eeda78b9b57a83109fc45e",
      "in_reply_to_id": 1953084710,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Correct, especially now after maflcko's change in fae3bf6b870eb0f9cddd1adac82ba72890806ae3 to not call `stop()` on test failure, I agree it makes sense to assert instead, good suggestion! Fixed.\r\n\r\n> were there actually any cases where CannotSendRequest exceptions were caught and suppressed? If so what were those cases? Commit description should say what goals of this change are and if CannotSendRequest is an actual or theoretical change in behavior.\r\n\r\nIt was a common knock-on issue from attempting to call stop-RPC on a non-functional RPC interface, see for example \"CannotSendRequest\" in the log of #21367. Should no longer happen due to maflcko's change and us guarding against that kind of thing with the assert.\r\n\r\nClarified commit description.",
      "created_at": "2025-03-14T14:28:41Z",
      "updated_at": "2025-03-14T14:40:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1995687071",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1995687071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1995695052",
      "pull_request_review_id": 2685495327,
      "id": 1995695052,
      "node_id": "PRRC_kwDOABII58528-PM",
      "diff_hunk": "@@ -311,23 +311,21 @@ def wait_for_rpc_connection(self, *, wait_for_import=True):\n                 self.rpc_connected = True\n                 self.url = self.rpc.rpc_url\n                 return\n-            except JSONRPCException as e:  # Initialization phase\n+            except JSONRPCException as e:\n+                # Suppress these in favor of a later outcome (success, FailedToStartError, or timeout).",
      "path": "test/functional/test_framework/test_node.py",
      "position": null,
      "original_position": 6,
      "commit_id": "ce87c0e7852864847d97e2eafba9caff196d54bc",
      "original_commit_id": "8fa04cb13a4bf62a42b18e7c0c79151d13cb494b",
      "in_reply_to_id": 1953030408,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for taking the time to elaborate.\r\n\r\n\"Initialization phase\" was too terse for me - of course we're in the initialization phase... duh. :)\r\n\r\nChanged to \"Suppress these as they are expected during initialization.\"",
      "created_at": "2025-03-14T14:33:41Z",
      "updated_at": "2025-03-14T14:40:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30660#discussion_r1995695052",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1995695052"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30660"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    }
  ]
}