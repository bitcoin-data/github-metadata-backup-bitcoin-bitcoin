{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860",
    "id": 2334713712,
    "node_id": "PR_kwDOABII586LKOdw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31860",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31860.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31860.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/cbcde50d3da29f0fbeffe6991adad93e33456bb5",
    "number": 31860,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "init: Take lock on blocks directory in BlockManager ctor",
    "user": {
      "login": "sedited",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sedited",
      "html_url": "https://github.com/sedited",
      "followers_url": "https://api.github.com/users/sedited/followers",
      "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
      "organizations_url": "https://api.github.com/users/sedited/orgs",
      "repos_url": "https://api.github.com/users/sedited/repos",
      "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sedited/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "This ensures consistent directory locking for users of the kernel library by disallowing mistakenly creating multiple BlockManagers that might write into the same block or undo files.\r\n\r\nThe change here makes `LockDirectory` more strict: It now returns an error even if it is called again on the same directory from the same process. However from the description in https://github.com/bitcoin/bitcoin/pull/12422 , where this feature was introduced, it is not immediately clear what its usage was at the time. Supporting multiple wallets in the same directory is mentioned there, but it is not said why that might be a desirable feature.",
    "labels": [
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-02-13T20:49:22Z",
    "updated_at": "2025-12-17T21:57:50Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "sedited:blockmanLock",
      "ref": "blockmanLock",
      "sha": "cbcde50d3da29f0fbeffe6991adad93e33456bb5",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "sedited/bitcoin",
        "owner": {
          "login": "sedited",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sedited",
          "html_url": "https://github.com/sedited",
          "followers_url": "https://api.github.com/users/sedited/followers",
          "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
          "organizations_url": "https://api.github.com/users/sedited/orgs",
          "repos_url": "https://api.github.com/users/sedited/repos",
          "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sedited/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sedited/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sedited/bitcoin",
        "archive_url": "https://api.github.com/repos/sedited/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sedited/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sedited/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sedited/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sedited/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sedited/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sedited/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sedited/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sedited/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sedited/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sedited/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sedited/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sedited/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sedited/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sedited/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sedited/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sedited/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sedited/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sedited/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sedited/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sedited/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sedited/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sedited/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sedited/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sedited/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sedited/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sedited/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sedited/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sedited/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sedited/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sedited/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sedited/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sedited/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sedited/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sedited/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sedited/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sedited/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sedited/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sedited/bitcoin/hooks",
        "svn_url": "https://github.com/sedited/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 6,
        "watchers_count": 6,
        "size": 282665,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-17T16:27:55Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2025-12-16T15:40:46Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2210feb4466eff1455468f0a25045fce4b89c55d",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38370,
        "stargazers_count": 87265,
        "watchers_count": 87265,
        "size": 300456,
        "default_branch": "master",
        "open_issues_count": 719,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-17T21:17:38Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-12-17T21:36:49Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 99,
    "deletions": 15,
    "changed_files": 7,
    "commits": 3,
    "review_comments": 5,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 2657680687,
      "node_id": "IC_kwDOABII586eaP0v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2657680687",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-13T20:49:26Z",
      "updated_at": "2025-12-17T10:31:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31860.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/31860#pullrequestreview-2617967456) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33192](https://github.com/bitcoin/bitcoin/pull/33192) (refactor: unify container presence checks by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- util::LockDirectory(m_path, \".lock\", false) in src/util/fs_helpers.cpp\n\n\n\n<sup>2025-12-14</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#issuecomment-2657680687",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860"
    },
    {
      "event": "reviewed",
      "id": 2617967456,
      "node_id": "PRR_kwDOABII586cCwNg",
      "url": null,
      "actor": null,
      "commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-02-14T18:03:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK on:\r\n- making LockDirectory more strict, it confused me recently that I was able to acquire a lock multiple times (within the same process)\r\n- making BlockManager manage the lock instead of init\r\n\r\nAs per https://github.com/TheCharlatan/bitcoin/pull/25, I would be a fan of going further and making the `BlockManagerOptions` ctor take a `BlockDirLock` (or, as per my comment a `DirectoryLock`) to allow more granular error feedback, but this is already a step in the right direction regardless.\r\n\r\nIn the future, this approach would also make it more straightforward to e.g. let `BlockManager` give other threads read-only access to the blocksdir via something like:\r\n\r\n```\r\nclass DirectoryLock {\r\nprivate:\r\n    std::shared_mutex m_mutex;\r\npublic:\r\n    const fs::path m_path;\r\n\r\n    DirectoryLock(const fs::path& path)\r\n        : m_path(path)\r\n    {\r\n        assert(util::LockDirectory(m_path, \".lock\", false) == util::LockResult::Success);\r\n    }\r\n    ~DirectoryLock() { UnlockDirectory(m_path, \".lock\"); }\r\n\r\n    DirectoryLock(const DirectoryLock&) = delete;\r\n    DirectoryLock& operator=(const DirectoryLock&) = delete;\r\n\r\n    std::unique_lock<std::shared_mutex> lock_exclusive()\r\n    {\r\n        return std::unique_lock<std::shared_mutex>(m_mutex);\r\n    }\r\n    std::shared_lock<std::shared_mutex> lock_shared()\r\n    {\r\n        return std::shared_lock<std::shared_mutex>(m_mutex);\r\n    }\r\n};\r\n```",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#pullrequestreview-2617967456",
      "submitted_at": "2025-02-14T18:03:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16317600934,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAPMmtSm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16317600934",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b1f16d3ce13b6ddd6535608b7b4b99b68f56fcbb",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/b1f16d3ce13b6ddd6535608b7b4b99b68f56fcbb",
      "created_at": "2025-02-14T21:26:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16317650486,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAPMm5Y2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16317650486",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "62ad1d69dc016244811fd2ebf9c6356add1d5e43",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/62ad1d69dc016244811fd2ebf9c6356add1d5e43",
      "created_at": "2025-02-14T21:31:53Z"
    },
    {
      "event": "commented",
      "id": 2660309397,
      "node_id": "IC_kwDOABII586ekRmV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2660309397",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-14T21:31:58Z",
      "updated_at": "2025-02-14T21:31:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/37256718772</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#issuecomment-2660309397",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860"
    },
    {
      "event": "labeled",
      "id": 16317651101,
      "node_id": "LE_lADOABII586p_zNxzwAAAAPMm5id",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16317651101",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-14T21:31:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 16318979435,
      "node_id": "UNLE_lADOABII586p_zNxzwAAAAPMr91r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16318979435",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-15T00:21:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16325307213,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAPNEGtN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16325307213",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "aab070a753d9d840ce60c5e6977a0471bdf56579",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/aab070a753d9d840ce60c5e6977a0471bdf56579",
      "created_at": "2025-02-16T21:44:23Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16325309756,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAPNEHU8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16325309756",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "51436f85a2bfcb7874a0c3b12add2df19ff18a3b",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/51436f85a2bfcb7874a0c3b12add2df19ff18a3b",
      "created_at": "2025-02-16T21:45:39Z"
    },
    {
      "event": "commented",
      "id": 2662391575,
      "node_id": "IC_kwDOABII586esN8X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2662391575",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-17T08:32:50Z",
      "updated_at": "2025-02-17T08:32:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I would be a fan of going further and making the BlockManagerOptions ctor take a BlockDirLock (or, as per my comment a DirectoryLock) to allow more granular error feedback, but this is already a step in the right direction regardless.\r\n\r\nI attempted implementing this, but giving the options the lock starts to introduce non-trivial additional semantics to the options: Since the lock needs to be moved from the options to the block manager, the options cannot be re-used. I'm not sure how to implement that and make it clear to the user what is going on.",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#issuecomment-2662391575",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860"
    },
    {
      "event": "commented",
      "id": 2690448271,
      "node_id": "IC_kwDOABII586gXPuP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2690448271",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-28T11:49:56Z",
      "updated_at": "2025-02-28T11:49:56Z",
      "author_association": "MEMBER",
      "body": "> Supporting multiple wallets in the same directory is mentioned there, but it is not said why that might be a desirable feature.\r\n\r\nI haven't tested this, but it may have been required in the past, because BDB wallets may just be files, not folders, so they could all sit in the same walletdir (which could even be the datadir)? If true, this requirement may go away with dropping bdb?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#issuecomment-2690448271",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860"
    },
    {
      "event": "labeled",
      "id": 17505515820,
      "node_id": "LE_lADOABII586p_zNxzwAAAAQTaPks",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17505515820",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-02T22:43:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17510063923,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAQTrl8z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17510063923",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fc12a89cb337a4a835973201503c01c2c749e8bb",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/fc12a89cb337a4a835973201503c01c2c749e8bb",
      "created_at": "2025-05-04T10:27:06Z"
    },
    {
      "event": "unlabeled",
      "id": 17510300281,
      "node_id": "UNLE_lADOABII586p_zNxzwAAAAQTsfp5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17510300281",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-04T12:07:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 18710233950,
      "node_id": "LE_lADOABII586p_zNxzwAAAARbN4Ne",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18710233950",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-19T06:33:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 19029695986,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAARuQh3y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19029695986",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/69754279cc68ac3bcda6690de7c34f59f10f0112",
      "created_at": "2025-08-07T08:08:08Z"
    },
    {
      "event": "unlabeled",
      "id": 19030966711,
      "node_id": "UNLE_lADOABII586p_zNxzwAAAARuVYG3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19030966711",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-08-07T09:14:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 21530710349,
      "node_id": "LE_lADOABII586p_zNxzwAAAAUDVJFN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21530710349",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-12T15:37:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhYzZkZjI1MmY3Mjc4MjgzOGU4ZDRlNTEwMDIxY2M5MjdiNjY2OTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aac6df252f72782838e8d4e510021cc927b66691",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aac6df252f72782838e8d4e510021cc927b66691",
      "tree": {
        "sha": "07d2fe4b6426a81530367603968958d9cd0c892a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07d2fe4b6426a81530367603968958d9cd0c892a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 07d2fe4b6426a81530367603968958d9cd0c892a\nparent 2210feb4466eff1455468f0a25045fce4b89c55d\nauthor TheCharlatan <seb.kung@gmail.com> 1739475875 +0100\ncommitter sedited <seb.kung@gmail.com> 1765720957 +0100\n\nutil: Prevent multiple LockDirectory calls within the same process\n\nPreviously LockDirectory only prevented concurrent locks across\ndifferent processes, but allowed the same process to re-lock on the same\ndirectory.\n\nThis change is not immediately relevant for its current use, where the\nlock is only supposed to protect against a different process writing on\nthe same resources.\n\nThis change is relevant for future use by the kernel library, where\nusers of the library might mistakenly create multiple instances of an\nobject that seek to write to a common resource.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmk+w30ACgkQm3m0VpHb\nQXNMPA/9FPMSDiBg1XWzlnbVRNlxMT6Sg5eVPpAzV99xXpjleN5L+YRQZ4Qn6v3v\nnM6DvHqHBnVoaRG4C3uYPUesxujMHPjZaZQBbETYfg9Rq5UkEXSP6FCRTK2E4BNF\nk9+EhVyXjOOwkMeqUFsJ8Ebew1a8ZEEIXJ5QNH7bSSncvXRFP6ZP9G17vOWtTNDt\nff4hurcUO55HvFtUyttjagn0+tJxmZ4AfRstVhbs94R7MVEJyQn4+IllZfFq/swu\nDGC3v9H4oKsSMVW1asn5yg+jxyN1oSMFETnUbyrie0NOgGwxHDllADGIRyBK/Lnn\n2Bz4aC5HTZl/9y1tg6mXvO2JUq9aHLg+YVJt480vv7dY/lm8LQDI1fGu/GgvSJJx\nuQKWC2TNMUFDhhSs/fpBd1cXJM2sW9EqsXb/ez9KzLgF0qPr7GWa+fX3sPX68zb5\niFSKEv2nOsad5Q0+RsAMv74/2Bk3yfrNffcw+tzbKGAZcDtYgAHbeTqdpiIon6LR\nkg5fJ8Nsr9II65aNbsxuOrcbW1l09UrodKLcLXohJ6WxYRRBSIrA6jpYeTPuFuiy\nNtgBGfGP4RZCmn/FRa0gZnJjCBzp9WPpwInIp2LBV+JIZG93TtYPgMpiOZPJSTKn\nV2bEYgUp+6ALYV+F0wG0BkV3AFgQ/qJ9RFAYIgOXopaOoXRL6Ao=\n=YY8y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2210feb4466eff1455468f0a25045fce4b89c55d",
          "sha": "2210feb4466eff1455468f0a25045fce4b89c55d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2210feb4466eff1455468f0a25045fce4b89c55d"
        }
      ],
      "message": "util: Prevent multiple LockDirectory calls within the same process\n\nPreviously LockDirectory only prevented concurrent locks across\ndifferent processes, but allowed the same process to re-lock on the same\ndirectory.\n\nThis change is not immediately relevant for its current use, where the\nlock is only supposed to protect against a different process writing on\nthe same resources.\n\nThis change is relevant for future use by the kernel library, where\nusers of the library might mistakenly create multiple instances of an\nobject that seek to write to a common resource.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-14T14:02:37Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-02-13T19:44:35Z"
      },
      "sha": "aac6df252f72782838e8d4e510021cc927b66691"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA4NGExMWM0NzQwZjMzNGYwNTMyYjU1ZTZlNGZmYTBiOWJmOTM0YWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/084a11c4740f334f0532b55e6e4ffa0b9bf934af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/084a11c4740f334f0532b55e6e4ffa0b9bf934af",
      "tree": {
        "sha": "9180b683880a8b5346e03647ad229c3787ca86ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9180b683880a8b5346e03647ad229c3787ca86ef"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9180b683880a8b5346e03647ad229c3787ca86ef\nparent aac6df252f72782838e8d4e510021cc927b66691\nauthor TheCharlatan <seb.kung@gmail.com> 1739568005 +0100\ncommitter sedited <seb.kung@gmail.com> 1765720958 +0100\n\nutil: Add RAII directory lock\n\nThis makes it easier for a class or a struct to own a lock on a\ndirectory for the duration of its lifetime. It is used in the next\ncommit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmk+w34ACgkQm3m0VpHb\nQXN5pA//V30ez5QygIPo/3PzhgbiTzLu/BU90m3odrC7VvQa823Rm/ZdgHO4nNyC\nasHfJg1T2Y+0CFX4Q3ZqwwovRAVvtgC9N9Ao//6xcMPnzH4kyV/37bX5djcYw96o\nLri30ahRieV5SzP1iEwCtj/EQ0nRBlX4fhrAUrowjYydN4aRifKDTBcyoYVlCEc5\niuZUN256w0Md71ILjnW2L6hTeBAPkb2rgq/U9AtEsFDaiQJFRVr1A4zVANRdxR/C\nfpU245j+B7gpqunpRmRNnvYfE/w2nkxRJv5kexIJ2igNnAMbDm0HMO+nwtIwA1dM\nvj4B9IZZ6uiRxzg/I/DX88C0nK1BGfrruBS31O8wHlPqsgJngdsCYVJ2xfBnn6vk\nMGqiwr7vc8AmI0Yak7Hkbg/Eu8hsaCZYq8Qgi4yKkjM4vFbh2/Yo8y87wNdvUJJi\nwXG3udenw7yM8hHb/emdP7HSC0vZ2MUG6otKoOuVK7DUgrzJKS6gw7HyhX2d9jeC\nrRCmp1MI/rW0DZfYY4Kglc+fw/ItW2LN+Itt847fx1vBUS7ceN5MhkyLX9C0wP7i\nqAZo1pCHp7QybUcax2515tCnsKc05ZyC3ZDVK74rc8XWFIahHIeSgWOxuAA7pXo1\nWlZHnvUyFJ/PUNjA9uUfHJa5Rm6S1av391b4rHoXb4icigScHYs=\n=4kvs\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aac6df252f72782838e8d4e510021cc927b66691",
          "sha": "aac6df252f72782838e8d4e510021cc927b66691",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aac6df252f72782838e8d4e510021cc927b66691"
        }
      ],
      "message": "util: Add RAII directory lock\n\nThis makes it easier for a class or a struct to own a lock on a\ndirectory for the duration of its lifetime. It is used in the next\ncommit.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-14T14:02:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-02-14T21:20:05Z"
      },
      "sha": "084a11c4740f334f0532b55e6e4ffa0b9bf934af"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNiY2RlNTBkM2RhMjlmMGZiZWZmZTY5OTFhZGFkOTNlMzM0NTZiYjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbcde50d3da29f0fbeffe6991adad93e33456bb5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cbcde50d3da29f0fbeffe6991adad93e33456bb5",
      "tree": {
        "sha": "21c447dd3a39f97a8464d2d9798a7a6b6eabce22",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/21c447dd3a39f97a8464d2d9798a7a6b6eabce22"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 21c447dd3a39f97a8464d2d9798a7a6b6eabce22\nparent 084a11c4740f334f0532b55e6e4ffa0b9bf934af\nauthor TheCharlatan <seb.kung@gmail.com> 1739568054 +0100\ncommitter sedited <seb.kung@gmail.com> 1765721067 +0100\n\ninit: Take lock on blocks directory in BlockManager ctor\n\nThis moves the responsibility of taking the lock for the blocks\ndirectory into the BlockManager. Use the DirectoryLock wrapper to ensure\nit is the first resource to be acquired and is released again after use.\n\nThis is relevant for the kernel library where the lock should be taken\neven if the user fails to explicitly do so.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmk+w+wACgkQm3m0VpHb\nQXPGeA/6A45AEbMpjmKJokGK4wq53WFaFqYtO23GRU7rq4lPHKYecfPZ9TZST+Go\nbXqw7+8+QoXCdwzwjcTSXjDcQVTrAVB764emiBAMVVSZGrJ8kkoEHYM5/GxUol5m\nQcwToPlh/E9AUULLBHNV+ivWg2qZfM90ojO30O+oczpSPtHQ2gWK+cqI2tIVvzF2\n9igfBebVqby566yJCR/ojFHMjw4skyplSg64OXhXVzLmIrlQAjxvvlZcUKrrp+Q3\nMTMuB2PPdZcnT3NfBTiwzp+NmNpxHU+XQ+bCQnKDg8p6IWnONIHgoSQIwEXgSd1+\nOWwPoa6vfgtXrZjaHw/WMku/W1IQGOTE1wAGP4I549OdHLH880xgziMVzTiOs93F\nmzQ57GYb5dq8Ej341RhVFuyBtB5Jpj04Wy/aE/coRWUoxdwGaLQM1PSPcCtWs02a\nCAI+p8DNPYdapTzLILomB7l89JlqRe2/I4g4ZibovX/byb2Sa/X7aB4GucNEoFqA\nsfIFxNdT6nwB9f9kwHvtpuaQiGWlzivmwBAtP7sTM1wHJ9+aP2dbjVKGR+iVEyIA\ntgKFCLocPZ/+jo+qIhuT2c6AyCgUw1/Jtr/JtCO8ZYZgt2nnaXW+dT8FG+KOhmvc\n3DP/XwwYpXrGaXlvKy6oBQY8t8jFPHbLiQ0QTFVDIK62onOjSjE=\n=q2cn\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/084a11c4740f334f0532b55e6e4ffa0b9bf934af",
          "sha": "084a11c4740f334f0532b55e6e4ffa0b9bf934af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/084a11c4740f334f0532b55e6e4ffa0b9bf934af"
        }
      ],
      "message": "init: Take lock on blocks directory in BlockManager ctor\n\nThis moves the responsibility of taking the lock for the blocks\ndirectory into the BlockManager. Use the DirectoryLock wrapper to ensure\nit is the first resource to be acquired and is released again after use.\n\nThis is relevant for the kernel library where the lock should be taken\neven if the user fails to explicitly do so.",
      "committer": {
        "name": "sedited",
        "email": "seb.kung@gmail.com",
        "date": "2025-12-14T14:04:27Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2025-02-14T21:20:54Z"
      },
      "sha": "cbcde50d3da29f0fbeffe6991adad93e33456bb5"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21549372099,
      "node_id": "HRFPE_lADOABII586p_zNxzwAAAAUEcVLD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21549372099",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "cbcde50d3da29f0fbeffe6991adad93e33456bb5",
      "commit_url": "https://api.github.com/repos/sedited/bitcoin/commits/cbcde50d3da29f0fbeffe6991adad93e33456bb5",
      "created_at": "2025-12-14T14:21:39Z"
    },
    {
      "event": "unlabeled",
      "id": 21549406009,
      "node_id": "UNLE_lADOABII586p_zNxzwAAAAUEcdc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21549406009",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-14T14:24:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 21628494578,
      "node_id": "LE_lADOABII586p_zNxzwAAAAUJKKLy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21628494578",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-17T21:57:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3667370777,
      "node_id": "IC_kwDOABII587al6MZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3667370777",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-17T21:57:50Z",
      "updated_at": "2025-12-17T21:57:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nðŸ™ This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#issuecomment-3667370777",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31860"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956244596",
      "pull_request_review_id": 2617967456,
      "id": 1956244596,
      "node_id": "PRRC_kwDOABII5850mex0",
      "diff_hunk": "@@ -127,6 +127,14 @@ struct BlockfileCursor {\n \n std::ostream& operator<<(std::ostream& os, const BlockfileCursor& cursor);\n \n+class BlockDirLock",
      "path": "src/node/blockstorage.h",
      "position": 1,
      "original_position": 4,
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "original_commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It seems like this class could easily be reused for chainstate, datadir, wallet, ... directories in future commits. Perhaps a `class DirectoryLock` would make sense?",
      "created_at": "2025-02-14T14:33:21Z",
      "updated_at": "2025-02-14T18:04:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#discussion_r1956244596",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956244596"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 130,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956371573",
      "pull_request_review_id": 2617967456,
      "id": 1956371573,
      "node_id": "PRRC_kwDOABII5850m9x1",
      "diff_hunk": "@@ -127,6 +127,14 @@ struct BlockfileCursor {\n \n std::ostream& operator<<(std::ostream& os, const BlockfileCursor& cursor);\n \n+class BlockDirLock\n+{\n+    fs::path m_path;\n+\n+public:",
      "path": "src/node/blockstorage.h",
      "position": 1,
      "original_position": 8,
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "original_commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Copy ctor and assignment operator should probably be deleted?",
      "created_at": "2025-02-14T15:55:16Z",
      "updated_at": "2025-02-14T18:03:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#discussion_r1956371573",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956371573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956484013",
      "pull_request_review_id": 2617967456,
      "id": 1956484013,
      "node_id": "PRRC_kwDOABII5850nZOt",
      "diff_hunk": "@@ -1109,8 +1109,9 @@ static bool LockDirectory(const fs::path& dir, bool probeOnly)\n }\n static bool LockDirectories(bool probeOnly)\n {\n-    return LockDirectory(gArgs.GetDataDirNet(), probeOnly) && \\\n-           LockDirectory(gArgs.GetBlocksDirPath(), probeOnly);\n+    // Only allow probing the blocks directory, the BlockManager takes the lock internally.\n+    return LockDirectory(gArgs.GetDataDirNet(), probeOnly) &&\n+           (probeOnly ? LockDirectory(gArgs.GetBlocksDirPath(), probeOnly) : true);",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "original_commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "At this point, I don't see the benefit of this function anymore. Let's just inline it?\r\n\r\n<details>\r\n<summary>git diff on 436df349f0</summary>\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex 579669712e..3a984488af 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -1107,12 +1107,6 @@ static bool LockDirectory(const fs::path& dir, bool probeOnly)\r\n     } // no default case, so the compiler can warn about missing cases\r\n     assert(false);\r\n }\r\n-static bool LockDirectories(bool probeOnly)\r\n-{\r\n-    // Only allow probing the blocks directory, the BlockManager takes the lock internally.\r\n-    return LockDirectory(gArgs.GetDataDirNet(), probeOnly) &&\r\n-           (probeOnly ? LockDirectory(gArgs.GetBlocksDirPath(), probeOnly) : true);\r\n-}\r\n \r\n bool AppInitSanityChecks(const kernel::Context& kernel)\r\n {\r\n@@ -1130,7 +1124,8 @@ bool AppInitSanityChecks(const kernel::Context& kernel)\r\n     // Probe the directory locks to give an early error message, if possible\r\n     // We cannot hold the directory locks here, as the forking for daemon() hasn't yet happened,\r\n     // and a fork will cause weird behavior to them.\r\n-    return LockDirectories(true);\r\n+    return LockDirectory(gArgs.GetDataDirNet(), /*probeOnly=*/true)\r\n+        && LockDirectory(gArgs.GetBlocksDirPath(), /*probeOnly=*/true);\r\n }\r\n \r\n bool AppInitLockDirectories()\r\n@@ -1138,11 +1133,8 @@ bool AppInitLockDirectories()\r\n     // After daemonization get the directory locks again and hold on to them until exit\r\n     // This creates a slight window for a race condition to happen, however this condition is harmless: it\r\n     // will at most make us exit without printing a message to console.\r\n-    if (!LockDirectories(false)) {\r\n-        // Detailed error printed inside LockDirectory\r\n-        return false;\r\n-    }\r\n-    return true;\r\n+    // Detailed error printed inside LockDirectory\r\n+    return LockDirectory(gArgs.GetDataDirNet(), /*probeOnly=*/false);\r\n }\r\n \r\n bool AppInitInterfaces(NodeContext& node)\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2025-02-14T17:16:07Z",
      "updated_at": "2025-02-14T18:03:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#discussion_r1956484013",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956484013"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
        }
      },
      "start_line": null,
      "original_start_line": 1112,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1114,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956541082",
      "pull_request_review_id": 2618491099,
      "id": 1956541082,
      "node_id": "PRRC_kwDOABII5850nnKa",
      "diff_hunk": "@@ -127,6 +127,14 @@ struct BlockfileCursor {\n \n std::ostream& operator<<(std::ostream& os, const BlockfileCursor& cursor);\n \n+class BlockDirLock\n+{\n+    fs::path m_path;\n+\n+public:",
      "path": "src/node/blockstorage.h",
      "position": 1,
      "original_position": 8,
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "original_commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "in_reply_to_id": 1956371573,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "And have `BlockManager::m_lock` be a `std::unique_ptr<BlockDirLock>` instead?",
      "created_at": "2025-02-14T18:06:40Z",
      "updated_at": "2025-02-14T18:06:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#discussion_r1956541082",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956541082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956747029",
      "pull_request_review_id": 2618853313,
      "id": 1956747029,
      "node_id": "PRRC_kwDOABII5850oZcV",
      "diff_hunk": "@@ -127,6 +127,14 @@ struct BlockfileCursor {\n \n std::ostream& operator<<(std::ostream& os, const BlockfileCursor& cursor);\n \n+class BlockDirLock\n+{\n+    fs::path m_path;\n+\n+public:",
      "path": "src/node/blockstorage.h",
      "position": 1,
      "original_position": 8,
      "commit_id": "69754279cc68ac3bcda6690de7c34f59f10f0112",
      "original_commit_id": "436df349f065658f89aecadd2d8a0d6da2fb85fd",
      "in_reply_to_id": 1956371573,
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I've been thinking about allocating it on the heap instead, but I kind of like that declaring it as the first field forces us to initialize it first, which a pointer type would not necessarily. Then again, moving the lock as a unique pointer from the options to the actual class would also probably be easier than defining a move constructor the directory lock class.",
      "created_at": "2025-02-14T21:36:32Z",
      "updated_at": "2025-02-14T21:36:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31860#discussion_r1956747029",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956747029"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31860"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 134,
      "side": "RIGHT"
    }
  ]
}