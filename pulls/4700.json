{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4700",
    "id": 19780741,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTk3ODA3NDE=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4700",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/4700.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/4700.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4700",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4700/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4700/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4700/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/1648f256f7104e7164f8aa81ae81b82bc68918e3",
    "number": 4700,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "CCoinsCache: Split read and write caches, MRU cache for read, add stats to RPC",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Most of these changes depend on each other, but are in separate commits and can be split off into separate pulls if this is deemed too high-impact to apply at once.\n### Track cache statistics in `getblockchaininfo`\n\nThis makes it possible to measure and compare caching strategies.\n\n```\n\"coinscache\" : {\n    \"positive_hits\" : 9186,\n    \"negative_hits\" : 7579,\n    \"positive_misses\" : 50791,\n    \"negative_misses\" : 43200,\n    \"writes\" : 8569,\n    \"cache_size\" : 93722,\n    \"rcache_size\" : 91207,\n    \"wcache_size\" : 2515,\n    \"cache_limit\" : 171267\n}\n```\n\nCurrently this is part of `getblockchaininfo`. I'm not sure about that, it probably should get its own RPC.\n### Separate read and write cache\n\nKeep track of entries that are read-only or r/w in separate caches. This is an optimization that avoids writing back all accessed entries back to the database on a flush.\n\nThe read and write cache can be flushed separately. Only the write entries will be written back.\n\nThis also opens the door to using a different data structure for the read and\nwrite cache later on.\n### Cache negative hits\n\nCurrently the cache doesn't remember when a coin was not found. It could cache negative results as well.\n\nLooking at the statistics this can make a difference in number of database queries almost as large as positive caching during normal node operation.\n\nThe implementation makes use of the fact that a a CCoins with 'pcoins->vout.empty()' is regarded as non-existent.\n### Change read cache to MRU cache\n\nChanges the read cache to a MRU cache implemented using `boost::bimap`. This allows cleaning up the cache to a fixed size instead of flushing the entire cache periodically, and should result in more effective caching.\nWrite cache flushes are done with the same frequency as before, and are still all-or-nothing.\n### Flush write cache into read cache\n\nAfter writing the entries to the underlying store, move them to the read cache. It is likely that they will be accessed again soon. If not, the entries will be evicted eventually.\n### Memory usage\n\nPeak memory usage hasn't changed compared to before. However, the evolution of memory usage in time has changed. Before, the cache was flushed completely every 10 minutes (when not in initial block sync) or when the cache was full (when initial block sync). Now, instead of alternating between empty and full it will plateau.\n### Testing\n\nI did quite a bit of testing with these changes, amongst others various reindexes of the mainnet and testnet block chains as well as tests with `-checkblocks` and running a node for a while.\nStill, especially the MRU cache switch needs to be tested much more extensively before it can be merged.\n",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2014-08-14T11:04:07Z",
    "updated_at": "2021-09-08T10:48:53Z",
    "closed_at": "2014-08-26T06:11:30Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "31a7877ef22617cb0c86031f4e457137c0465f7e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "laanwj:2014_08_ccoins_write",
      "ref": "2014_08_ccoins_write",
      "sha": "1648f256f7104e7164f8aa81ae81b82bc68918e3",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1750308,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzUwMzA4",
        "name": "bitcoin",
        "full_name": "laanwj/bitcoin",
        "owner": {
          "login": "laanwj",
          "id": 126646,
          "node_id": "MDQ6VXNlcjEyNjY0Ng==",
          "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/laanwj",
          "html_url": "https://github.com/laanwj",
          "followers_url": "https://api.github.com/users/laanwj/followers",
          "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
          "organizations_url": "https://api.github.com/users/laanwj/orgs",
          "repos_url": "https://api.github.com/users/laanwj/repos",
          "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/laanwj/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/laanwj/bitcoin",
        "description": "Laanwj's Bitcoin Core fork - see README.md on \"readme\" branch",
        "fork": true,
        "url": "https://api.github.com/repos/laanwj/bitcoin",
        "archive_url": "https://api.github.com/repos/laanwj/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/laanwj/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/laanwj/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/laanwj/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/laanwj/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/laanwj/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/laanwj/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/laanwj/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/laanwj/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/laanwj/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/laanwj/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/laanwj/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/laanwj/bitcoin/events",
        "forks_url": "https://api.github.com/repos/laanwj/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/laanwj/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/laanwj/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/laanwj/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/laanwj/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/laanwj/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/laanwj/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/laanwj/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/laanwj/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/laanwj/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/laanwj/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/laanwj/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/laanwj/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/laanwj/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/laanwj/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/laanwj/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:laanwj/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/laanwj/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/laanwj/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/laanwj/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/laanwj/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/laanwj/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/laanwj/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/laanwj/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/laanwj/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/laanwj/bitcoin/hooks",
        "svn_url": "https://github.com/laanwj/bitcoin",
        "homepage": "",
        "forks_count": 19,
        "stargazers_count": 43,
        "watchers_count": 43,
        "size": 200945,
        "default_branch": "readme",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-02-07T09:13:04Z",
        "created_at": "2011-05-15T07:09:54Z",
        "updated_at": "2023-07-17T18:35:33Z"
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "7accb7dbad6bef0c98dc436d164f27189294eaf5",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35474,
        "stargazers_count": 70605,
        "watchers_count": 70605,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T12:42:51Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:04:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4700"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 234,
    "deletions": 44,
    "changed_files": 6,
    "commits": 13,
    "review_comments": 0,
    "comments": 3
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNmMxNGQ5MWUyYWU2MTI3NTQzOWZhYWRhMWZmMTkzN2E0ZGQ4ODIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6c14d91e2ae61275439faada1ff1937a4dd8820",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6c14d91e2ae61275439faada1ff1937a4dd8820",
      "tree": {
        "sha": "d835bf39b98634e6907c359b50b491fb201107f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d835bf39b98634e6907c359b50b491fb201107f8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e257b7c4c4517bc90237d879b40a380a8f596788",
          "sha": "e257b7c4c4517bc90237d879b40a380a8f596788",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e257b7c4c4517bc90237d879b40a380a8f596788"
        }
      ],
      "message": "Create a constant for chainstate write period in WriteChainState",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T08:51:17Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-12T16:24:36Z"
      },
      "sha": "c6c14d91e2ae61275439faada1ff1937a4dd8820"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NDJhM2ZkZWMzOGNiMTgyZjA3ZDM5N2MyZTNkOTdkNjI4OWZkYzVl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/542a3fdec38cb182f07d397c2e3d97d6289fdc5e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/542a3fdec38cb182f07d397c2e3d97d6289fdc5e",
      "tree": {
        "sha": "a4f5ba1afa7b9875518ec0e7cfac45370cfda382",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4f5ba1afa7b9875518ec0e7cfac45370cfda382"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6c14d91e2ae61275439faada1ff1937a4dd8820",
          "sha": "c6c14d91e2ae61275439faada1ff1937a4dd8820",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c6c14d91e2ae61275439faada1ff1937a4dd8820"
        }
      ],
      "message": "Add coinscache information to RPC\n\nMakes it possible to measure and compare caching strategies.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T08:51:19Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T15:00:25Z"
      },
      "sha": "542a3fdec38cb182f07d397c2e3d97d6289fdc5e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZDQxN2MyM2Y1ODA1ZDk3YTllNzNlMzkwM2YzMTRjNGUwYTRhYWM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d417c23f5805d97a9e73e3903f314c4e0a4aac9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4d417c23f5805d97a9e73e3903f314c4e0a4aac9",
      "tree": {
        "sha": "2cf68457e87c5cbf931d820b34ee6a0ba7aed980",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2cf68457e87c5cbf931d820b34ee6a0ba7aed980"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/542a3fdec38cb182f07d397c2e3d97d6289fdc5e",
          "sha": "542a3fdec38cb182f07d397c2e3d97d6289fdc5e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/542a3fdec38cb182f07d397c2e3d97d6289fdc5e"
        }
      ],
      "message": "Split CCoinsView::GetCoins into GetCoins and ModifyCoins\n\nMake intention more clear:\n\n- Call ModifyCoins if you intend to change the coins\n- Call GetCoins to get a const reference to the coins\n\nThis can be used for dirty tracking later on.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T08:51:20Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-12T06:52:46Z"
      },
      "sha": "4d417c23f5805d97a9e73e3903f314c4e0a4aac9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxNTE1OGNhOGViY2NlZTg5OTQ4Njk5N2M1MTVkNGI5NGUzNWQwNDll",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15158ca8ebccee899486997c515d4b94e35d049e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/15158ca8ebccee899486997c515d4b94e35d049e",
      "tree": {
        "sha": "aad35487cb5b97ef2b9ea83055408ea7d5ee3d3f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aad35487cb5b97ef2b9ea83055408ea7d5ee3d3f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d417c23f5805d97a9e73e3903f314c4e0a4aac9",
          "sha": "4d417c23f5805d97a9e73e3903f314c4e0a4aac9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4d417c23f5805d97a9e73e3903f314c4e0a4aac9"
        }
      ],
      "message": "Implement CCoinsViewCache::GetCoins with FetchCoins\n\nAvoids duplicating logic.\nAlso move the function together with its other overload in the\nimplementation file.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T08:51:20Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T14:10:35Z"
      },
      "sha": "15158ca8ebccee899486997c515d4b94e35d049e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNDg4ZDQxMzgyODc0OGNjNTUwMGViOGIzYzE2YzFjMmY4ODI1Zjgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2488d413828748cc5500eb8b3c16c1c2f8825f82",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2488d413828748cc5500eb8b3c16c1c2f8825f82",
      "tree": {
        "sha": "fac5dea943dff9aeb8947ddb1bc14c2fedd63d17",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fac5dea943dff9aeb8947ddb1bc14c2fedd63d17"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15158ca8ebccee899486997c515d4b94e35d049e",
          "sha": "15158ca8ebccee899486997c515d4b94e35d049e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/15158ca8ebccee899486997c515d4b94e35d049e"
        }
      ],
      "message": "Adds stats counting to CCoinsViewCache",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:32:23Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:32:23Z"
      },
      "sha": "2488d413828748cc5500eb8b3c16c1c2f8825f82"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMWIxYTU0NjUxOTNlM2M1MGY0OGQyYTdkM2ExODIyMGI1ODJjYjM3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1b1a5465193e3c50f48d2a7d3a18220b582cb37",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b1b1a5465193e3c50f48d2a7d3a18220b582cb37",
      "tree": {
        "sha": "e29211db917509cbecff38b13c7aba294e6247b0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e29211db917509cbecff38b13c7aba294e6247b0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2488d413828748cc5500eb8b3c16c1c2f8825f82",
          "sha": "2488d413828748cc5500eb8b3c16c1c2f8825f82",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2488d413828748cc5500eb8b3c16c1c2f8825f82"
        }
      ],
      "message": "Make CCoinsViewCache::FetchCoins return a pointer instead of an iterator\n\nThis makes it possible to use different data structures for different\nparts of the cache.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:44:01Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T14:33:44Z"
      },
      "sha": "b1b1a5465193e3c50f48d2a7d3a18220b582cb37"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiOTM1ZDAyMjY0MGU3MWMwZGY3MDQxNTg1NTkwM2RlMDhkZGRjYWY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b935d022640e71c0df70415855903de08dddcaf8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b935d022640e71c0df70415855903de08dddcaf8",
      "tree": {
        "sha": "51ea607368c2e5cfd231d1963b0b54597afeaf0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/51ea607368c2e5cfd231d1963b0b54597afeaf0a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1b1a5465193e3c50f48d2a7d3a18220b582cb37",
          "sha": "b1b1a5465193e3c50f48d2a7d3a18220b582cb37",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b1b1a5465193e3c50f48d2a7d3a18220b582cb37"
        }
      ],
      "message": "CCoinsViewCache: separate read and write caches\n\nKeep track of entries that are read-only or r/w in separate\ncaches. This is an optimization that avoids writing back all\naccessed entries back to the database on a flush.\n\nAlso makes the way clear for future optimizations such as putting a\nfixed limit on the size of the read cache.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:48:15Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-12T07:42:12Z"
      },
      "sha": "b935d022640e71c0df70415855903de08dddcaf8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZmRkM2I2NDQyM2UwODc3OGYyMjVmMTg2N2QzOWEwNGI3ZjU5MjU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cfdd3b64423e08778f225f1867d39a04b7f59256",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cfdd3b64423e08778f225f1867d39a04b7f59256",
      "tree": {
        "sha": "7fa0a23894ee4bac3710d32b2d8ef0ea489a74db",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7fa0a23894ee4bac3710d32b2d8ef0ea489a74db"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b935d022640e71c0df70415855903de08dddcaf8",
          "sha": "b935d022640e71c0df70415855903de08dddcaf8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b935d022640e71c0df70415855903de08dddcaf8"
        }
      ],
      "message": "Report rcache and wcache size separately in RPC",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:48:18Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T17:42:26Z"
      },
      "sha": "cfdd3b64423e08778f225f1867d39a04b7f59256"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYmIwZmIyY2ZkZTFmZTJlY2I0MTMxMjZiYzlkNzQ1ZGNiNmQ3OWFm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af",
      "tree": {
        "sha": "d1862a467d7457f819159a73832d0d70665a7e48",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d1862a467d7457f819159a73832d0d70665a7e48"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cfdd3b64423e08778f225f1867d39a04b7f59256",
          "sha": "cfdd3b64423e08778f225f1867d39a04b7f59256",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cfdd3b64423e08778f225f1867d39a04b7f59256"
        }
      ],
      "message": "Change WriteChainState to use cache flags\n\n- Flush READ and WRITE caches if maximum size exceeded (`pcoinsTip->GetCacheSize() > nCoinCacheSize`)\n- Flush WRITE cache periodically if !InitialBlockDownload()",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T09:48:18Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-12T16:13:38Z"
      },
      "sha": "3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af"
    },
    {
      "event": "labeled",
      "id": 152804547,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE1MjgwNDU0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/152804547",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-14T11:05:15Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMzM0OTllYWQ3ZTZjNWNjN2RhYTBlZDdhNDY5N2MzNTYwZGU1Yzc3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/133499ead7e6c5cc7daa0ed7a4697c3560de5c77",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/133499ead7e6c5cc7daa0ed7a4697c3560de5c77",
      "tree": {
        "sha": "b5437327b23885c9a4f4c250c6e15a218637b607",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5437327b23885c9a4f4c250c6e15a218637b607"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af",
          "sha": "3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3bb0fb2cfde1fe2ecb413126bc9d745dcb6d79af"
        }
      ],
      "message": "Move entries from write to read cache on flush\n\nThere's a large chance that entries will be accessed again after\nbeing written.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T19:12:53Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T15:02:52Z"
      },
      "sha": "133499ead7e6c5cc7daa0ed7a4697c3560de5c77"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MWYxNGJhZmYxOTg3NTAwNzdkMWQzODg2OWNlNzY4YTI2ZDI3NmFi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71f14baff198750077d1d38869ce768a26d276ab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71f14baff198750077d1d38869ce768a26d276ab",
      "tree": {
        "sha": "a08ff5150994bfc697b1085075f58af96508c803",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a08ff5150994bfc697b1085075f58af96508c803"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/133499ead7e6c5cc7daa0ed7a4697c3560de5c77",
          "sha": "133499ead7e6c5cc7daa0ed7a4697c3560de5c77",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/133499ead7e6c5cc7daa0ed7a4697c3560de5c77"
        }
      ],
      "message": "Cache negative hits",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T19:13:02Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T15:20:57Z"
      },
      "sha": "71f14baff198750077d1d38869ce768a26d276ab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NDY5YTlmMjdjYWI0NmRjZTQ2NjI5NGUxN2U0MTIxYTFkMmJjNWU4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5469a9f27cab46dce466294e17e4121a1d2bc5e8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5469a9f27cab46dce466294e17e4121a1d2bc5e8",
      "tree": {
        "sha": "e1542ed76fb0caeb35fa4592a9b6e650fd7aaff7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1542ed76fb0caeb35fa4592a9b6e650fd7aaff7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71f14baff198750077d1d38869ce768a26d276ab",
          "sha": "71f14baff198750077d1d38869ce768a26d276ab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71f14baff198750077d1d38869ce768a26d276ab"
        }
      ],
      "message": "Change the read cache to a MRU cache",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T19:16:32Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T07:20:10Z"
      },
      "sha": "5469a9f27cab46dce466294e17e4121a1d2bc5e8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxNjQ4ZjI1NmY3MTA0ZTcxNjRmOGFhODFhZTgxYjgyYmM2ODkxOGUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1648f256f7104e7164f8aa81ae81b82bc68918e3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1648f256f7104e7164f8aa81ae81b82bc68918e3",
      "tree": {
        "sha": "6c600becaa1824874fa4b1f4882c5badabbb6a3e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c600becaa1824874fa4b1f4882c5badabbb6a3e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5469a9f27cab46dce466294e17e4121a1d2bc5e8",
          "sha": "5469a9f27cab46dce466294e17e4121a1d2bc5e8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5469a9f27cab46dce466294e17e4121a1d2bc5e8"
        }
      ],
      "message": "Update VerifyDB and WriteChainState to make use of LRU cleanup",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-14T19:16:34Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-13T07:20:57Z"
      },
      "sha": "1648f256f7104e7164f8aa81ae81b82bc68918e3"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-17T12:30:41Z",
      "updated_at": "2014-08-17T12:30:41Z",
      "source": {
        "issue": {
          "id": 40047607,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTk2NTY4NzM=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4683",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4683/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4683/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4683/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/4683",
          "number": 4683,
          "state": "closed",
          "state_reason": null,
          "title": "Some coin database memory usage tweaks.",
          "body": "- Make CScript::clear() release memory (indirectly causing transaction outputs being\n  spent to release associated heap memory).\n- Make CCoinsView::BatchWrite consume the passed CCoinsMap, rather than copy from it.\n  - As a result, CCoinsViewDb now progressively converts the map to LevelDB entries,\n    rather than copying.\n  - Merging a CCoinsViewCache into a parent cache uses CCoins::swap + release rather\n    than copy + bulk release at the end.\n\nUntested, but should reduce peak memory usage and some CPU time.\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4683",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/4683",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/4683.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/4683.patch"
          },
          "closed_at": "2014-08-24T12:47:59Z",
          "created_at": "2014-08-12T11:53:02Z",
          "updated_at": "2021-09-08T10:48:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 52473478,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDczNDc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52473478",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T10:09:42Z",
      "updated_at": "2014-08-18T10:09:42Z",
      "author_association": "MEMBER",
      "body": "I think the largest benefit of this will come later, from being able to track in-cache-created entries and removing them in-memory if they are fully spent, preventing them from ever needing to be serialized/written. I'm sure that tuning things like how frequently and when to write what can bring additional benefits.\n\nI'll look at the code in more detail later. Perhaps we can try to first implement such optimizations as further commits on top of this, to see whether there are actual benefits before merging.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4700#issuecomment-52473478",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4700"
    },
    {
      "event": "commented",
      "id": 52475662,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDc1NjYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52475662",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T10:33:43Z",
      "updated_at": "2014-08-18T10:33:43Z",
      "author_association": "MEMBER",
      "body": "Indeed, there are a few other things we could try. But basically the MRU read cache seems to be useless at the moment:\n- During checkblocks: _everything_ enters the write cache of the child cache (coins), so there is no use to the read cache in pcoinsTip\n- During initial sync: the read cache does have a lot of hits, but it appears that misses don't figure much into the overall timings (probably as leveldb has its own caching). So using the CCoinsCache as we do now, as a 'write buffer/batcher' is OK performance-wise\n- During normal node use: the cache gets lots of hits during transaction and block validation, but performance consequences of this are hard to measure. At least with current transaction volumes maybe it's just not so bad to query the underlying database. Especially as leveldb does caching of its own\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4700#issuecomment-52475662",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4700"
    },
    {
      "event": "commented",
      "id": 52526642,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTI2NjQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52526642",
      "actor": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-18T17:35:41Z",
      "updated_at": "2014-08-18T17:35:41Z",
      "author_association": "NONE",
      "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4700_1648f256f7104e7164f8aa81ae81b82bc68918e3/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
      "user": {
        "login": "BitcoinPullTester",
        "id": 2110907,
        "node_id": "MDQ6VXNlcjIxMTA5MDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BitcoinPullTester",
        "html_url": "https://github.com/BitcoinPullTester",
        "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
        "following_url": "https://api.github.com/users/BitcoinPullTester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BitcoinPullTester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BitcoinPullTester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
        "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
        "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
        "events_url": "https://api.github.com/users/BitcoinPullTester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/4700#issuecomment-52526642",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4700"
    },
    {
      "event": "closed",
      "id": 157140952,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTU3MTQwOTUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/157140952",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-08-26T06:11:31Z"
    },
    {
      "event": "locked",
      "id": 5271481087,
      "node_id": "LOE_lADOABII584CZhKBzwAAAAE6NGr_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271481087",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:48:53Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": []
}