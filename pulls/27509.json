{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509",
    "id": 1323107430,
    "node_id": "PR_kwDOABII585O3QRm",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27509",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27509.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27509.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/bde055d28f5d41d9e923f770d130010e72441e91",
    "number": 27509,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Relay own transactions only via short-lived Tor or I2P connections",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "To improve privacy, relay locally submitted transactions (from the wallet or via RPC) to the P2P network only via Tor or I2P short-lived connections.\r\n\r\n* Introduce a new connection type for relaying sensitive data (our own transactions) with the following properties:\r\n  * started whenever there are local unbroadcast transactions to be sent\r\n  * only opened to Tor or I2P peers\r\n  * opened regardless of max connections limits\r\n  * after handshake is completed one local transaction is pushed to the peer and the connection is closed\r\n  * ignore all incoming messages after handshake is completed\r\n\r\n* Relay locally submitted transactions (from the wallet or via RPC) using this new mechanism, to a few Tor or I2P peers.\r\n\r\n* Hide those transactions from `GETDATA` and `MEMPOOL` requests, as if we don't have them.\r\n\r\n* Once we get an `INV` from somebody, request the transaction with `GETDATA`, as if we didn't have it before.\r\n\r\n* After we receive the full transaction as a `TX` message, in reply to our `GETDATA` request, only then consider the transaction has propagated through the network and remove it from the unbroadcast list.\r\n\r\n* `INV` it to others as a result of the `TX` message we get, like what we do with transactions that are not ours.\r\n\r\nThe messages exchange should look like this:\r\n\r\n```\r\ntx-sender >--- connect -------> tx-recipient\r\ntx-sender >--- VERSION -------> tx-recipient\r\ntx-sender <--- VERSION -------< tx-recipient\r\ntx-sender <--- WTXIDRELAY ----< tx-recipient (maybe) \r\ntx-sender <--- SENDADDRV2 ----< tx-recipient (maybe) \r\ntx-sender <--- SENDTXRCNCL ---< tx-recipient (maybe) \r\ntx-sender <--- VERACK --------< tx-recipient\r\ntx-sender >--- VERACK --------> tx-recipient\r\ntx-sender ---- TX ------------> tx-recipient\r\ntx-sender ---- PING ----------> tx-recipient\r\ntx-sender <--- PONG ----------< tx-recipient\r\ntx-sender disconnects\r\n```\r\n\r\nWhenever a new local transaction is received (from the wallet or RPC), the node will send it to 5 (`SENSITIVE_RELAY_NUM_BROADCAST_PER_TX`) recipients right away. If after 10-15 mins we still have not heard anything about the transaction from the network, then it will be sent to 5 more peers (see `PeerManagerImpl::ReattemptInitialBroadcast()`).\r\n\r\nA few considerations:\r\n* The short-lived sensitive relay connections are very cheap and fast wrt network traffic. It is expected that some of those peers will blackhole the transaction. Just one honest/proper peer is enough for successful propagation.\r\n* The peers that receive the transaction could deduce that this is initial transaction broadcast from the transaction originator. This is ok, they can't identify the sender.\r\n\r\nTODO:\r\n* [x] Disable if `-connect` is used or Tor and I2P are not reachable.\r\n* [x] Use I2P transient connections even if listening on I2P.\r\n* [x] Do something with the user-agent string (could reveal identity if it has been personalized) and make sure no identifying information in the `VERSION` message. Done: took the [suggestion below](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517896418).\r\n* [x] Improve the condition when we consider the transaction seen by the network: right now a single INV from somebody suffices (this is still an improvement over `master` which is ok right after pushing the tx to a peer). We could wait for more than one INV, from peers that we have selected (outbound) and that are specifically not the ones we broadcasted to (via short-lived connection). Edit: One `INV` should be enough because after that we broadcast the transaction to everybody we are connected to (like if it is not ours).\r\n* [ ] Idea: start with one connection per transaction (not 5 as it is now), optimistically assuming it will be sufficient. (numbers are examples) After 1 minute, if still not received from the network, try 2 connections, after a few minutes try more. If still unsuccessful after 10 minutes, then fall back to the old mechanism.\r\n\r\nThis is supposed to address:\r\nhttps://github.com/bitcoin/bitcoin/issues/3828\r\nhttps://github.com/bitcoin/bitcoin/issues/14692\r\nhttps://github.com/bitcoin/bitcoin/issues/19042\r\nhttps://github.com/bitcoin/bitcoin/issues/24557\r\nhttps://github.com/bitcoin/bitcoin/issues/25450\r\n",
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      }
    ],
    "created_at": "2023-04-21T13:39:19Z",
    "updated_at": "2023-07-27T22:02:05Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "5aec19b86f86716171dc59b3753637e50f2c6e12",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "vasild:relay_tx_to_priv_nets",
      "ref": "relay_tx_to_priv_nets",
      "sha": "bde055d28f5d41d9e923f770d130010e72441e91",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 213798,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-27T12:06:07Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "679f825ba3aae45af4476f357a67f8e6ec9483e2",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35448,
        "stargazers_count": 70551,
        "watchers_count": 70551,
        "size": 235922,
        "default_branch": "master",
        "open_issues_count": 671,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-27T22:33:53Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-07-27T17:38:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 950,
    "deletions": 157,
    "changed_files": 23,
    "commits": 17,
    "review_comments": 69,
    "comments": 37
  },
  "events": [
    {
      "event": "commented",
      "id": 1517851104,
      "node_id": "IC_kwDOABII585aeJHg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517851104",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T13:39:22Z",
      "updated_at": "2023-07-26T18:24:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1535806985) |\n| Concept ACK | [dergoegge](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517861239), [kristapsk](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517878136), [MaxHillebrand](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517885182), [mzumsande](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1518004494), [ajtowns](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1523087063), [RandyMcMillan](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525684935), [brunoerg](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1526013801), [amitiuttarwar](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525672113), [0xB10C](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1528893509) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28107](https://github.com/bitcoin/bitcoin/pull/28107) (util: Type-safe transaction identifiers by dergoegge)\n* [#27675](https://github.com/bitcoin/bitcoin/pull/27675) (p2p: Drop m_recently_announced_invs bloom filter by ajtowns)\n* [#27539](https://github.com/bitcoin/bitcoin/pull/27539) (init: Fixes for file descriptor accounting by Empact)\n* [#27452](https://github.com/bitcoin/bitcoin/pull/27452) (test: cover addrv2 anchors by adding TorV3 to CAddress in messages.py by pinheadmz)\n* [#27407](https://github.com/bitcoin/bitcoin/pull/27407) (net, refactor: Privatise CNode send queue by dergoegge)\n* [#27213](https://github.com/bitcoin/bitcoin/pull/27213) (p2p: Diversify automatic outbound connections with respect to networks by amitiuttarwar)\n* [#27114](https://github.com/bitcoin/bitcoin/pull/27114) (p2p: Allow whitelisting outgoing connections by brunoerg)\n* [#26697](https://github.com/bitcoin/bitcoin/pull/26697) (logging: use bitset for categories by LarryRuane)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#25832](https://github.com/bitcoin/bitcoin/pull/25832) (tracing: network connection tracepoints by 0xB10C)\n* [#25572](https://github.com/bitcoin/bitcoin/pull/25572) (refactor: Introduce EvictionManager and use it for the inbound eviction logic by dergoegge)\n* [#25284](https://github.com/bitcoin/bitcoin/pull/25284) (net: Use serialization parameters for CAddress serialization by MarcoFalke)\n* [#25268](https://github.com/bitcoin/bitcoin/pull/25268) (refactor: Introduce EvictionManager by dergoegge)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517851104",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "labeled",
      "id": 9067859055,
      "node_id": "LE_lADOABII585kDIGizwAAAAIcfIxv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9067859055",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T13:42:22Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 9067897462,
      "node_id": "CTDE_lADOABII585kDIGizwAAAAIcfSJ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9067897462",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T13:46:31Z"
    },
    {
      "event": "commented",
      "id": 1517861239,
      "node_id": "IC_kwDOABII585aeLl3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517861239",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T13:47:34Z",
      "updated_at": "2023-04-21T13:50:19Z",
      "author_association": "MEMBER",
      "body": "Concept ACK - cool!\r\n\r\nNot sure about \"only\" relaying to Tor and I2P but seems useful as an option.\r\n\r\n> after handshake is completed one local transaction is pushed to the peer and the connection is closed\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/4432 comes to mind",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517861239",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1517878136,
      "node_id": "IC_kwDOABII585aePt4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517878136",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T13:58:31Z",
      "updated_at": "2023-04-21T13:58:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517878136",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1517885182,
      "node_id": "IC_kwDOABII585aeRb-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517885182",
      "actor": {
        "login": "MaxHillebrand",
        "id": 30683012,
        "node_id": "MDQ6VXNlcjMwNjgzMDEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/30683012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MaxHillebrand",
        "html_url": "https://github.com/MaxHillebrand",
        "followers_url": "https://api.github.com/users/MaxHillebrand/followers",
        "following_url": "https://api.github.com/users/MaxHillebrand/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MaxHillebrand/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MaxHillebrand/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MaxHillebrand/subscriptions",
        "organizations_url": "https://api.github.com/users/MaxHillebrand/orgs",
        "repos_url": "https://api.github.com/users/MaxHillebrand/repos",
        "events_url": "https://api.github.com/users/MaxHillebrand/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MaxHillebrand/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:03:14Z",
      "updated_at": "2023-04-21T14:03:14Z",
      "author_association": "NONE",
      "body": "Concept ACK",
      "user": {
        "login": "MaxHillebrand",
        "id": 30683012,
        "node_id": "MDQ6VXNlcjMwNjgzMDEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/30683012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MaxHillebrand",
        "html_url": "https://github.com/MaxHillebrand",
        "followers_url": "https://api.github.com/users/MaxHillebrand/followers",
        "following_url": "https://api.github.com/users/MaxHillebrand/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MaxHillebrand/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MaxHillebrand/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MaxHillebrand/subscriptions",
        "organizations_url": "https://api.github.com/users/MaxHillebrand/orgs",
        "repos_url": "https://api.github.com/users/MaxHillebrand/repos",
        "events_url": "https://api.github.com/users/MaxHillebrand/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MaxHillebrand/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517885182",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1517890871,
      "node_id": "IC_kwDOABII585aeS03",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517890871",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:06:13Z",
      "updated_at": "2023-04-21T14:06:13Z",
      "author_association": "MEMBER",
      "body": "Looking at the current implementation, I am not sure how useful this is going to be, if the transaction is sent along with the potentially uniquely identifying UA comment, or other fingerprints in the version message. Maybe it makes sense to define a static version message, similar to how the tor browser replaces headers with constants?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517890871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1517896418,
      "node_id": "IC_kwDOABII585aeULi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517896418",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:10:44Z",
      "updated_at": "2023-04-21T14:10:44Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke Good idea! Perhaps it's worth mimicking `bitcoin-submittx` (https://github.com/laanwj/bitcoin-submittx/blob/master/bitcoin-submittx#L28) ?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517896418",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "mentioned",
      "id": 9068115303,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIcgHVn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9068115303",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:10:45Z"
    },
    {
      "event": "subscribed",
      "id": 9068115318,
      "node_id": "SE_lADOABII585kDIGizwAAAAIcgHV2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9068115318",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:10:45Z"
    },
    {
      "event": "commented",
      "id": 1517904089,
      "node_id": "IC_kwDOABII585aeWDZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517904089",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:16:40Z",
      "updated_at": "2023-04-21T14:16:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Looking at the current implementation, I am not sure how useful this is going to be, if the transaction is sent along with the potentially uniquely identifying UA comment, or other fingerprints in the version message. Maybe it makes sense to define a static version message, similar to how the tor browser replaces headers with constants?\r\n\r\nOr it could randomize it, from the list of different version strings.",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517904089",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1517911046,
      "node_id": "IC_kwDOABII585aeXwG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517911046",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T14:21:46Z",
      "updated_at": "2023-04-21T14:22:03Z",
      "author_association": "MEMBER",
      "body": "One shot connections + immediate tx broadcast without inv,getdata exchange leaks that the tx is likely being broadcast for the first time (easy to censor the tx as the receiver).\r\n\r\nPerhaps it is worth combining this with https://github.com/bitcoin/bitcoin/pull/27213 and instead of one-shot connections we broadcast only to existing selected connections on these privacy networks. Our own transactions would then still benefit from being broadcast along side other transactions.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517911046",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1518004494,
      "node_id": "IC_kwDOABII585aeukO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518004494",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T15:31:01Z",
      "updated_at": "2023-04-21T15:47:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Not sure if this should be the default or an optional mode (in some cases, a faster and more reliable transmission may be more important than privacy).\r\n\r\nIt might also be helpful to combine this with some heuristics that the tx percolated through the network: \r\nFor example, require that 2 of your regular full outbound connections  (that you didn't send it to ) have inv'ed the tx back to you - otherwise try again after some time.\r\n",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1518004494",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "labeled",
      "id": 9068923969,
      "node_id": "LE_lADOABII585kDIGizwAAAAIcjMxB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9068923969",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T15:41:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1518536516,
      "node_id": "IC_kwDOABII585agwdE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518536516",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-22T06:51:34Z",
      "updated_at": "2023-04-22T06:51:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> potentially uniquely identifying UA comment, or other fingerprints in the version message\r\n\r\nadded to the TODO in the OP\r\n\r\n> One shot connections + immediate tx broadcast without inv,getdata exchange leaks that the tx is likely being broadcast for the first time (easy to censor the tx as the receiver).\r\n\r\nYes. I was thinking its probably ok to broadcast to a few peers, not just one. And if they blackhole it, then the code will retry. We can retry more aggressively if it keeps being blackholed. I think it is ok to assume that there are some honest nodes in our addrman.\r\n\r\n> Perhaps it is worth combining this with https://github.com/bitcoin/bitcoin/pull/27213 and instead of one-shot connections we broadcast only to existing selected connections on these privacy networks.\r\n\r\nThere are two aspects of this:\r\n1. Linking a bitcoin transaction to IP address/geolocation. Broadcasting to long-lived Tor/I2P connections solves this (modulo other issues like linking Tor nodes with IP addresses).\r\n2. Linking one bitcoin transaction with another bitcoin transaction that otherwise are unrelated. To solve/mitigate this we need to send each transaction over its individual connection and that connection to not be linkable to other connections.\r\n\r\n> Not sure if this should be the default or an optional mode\r\n\r\nRight, also assuming there will be bugs/unexpected things - maybe have an option to enable/disable this. Hardest would be to introduce it without an option to disable it. Softest approach would be: 1. introduce under an option with default off, 2. in next version flip the default to on (if it seems to be working well)\r\n\r\n> It might also be helpful to combine this with some heuristics that the tx percolated through the network:\r\nFor example, require that 2 of your regular full outbound connections (that you didn't send it to ) have inv'ed the tx back to you - otherwise try again after some time.\r\n\r\nI actually changed the behavior to do something like that in 512077bb8805eacb671eabcf9d62463a2a6e6a39 `net_processing: relay local transactions via the SENSITIVE_RELAY mechanism` in this PR: see where `RemoveUnbroadcastTx()` was called before / is called now. Maybe that deserves a separate commit. Before we would be ok as long as we pushed the tx to the peer. Now we wait until we receive an `INV` about that tx from somebody. There is some room for improvement - added in the TODO in the OP.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1518536516",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1518666764,
      "node_id": "IC_kwDOABII585ahQQM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518666764",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-22T13:59:56Z",
      "updated_at": "2023-04-22T14:17:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think that in the suggested approach we might reveal information by _not_ inv'ing our own tx to others.\r\nIf a spy is connected to each node, we might send the tx to them first currently (master), but with the PR, if we are now the only node that never inv's the tx to them at all (provided that all other nodes do that eventually with the flooding mechanism) that would equally identify us as the source.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1518666764",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "unsubscribed",
      "id": 9074477675,
      "node_id": "UE_lADOABII585kDIGizwAAAAIc4Ypr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9074477675",
      "actor": {
        "login": "MaxHillebrand",
        "id": 30683012,
        "node_id": "MDQ6VXNlcjMwNjgzMDEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/30683012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MaxHillebrand",
        "html_url": "https://github.com/MaxHillebrand",
        "followers_url": "https://api.github.com/users/MaxHillebrand/followers",
        "following_url": "https://api.github.com/users/MaxHillebrand/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MaxHillebrand/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MaxHillebrand/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MaxHillebrand/subscriptions",
        "organizations_url": "https://api.github.com/users/MaxHillebrand/orgs",
        "repos_url": "https://api.github.com/users/MaxHillebrand/repos",
        "events_url": "https://api.github.com/users/MaxHillebrand/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MaxHillebrand/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T08:32:14Z"
    },
    {
      "event": "commented",
      "id": 1519011804,
      "node_id": "IC_kwDOABII585aikfc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1519011804",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T09:34:26Z",
      "updated_at": "2023-04-23T09:34:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "@mzumsande, right, ideally, after the initial broadcast via the short-lived connection, the node should behave as if it does not know the tx:\r\n* before it gets `INV` for that tx, exclude it from `GETDATA` and `MEMPOOL` replies\r\n* if it gets `INV` for that tx, request the entire tx via `GETDATA`\r\n* broadcast to others",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1519011804",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "mentioned",
      "id": 9074571268,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIc4vgE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9074571268",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T09:34:27Z"
    },
    {
      "event": "subscribed",
      "id": 9074571271,
      "node_id": "SE_lADOABII585kDIGizwAAAAIc4vgH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9074571271",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T09:34:27Z"
    },
    {
      "event": "subscribed",
      "id": 9091775346,
      "node_id": "SE_lADOABII585kDIGizwAAAAId6Xty",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9091775346",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-25T12:24:19Z"
    },
    {
      "event": "commented",
      "id": 1523087063,
      "node_id": "IC_kwDOABII585ayHbX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523087063",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-26T09:26:15Z",
      "updated_at": "2023-04-26T09:26:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK.\r\n\r\nMight be good to have some way of being able to configure where to connect to for sensitive relay, defaulting to tor/i2p, but so that you could perhaps enable specific ipv4/ipv6 addresses as well, particularly for testing purposes.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1523087063",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1525672113,
      "node_id": "IC_kwDOABII585a7-ix",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525672113",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T13:11:04Z",
      "updated_at": "2023-04-28T18:16:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK \r\n\r\na high level question: the privacy benefit comes from the guarantees of using the altnets - the lifecycle of the connection is expected to reveal that the tx is an initial broadcast. if a spy is able to reliably fingerprint a node between networks, this mechanism could potentially degrade privacy. could it be worthwhile to mitigate this by occasionally broadcast non-wallet txs via the same short-lived connections, or broadcast a couple additional txs over the same connection? obv some big tradeoffs, just want to consider the possibility. even if we are able to ensure no leaks _now_, it is difficult to guarantee this over time of developing the project. \r",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525672113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1525684935,
      "node_id": "IC_kwDOABII585a8BrH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525684935",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T13:19:43Z",
      "updated_at": "2023-04-27T13:19:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK ",
      "user": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525684935",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1525701626,
      "node_id": "IC_kwDOABII585a8Fv6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525701626",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T13:31:01Z",
      "updated_at": "2023-04-27T13:31:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "Disagree with:\n\nopened regardless of max connections limits\n\nThe connection should be established after another tor/i2p connection is dropped - this way the connection appears to be just another connection - nothing special about it.",
      "user": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525701626",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1525715201,
      "node_id": "IC_kwDOABII585a8JEB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525715201",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T13:39:40Z",
      "updated_at": "2023-04-27T13:39:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "It may also be useful to randomize the duration of the connection? \n\nAdditionally - padding the connection with dummy txs during its lifecycle may help obfuscate the real payload? ",
      "user": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1525715201",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1526013801,
      "node_id": "IC_kwDOABII585a9R9p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1526013801",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T16:40:34Z",
      "updated_at": "2023-04-27T16:40:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1526013801",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1527780479,
      "node_id": "IC_kwDOABII585bEBR_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1527780479",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-28T16:06:09Z",
      "updated_at": "2023-04-28T16:06:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "> One shot connections + immediate tx broadcast without inv,getdata exchange leaks that the tx is likely being broadcast for the first time (easy to censor the tx as the receiver).\r\n\r\nI agree. My main concern is about how to ensure the transaction has not been censored. It seems easy for an attacker to identify someone opened a connection just to relay its own transaction.\r\n\r\n> Now we wait until we receive an INV about that tx from somebody\r\n\r\nJust to clarify: We would open the short-lived connection to relay our own transaction and close it right after and then, we wait until we receive an INV about that tx from somebody, if not, we would try to do it (open a new short-lived conn...) all over again?",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1527780479",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1528893509,
      "node_id": "IC_kwDOABII585bIRBF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1528893509",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T23:15:29Z",
      "updated_at": "2023-04-29T23:15:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK!",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1528893509",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1534767675,
      "node_id": "IC_kwDOABII585berI7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1534767675",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T13:18:19Z",
      "updated_at": "2023-05-04T13:18:19Z",
      "author_association": "MEMBER",
      "body": "> We could wait for more than one INV, from peers that we have selected (outbound) and that are specifically not the ones we broadcasted to (via short-lived connection).\r\n\r\nIdeally, if outbound has clearnet connections, we would resume normal operation IFF one of those connections INV's it. This reduces risk of sybil influencing the node.\r\n\r\n",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1534767675",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "reviewed",
      "id": 1415616055,
      "node_id": "PRR_kwDOABII585UYJY3",
      "url": null,
      "actor": null,
      "commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1415616055",
      "submitted_at": "2023-05-06T01:35:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "commented",
      "id": 1545683197,
      "node_id": "IC_kwDOABII585cIUD9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545683197",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T12:41:37Z",
      "updated_at": "2023-05-12T12:41:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks all for the feedback!\r\n\r\n> Just to clarify: We would open the short-lived connection to relay our own transaction and close it right after and then, we wait until we receive an INV about that tx from somebody, if not, we would try to do it (open a new short-lived conn...) all over again?\r\n\r\nYes. But we may as well send to a few peers at the same time, then wait. And, I am not sure, maybe if it does not work for a long time, then fall back to the existent mechanism?\r\n\r\nThe worst that can happen is if our addrman is filled with malicious Tor peers that blackhole such initial announcements. But even if 90% of them are blackholes, then after a dozen attempts we should eventually send to a honest node which will propagate it to the network. Attempts are cheap and don't reveal any of the identity of the sender.\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1545683197",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9399609376,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAIwQqgg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9399609376",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T07:44:46Z"
    },
    {
      "event": "commented",
      "id": 1571690382,
      "node_id": "IC_kwDOABII585drheO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1571690382",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:32:59Z",
      "updated_at": "2023-06-01T09:32:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "`>>` This is ready for review and testing `<<`\r\n\r\n> ... if the transaction is sent along with the potentially uniquely identifying UA comment, or other fingerprints in the version message. Maybe it makes sense to define a static version message ...\r\n\r\n@MarcoFalke, I went with a [completely static `VERSION` message](https://github.com/vasild/bitcoin/blob/b73810f80917dd882d6161f6892f10f8c46a8193/src/net_processing.cpp#L1439-L1446)\r\n\r\n> ... Perhaps it's worth mimicking `bitcoin-submittx`\r\n\r\n@sipa, [done](https://github.com/vasild/bitcoin/blob/b73810f80917dd882d6161f6892f10f8c46a8193/src/net_processing.cpp#L1444)\r\n\r\n> Or it could randomize it, from the list of different version strings.\r\n\r\n@kristapsk, could be, but I did not do that (yet). I think a constant suffices and is the simplest thing to do.\r\n\r\n> Not sure if this should be the default or an optional mode\r\n\r\n@mzumsande, I made it optional, guarded by a new option `-sensitiverelayowntx` which is \"off\" by default. If all goes well, we can consider flipping the default to \"on\" after one release.\r\n\r\n> It might also be helpful to combine this with some heuristics that the tx percolated through the network: For example, require that 2 of your regular full outbound connections (that you didn't send it to ) have inv'ed the tx back to you - otherwise try again after some time.\r\n\r\nThat makes sense and is a room for improvement, let me summarize:\r\n\r\n* In `master` we consider the transaction percolated through the network after we push it to a peer (no wait for `INV` from somebody else).\r\n* In this PR, currently, we want for `INV` from somebody, ask for the full transaction with `GETDATA` and after we receive it, then consider it done.\r\n\r\nI am trying to strike a balance between simplicity (too simple and maybe it will break) and robustness (requires more complexity). Now, at the cost of more complexity we can require more:\r\n* an `INV` from more than one peer.\r\n* an `INV` from IPv4, IPv6 or CJDNS peer.\r\n* an `INV` from an outbound peer.\r\n\r\nWe have to start behaving normally after we get the first `INV`, which means to relay to all peers and include the transaction in `GETDATA` and `MEMPOOL` replies. Thus to achieve any of the above, it would be necessary to split the list of \"unbroadcast\" transactions in two:\r\n1. (now) transactions that we have to send via short-lived sensitive relay connections and we hide from `GETDATA` and `MEMPOOL` and ask for the full transaction once we get `INV`\r\n2. (new list) transactions that we have to send via short-lived sensitive relay connections, but we have already received them via at least one `INV`, so include them in `GETDATA` and `MEMPOOL`\r\n\r\n> If a spy is connected to each node, we might send the tx to them first currently (master), but with the PR, if we are now the only node that never inv's the tx to them at all (provided that all other nodes do that eventually with the flooding mechanism) that would equally identify us as the source.\r\n\r\n@mzumsande, I believe that is fixed now - once we get an `INV`, we will flood it to everybody and start behaving normally.\r\n\r\n> Might be good to have some way of being able to configure where to connect to for sensitive relay, defaulting to tor/i2p, but so that you could perhaps enable specific ipv4/ipv6 addresses as well, particularly for testing purposes.\r\n\r\n@ajtowns, sensitive relay via IPv4 seems like a way to shoot yourself in the foot. I extended the testing framework a bit to have a proper functional test for this.\r\n\r\n> ... if a spy is able to reliably fingerprint a node between networks, this mechanism could potentially degrade privacy ...\r\n\r\n@amitiuttarwar, no because the spy will not be able to relate the sensitive relay connection to another connection with the transaction originator on the same network.\r\n\r\n> The connection should be established after another tor/i2p connection is dropped - this way the connection appears to be just another connection - nothing special about it.\r\n> It may also be useful to randomize the duration of the connection?\r\n> Additionally - padding the connection with dummy txs during its lifecycle may help obfuscate the real payload?\r\n\r\n@RandyMcMillan, I am not sure why another connection should be dropped. I think adding more transactions in the broadcast is going to bring little value because they will be transactions that have already propageted through the network. A spy would be able to identify which one is the unbroadcast transaction. The point here is that even that the spy knows this is initial broadcast, they can't identify the sender and the worst they can do is blackhole the transaction.\r\n\r\n> > One shot connections + immediate tx broadcast without inv,getdata exchange leaks that the tx is likely being broadcast for the first time (easy to censor the tx as the receiver).\r\n\r\n> I agree. My main concern is about how to ensure the transaction has not been censored. It seems easy for an attacker to identify someone opened a connection just to relay its own transaction.\r\n\r\n@brunoerg, Yes, that should be ok.\r\n\r\n> Ideally, if outbound has clearnet connections, we would resume normal operation IFF one of those connections INV's it. This reduces risk of sybil influencing the node.\r\n\r\n@instagibbs, Yes, see a few lines above, we would need two lists of unbroadcast transactions.\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1571690382",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "mentioned",
      "id": 9400791739,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLK7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791739",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "subscribed",
      "id": 9400791754,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLLK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791754",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "mentioned",
      "id": 9400791770,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLLa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791770",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "subscribed",
      "id": 9400791787,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLLr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791787",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "mentioned",
      "id": 9400791826,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLMS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791826",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "subscribed",
      "id": 9400791847,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLMn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791847",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "mentioned",
      "id": 9400791891,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLNT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791891",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "subscribed",
      "id": 9400791904,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLNg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791904",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:00Z"
    },
    {
      "event": "mentioned",
      "id": 9400791928,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLN4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791928",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "subscribed",
      "id": 9400791944,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLOI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791944",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "mentioned",
      "id": 9400791966,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLOe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791966",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "subscribed",
      "id": 9400791978,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLOq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791978",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "mentioned",
      "id": 9400791999,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLO_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400791999",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "subscribed",
      "id": 9400792010,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLPK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400792010",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "mentioned",
      "id": 9400792031,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLPf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400792031",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "subscribed",
      "id": 9400792044,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLPs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400792044",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "mentioned",
      "id": 9400792068,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIwVLQE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400792068",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:01Z"
    },
    {
      "event": "subscribed",
      "id": 9400792081,
      "node_id": "SE_lADOABII585kDIGizwAAAAIwVLQR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400792081",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:33:02Z"
    },
    {
      "event": "unlabeled",
      "id": 9400915070,
      "node_id": "UNLE_lADOABII585kDIGizwAAAAIwVpR-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400915070",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:45:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1455044242,
      "node_id": "PRR_kwDOABII585WujaS",
      "url": null,
      "actor": null,
      "commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1455044242",
      "submitted_at": "2023-06-01T09:47:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "ready_for_review",
      "id": 9400966000,
      "node_id": "RFRE_lADOABII585kDIGizwAAAAIwV1tw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9400966000",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T09:49:53Z"
    },
    {
      "event": "reviewed",
      "id": 1455611371,
      "node_id": "PRR_kwDOABII585Wwt3r",
      "url": null,
      "actor": null,
      "commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1455611371",
      "submitted_at": "2023-06-01T14:24:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "reviewed",
      "id": 1455700161,
      "node_id": "PRR_kwDOABII585WxDjB",
      "url": null,
      "actor": null,
      "commit_id": "31dd230738c43a529c63331eb23135e42d083e8f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1455700161",
      "submitted_at": "2023-06-01T15:01:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "reviewed",
      "id": 1456079399,
      "node_id": "PRR_kwDOABII585WygIn",
      "url": null,
      "actor": null,
      "commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1456079399",
      "submitted_at": "2023-06-01T18:35:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "reviewed",
      "id": 1456206463,
      "node_id": "PRR_kwDOABII585Wy_J_",
      "url": null,
      "actor": null,
      "commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1456206463",
      "submitted_at": "2023-06-01T19:53:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9412027941,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAIxACYl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9412027941",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T09:08:49Z"
    },
    {
      "event": "commented",
      "id": 1573408760,
      "node_id": "IC_kwDOABII585dyE_4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1573408760",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T09:09:00Z",
      "updated_at": "2023-06-02T09:09:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "`b6fd6b525d...92fb45b5ef`: rebase and address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1573408760",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "labeled",
      "id": 9412688804,
      "node_id": "LE_lADOABII585kDIGizwAAAAIxCjuk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9412688804",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T10:22:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1458209334,
      "node_id": "PRR_kwDOABII585W6oI2",
      "url": null,
      "actor": null,
      "commit_id": "92fb45b5ef8560bc7a37223b096e625fa9f284d0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "concept ACK\r\n\r\nReviewed all code - really great job with this! Very cool idea. I will continue to track this PR and look forward to testing it out more and trying to break the functional tests ;-) \r\n\r\nI have a few questions below about implementation",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1458209334",
      "submitted_at": "2023-06-02T19:05:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "commented",
      "id": 1574302283,
      "node_id": "IC_kwDOABII585d1fJL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1574302283",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T20:53:13Z",
      "updated_at": "2023-06-02T20:53:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Correct me please if I'm missing anything. Considering:\r\n```\r\n- Once we get an INV from somebody, request the transaction with GETDATA, as if we didn't have it before.\r\n\r\n- After we receive the full transaction as a TX message, in reply to our GETDATA request, only then consider the transaction has propagated through the network and remove it from the unbroadcast list.\r\n```\r\nand\r\n```\r\nWe could wait for more than one INV, from peers that we have selected (outbound) and that are specifically not the ones we broadcasted to (via short-lived connection)\r\n```\r\nIn case my node doesn't accept inbound connections and supports clearnet + tor, however, my addrman has majority ipv4/6 addresses, seems like there is a chance of not having any connection with a Tor peer, so it would make harder to know that my transaction has been propagated? Seems like #27213 could boost this feature?",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1574302283",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9427613496,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAIx7fc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9427613496",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T04:40:27Z"
    },
    {
      "event": "commented",
      "id": 1576033040,
      "node_id": "IC_kwDOABII585d8FsQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576033040",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T04:43:13Z",
      "updated_at": "2023-06-05T04:45:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "`92fb45b5ef...c9acf32606`: make the python linter happy and avoid a race in the test - `wait_for_connect()` could time out as if a connection never arrived even if it did. This happens if the peer is connects  and disconnects before `wait_for_connect()` is called.\r\n\r\n`c9acf32606...2eae1f8f13`: make the python linter happy (even more)",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1576033040",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9427632599,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAIx7kHX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9427632599",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T04:44:39Z"
    },
    {
      "event": "unlabeled",
      "id": 9428613639,
      "node_id": "UNLE_lADOABII585kDIGizwAAAAIx_ToH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9428613639",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T06:53:25Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1576826080,
      "node_id": "IC_kwDOABII585d_HTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576826080",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T13:38:27Z",
      "updated_at": "2023-06-05T13:38:27Z",
      "author_association": "MEMBER",
      "body": "would like to see an updated OP that details what changes have been made, including precisely how often these connections are being made",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1576826080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1576875849,
      "node_id": "IC_kwDOABII585d_TdJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576875849",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T14:06:26Z",
      "updated_at": "2023-06-05T14:06:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "> In case my node doesn't accept inbound connections and supports clearnet + tor, however, my addrman has majority ipv4/6 addresses, seems like there is a chance of not having any connection with a Tor peer, so it would make harder to know that my transaction has been propagated?\r\n\r\n@brunoerg, Why? I couldn't follow. But anyway - as of now this PR does not wait for more than one peer to give back the transaction to us.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1576875849",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "mentioned",
      "id": 9433980057,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIyTxyZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9433980057",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T14:06:26Z"
    },
    {
      "event": "subscribed",
      "id": 9433980095,
      "node_id": "SE_lADOABII585kDIGizwAAAAIyTxy_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9433980095",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T14:06:26Z"
    },
    {
      "event": "commented",
      "id": 1576942166,
      "node_id": "IC_kwDOABII585d_jpW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576942166",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T14:46:36Z",
      "updated_at": "2023-06-05T14:46:58Z",
      "author_association": "MEMBER",
      "body": "General question about this: what will be the impact on tor/i2p nodes? (Like, resources-wise for those operators) are there even enough hidden services nodes with inbound slots to support this? In a world where all TXs are broadcast to the network through \"exit nodes\" are there any other possible drawbacks ?",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1576942166",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1577096803,
      "node_id": "IC_kwDOABII585eAJZj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577096803",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:17:25Z",
      "updated_at": "2023-06-05T16:17:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "@instagibbs added some more info to the OP, but feel free to reach on `#bitcoin-core-dev` to clarify things. Once a local transaction is is received, 5 such connections will be made right away. If we still consider the transaction unbroadcast after 10-15 mins, then it will be retried (5 new connections). These 10-15 mins are how `master` does things now but I think if sensitive relay is used this can be made more aggressive and/or increase the number of peers we broadcast to. E.g. after 3 minutes broadcast to 10 peers.\r\n\r\n> General question about this: what will be the impact on tor/i2p nodes? (Like, resources-wise for those operators) are there even enough hidden services nodes with inbound slots to support this?\r\n\r\n@pinheadmz, good question. Traffic-wise - the selected recipients will receive the transaction via a short-lived connection, but even now they do receive the transaction in one way or another. The overhead is the extra handshake of the new connection. Some quick tests show, from the point of view of the tx sender: sent 180 bytes (excluding the transaction itself), received 239 bytes.\r\n\r\nInbound slots-wise: Some [back of the envelope calculation](https://en.wikipedia.org/wiki/Back-of-the-envelope_calculation):\r\n* The historical maximum for the Bitcoin network of incoming transactions has been about 10 new transactions per second, typically that is 3-4 tx/sec. Lets say `3..10` tx/sec.\r\n* Each new tx causes 5 new connections to be opened, so for one second `15..50` new connections will be opened in total in that second (`3*5..10*5`).\r\n* Lets say one short-lived connection takes `2..10` seconds. That is a moving window of `2..10` seconds.\r\n* In the next `2..10` seconds they will not be closed and so for `2..10` seconds `30..500` new connections will be opened (`2*15..10*50`).\r\n* The constant load of those `30..500` extra connections will be spread evenly amongst ~10k listening Tor or I2P nodes. So each listening Tor or I2P node will have to handle `0.003..0.05` more incoming connections.\r\n\r\n>  In a world where all TXs are broadcast to the network through \"exit nodes\" are there any other possible drawbacks ?\r\n\r\nBy \"exit nodes\" you mean the new sensitive relay mechanism and not Tor-to-IPv4 exit nodes, right? If the Tor or I2P network stops working then the Bitcoin nodes that are connected to it and have the sensitive relay enabled will not be able to broadcast their transactions. Maybe we should eventually fall back to the old relay mechanism after some time has passed in unsuccessful sensitive relay attempts.\r\n\r\nBut notice - as the author of this, I have a blind spot for its drawbacks!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1577096803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "mentioned",
      "id": 9435719732,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIyaag0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9435719732",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:17:25Z"
    },
    {
      "event": "subscribed",
      "id": 9435719747,
      "node_id": "SE_lADOABII585kDIGizwAAAAIyaahD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9435719747",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:17:25Z"
    },
    {
      "event": "mentioned",
      "id": 9435719769,
      "node_id": "MEE_lADOABII585kDIGizwAAAAIyaahZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9435719769",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:17:25Z"
    },
    {
      "event": "subscribed",
      "id": 9435719788,
      "node_id": "SE_lADOABII585kDIGizwAAAAIyaahs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9435719788",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:17:25Z"
    },
    {
      "event": "commented",
      "id": 1577106769,
      "node_id": "IC_kwDOABII585eAL1R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577106769",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:24:36Z",
      "updated_at": "2023-06-05T16:24:36Z",
      "author_association": "MEMBER",
      "body": ">  I think if sensitive relay is used this can be made more aggressive and/or increase the number of peers we broadcast to. E.g. after 3 minutes broadcast to 10 peers.\r\n\r\nI think for first cut matching current behavior is probably best. If Tor is being sybiled, I don't think hammering things even harder is going to fix much. Time-sensitive users should probably just avoid using this feature altogether, at least until there is some sort of fallback mechanism introduced.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1577106769",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "commented",
      "id": 1577177916,
      "node_id": "IC_kwDOABII585eAdM8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577177916",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T17:15:46Z",
      "updated_at": "2023-06-05T17:15:46Z",
      "author_association": "MEMBER",
      "body": "> Tor-to-IPv4 exit nodes,\r\n\r\nI was more asking about this, not as much from a vulnerability standpoint but more like, the bottleneck created by all TXs going through a specific subset of network nodes first. I think your envelope math is reassuring though - I didn't realize there were so many Tor nodes already",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1577177916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "reviewed",
      "id": 1463428381,
      "node_id": "PRR_kwDOABII585XOiUd",
      "url": null,
      "actor": null,
      "commit_id": "2eae1f8f130a7f003726c332d82b1280c0a06f15",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "reviewed just the first few commits so far",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1463428381",
      "submitted_at": "2023-06-05T21:58:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "commented",
      "id": 1578149945,
      "node_id": "IC_kwDOABII585eEKg5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1578149945",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T08:12:43Z",
      "updated_at": "2023-06-06T08:12:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > Tor-to-IPv4 exit nodes,\r\n> \r\n> I was more asking about this, not as much from a vulnerability standpoint but more like, the bottleneck created by all TXs going through a specific subset of network nodes first. I think your envelope math is reassuring though - I didn't realize there were so many Tor nodes already\r\n\r\nWell, ok, we don't know how many of those Tor or I2P nodes are also connected to clearnet. For this secondary propagation (after sensitive relay has fired the transaction) however it does not matter if sensitive relay was used initially or not. The transaction will go to/from all the networks anyway due to the flooding mechanism like it happens currently.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1578149945",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9473548662,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAI0quF2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9473548662",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T14:47:29Z"
    },
    {
      "event": "commented",
      "id": 1582729266,
      "node_id": "IC_kwDOABII585eVogy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1582729266",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T14:47:32Z",
      "updated_at": "2023-06-08T14:47:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "`2eae1f8f13...ff88e08363`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1582729266",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "labeled",
      "id": 9474332724,
      "node_id": "LE_lADOABII585kDIGizwAAAAI0ttg0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9474332724",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T15:53:21Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9482773701,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAI1N6TF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9482773701",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T10:08:42Z"
    },
    {
      "event": "commented",
      "id": 1584327078,
      "node_id": "IC_kwDOABII585ebumm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1584327078",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T10:10:23Z",
      "updated_at": "2023-06-09T10:10:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "`ff88e08363...5fd41b9fbf`: limit the maximum number of sensitive relay connections that can be opened (discussion: https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218597944)",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1584327078",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "labeled",
      "id": 9487190772,
      "node_id": "LE_lADOABII585kDIGizwAAAAI1ewr0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9487190772",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-09T18:33:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY1OTNkMzMzZGUyYTIwNjhhN2IxNTY5YjJkODc4YThkYThjNGU1MTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f593d333de2a2068a7b1569b2d878a8da8c4e514",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f593d333de2a2068a7b1569b2d878a8da8c4e514",
      "tree": {
        "sha": "7f28f1bc9af1d4672a9b28afc2b6c645e9293fc5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7f28f1bc9af1d4672a9b28afc2b6c645e9293fc5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7f28f1bc9af1d4672a9b28afc2b6c645e9293fc5\nparent 679f825ba3aae45af4476f357a67f8e6ec9483e2\nauthor Vasil Dimov <vd@FreeBSD.org> 1684395553 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853201 +0200\n\nlogging: introduce a new category for sensitive relay\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJEACgkQVN8G9ktV\ny7+c5R/9G8UNzVQBajaRxqlvcyXt6u0cIwWYOhxjDeFqxvk0ewPuYIkJeZOvO0Gw\nHH7HoD33i+QH45r8KFHZd2fj7reZUtsAeQDTQRP9ItPfuJ6mszugP0jvT4lBx1QG\niI45d2nz2Pxcvi+AbnUnoAaoww58f2oECNrQLq19f5SKkFSs3KxL9ckrLVm3UYFl\nowXnk7zwVju1blvGd8aBHs3kH61Wwi2LqsBhZFhIwjceRU2UvdrWVnFJALcbNMpV\nIEf8OR7KrW1iuoQsoNcnIwKk62gkFN2YaJHr7OXlfrL5MbgXp5cLd/PT0ExlGDw/\n9E0TC3LKlV7a51BIhjtVAIxqMxKnMkg6dlQaA4PB4H/wyCgjMXY9A+xPcMXE5Wm9\nrJDXAjASjvwIZbgvHVqnHNMj5M1t8MAnXs4UhVxzZdh0kG5mYNv+bAgJEsiPoMPd\nQsIPZqtl+wX+yiqnUo1LFSCrWEYokEfsFp0D2C3+t9AjGCI/O8c3t7h507Hitiwx\nWVzXazqpyR6Zb0tdt9DzCFhn+X+8McHzxe95gaQxhUl/E5JERN1oCDKWOPv30/rL\nyZJbzD6gRWN9+jIQ5/ivpyujyI7XqMZnFziZubuEldtlfYb/79tPn1B3p3gdVHO3\nDvZITZyApMZGUtfjwnwpJ11hN4ci+ByWxha2aQo6v0WAA18HV69nUypkGpcz58wC\nKO+nT7gmxRfh+4gDm6yMcPI+Fu9Oe/0VAQvrGRgqooVN4eZsvj576TmosQpxG9yL\n7eINF/MQDMqqrPo60y3oqL/Vy6bwrISANthokhcXnIOXDcuhQK3X12kCmBe1a1Lx\ntaFmjzoFEppFPskWLb7edA2o74pMHlIKeHTyKAr2xcniJRhDD/CsQFGHrie25ihG\ny2UymHjUhqgfWIDCcofn5RnM+3MnJa+PWDU+TZyKw4KOz5Wg4F1ZjeJTg3NBMJoA\nlU2DJOWHW/7OOB59Vk38quzKD4Tr22h0tmVNiJVaYnztW1FtKQjt8qJH7AHUe76q\nqbaFMJTW8xhelwnxXnADJ03d6nztL4MgfwGWkoJiFKcVzsJPrk25Qlnj+NyWRNbH\nCJF+lgKHQVpRHlD5CI2aLpOW+ix49oBCpRw0iqiWKfFs6w+uzsBQ5fCPNapRBTYo\nQboOwn/vmmFfUsts3NsA7M5fUjja832EsRfs6HWfOcx/wRNGYM35DwqaOB36T9fU\nVFU8F8/WzdVvMjvmYpSolzakIb2OpvjAkht0hs+gGqEEf4Rv4l90S4hJnyQoog6m\nW1atEBVRbZDmOQWGNnP8w/zcKhxnRK3Y8GVdlqAX2Ha6q2BcXQvOBxFH6+Kb7F51\nnjhjlhZfvps6Xwee5JzwoiZ5LVqcHg==\n=jqLR\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/679f825ba3aae45af4476f357a67f8e6ec9483e2",
          "sha": "679f825ba3aae45af4476f357a67f8e6ec9483e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/679f825ba3aae45af4476f357a67f8e6ec9483e2"
        }
      ],
      "message": "logging: introduce a new category for sensitive relay",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:41Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-18T07:39:13Z"
      },
      "sha": "f593d333de2a2068a7b1569b2d878a8da8c4e514"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhkY2E0MTlhOGVmMTdkZjBlMmYyZWIyZGIxNTA1YTdlZTQzNzJkMGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b",
      "tree": {
        "sha": "b0d389ea7dbfd845b77296f3b2c661c8a37c1a62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0d389ea7dbfd845b77296f3b2c661c8a37c1a62"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b0d389ea7dbfd845b77296f3b2c661c8a37c1a62\nparent f593d333de2a2068a7b1569b2d878a8da8c4e514\nauthor Vasil Dimov <vd@FreeBSD.org> 1685008381 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853201 +0200\n\ninit: introduce a new option to enable/disable sensitive tx relay\n\nCo-authored-by: brunoerg <brunoely.gc@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJIACgkQVN8G9ktV\ny7+VtiAAqOJlR0V67Eu38Lb8VSOkBW2IElUe9To2ufOr7cInp8L5NSNANCwnPlI8\nbdeNnYgFn7j39MBLMwCPHuE4b0063k9Jl8BtjwpddKrF2P4WK7lYz2dAY/ojf5yU\njvsYRJI6e6hoCKOsRYa0e7a89nkOb6pfiJIbB/A4knU0rq2iDid78g1TFPfKKnzZ\nTCXd8aoD607kdqXTtgUco73jwNoLhDQtwM29dQ5123UapY7t0mI21IPn+yA7dThv\n9gQq6PMHYGl4ZJKao4D5H7oYcVQPZuOgdIDafT8avlWeBnU2nS/LsGW+v1G1nJbG\nRUCZPIs1pPn4u9Hgs7um4LN0qwM7Y4jzM676cKH6cb4zP1ryoFsrX2DVZIrhR0x+\ne756t+UhzbQJR7YVw1GzyPGWXgoWEzaxWL8TKbT1sZufXcblnl9XX/e6jiYKmTNl\nUS31IvODMENF/dJOOy+ctqlfHof43xX4jKPXIryEgIDpaezBVDdIbUB+rDEc+3b7\nZOU8g8KcPboxaQ/HrSxE5PuKhStCI71YGkekURw0Qe/xFhbnVk93cbAxKvAxOETH\nmjxVSYlHOAbAhngO2oTKYvEemlmRUeNARudAYLsgXuEx8LU5C8WTFEyoM2F+TxVR\n64SVlBX/d/UzkZdHcGgLHvnfmNhuVD+xOOJsjlsQoLthO4xJAnxkIOc6RkF3tWM5\nYAArIRA1cY5zKPjRSpido/lgVTcyTzyQRcWSiLgIZUxFMuAMM/g2p+8zuoppecCO\nbImAyebYT8C+RPsBZZ0lyQU/B7qvi2FTtjIc1aYOqL/7Vl/m3Ejbmx1A60fTFgjV\nYRj2R1CG6dfD/p6RXQeX45jLVOCumX3MDIhTyv6UCIeVNn225UGH4L//xmyk087I\n5++nd/Ji7kkt4nL8EvNqnbSFlFunrcCpleE8kSVGdfPL7ljpNy0qPFFge0/9z2Fq\n1/OL2L1IAOMl9yBKAw3J0mHQAHSb67PD8KPemfrgVoKtqWU1QB7Bcx1p9JdEKdYs\nt6m9uifhDURW5jEem2P9W/oI1o++dBNseVlrmVCoTyBohiMIV9wxKufFMrztScZw\ncPF4ORzFMFxtvZvzTQijF3D5rOum0m73dZbYrdYag5MvDeW0jFc6TUwuV0R2nscM\nayIXdSM917rsto81G/+Lg8Zf2oQlxfthPjczbvNC/V9O/CazZFwqODUcEFnKRC4f\nnkRgY20kLgFhd2Eeef6E1UFntWZrmCYUHaP5peFth94W1tFPaTa2Xn2syyMQc7pa\neyjQgKdcWt2K6F4dIVmqtJWXYQ8fWz98gyuV57/0FpBrehLuesrJQJsHFvXnGwGd\n88Iy3VPjdgr5/c4+NY5vAkDIk3aIpw==\n=z5mb\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f593d333de2a2068a7b1569b2d878a8da8c4e514",
          "sha": "f593d333de2a2068a7b1569b2d878a8da8c4e514",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f593d333de2a2068a7b1569b2d878a8da8c4e514"
        }
      ],
      "message": "init: introduce a new option to enable/disable sensitive tx relay\n\nCo-authored-by: brunoerg <brunoely.gc@gmail.com>",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:41Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-25T09:53:01Z"
      },
      "sha": "8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyZDcwZGYxMjk5OGMzNjVjYjcyOWU2MzlmYTIwZDY2Y2Y1YzVjNmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2d70df12998c365cb729e639fa20d66cf5c5c6b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b2d70df12998c365cb729e639fa20d66cf5c5c6b",
      "tree": {
        "sha": "d6bff4095c6620511387ce54b15325a47d5d9777",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d6bff4095c6620511387ce54b15325a47d5d9777"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d6bff4095c6620511387ce54b15325a47d5d9777\nparent 8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b\nauthor Vasil Dimov <vd@FreeBSD.org> 1681734321 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853202 +0200\n\nnet: introduce a new connection type for relaying our transactions\n\nWe will open a short-lived connection to a random Tor or I2P peer,\nsend our transaction to that peer and close the connection.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJMACgkQVN8G9ktV\ny7/NRCAAnl3NxUAZLWxxaY6w97cjp7smeSqX6fedON0rvuhPbWWobNtFtpVzbjAD\njrtVW2QtcF2ilhufLlJ72jdLvjlvaDn2uTSJrPBNMOdsOycEktVKLB4fRihTkJyP\nUxSaHSm+eAColHdQr+XGULVsJZLooasQxUZnDUQu/38SpcbRMDJv5f/a2JE0I1L7\nkUAcC/SOEIai5rtOpIzxXhqAOeLukFOmY1FNEoXh2OKMpbq3fQlU6U42jbCmvm+P\n/qlFJSiFI6L8eAb6OGtZ8YCPKaoLXuRH3D2WrXCH+TzXTihVp4WFE3Dw/1FbVjac\nZmwzUqsTpfEJkSWi6gJHzZZoPAc06xlm06CYd101W3ZYu86UOvdiR0hBOGB7/Unp\nSAyAypUK8K82JZw9h9gGc0vVmh0NAX9EqpYhH+GgRHrYgnk2pqwXtjJY12593jmi\nLgO9waRNh9sWKi1WjhMMyc7gygZCyF7f8Ba7GW+JnH7zUYbIIQ+HO1NioNvQ+8EL\nx7ptYsKCi01T4W5FQ9OJug+APmH0y/aL3s1hqhYA/grF5ZTJeZ3Br+D9jVFRUpRP\nNDP4Uxh6WHZ9fjlP2i0Ba/suVW/9kPM9j44+18FDnftfOEDtOMWQtRfX6zv8p4dP\nodF0QO1WpigXAunagaLfvHmDADiefFD+GTTwl4BiBydT+e3ATFy2zL6BonljmRTE\n0zk0uPBDR4XhrmLa7aVMZaLLN6ldLJHAFW5RsIp03MC9c1bJN32QeNw6qZwxAZOG\n+t/OIl52BbfhsgElVvmfupC8UitCchjZuubXb+mZ2BF//dYxjrZJDqDwhGZbtAsB\nlaOHDX/tUDv1fURuCOYOjGFhDO/T8/5SaRhNyDwmS1YhOmtTlyvszYn+Nb98RS/9\nGGy5f4p8Dwjlg4LBOVC3M95Wb0yNQkRxqrrz5rzgbqbo7Ch//fgqMojS/r8nMbhZ\nuaQc28F9txkrxpM1osfEQJgeIUkt8wOLECQw5sExRM9UQLnyJpc9mXxxOCJW8eEz\ng1IzI6j6gL4gRGpQnVAfaUi+Bs/RzGqbepaFVSuE5PM5/B69+31RADAzRdVmaBg5\n8jZtfRhow7x4sXho+WLGUTawe8zL124Shq7UuSCPKq7pR0ejsNNzdr1Y3z+hwAQn\nFhVPHuCfttOgo3hkj0A1Gb+C29rTRPin3cjr+lBhGXGWZMm2wyymWeJ73l9YHq8g\nwXyzMKzZBNfsL+xy5EhWdXR0Ondzs3o4sIjdA3RUKPcWafmbabn76BcGWekf36JH\nuBWwLi028LFRWNs0DhQAeRr48j+YtFamjSqY497AsP+S946DlN13LGEI303r/KbH\nMcvFmhipWYcSQ+v0hHAbo29R8I98Ag==\n=CHkM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b",
          "sha": "8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8dca419a8ef17df0e2f2eb2db1505a7ee4372d0b"
        }
      ],
      "message": "net: introduce a new connection type for relaying our transactions\n\nWe will open a short-lived connection to a random Tor or I2P peer,\nsend our transaction to that peer and close the connection.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:42Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-04-17T12:25:21Z"
      },
      "sha": "b2d70df12998c365cb729e639fa20d66cf5c5c6b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVjNmY0YWMyMTBlNTNlMjBiZjQyMDY4YzA0OTMwODdjYTY4ODUxZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ec6f4ac210e53e20bf42068c0493087ca68851fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ec6f4ac210e53e20bf42068c0493087ca68851fb",
      "tree": {
        "sha": "4aa9456848992c60e9e6a1676cf4dfcd6eee3458",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4aa9456848992c60e9e6a1676cf4dfcd6eee3458"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4aa9456848992c60e9e6a1676cf4dfcd6eee3458\nparent b2d70df12998c365cb729e639fa20d66cf5c5c6b\nauthor Vasil Dimov <vd@FreeBSD.org> 1687797386 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853203 +0200\n\nnet: move peers counting before grant acquisition in ThreadOpenConnections()\n\nIn a subsequent commit we will need to conditionally acquire the\nsemaphore grant based on the collected stats (number and types of opened\nconnections). Thus move the snippet that does the counting earlier. It\njumps accross the fixed seeds addition, but both are unrelated and can\nbe done in any order.\n\nThis is a non-functional change, a mechanical move that is easy to\nverify. The code should behave identically before and after it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJMACgkQVN8G9ktV\ny7+EEx/+KG2yDY/sQa/C3xmuCo2r8RT+4vkjAEGOHKu21BLvuqrYmF9ydrIYGfgY\nqYwHi95c4YeKZFA+6iWHdHISgmpfjWp/X+DUOkCEa2NVioFTTCGsyLekp1wBICpy\n5ULcYfnHPTr4Omz/G8hTSdMNWboI8RVWE1wzCeNuQiQCd75CKXUlkaEuXmef4EuS\naFk/9mqMU0Bb0l43+tFSsP4cy2ElA/TeN6K2UphRRbPjMkZVT1LqJPr9vFkvzLek\n30PkX9idTlxiMx8NX5bMy2Zaw33lqie2ilWjGXXM6xMOMVqkZZr/HS37yU1SsVof\n7QhAl/tcCnBxafu6V6Y6qWGXi3Jru77HopRTyTwaBzHsTOpsxX+wLyEUti3i2CW4\nYq6JbSo7XYdZWWVo2qj6nV3gVI5HnqL7W2K8S1vUOdVvjdif9fHjKb97H2pc/D6j\n/8fs0N7GhDyR3EelVELItoBuIi1/7ZSZQSV4riXDtX3Ck/ovvkRMm5PzE/1UfBYc\nIIYpnA+UpCfdmhxsxqPUcZbEevN72GqHf5r/Mg/Rwph0AiSnn5FZWGj/HEWIHQbL\n7EdFtjqSjS8iwWDoju1pR9sYax5ohh8zlSJB5V+7GMq3I9H9cCGOYSrdeueULjVv\nhUGrOc6+ZZqcNmlt6A9sbT+wO8HU5ASFBjiQchtdCQrm25fOlgEvJL/AKS3aauoL\nd0Z/oE/bU+w4So4owNn2LaEePD68+H7Csn60fw0wfYi/0KcAbVkqV7NAQ1c7UFPA\nBrYIUh3tp/6kpZm45RBkret3zY00Lpqq+p07uiwan55PRe41XXh1AuBn1XxtQuWN\nlV5a3+rN6mfikcAlr/bkhi4Xt5KTuBFbGWKcHw9dirxOJMdAsiwdRMn/KwXF8fFQ\nUh3GdD4Cb7KONPR4bZsZP9Irg0FBRSH/oFu3974QByQKitLCFnPlU1zo9uQpDDn5\nXjToKGjiQZoarDA1u+ZiFGKWjaTiqMIgsTmRZXrNvCcoRRiqXl0Q6Em8syY6aw/i\nVp7HB4SgCuvTKRO4yyBeiz/qG4ukdV/R6XMxsRpeuRHDfTxENItshKP9jkcO7bzL\nWrYjYuerT3FOPCv69ZjAlTfd+pIQOW+7P6C5sptR+x6CxMqIM7abcLf5ZIVFCu2E\nOhb3yFah/H5BGo+D+x794iDB3EGymmZDPM6DWMFP6prPwxpYtOFgz3jrXqA+U+Vq\nSheYiuf3efkpB90xJXVL3mk6hhZrFusXdPxvfscStT1rhIp+itn7X6/0vlLy7UrG\nzdSgadzy/nJQaRyGLrcxEVpjnB6SeZruGFnY68TpOjHeWDXtWHTMfN1f3SDMIuEL\nqjYjSqORtg18gdXRg1B1eTxE2JFJGg==\n=S61G\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2d70df12998c365cb729e639fa20d66cf5c5c6b",
          "sha": "b2d70df12998c365cb729e639fa20d66cf5c5c6b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b2d70df12998c365cb729e639fa20d66cf5c5c6b"
        }
      ],
      "message": "net: move peers counting before grant acquisition in ThreadOpenConnections()\n\nIn a subsequent commit we will need to conditionally acquire the\nsemaphore grant based on the collected stats (number and types of opened\nconnections). Thus move the snippet that does the counting earlier. It\njumps accross the fixed seeds addition, but both are unrelated and can\nbe done in any order.\n\nThis is a non-functional change, a mechanical move that is easy to\nverify. The code should behave identically before and after it.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:43Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-26T16:36:26Z"
      },
      "sha": "ec6f4ac210e53e20bf42068c0493087ca68851fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJiMGI4N2U3OWY1ZGZjY2IyYTQwNzM4OGJjYmM4ZDQ3MzAxYjlkNzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb0b87e79f5dfccb2a407388bcbc8d47301b9d75",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bb0b87e79f5dfccb2a407388bcbc8d47301b9d75",
      "tree": {
        "sha": "1b43094e78e3dd862e3abe86db87c8ac8349c7ed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b43094e78e3dd862e3abe86db87c8ac8349c7ed"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1b43094e78e3dd862e3abe86db87c8ac8349c7ed\nparent ec6f4ac210e53e20bf42068c0493087ca68851fb\nauthor Vasil Dimov <vd@FreeBSD.org> 1681991694 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853203 +0200\n\nnet: implement opening SENSITIVE_RELAY connections\n\nImplement opening `ConnectionType::SENSITIVE_RELAY` connections with the\nfollowing properties:\n* They have higher priority over other connection types\n* Don't wait for outbound connection slot to be available\n* Only to Tor or I2P\n* Open such connections only when requested and don't maintain N opened\n  connections of this type. Rather, open N connections once, when asked,\n  and fall back to other types (e.g. `OUTBOUND_FULL_RELAY`).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJQACgkQVN8G9ktV\ny7+hIh//YffZAFH3KUfKtlnGiZDJMjTwt0Wo6yUfxcfYtN/u5lG3HlpSCNw8WEtZ\nGVt6MAkxrhrNPQaQZH8koA9nyEjScfIKu1QSs8hVaA2NF6uxbgiOXU+ijDEN+eNM\nJLqvHGL9qmujbImWVuuwVK2Cyccxtag1+CkIjfZoMEIJrFJz4je4X7jMWNf3CJqD\ncbryk7qSynC6WpnDkx/G8ZdQX++BiRgPNb1tU5vOmOFnYFP8DFibYCsYKQfzQD/K\nPNsFoSwRUJ0zxn8bq3bGRro+VsYaWfBOITS53aerWeleHe5LWOnNZS3tqNoaYAty\noK6XDsYTsJxmDu+KGLhhH5Lxtk/yruKJ2q09CgO7j/iik8DpAAGh1qTC3J/E4xAJ\na9sb1o7G5XWH3PFLt512g71pYMT45pgTR9rbkk2aki3Y6382FJXp0V572d/GjQZB\npswa+E5NcI04HwDmkLSz0JJLycJswezb2ptDonlMvITr5GgFu2CWlWl6nsGlB/+C\nzO57JVpNkkR0wuNf2jrR3H6W65a92HeAG63YhaAuwZ9mJr1w3K12hYs9oChy5zCI\nymTd3JwJznuHfDCLl9mrQAqeo17B1L36Iri1Pb0VxoGe6gMypFv9wu0iWmPpYvNW\nQmkesgbp1GeL69oOpR342C+z0RAsM3EC+2hEW7w/GtIYZu1HdjH0DZOEFGNcsIbV\nKAP0NeY/0FXKu9lqZtVO520JHLrFXNB+NNC8H8uaji9/6JTpe9HIqH4Ua2/3DwSJ\nE1Ok/sK7gcRqAZKKAuHinLt09TJahbEnaZU+JP/GiJQlaWFTn2NxZyuPewjzFJBS\nGgNoPQFIgLpqeeWXsXkyBFQICIR/ejRwEj1NxjiPkp+C6OF5QmQRo3B/nRinO/PR\nE7EoDt2KVtZcwOg1ikpeZIg3FR2AZc22JAd0tqA2zIw0yq0c5hYOk90obj30APY6\nrIX6tVBjvKJvy5Rq2NvrS01BLzXN2BWHG45RazeK/DJSVmbCzxE1Ebmu37YB4MUe\nFPulXN2ASK1g1hgAoTNrSg1knQpgHQS7WQIo0wWg6RShW9sOFSzafGQXD9QkiJWf\n3VUujg2MK8hoxTgAIOYGoHdJjVocrBwMZNcNuQsWq0RUBSZxj+E2f7YfE0ysCATg\nn+McjPDfcqh+tEaPDvMz/cuSP5JNFYhtgbxUh3cPT3NuZqQ0e9zuU4iPZoHonjD0\nCM1Wnx6J4api8LRDKusA15oKol2EwMvbU207B6Jdhv93SBHTWaQAYzJq+CHLKUi2\nYtcTGuNGle7RBe0/97UnpjzuR6sOwcYel+PtePxtQk3pYJO8y4EGV5hlKsC460rx\nLWFjr0Wmk/cvQ/mHem6fWaOnP6ibbQ==\n=2n9Z\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ec6f4ac210e53e20bf42068c0493087ca68851fb",
          "sha": "ec6f4ac210e53e20bf42068c0493087ca68851fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ec6f4ac210e53e20bf42068c0493087ca68851fb"
        }
      ],
      "message": "net: implement opening SENSITIVE_RELAY connections\n\nImplement opening `ConnectionType::SENSITIVE_RELAY` connections with the\nfollowing properties:\n* They have higher priority over other connection types\n* Don't wait for outbound connection slot to be available\n* Only to Tor or I2P\n* Open such connections only when requested and don't maintain N opened\n  connections of this type. Rather, open N connections once, when asked,\n  and fall back to other types (e.g. `OUTBOUND_FULL_RELAY`).",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:43Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-04-20T11:54:54Z"
      },
      "sha": "bb0b87e79f5dfccb2a407388bcbc8d47301b9d75"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJlNjE0YWU5OGIzNjJiMTliODE2NWJjNzBhYjdmN2ZhZTkxMzc4NWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e614ae98b362b19b8165bc70ab7f7fae913785e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2e614ae98b362b19b8165bc70ab7f7fae913785e",
      "tree": {
        "sha": "39eca2e8d0b677b08098f39614488a7b810646c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/39eca2e8d0b677b08098f39614488a7b810646c6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 39eca2e8d0b677b08098f39614488a7b810646c6\nparent bb0b87e79f5dfccb2a407388bcbc8d47301b9d75\nauthor Vasil Dimov <vd@FreeBSD.org> 1681811546 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853204 +0200\n\nnet_processing: rename RelayTransaction to better describe what it does\n\nRename `PeerManager::RelayTransaction()` to\n`PeerManager::ScheduleTxForRelayToAll()`. The transaction is not relayed\nwhen the method returns. It is only scheduled for relaying at a later\ntime. Also, there will be another method which only schedules for relay\nto Tor or I2P peers.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJQACgkQVN8G9ktV\ny79k9SAAkhVpLLmu6mQ3qUIptnqSQ3W+L11LCYKJWqm2Z7yltEgEx7eGMwbW2gZw\nuCrHXtwvGKT5HCtF5qOhvk8AaCaCLKjaz7ueco5McmlHHnSB/rC2ItRBDcLqnaxj\nyVRXYBpKZpBDKYVlbbbv4nBOzRVTd3NObOgyWVWPhsErQG867hc+vvJxtUuFvzTF\nJ2IeXHNQQ3X3iDcQjobOrH6LrKOIabJiQUuAKCMyDVr/frnbvKAj/BJiPWCmfrbl\n9Ai+MumO6Rsqrc+x4xYvYjA1mLA47mC/YzmN7ww2frA3mk+t0zNggBu4EbtBKyMg\n0pveYXF3y6ha9pqWrE8TaxZyiAhfkWZTPCGTpZACQt/p9YXNSsBc923vo2mzYTK0\n8GTLZEThsYIgQUAikHIrcsaD3kN5tQ2/59aiq5Gmntf6RIF9Jnau9xGvRER2Eioz\nzaWrJXCahz5ASHtKAiW6u7qvHYI45BRUdN8AFPRtB0Im0dJmzQIq4ghsCUrMAPvj\nI3eVneKk+XPySi3COrmVdRQgIeMuEdfwCNrmTMSqxpb66Io8zQ6evk4mvGckNkam\ncqflPIDoH6UtwphvVTv/e15c7aJu84VlnLGTkTymxvYcmtV8ho1thrLgr0LzKIJt\nLoCyFQV7bHToTJP7HJgEPrJ1txOvH8WturhVQ/dBzhkVgzRJaBQQgDdMX0g9Kgfp\nth2ZjSPW5odqQ3sOqelHmNjRsRZXGmJZuW/u84mL22qtbYYkDXh6qKVkTYtUYR0q\njoiyN7AY5D+/3KjJOnGvEfgWKbWsCNzaRsyPjBPbK2zvrvnsjew90o3LQHVLt8lt\nMhnqmFKlE7J8Jo+CZ2Pu5sGF2qRJqJ+L/ULTBCf7yEZ8UVOzzvudexabaoiGx+28\nr59gU0PmSc1/q612TOCNshYEELLh6gYtQY7GTFqy2+4I9mAVoKqpmrBe0Y1OZtJW\nWUJkQQ6vjY3eREOAN6tkRCzzzSSoR5Af7UB+2yO+m2daO0r5KRYD2OlsqY8/Qljc\ndCjmGZoyCC2X0NRpLIbyu2IBhT7s8KF2n2ua7EdqYLHrY2yckf7/4P2TiBMWAHw+\nYViIGfbF+02oed5aAvSRjobQC987l6t69Rwg+rW1R5e+Gh4HdI/Kno5VOzJv4EUr\nKEMpbkK/VQj7WkOkNZD36PzAvPxk2ylc7Xf4RrkPUqnNJvnnwmo9G2g7rH/9fqcg\nMITxOgX2/dkIaXV3QEiG3fAuGhB7iXEJcoDet0o0vBxqsrvYeNKHt9th40J+LmZ/\nm4GH9vFzNFr2T2t1ko+uK42J4Jg0c7GLSR1sp8itRB+F0SmgTWcwS5S1u7p6OCaV\nn33PSXvyAge1P5Q3obkmZVHigCBHKg==\n=YnLB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb0b87e79f5dfccb2a407388bcbc8d47301b9d75",
          "sha": "bb0b87e79f5dfccb2a407388bcbc8d47301b9d75",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bb0b87e79f5dfccb2a407388bcbc8d47301b9d75"
        }
      ],
      "message": "net_processing: rename RelayTransaction to better describe what it does\n\nRename `PeerManager::RelayTransaction()` to\n`PeerManager::ScheduleTxForRelayToAll()`. The transaction is not relayed\nwhen the method returns. It is only scheduled for relaying at a later\ntime. Also, there will be another method which only schedules for relay\nto Tor or I2P peers.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:44Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-04-18T09:52:26Z"
      },
      "sha": "2e614ae98b362b19b8165bc70ab7f7fae913785e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQwNmM1NTIzM2IwY2M0OGVlMGIwMDA1MTc0YjFiMzU1NjdmNjRjNjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d06c55233b0cc48ee0b0005174b1b35567f64c67",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d06c55233b0cc48ee0b0005174b1b35567f64c67",
      "tree": {
        "sha": "b82aebe50f7d91dabdac1cf3bbc572b0e6daef24",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b82aebe50f7d91dabdac1cf3bbc572b0e6daef24"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b82aebe50f7d91dabdac1cf3bbc572b0e6daef24\nparent 2e614ae98b362b19b8165bc70ab7f7fae913785e\nauthor Vasil Dimov <vd@FreeBSD.org> 1684415732 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853204 +0200\n\nnet_processing: reorder the code that handles the VERSION message\n\nChange the order in which code snippets are executed as a result of\nreceiving the `VERSION` message. Move the snippets that do\n`PushMessage()` near the end. This will help with handling of\nsensitive relay connections - they do not require any of that.\n\nThis is a non-functional change.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJUACgkQVN8G9ktV\ny78FPR/+LuvuqdMZd9eZ2Wp3OuyA9r4lfNMm3xkO2+F4XHEp3wPDYodPW+fAxO1d\nO3p5KOGgmLpcgv4egBGn0qQFl5BuMytLH8eHE964CaIFNV5oElSEHOBxT55gQAzZ\nRN4WRhJK8PQUa7KWOsu1y3D5+O4RoabdPNSiPZHOKQOEytPAfelwV/O3HJKeXgB3\ne9ZxSBKus7IewcA+sKz7ZGemqVDLH2M4LsfrR+f2BahWZ80pD18me9nGNFdyFG9R\np25kvODMyc1+T7YAnHETVCDJIiAgsihHhl7xMwXAUh54alx7JSKi4UVNJsGSQRDw\n8jmEFSSAVZXUfkhJHMdtJyu3HrAh6qCHSfpeS3wp978YewqPVsaP+5l92J1YjY06\ny55xkCR0LDLS627dD4Cn5S0+B+BG6dfAEM8X1u/y7U9gAFXOAmBaH40FS4d9geLN\nK7d7tuEwP4qKCeyyFlm49shavv1fOuouy2cGHMlCkYftIHFabtjhelJUXlTWMlRZ\n1sg+vcTNixDjR6UT3R9YDxxhd592LwwgWJJ3R1Yr+cFXBrOwd7ZSA3f1+QTmQkFV\nBDa6p433VCY9xXk1G5bbeC6MOxw0hgPKh++qfsSDY/gdwB/TIbFf1sLoPsx5ORs5\nIm0Z284dEtMLLEEd47RqLu4drju01KFWxIkuHhHh8kZ6iaRzyipG/8AaNddIvRTi\nTRXTzNIYjW1u9YLycac/PizFU4gusWsY8rh+892dQLJUuiIqoLZBALxG4BmIGDGO\nyPMW+0cMxMtqPN30DgcN93uifO6vlw2qcQBrz2jO8iSv/vmTUz6NhqBFmvBD8Qvs\naAA+LNG43eVxXY4546lIf57dQTvmZ7wcpPucpa7h3Mez2b05cVwmOBz3tG2bNi5Y\nvaO5imInWRTWPTAF+DIC1pFB85P19oyP4RzKCfLO41Hespg6h2vFDNJXIFrrSsEt\ndTC2Wfb7QLjE8dcJ8uJ+mr+39Hht2krm5YiWx2lpstuoHl0Cu2j2oOkRXUpJP0RT\nC+zNmL2bIDXbEtiJDECSCVZoV6Lrpqg+RIB7cG/iuXP/7UWwna9IZQbmDVpaaUOH\n/x65zru5fvkifQ695cWrDCozP/7HXbWToW3AAG8+6NG2jBouggfFWSe5twtSsib7\nc2jcYxwGAMFEjaaor7WIOVcjDvlVMef2WUd84QQefA3J/a6K4ZljfPMd/L45TLXq\nWjh3+R6Vs33zBBjd7cd+8q19yUkV2CMdDV4VgvukZTVQKV7jOoTOKcGxBOT5r9no\nZtnLC1ax5h+x55znemn95xmUg/vb5nGY32NZwwU24/xtLOx/24QZsdII6Z+roQUy\n6LndgQf3k2z/HM5IUQ4SiCRmTtKyUA==\n=cS+T\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e614ae98b362b19b8165bc70ab7f7fae913785e",
          "sha": "2e614ae98b362b19b8165bc70ab7f7fae913785e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2e614ae98b362b19b8165bc70ab7f7fae913785e"
        }
      ],
      "message": "net_processing: reorder the code that handles the VERSION message\n\nChange the order in which code snippets are executed as a result of\nreceiving the `VERSION` message. Move the snippets that do\n`PushMessage()` near the end. This will help with handling of\nsensitive relay connections - they do not require any of that.\n\nThis is a non-functional change.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:44Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-18T13:15:32Z"
      },
      "sha": "d06c55233b0cc48ee0b0005174b1b35567f64c67"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE1ODIwYjQxNzA1NjZkNDA3MTk2NjkzZWRjMzZjOTJhMDA2YzMwMDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5820b4170566d407196693edc36c92a006c3000",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a5820b4170566d407196693edc36c92a006c3000",
      "tree": {
        "sha": "049596f43da93048b37b45f1b8df0acf3193ed15",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/049596f43da93048b37b45f1b8df0acf3193ed15"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 049596f43da93048b37b45f1b8df0acf3193ed15\nparent d06c55233b0cc48ee0b0005174b1b35567f64c67\nauthor Vasil Dimov <vd@FreeBSD.org> 1681911630 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687853205 +0200\n\nnet_processing: handle ConnectionType::SENSITIVE_RELAY connections\n\nFor connections of type `ConnectionType::SENSITIVE_RELAY`:\n* After receiving VERACK, relay a transaction from the list of locally\n  submitted transactions and disconnect\n* Don't process any messages after VERACK\n* Don't send any messages other than the minimum required for the\n  transaction relay\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSamJUACgkQVN8G9ktV\ny7+3GiAAq5h3LLsU7VLOQbiH931XeCFvCEkvmlSmgQLpxKxsyszpw82qKF8Gukg3\nnK9PuqHoqmtMDrBCy2SspIx9t6w8K1ZYCHcHHh65Nu+XMsb+qlgycrYcooAKDSy/\nmRLddGYSSMWe3FGmUGkwEUlBveODB8Xq30xD3TL7sTufHo/yMLO/5i3VXrJ3phs1\nl7h5lW+d2FIHPRIao2vnOh4j5XiZeREdpvEQfgJ7JtZTqZWxdY30a+vL0OOtbzOP\nsLrgQZQqCQTIz9AJKUdroFpMNJS0Zo/IFOk4/RHL3v10QkSC/lJLsKREU7rixMSP\nb8fKBwAfg6d72JZa60y+5ZgC5kOHy/Z0OQLDfNpENsRt7pvelgoNNpJSjgNExhgV\nljXkr4uS1SSfvWYPYVFEIp+F0XoSVzVWN6SOQOZM7dOZy06LGRT4IatrF7a3Xuhw\nigHRJw0GO53PsL/EfeOUXPVqfyq8CGK4sPg9b8DJBWCROKil/f0DFklLsSvLdoSa\nGO72+vmG+jG0I3pxgVWlDdwgOiKCgE/CuzL8EXEtvFU52VQDiH5blCH6rg9zCIiY\nsUgzfzzhyWqWM0bTfJHBN1F9n+fIfxpIasivUhmpTlrJghuCjJAXZypHsNkjN3mq\nC/G8E3PlcqhEaWovOsO1u3CB25Qo0fyxMdDb1IrTDvloMzx27dmZME//QYlM2udZ\n4aCNIiScWqh1DLLQJZ7AoWmTgnEdMYlu2vp0iRi7atnjfZg7Vq3CkR/oUIRCl5wF\nrHo8U9XbSxX07qUFW668BwYSFWBGwgZAdcNYez9ij7QJIPF4Sq4TXvgfgIG6i47S\nSSasEhgMsceqBvRqcPHOmSLEg7+YkXbydO0JzyGqzZxS1Q/OcIMUqyiqcgK8zORD\nxOmme/aBr8SHZTi93NQjypuB+zZpTYjePtek3lyyd49tn42eXwXFLtff+OlFbMHg\nygncWnoUdWkfI6qzLoMu3TbZhp670ztX2TML0YAs0OdwTL5dQVxm+njyPDzrGld6\nIGwWyCctRjFfSYJF0LsbLSFcyHYmQ807LM6c3kH+rNysNBgZu/ggCepjSBonr0TO\nN5tNStzo7svs0xqXTt7XCYcs+juJLxB4Mdfq369AjSph7KIG/jO3nEV83eF4kxs7\ndBrdngSbfE6gN8pjKVVgNriR5TnB/WJXCR/K6mxHTMyxzEnkGj7CXD8bDLcGqXnf\n465S8vZiPFYp2cgZyatiVHV9y0sb3FL8GZ6DLZD7eOtqO10V2nZKKplJ+OMTYuF8\naXjBJKVOLSPgQoR62vUt1xJnVyk5KJ4tzwMp8KB5apWbLK27r7sHnrnEVstCHt1B\ngZRwMfihAAQx+CwNJHqWLaKY/l8M1A==\n=vhKp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d06c55233b0cc48ee0b0005174b1b35567f64c67",
          "sha": "d06c55233b0cc48ee0b0005174b1b35567f64c67",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d06c55233b0cc48ee0b0005174b1b35567f64c67"
        }
      ],
      "message": "net_processing: handle ConnectionType::SENSITIVE_RELAY connections\n\nFor connections of type `ConnectionType::SENSITIVE_RELAY`:\n* After receiving VERACK, relay a transaction from the list of locally\n  submitted transactions and disconnect\n* Don't process any messages after VERACK\n* Don't send any messages other than the minimum required for the\n  transaction relay",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:06:45Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-04-19T13:40:30Z"
      },
      "sha": "a5820b4170566d407196693edc36c92a006c3000"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFhMTlmZmFhNGFiNTBmOTc4N2EyNmY1YmM0YWE5YWVmN2M3YmIzNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354",
      "tree": {
        "sha": "5246dba00975febca573548d108ff48f23138366",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5246dba00975febca573548d108ff48f23138366"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5246dba00975febca573548d108ff48f23138366\nparent a5820b4170566d407196693edc36c92a006c3000\nauthor Vasil Dimov <vd@FreeBSD.org> 1684924340 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854283 +0200\n\nmempool: extend IsUnbroadcastTx() to support wtxid\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanMwACgkQVN8G9ktV\ny79Ish//QfTo4omH3BqL4GF3G4i9DK8mjejNSzL6IugHMIvkUCGv2mrAseRXo1qC\nZzSqXfPuQdO8EhMZjCfyY+wD3cSp+8Zr+sjV8Qob78PKRx0s3MomRdx22+uJqx5P\nb7YzPH4WCL9bBvMJocy6AHIY5uqNDhXcSO+46XjvpwI5J9jZoZ/wi1XO9rIwM3P9\n+ujwGBpGW2A8G1/eE/t/b8AVidYBR6mfYB88yVpUOCdgW9nRJr0ysobgQCr0t6N3\nY/1+lNx8Bp0uDPvBOlMVbbSBjXg8v1RaCVMX2veqoZ/QuPXykEIajgQMnjkdMzbL\nqhNV/o/ira2NmpfEaHUK+9OwirMhW7mnPlrHbf5Y3JX5FuXLe1QCCBPE/fsI6gzh\nizx6qz44f+MDzDx+Nh6sIXFHOXoFt4H9v2AU1vY6A3zxUnmFxAwMGBSy52uql5w7\n7JNhMh10XbzzCkko25m1fs3VcgSnx2aJcUOOYDeVGIjdO7xhsdTk1MNwBhJ+Ybkn\nDQtEfNuGPX+hGyjQoOyA6/4KEjBDYQId7TQjsXKVrr0qvWk97n3hmL0Zt9+CO/b0\nG2yzg/XzjFnZxUOqOm7Z1MTnp7s+eEoTVxlkqlbjGMc9XrZp+NI5skqANJTbdjmd\nHplAgt3AavzCJNYUZXw11aE0ExHrZyWG+CEUSeUJ4G0chjXn1epAvYbv9zO0yB0Q\nMMlD7H9PbZo7Ddk8TO9LLQy6kNMXIj7qQMzbD2ZA3frGr3jUIKiFmxo8NjYNLR03\nCU/pzzU9QYUTRxsp1TlqtFj30ErBFiDQF+rnB3kxoweZojdDDmu4ET3HZ8PsM6lq\n6XATNi2iISfyyKRx1TkTKxRe5pApnXUiheElkCeW4Tt+ItqEIYQbmIKKmVb7P7Pt\nH25IXYO6ii+ylRY0mK5lIJcOOPqHnUrTjLrDd6EDbDtjohMtfwYvDg9eaEvaY/ZA\nZjl1lbEF0aEf8gvMf8G3EG5KQ0nZQwcCKHWL+IAJgvB63MxaRoDfG3DIj1GI7FaF\nNFSwKf9Nfa4V+YyQd1ajYCAfzKQI1PUOUgSEEcPzGbLFT49eboRma/hB9iax1Ct5\n+qszyJ+a/A69oNaBGKt8rE4DPmmSFNiLOLVIFb0gtrvuJm71ND9W9eqsV4Qr8qnp\nbNPsWaAQWBcajKvo+0bu5164oyUtckBGBMIfsV5UOzRn1MGW0f0FZidXwwr7gWIG\ny7b7UhA91YmVIF7Uos91heJUVsE2BGKv7DsVXONemn/wpNOQjZzzPadGGINeNFRf\nZfvfFs+vBwv+J3UdKA0ZgIKv61MG0C3P6ISiWNrNm5wDiyz36K/FCVDGz1mKrCqJ\nUtOOBW3s+kxleEAOfwDj55D+Ngu5AA==\n=+hPv\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a5820b4170566d407196693edc36c92a006c3000",
          "sha": "a5820b4170566d407196693edc36c92a006c3000",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a5820b4170566d407196693edc36c92a006c3000"
        }
      ],
      "message": "mempool: extend IsUnbroadcastTx() to support wtxid",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:43Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-24T10:32:20Z"
      },
      "sha": "1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUyM2JlMGFhNTI0MWQ4MjllMjEzZWM0MjVmOGQzNjg4M2M0OWM3MmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e23be0aa5241d829e213ec425f8d36883c49c72e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e23be0aa5241d829e213ec425f8d36883c49c72e",
      "tree": {
        "sha": "89179501855d08b45deac8b112aa197f92f05716",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/89179501855d08b45deac8b112aa197f92f05716"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 89179501855d08b45deac8b112aa197f92f05716\nparent 1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354\nauthor Vasil Dimov <vd@FreeBSD.org> 1685366544 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854284 +0200\n\nnet_processing: omit unbroadcast txs from replies to GETDATA and MEMPOOL\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanMwACgkQVN8G9ktV\ny7/aZiAAgMRF8vX7bCnK+m8X7Fpdntei6MdHUnDms2XTzx4dfpets5QAm9FqGEUU\n26vDpnQjr9WqG6atanZciDnxrd2Jx/uN7hNRrG5FRkmNNY1UuXvtSEexbxnMPbDd\nNSuM91mch7SmLq7d2G8RJjq2XWAFyNHeAHsnCupWwi2rtWZ3X+hWzHU2ks6OQQ1W\noKt8la0A5UWljNA20HILFSTpr95+PpIBT0+zKQzWln2FBnkcR+b4wS9pvygt105u\n+iizvgNbzKXIpasNpPoVjR9ytV4D5uOCK4YEoEoNWG05uk82mBig/JiqCaDnZzBS\n4IjG5OhsG9iXXcQ46pmUMO3mAJecAkGg4tGTIzedg50K53Od710Yg4dGZljf+6j/\nUIMhIRULJEVJG0KRBkJfBgitWQW3Lbfh9N1eEvagL/lq1Ef/nqLxf/uuh5lATGUX\nWbRkpTCTxDBZjveElE7p4q73eRV6LB5K5tkC45wImNdzKq3qJtV7FcacSe2iL6/H\nhbkA9Dznhm8smkN9/NxuMDWSL2tePI+N2VKZykHAx/WJJASAbMazf0R7/AG4kV4J\nOSLzY7UmOTSb2k6TEeGaWTa1z8dkia4dt7kC0XpqVbQrAcgpT16++2dlLqSiaJss\n4sYp39OhYyMISr5jPDuN0JtQ+7JehBpwAke525sfpb/+rb5D7jtvDgQVzZ39oUQ2\nZ/z11W3f93sovPQKzUio0L54n5cUcFUdEdedyEhcXpgzLi/ijgCoVhrwpCm/T72d\nRZM8B1/NHoBCJ2+2HJTBUFjOIDh7rENoHdu3/7xTPILOUMzsmu0Mu9CeWvh0HcVL\nnQY1v2SuYnUEdqBjV4Ikw6AWplKA1XjIRmNoMeflciKYYNRJ3gvsgs8Gangtx/Ki\nLeIS8vZozhzNkWrxWd1tR/KNEyO90K4vIZLe4+TLuV8syAO42PlYYWaMOcUcc/cz\nP6RrDGTtcKANyKUnwH3KTjuQ4QA490mzFOXGXvCajhn7xjQLqsMl+vBtPp9YxHEo\n+Bojco5Ps32lWoOBXXdzU5UR1F3EvM7Du8mvO8pNN4EpgrVjERI2ca0kT+VtbYRU\nskygzdej3XImmv2xE8HfBJ1IfUJk2Qjfn54hS8qFtU4pvixZm2DXP7+5AIQAx31B\naJMXNUI8YoEagCdrJZeqvjEJXyXG7WMWtNIUcj0RxlldQ05jpRkKFygCuq40nTDf\n1oWzLMaA2KYN6MP2Nv+wKzaC33MEmmcj+y1Md4tZaLli3TsTjUq004pZWuOR9HoC\nZlkUdIys6jVRUIFZXiXnjl9uqcrUA4u5AvaWb1wev2l/xUJ5p1MYUw1TGEpNnh5Z\npnlyh2vfa7m0+HvtODniaNx5kZNpYw==\n=KApT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354",
          "sha": "1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1a19ffaa4ab50f9787a26f5bc4aa9aef7c7bb354"
        }
      ],
      "message": "net_processing: omit unbroadcast txs from replies to GETDATA and MEMPOOL",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:44Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-29T13:22:24Z"
      },
      "sha": "e23be0aa5241d829e213ec425f8d36883c49c72e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkyYmE1ODQ4ZWM0Y2ZhZWJjMGI3NWQwZDAwMWI3NzhkNjMzMjE5MTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92ba5848ec4cfaebc0b75d0d001b778d63321910",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/92ba5848ec4cfaebc0b75d0d001b778d63321910",
      "tree": {
        "sha": "75528e0db2326174981fdb6ad58cd536b4b34500",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/75528e0db2326174981fdb6ad58cd536b4b34500"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 75528e0db2326174981fdb6ad58cd536b4b34500\nparent e23be0aa5241d829e213ec425f8d36883c49c72e\nauthor Vasil Dimov <vd@FreeBSD.org> 1681921858 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854284 +0200\n\nnet_processing: relay local transactions via the SENSITIVE_RELAY mechanism\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanM0ACgkQVN8G9ktV\ny7+jZx/+KJxj/am2rX92ru/igwSfRjgtz4jCgdeFY7wjSXMZ08ahyTHMzorqLRRw\nXGL5Q/vvqNqmVB6YAFrD9DmKirGxshhKk0SPLbSx1IG8+TPBh7nVBDohoxN5LSI6\no5SZ+EKvq78scZSJTa5IP+BT4CVhXEapYBPfkLoa+9fW8zY9eN8lhgLKTtisyFYy\nT+rO9vKSwfVRKNbjnrNgCMVlMFt253qeMs5utjHDpkhESmQBWJLteQnfAp9sbOSq\n0/c7PdUwGjQLCI5MeEtPDYDrSsgxa702muIiPziBw4oJ9X1+LAn67h1l7813rF4f\ne9l6224SUlfPcIJgHy6Bj1Qa/lmfsvcaKADt5Tx9ZyVSzjGFiWkHIbTbQYvQELdI\nAmF5JU66o8PIZySa0dXi2XjqxTLyc4JVytqEf2MvXkmOEqcomdgJhvdNUclIZ0Pi\nU2rmleQdS+wE7AaV8TgZ3TmYqpbrQeVEg0aMbaQ4KbCEpTvo57XrINbxfwVBe8Nh\nkwXwSPMO2ucY8NJ91HlsixNYdh1Vo9tjUGQHVl78VdOkM3yoCPCr2FCdKP1jMHWm\n2o8U2REbUGFukBLAF50bU/csoeCPF1WZJsSIGyIJZqAWsPwz1vcYS4JiLrVaQbQj\nZZNZUb7QM5x3Rk7VaYWfG25BULljcQEGk2BBtXvir8oQzHdmXuuFjcVWHtJwxZwg\nw8+ilifYocdJw9MBQ6TKxtuDOXGbCqAkwlukQmwM3nStswZXwqc7J3rAJRYm20pK\nLffrBm2c52F3eMSdvLyCPVdMDQx1w63CHf1cednhTOjV0GQK1H3e/mwAwYjCilfl\nIKfcpYcmIWiUOewORuMQAQL6PtVgaJXMdfSxHx3AG5hNPklThK88OmvqKj8DzSy9\nIIk3tbDB7YbP0fIsnQw9AEwulocvJdgQAuQu09wvJdCewG+ukY1vgwJBEizgZNRQ\nAwfEMuNXfsJqT+sIOQ14GDZyYMTh35szVJBU1RFIXNYzeG8GJPTnclSbFmmrXCiY\nJQJi6mQTN3Os7Z1Bd1d6KZmXfszOg517ytpwz/f8pBUal51nen7Vlp/2ERENhW4r\nvD3p+8tK9aIxFO1LufYb9FTte/nTGuOmtlsCDv4eGztSbmFj15qN/6VVjqLgKXOE\nGSOPZi1ZvRbLHhUBzmJ7NQ2oZQ6UWbBYV6GMV5nDVmiALghhNwt3y9R+m4hdyr8l\nEktSjykZv8mUzO8jNDRQSWVcZVK961yrNfgBPB5tXTYLdjMSxmFGQ08RBYS7fXdC\nOJWfXzW8LPuzwCWDmRfW+FlMkBtbMzY+Y0gCssQWDoNzetT2Fu/U1oeaSnEixhbG\noCgqpgSNg/SX8lvUzwpBAAww46zp+w==\n=tdko\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e23be0aa5241d829e213ec425f8d36883c49c72e",
          "sha": "e23be0aa5241d829e213ec425f8d36883c49c72e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e23be0aa5241d829e213ec425f8d36883c49c72e"
        }
      ],
      "message": "net_processing: relay local transactions via the SENSITIVE_RELAY mechanism",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:44Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-04-19T16:30:58Z"
      },
      "sha": "92ba5848ec4cfaebc0b75d0d001b778d63321910"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBhYTcwMmI5Nzc0ZDAyZWZlZThmODYxNDdhMTVmOWMwZGY2MTBkOGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0aa702b9774d02efee8f86147a15f9c0df610d8c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0aa702b9774d02efee8f86147a15f9c0df610d8c",
      "tree": {
        "sha": "bf3443c98eab2f3d2511984cd60552a1ebd3c5b0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bf3443c98eab2f3d2511984cd60552a1ebd3c5b0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bf3443c98eab2f3d2511984cd60552a1ebd3c5b0\nparent 92ba5848ec4cfaebc0b75d0d001b778d63321910\nauthor Vasil Dimov <vd@FreeBSD.org> 1684924434 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854285 +0200\n\nmempool: return whether the tx was removed from RemoveUnbroadcastTx()\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanM4ACgkQVN8G9ktV\ny78qUx//bPkCGpfIrofsxRpe61h+BigbIv4oBVkok91KXCqhehejoZCMVTU0c83o\nG81eLzwvp+UUy0YmSa4mYyN+y3QwOyDWNWGSX8cMqgvVMCNK331UuYaXjGcesgwW\n7pdehtZtck2uOYKbzLOIedQl38BqlR/VtGzIFyRc1HUnVcHjE/PR97C0IgTjQj2z\nC5md3iEwUuTi0gkce9kDi64PZ/nMbz9TXPshrzs75m3aqbQ+negTAaDyeTFWxEnv\n+m0rG0A3gx5EYBvUkmzHPyRoa5DIi6CefjEdOuDQ/duB+lncsCGaMXbTZ/l5gu60\n8xUiEPBBF3GGtVUCJQhMs2nQSYultoEwQ9+5aFi/6mPIl60IGfHnX91gKeQHZuX3\nO2yOhJAMbELU9mUEO6/VUmDCcOOr9MsF63uu+Tp8QGWxZ2J6ih/g9WaQaEh++0Pf\nXuV+fG1kU+EZndo1TdLV8lkpRWLQZAnhfIKRgY6ma8MB7zq+x14oFbJAZDclrCs+\nfDFvLHxCPGst9cYxTB1hmGODS79ZE7Q0ugq8xVETHJZ1M0MHAFavYpYq/F6/vt8f\nMvKa4DHAn719Csiae4P59Fu3J5c2gNNcxNdWEuZAeEdRriJguO92VMrgdo599/SP\nc4BEgdixPSmHH1av8/Gg/vy+QMixiR1eIlrTd2WguFWuhjUeD61A7ew1a2GdOFmR\notdzhOcZkC9I4ooSVMgI3o62hTua4B17cfVayFnsDDpEwBUUJqeFvdY4dvkZKeV4\n7+9xy0IFDI+MUza5di01AcXqoNJySSd4K+UBv3+/D3a9NUXik3geSUZLN7aVEuyN\nYbUgrqIs4IKlsUy9TmMngVzgHHs6yx7z7y5AzOlptFtOJ8Jx6R+locxzpvflheqE\nKScazgnKkQ9dHRb5hU6SbA3MJ/WHCeRgQXguQgMRuZ2S6WkkTFZ1JpeBzfeAF1vK\nFmIGC21Zwwz3sUd4syCyPzYWg2PuQJsixHd2q8LyG85m+v39YHyfSfyTgsJyPIHC\n9WJDOcz08rmrZkfBVb1O0cS1R24zVIqiegxzGHsBwwd+Vye2HRnkqO2BFvefqDiq\n+US9u/8qpAjlWe0fh/a3gcX5ECXt7XUsf4Yh/RIfSeGn2kt5FEn7mPDIbvdVVepz\nY1wGMb26nCESLhVwA6LzuU1RRGaJbQPHr4wqtrmX7Eg/IRvU1VHCjovnZ5KGMCvX\nOIhvu0gSdR4QQQl0aqAKOjKFobAFpjPRVF5sq4mcRineH2oW0tMkUfw9I5ZWfje9\n+V4YMMEjyjL6japMaqOwoa72LRfdedb8A08MNWgJWRkXkoxpKAfnReCejLVqTHl9\n/txgo7eIkoVsPAqPeJoY9Tqy1ebRwA==\n=vUj8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92ba5848ec4cfaebc0b75d0d001b778d63321910",
          "sha": "92ba5848ec4cfaebc0b75d0d001b778d63321910",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/92ba5848ec4cfaebc0b75d0d001b778d63321910"
        }
      ],
      "message": "mempool: return whether the tx was removed from RemoveUnbroadcastTx()",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:45Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-24T10:33:54Z"
      },
      "sha": "0aa702b9774d02efee8f86147a15f9c0df610d8c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcwZjQ5OWMxYmJlNWU2MTcyNWNjZGMwN2NmZDljM2E1N2QyNDFmNWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b",
      "tree": {
        "sha": "1576e2ecb25a8592a7fe0458a208f7a24bfdad90",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1576e2ecb25a8592a7fe0458a208f7a24bfdad90"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1576e2ecb25a8592a7fe0458a208f7a24bfdad90\nparent 0aa702b9774d02efee8f86147a15f9c0df610d8c\nauthor Vasil Dimov <vd@FreeBSD.org> 1684499533 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854286 +0200\n\nnet_processing: improve own-tx-received-by-the-network assumption\n\nThis applies only if sensitive relay is used.\n\nBefore this change, we would consider a local transaction relayed\nsuccessfully to the network right after we push it to a peer (when\n`PushMessage()` returns, we still have not even sent it to the peer\nyet).\n\nInstead wait for somebody to send us `INV` about that transaction,\nthen retrieve it with `GETDATA` (as if we don't have it already) and\nonly after receiving it, consider it relayed. This is a better\nindication that the peer we sent it to has successfully received it,\nnot blackholed it and the transaction has propagated to the network.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanM4ACgkQVN8G9ktV\ny78wQR//fUNiYS0Rq5bT5n01XCm//4MmNSqf0EcXq+fQ0abJiMtGbydVcksYqf8J\nOZS/LbZZMeRvYD1wgdeYqRgUQiOqMGK+iqQ6+aJO9q9Aa9ePRvUGu2ejblUDYgc6\n7ktkdm7h0gHhbXEKPIrAhIHBu2ua1BhrU7v2CEF8XGFF9wDz8+9LT9sptN35y9h3\nZtcVUqsTyLRvMSxFb4poMUr7IhI4nh9ON35OqW7K1akD4A0IPeEBDFfpaBeXmYei\neFOFsy4sdY0MxJTvA08IxsY9qk0IObc57wQvB4sS5ahd+O6VEoaR52oC4mtq4Fuv\nubKcpuUMElulU0gCEYhvJKelr6OMoL9cb3klGLt3GGmsNp1IOgWjT7wPoA4RVeXl\nhxEylI6Rdu/Wr82YetgB7TLxoKTdzs1xdAQc0dOLWt/1VkmKQHuh0Q0mT4hfG9l1\nDbAjTBORDRNh6xQKXdY3LefO9FKrfsX+qLM684aVHOfUODuFAwOP3iF0UeNs59K3\nQwMhyYMDgF1mUvtO6iaemXOj8A+Wd3B2WI2oaaeFLgRl9oyqDIcQueBm5B955nL5\n2b39sevp7ngJyLpClpedu0YRCn7qAXAtl5OMAwq+dI4QiqTLiTuh8TMYWJtxjKKU\nvidp86LuNpYwqIwIx378u6h1NVG3hFosszW+NLWMmKmOMD+lcEtY0N86uMKD++uR\nizAflnkZZ8j6mCmB7Iu422kB+qeEQkJoeSqaI0ICJEp8ENT2j6DcfBi81N8UbcEM\nbaMuK6Q6XF4rZ5T8DdK4cJpNF6DlXJ+na/XQ7Ct+t+j07j6yp+Jcener7GwiMiFB\nL074OZj8LMzw1kxBIqhhulDaBa6NYAu4WuAjaS71P41stH2vpWNcXP5Q649hBx6N\nqdecc2uMF8PlUpaEJUbwkRTiSJqHykm3XG88zeRs5IBCp6icdal6h9Gbwvr0sMzK\nG5AZgdrxMJN0LUzk7RzZwVVCieLYzGxAHK+s/vW+D3Sjot2XeqM5def3jE+oHonx\n96GLWSZxxJxOgvprXm+lsZX0mj0WoyES4l1VRTgaN4XsYs8gy7AdlkU4w0v/nHqu\ndK8AYvscqJclY7X/yknr/zc8JztUNPzt+dBjf4rChdt4Df2Tt499UVSp0xkbVei1\nKsS/FWE/Czx5a7ZMHGMgAmyKPILvj+C6b3mD5rXaHESDAwUMtl4/shPU4XoVniQ5\n+16bQffPpN9gzeLaPTac2e9SZQBJJqV5gPVDjQmf67tOHw61M32hQ+fNA22/wmMb\nQW56pgl9No5Llt7UWnuaEwjqJULhxkhIoQ0tGSprlmBXQ1wHFdgwtDskrqz4Hav3\n2RqrYBaPIx+JVoue7FuZx29k6sDhcA==\n=+5T0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0aa702b9774d02efee8f86147a15f9c0df610d8c",
          "sha": "0aa702b9774d02efee8f86147a15f9c0df610d8c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0aa702b9774d02efee8f86147a15f9c0df610d8c"
        }
      ],
      "message": "net_processing: improve own-tx-received-by-the-network assumption\n\nThis applies only if sensitive relay is used.\n\nBefore this change, we would consider a local transaction relayed\nsuccessfully to the network right after we push it to a peer (when\n`PushMessage()` returns, we still have not even sent it to the peer\nyet).\n\nInstead wait for somebody to send us `INV` about that transaction,\nthen retrieve it with `GETDATA` (as if we don't have it already) and\nonly after receiving it, consider it relayed. This is a better\nindication that the peer we sent it to has successfully received it,\nnot blackholed it and the transaction has propagated to the network.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:46Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-19T12:32:13Z"
      },
      "sha": "70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2ZjRkYTRjZmFlYjM3NjY1MWUyMWRlOWQwMjNlNzQyNTY3MDFhYmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46f4da4cfaeb376651e21de9d023e74256701aba",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/46f4da4cfaeb376651e21de9d023e74256701aba",
      "tree": {
        "sha": "968954771877237ef43862a83ad38769ef38a871",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/968954771877237ef43862a83ad38769ef38a871"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 968954771877237ef43862a83ad38769ef38a871\nparent 70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b\nauthor Vasil Dimov <vd@FreeBSD.org> 1684335182 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854286 +0200\n\ntest: improve debug log message from P2PConnection::connection_made()\n\nThis is used in both cases - TCP server (accept) and TCP client (connect).\nThe message \"Connected & Listening address:port\" is confusing.\n\nPrint both ends of the TCP connection.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanM8ACgkQVN8G9ktV\ny7/0+R/+METtOHcHpw7JWQlYkNVFFyokVeu+9ar8jcDzCctP4sAPwMnmXPUUQgfr\n4iDf92y5qbD/+V9bpiwWhZug+GSBXdCOZkipyJDI5RTr9i1q5BcuOiUzJ5RuYxJH\njIy29TQLskiIB55ityx28cIhDtGGZvcB36A+5F1b7ZSPKTmdVGo9aJq94Zny/LlI\nrNl18AVHZoIC6Sk4MoZSnpKyVkfCI5NQvToeWm/2FbajnKxadTDXwXbDN7T+iL6m\n75qUORYEVASwuKYMrzZz23rkA+qKfL2nWel/SGx4OVb2LypQMTWwUOyBbt3qhDCU\noXbLiG9N4C4qy3G/j56wtDHZFp0DiBQPYIz2emlhIYA8EyHT3qMKY2TVako6cdSG\nZ12JcALcTvYEQ6m4p71Cj2CMBgQLFyIjL9LHnQu7QFI2bJMqiRawcJaYtUlrTNCQ\nhLOdAQVU/4ipZmvZ2lE8QHoM55CPgZ7+QtgJGOoJ0pZ6Uuo764N+VWhVy0DlOMvp\nQdUpU55VVC4OsLmUjF/LoTGSuz+GjF5SQaNxFpcVeJ1OPdJz8r/IifSQc5FW0xkc\nLWy4Tw3lCJE1yAZkw+/bW4oqfzpmo+bLnrfo4GBIJ4+TAwpFm9TmVnk7myDO8BxT\nTzcIExt6vc30eVGDgN3/2oNF75pDZDkAv4+JVTg/FmkiTqlpO6Ym+0RH7SY/39MQ\nzUcVQmKDYsLlhworIgxyEz3xVJUm3NvYO3/yIiwenFSa8ViPkVw5d6QNbucEdABk\nB5PzVpG0QSePQ1Ryf3lMTVjplFhyOUlkrG85WIRRmDjXH+y152gfDkRgtd97p3VQ\nNqqUlpNmKckzX380iiz9rqwdYqrK60KBNu1hPrY7+Ur735R5p4rQfJGc3WHnNZQJ\nU2iehvsn4EPn6kJNIgkWnVKvLCu+HyQOWkWFsybEDsBwfevIbOQtjx45XhYrfgcb\nM9MyxPnsxesbMalstDkx7d3+UecEWMemX+Y1WcSetarVzjfgx+UxQCaRoT31iimU\noOQojfyzdfx1/NroOe/E/TgbHS2OkjWJmzayOt+cuG6yWM/RNrUo4RBVhFZ9glcQ\nHrXpZGC/6dafZskwtmBE0Nl/mYjlw88hQOmif9NbqxsStjFZjw+0GoJ6djMk7lr1\nBR5PUdzt4LipaARucbNxD1hiI0SS33YMANKvLHZ2u9hAyOsQXlU0+/5p0vnMy3gl\nPZTvtOHp9IQ5CxYlBdctzAOQtDJhNUay1Cs6x9IFqjL+nvxVwAa7ZuoNSE3XRtJZ\nR9Vpb6NQlZd4CSReBGu2TUtRUSQaJ8eBUpkQdkUnVrJR/GpTi2NSAPGWySNBd2W+\nx0gEi+ekcjTWrAtoWhzqYfqTE5IL5g==\n=LSa7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b",
          "sha": "70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/70f499c1bbe5e61725ccdc07cfd9c3a57d241f5b"
        }
      ],
      "message": "test: improve debug log message from P2PConnection::connection_made()\n\nThis is used in both cases - TCP server (accept) and TCP client (connect).\nThe message \"Connected & Listening address:port\" is confusing.\n\nPrint both ends of the TCP connection.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:46Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-17T14:53:02Z"
      },
      "sha": "46f4da4cfaeb376651e21de9d023e74256701aba"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY1YzIyZWViYTFhY2RmMGM5Nzc0YjhjYjQzZGI2YzNmMWE5OTk5NTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65c22eeba1acdf0c9774b8cb43db6c3f1a999959",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/65c22eeba1acdf0c9774b8cb43db6c3f1a999959",
      "tree": {
        "sha": "65e73e4b3f69ac7b3d32915f22b2c52a28127fed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/65e73e4b3f69ac7b3d32915f22b2c52a28127fed"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 65e73e4b3f69ac7b3d32915f22b2c52a28127fed\nparent 46f4da4cfaeb376651e21de9d023e74256701aba\nauthor Vasil Dimov <vd@FreeBSD.org> 1684492282 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854287 +0200\n\ntest: extend the SOCKS5 Python proxy to actually connect to a destination\n\nIf requested, make the SOCKS5 Python proxy redirect connections to a set\nof given destinations. Actually act as a real proxy, connecting the\nclient to a destination, except that the destination is not what the\nclient asked for.\n\nThis would enable us to \"connect\" to Tor addresses from the functional\ntests.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanM8ACgkQVN8G9ktV\ny78/CyAAhKmmeh11TEVk0XiTNX/YTtPozYF3unkfeeRpi19YemR4RiTr0OgH9t+8\nghN+2eogngpjpiK2oHhDPzr/FOGsJYBEsO/Op+ec6feRNocLqJakVyJPDtoEeQQV\n8lQT6TsmsvzRp3fRwztYWyhHG9bOGrO40r9oHu0wrS9ysxYGzzLumJOXMjzQTTtQ\nPlBNscwq+RVdS1xjrh+Z6uBLFREU1LA6ln4C75PYvLj13LYfizZ5D4RYjwgsZrNj\nX/NEjlbpZiNibjh0H8r/38Ets8I+hDb+zXTEL+XClLFVs0NyO42nwYJrOueshhhc\nypggEnVokVqjZ+Q3+Nl8eVuxEIslSzgygLnehI8wXg1ZxpPx8d4QLiGj1ImdqpXo\n0Dandb/L5xg1ReDFixtaTaFBAbPd9yUFnerkiroc+hQiH40Fx1iawr/ecRgmDNrY\nsVG0XaXmjpakV30RkoexBABJMxJZMY0v+KswZgwhrwp8dwqU7oobOGq/SAEnMklY\n/zFgqFBBeaJEPbqspGY7JTtDp6CQMO74x7mLuzDp1jn1xj2CEO36+s+/RnlOu9lF\ne4yt1/dAKas6VUa1mKIW09Yjyh3YN6R/n9II9Gvtzo93vtkh38vk063YXaxZ8MRU\n4F8psABJTL9RtPeoBqEp9h8Ddyn/HFMW9pR0p02xxk0MFQCb67Rv1VKkq8+J7LS1\n+Wrg3xyYD/ouxFL3pHd2h3khnHfwDc4qlaKP/clO7RP6t62HqxcnJqnCTemYl96T\n4WPSKzTLNLg5XryWwr+ZNBy1rHt9oyica6uXC0upG6EAyz4lMfGfw0KcYNFJueJU\nOhvqNIK5Sm2VZpE1nQ6E5s749Vk9hddfItgnoHWpNqhpPnRwBNSBkicunmQhtobH\n8d3xiSt6emlzuQbnvpKd4s8+tjYUecgZgGza3WIKp7hilVagFdLFpCDvPlVp/OOs\njX/hOQCGQCaSEWa0cHdwUkgsxeVAgpmXGvK+IFATw15zKTHa7hOe+zaAcb0c9v+P\neUVNJXGkL6RUjmCgRITlltJes32ME9Gfg0lFPrI97b9ZS7YbdnG7lB4j1EUaKMeC\n7FF+yQVBFiYiY+t6HYpBDJjFTVCQJ+3myACRULsbBo316a1mWwiCQ0M7C7fzX9w5\n1rp5rMaBkWFO1ZGdWWahjbnm4EHpleYwHL34V9e1CKmeYEJf6NtpeA2kQnwzvKOw\nS+ytm5iX/0FBAjo/4KuI4vi0ffI3DRidt8CjyA/hoXCW2V3mu39+Sxg8p3w2EySy\nTvxAh11Sui6uElMi7fxL7+7jenQCKXrqGL5QDiIzFV1PocByUt8rtnMdPJ3PVRAk\nHAwap/8kFhNl1tUZ42UbFiGkcH39HQ==\n=08IP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46f4da4cfaeb376651e21de9d023e74256701aba",
          "sha": "46f4da4cfaeb376651e21de9d023e74256701aba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/46f4da4cfaeb376651e21de9d023e74256701aba"
        }
      ],
      "message": "test: extend the SOCKS5 Python proxy to actually connect to a destination\n\nIf requested, make the SOCKS5 Python proxy redirect connections to a set\nof given destinations. Actually act as a real proxy, connecting the\nclient to a destination, except that the destination is not what the\nclient asked for.\n\nThis would enable us to \"connect\" to Tor addresses from the functional\ntests.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:47Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-19T10:31:22Z"
      },
      "sha": "65c22eeba1acdf0c9774b8cb43db6c3f1a999959"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5YmMyN2M0NGY4NDE3NmRlZDg3MTYwOTczZmFjNjUyMjhjOWMyZWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69bc27c44f84176ded87160973fac65228c9c2ee",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/69bc27c44f84176ded87160973fac65228c9c2ee",
      "tree": {
        "sha": "798b306bec22d8e52e8c6d263eb2eb329ff8c0a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/798b306bec22d8e52e8c6d263eb2eb329ff8c0a9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 798b306bec22d8e52e8c6d263eb2eb329ff8c0a9\nparent 65c22eeba1acdf0c9774b8cb43db6c3f1a999959\nauthor Vasil Dimov <vd@FreeBSD.org> 1684910097 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854287 +0200\n\ntest: support WTX INVs from P2PDataStore and fix a comment\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanNAACgkQVN8G9ktV\ny78OMx/9EM8iArRl4t9vk0BG9KXKvA29Ux0WPde1pmsPkI6prDObiSd2RGoTUDVA\numxLdJ+bZB2yX5LTf4qDK1EEbGG/Z3amPq16rlCpGyTSoVHlzZzRS3Tn5HhsIi42\nJY5Ybut4Y0nEaO7iH+g8qlTaojizo/90n8SrYwF3xHtV7DG0i6TmzyXySu3RhtbA\nBHwVH1KlJWSPrvsYkNUFh5I92YNJcRotDet6O/c0YS+WZBr2qSqcFEo1c0kurAqq\nM62v1IoKYsGjTW+S96QduYl1L0nnKeQIf6IqAgfK3/rCVruG98q+/OtlaoM1CP5s\ndONegQuEKh7h2irDkgj8gRR3mn4bgE5GM8rAySD196omERI1tP5kgYSX6stch/a/\nqtw7NCnNIxNk6o2Ey1xqrgGWL6E5p4YKN/KQ9ceuJAAfxtCHNq8eVU4mf0UjUxp1\nsc02UO4RdXgejGqSEbrqObGKq3wRXQt/Es61OTL3+RqD+LuMQJiVDgSUmFVKb6Os\nzQYuZxWPbhFHwTXTGd71gcpCmGo2UpVwUcSyj7+xVLmDdOFmh/az7SpYJlS/gW0V\n7+rXS4cB5fTlTLIoBPk7srRGi88y+ogeHQLwiWaXHt5oeEYOV+ka+C2YTXjBU2tv\nWcrvQ5pznb+02HH/uGRGpdOgPlBQ7cEyDbzAEJMfH/w+6pqkNghwfgZcJyePURoG\nt+FQ8pEwVfiJ/wra0FV1Htt6DnMGon/GC2Gr0ot7w/3wz9AWGyutCwbsRwToxqbm\n54Ga0uiYkM9PCgT/Euql9+isJ7B8fat86Iex1haoof7gECG+SPj3VmOciZzVZH8d\n7KNUbMzuK+Pab/gNFaV/iNtj7mPig/h5qpWHmYWOaK+6ikao2jsQEIbRnvzph1fU\nxF2Hl87PG1kw8i5NmQIDKw95Hn/TR1WJ0FZ39QXEswYlySLlvK9mRZKe5l1mSJrQ\nIrrCNu2nBCwH9PhQAT7me3pEjE29/MguGo5iw4XLafV0DFO5JDpQy9aw3r+fieE/\ncMHaCjVKLACE2Jl9SoXbRGxI8v9kLlNlICR5YJUWMsxjZMd27qmDTPbSzfi0lFUH\nCVc/cFfUnRSh8G/3k+QqMkDOs3F1P0fO9sZlRyY2dRPPM0J8vnpeYvk0BSkmhMiy\npE9M4kYJ/FSXeBNUMBolHFu0eGrp2iqpMMgwOufbyA+VjQ+EIAS43O5baIuf4RO3\nH1VmssMVtjFQLuXQVzSGMlq6Hl1nfETt1BBDTMHCd3pCzjwHF8X84CNPYa6LpMug\nckmb4/8qn8s41dDhBbuhgzHdwy9OvjDyIcUAZPBx0j4+ixTHzJswtZqp4WntOSGq\n9vAsAHQJzRr52itnWo6xnclNYTRUcg==\n=LpSA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65c22eeba1acdf0c9774b8cb43db6c3f1a999959",
          "sha": "65c22eeba1acdf0c9774b8cb43db6c3f1a999959",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/65c22eeba1acdf0c9774b8cb43db6c3f1a999959"
        }
      ],
      "message": "test: support WTX INVs from P2PDataStore and fix a comment",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:47Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-24T06:34:57Z"
      },
      "sha": "69bc27c44f84176ded87160973fac65228c9c2ee"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkZTA1NWQyOGY1ZDQxZDllOTIzZjc3MGQxMzAwMTBlNzI0NDFlOTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bde055d28f5d41d9e923f770d130010e72441e91",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bde055d28f5d41d9e923f770d130010e72441e91",
      "tree": {
        "sha": "fc97971eef48b7c65a2242c34a98c8f7b83b656b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc97971eef48b7c65a2242c34a98c8f7b83b656b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fc97971eef48b7c65a2242c34a98c8f7b83b656b\nparent 69bc27c44f84176ded87160973fac65228c9c2ee\nauthor Vasil Dimov <vd@FreeBSD.org> 1684336789 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1687854288 +0200\n\ntest: add functional test for local tx relay\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSanNAACgkQVN8G9ktV\ny78DCSAAl5ZkLb6oFzLh5VDtKLysvOWbk+T0Tt48shl4LoDdPsdZKeIVDeqTuUQH\nVF01ur2Gir2uz152ypzPzP2oPVc7NVDngkB6U4VteTc+x/r0eo1J0i5LioKlazu/\nzeQCQ5y33DQxExyzrHgqO3Id/GMAjVppGOaoBm9BoFH8FGnkNNu+7rzZ8jLBHfy1\nW0W2stxbzrJKCgnoY0pVV6cchf5VkTUZtmlSeYdH4CJGCNL/qzpbFlWrzpnzYKN4\nJJNi+rSQ3aszVZfoXX5yxgYPdP7Pgv52L7INbQtHF/zKQbpdn4r/tyksKUc7MAkJ\nYK8aBtR2XkG6ZI/08civWHzmfp0zgAPoDmqBh7Vt/HEkey1uRNM3wxo2ky69jxQm\nzprbZi6ejrecx/8BRMuCL8V7B42KCMyDDUDmgvdwFPxdRRrHvTW5Lfbi1/eQJ1WL\nZBfjsHHf12dgxcMSwZSkzNU/nRYMOEY2p05qNCXTMrg8ArHD9djcS/bEsc0bfoqF\najSKxIAe7ac1I9mPJ8FLJ/d33lb25LyzpD0tEts9z1xTeISp9E8je8GBsqHC7rL2\nG1Tt5I8rq6JywjpoLQc5agPBk5SWtnO3t7h6MLJbQUc7e80HR3MD6Y+hlPux2YGB\nNAQvYqo3i/vnHBTH14j1TBwikj0j1Yc+23k0KRHnJ3WbPmrc/Cs2I2gQ1NBsa3Io\nfUx7lxDyaJ4faJKFnkAbLkeb0SLKu8AoySYauCtLIR28uI3mWhPe/TJEc/HAvDz/\nV2f1Zq2VbDivk8dI0j95FFUyoloQTENkdZYKUxiFgU/6i3s2QrkFr7+axRBpZfZx\nsJ8HodQe6w1eBr/kfY5KpcuwoYS3yVjdMw1mw+jYNS2Er0vHzEtoXxzo2+JBUZGf\nzGwyQ35CAmPZOB5Z8QSdOASPRZmHTLdRj89WAXv45WjON7xy81LkBcn/WubdWNgE\nLDx0UQGW7ori0+1xjF9AytTqObUD7pE1iudqc50XqkfWFIaTrcW2ldW17dH30Oc6\nflobbXiQoCBpA8pANmL6AbLM8z/r+2d+6/n53lagoOAPxXRo6LUvrpu5Opffj+p8\n8tYV73QabXKqLX0FWGQduVcWlRtoSB9ItAWZ0aoWQKn4QEJdCF2oyFcUHwgHGi9O\n5WYdciAHi8wqE+4XfM8v9wDve67OXYGSn3ERQMNRolaHybR98IUtwCTbHTP3R6fB\nbuL1xCrj9q3hiDfZiypMPUnEnCRjADuCjFbGtX2hXB2iMqA3kS+8o9sXVdWa427G\nN8XZduLpQfDXq3//u2tkXxe7dDO8xXzI1nsyxayrqSgRNSa4dTk0duDtunzRf4/g\nHBq7E/yjfRyFMH/O2YBBb9cTIAbB1w==\n=Qbd/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69bc27c44f84176ded87160973fac65228c9c2ee",
          "sha": "69bc27c44f84176ded87160973fac65228c9c2ee",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/69bc27c44f84176ded87160973fac65228c9c2ee"
        }
      ],
      "message": "test: add functional test for local tx relay",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-27T08:24:48Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-05-17T15:19:49Z"
      },
      "sha": "bde055d28f5d41d9e923f770d130010e72441e91"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9648909504,
      "node_id": "HRFPE_lADOABII585kDIGizwAAAAI_HqzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9648909504",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T08:36:54Z"
    },
    {
      "event": "commented",
      "id": 1609055465,
      "node_id": "IC_kwDOABII585f6Dzp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1609055465",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T08:42:04Z",
      "updated_at": "2023-06-27T08:42:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "`5fd41b9fbf...bde055d28f`:\r\n* rebase due to conflicts\r\n* adjust the added test to expect that some non-sensitive relay connection may be opened before sensitive tx relay is complete; this is because the code was changed to be less aggressive and may open other connections even if sensitive relay ones are needed\r\n* extract a move-only change in `ThreadOpenConnections()` to a separate commit to make it easier to review (new commit: ec6f4ac210 `net: move peers counting before grant acquisition in ThreadOpenConnections()`)",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1609055465",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    },
    {
      "event": "unlabeled",
      "id": 9649580637,
      "node_id": "UNLE_lADOABII585kDIGizwAAAAI_KOpd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9649580637",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T09:34:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9660954444,
      "node_id": "UNLE_lADOABII585kDIGizwAAAAI_1ndM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9660954444",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T07:15:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1535806985,
      "node_id": "PRR_kwDOABII585bio4J",
      "url": null,
      "actor": null,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "code review ACK bde055d28f5d41d9e923f770d130010e72441e91\r\n\r\nRead through each commit and checked build at each commit. Left a few questions / comments below. I am going to spend more time examining the test coverage and playing with the feature on signet in the next few days.\r\n\r\nReally excellent work! Commit layout makes this branch easy and legible to review. It's a great idea and I am also very excited about an actual working socks5 proxy in the test suite ;-)",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1535806985",
      "submitted_at": "2023-07-18T20:36:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "reviewed",
      "id": 1548267148,
      "node_id": "PRR_kwDOABII585cSK6M",
      "url": null,
      "actor": null,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1548267148",
      "submitted_at": "2023-07-26T17:44:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "reviewed",
      "id": 1549783541,
      "node_id": "PRR_kwDOABII585cX9H1",
      "url": null,
      "actor": null,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#pullrequestreview-1549783541",
      "submitted_at": "2023-07-27T13:04:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
    },
    {
      "event": "commented",
      "id": 1653599387,
      "node_id": "IC_kwDOABII585ij-yb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653599387",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-27T13:10:47Z",
      "updated_at": "2023-07-27T13:10:47Z",
      "author_association": "MEMBER",
      "body": "Not sure how effective it is to put the transaction into the mempool. I know that your implementation treats the positive case (reply to an `inv` as if the tx wasn't there, or withhold the tx in reply to a `getdata`). However, a failure to reply to an otherwise valid `inv` can still be used to query the mempool. Or similarly, a failure to (also) withhold related transactions in an otherwise valid `getdata` can be used to query the mempool. (For example, if the transaction was a CPFP and the parent can't be in your mempool due to the minimum fee-rate, but your node happily replies).\r\n\r\nI don't think there is a general solution to this, other than to never add the transaction to the mempool.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1653599387",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186579724",
      "pull_request_review_id": 1415616055,
      "id": 1186579724,
      "node_id": "PRRC_kwDOABII585GucUM",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Rather than doing this, it might make more sense to have simplified relay logic be to send the messages:\r\n\r\n * VERSION\r\n * [after receiving VERSION] VERACK\r\n * [after receiving VERACK] INV\r\n * [after receiving GETDATA] TX\r\n * PING\r\n * [after receiving PONG] disconnect\r\n\r\n?",
      "created_at": "2023-05-06T01:35:40Z",
      "updated_at": "2023-05-06T01:35:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1186579724",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186579724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192301612",
      "pull_request_review_id": 1424412189,
      "id": 1192301612,
      "node_id": "PRRC_kwDOABII585HERQs",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, and maybe also send `wtxidrelay`. Any reason not to send `TX` directly and avoid the `INV`, like below?\r\n\r\n* VERSION\r\n* [after receiving VERSION] WTXIDRELAY VERACK\r\n* [after receiving VERACK] TX\r\n* PING\r\n* [after receiving PONG] disconnect",
      "created_at": "2023-05-12T12:29:56Z",
      "updated_at": "2023-05-12T12:29:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1192301612",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192301612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192502249",
      "pull_request_review_id": 1424708843,
      "id": 1192502249,
      "node_id": "PRRC_kwDOABII585HFCPp",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Any reason not to send `TX` directly and avoid the `INV`, like below?\r\n\r\nIt has been suggested to stop processing unrequested TXs messages, see #21224. While that didn't make it, the idea is still floating around. If bitcoin core itself started relying on unrequested TX msgs being processed, that would probably kill it once for all. \r\nMaybe that's ok, but we should make sure that there aren't alternative clients that would ignore unrequested TXs.",
      "created_at": "2023-05-12T15:13:16Z",
      "updated_at": "2023-05-12T15:13:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1192502249",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192502249"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192851862",
      "pull_request_review_id": 1425238233,
      "id": 1192851862,
      "node_id": "PRRC_kwDOABII585HGXmW",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, if you send the `INV` first and wait for a request to send the actual tx, you might be a little more confident that the peer you connected to is really relaying txs, not just gathering statistics.\r\n\r\nI was thinking that you could send a fixed `VERSION` string and no feature messages (`WTXIDRELAY`, `SENDADDRV2`, etc), as a way of minimising how identifiable your node is versus other clients doing sensitive-relay. (I don't think you can have a larger anonymity set than that, since \"send a single tx and close the connection\" seems pretty distinct)",
      "created_at": "2023-05-12T22:58:06Z",
      "updated_at": "2023-05-12T22:58:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1192851862",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192851862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195027764",
      "pull_request_review_id": 1428366641,
      "id": 1195027764,
      "node_id": "PRRC_kwDOABII585HOq00",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We don't accept transactions while in IBD, so sending an INV first might be an easy way to catch that condition too. Checking that we're on the same tip, and respecting feefilter might also catch those cases, and be worth doing anyway though.",
      "created_at": "2023-05-16T11:34:10Z",
      "updated_at": "2023-05-16T11:34:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1195027764",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195027764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212835700",
      "pull_request_review_id": 1454959689,
      "id": 1212835700,
      "node_id": "PRRC_kwDOABII585ISmd0",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> we should make sure that there aren't alternative clients that would ignore unrequested TXs\r\n\r\nThere is a precedent: from https://developer.bitcoin.org/reference/p2p_networking.html#tx\r\n\r\n> [BitcoinJ](http://bitcoinj.github.io/) will send a [â€œtxâ€ message](https://developer.bitcoin.org/reference/p2p_networking.html#tx) unsolicited for transactions it originates\r\n\r\n",
      "created_at": "2023-06-01T09:05:32Z",
      "updated_at": "2023-06-01T09:05:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1212835700",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212835700"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212837257",
      "pull_request_review_id": 1454962263,
      "id": 1212837257,
      "node_id": "PRRC_kwDOABII585ISm2J",
      "diff_hunk": "@@ -377,6 +377,8 @@ class CNode\n     /** Offset inside the first vSendMsg already sent */\n     size_t nSendOffset GUARDED_BY(cs_vSend){0};\n     uint64_t nSendBytes GUARDED_BY(cs_vSend){0};\n+    /** Disconnect after this or more bytes have been written to the socket. */\n+    std::optional<uint64_t> m_disconnect_after_send_bytes GUARDED_BY(cs_vSend);",
      "path": "src/net.h",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "2f3f5203f2e6bd9a1ac45fe7ae53503bda807e21",
      "in_reply_to_id": 1186579724,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For now I kept it to send `TX` right away as this is simpler and somebody blackhole-ing the transaction is ok.",
      "created_at": "2023-06-01T09:06:56Z",
      "updated_at": "2023-06-01T09:06:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1212837257",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212837257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 381,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212891740",
      "pull_request_review_id": 1455044242,
      "id": 1212891740,
      "node_id": "PRRC_kwDOABII585IS0Jc",
      "diff_hunk": "@@ -5729,6 +5918,16 @@ bool PeerManagerImpl::SendMessages(CNode* pto)\n                         if (tx_relay->m_bloom_filter) {\n                             if (!tx_relay->m_bloom_filter->IsRelevantAndUpdate(*txinfo.tx)) continue;\n                         }\n+                        if (WITH_LOCK(m_mempool.cs, return m_mempool.IsUnbroadcastTx(GenTxid::Txid(txinfo.tx->GetHash())))) {\n+                            LogPrintLevel( /* Continued */\n+                                BCLog::SENSITIVE_RELAY,\n+                                BCLog::Level::Info,\n+                                \"Omitting INV for unbroadcast transaction (txid=%s) from MEMPOOL reply peer=%d%s\\n\",\n+                                txinfo.tx->GetHash().ToString(),\n+                                pto->GetId(),\n+                                fLogIPs ? strprintf(\", peeraddr=%s\", pto->addr.ToStringAddrPort()) : \"\");\n+                            continue;\n+                        }",
      "path": "src/net_processing.cpp",
      "position": 519,
      "original_position": 519,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This, together with the other change from commit 0ec7b979e7a9d4c30a97c39c2a64768d7c5662b1 `net_processing: omit unbroadcast txs from replies to GETDATA and MEMPOOL` alter the behavior even if sensitive relay is not used (e.g. disabled or Tor and I2P not reachable).\r\n\r\nI think it is beneficial in that case too, but is not the purpose of this PR to improve that. Should this be guarded by `if (UseSensitiveRelay())`?",
      "created_at": "2023-06-01T09:47:53Z",
      "updated_at": "2023-06-01T09:47:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1212891740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1212891740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 5925,
      "original_start_line": 5921,
      "start_side": "RIGHT",
      "line": 5934,
      "original_line": 5934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213240959",
      "pull_request_review_id": 1455611371,
      "id": 1213240959,
      "node_id": "PRRC_kwDOABII585IUJZ_",
      "diff_hunk": "@@ -1865,6 +1866,19 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     connOptions.m_i2p_accept_incoming = args.GetBoolArg(\"-i2pacceptincoming\", DEFAULT_I2P_ACCEPT_INCOMING);\n \n+    if (args.GetBoolArg(\"-sensitiverelayowntx\", DEFAULT_SENSITIVE_RELAY_OWN_TX)) {",
      "path": "src/init.cpp",
      "position": 78,
      "original_position": 12,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e310a0d285db0b82b0c201a56f92a7bfe4663226, you added these verifications, I think it would be useful if you add coverage for them in b6fd6b525d3ee4d89331dc04d86f854cb1decccd\r\n\r\nSuggestion (did it to test e310a0d285db0b82b0c201a56f92a7bfe4663226):\r\n```diff\r\ndiff --git a/test/functional/p2p_local_tx_relay.py b/test/functional/p2p_local_tx_relay.py\r\nindex 0b115352d..46215110e 100755\r\n--- a/test/functional/p2p_local_tx_relay.py\r\n+++ b/test/functional/p2p_local_tx_relay.py\r\n@@ -140,12 +140,12 @@ class P2PLocalTxRelay(BitcoinTestFramework):\r\n\r\n     def setup_nodes(self):\r\n         # Start a SOCKS5 proxy server.\r\n-        socks5_server_config = Socks5Configuration()\r\n-        socks5_server_config.addr = (\"127.0.0.1\", p2p_port(new_p2p_index()))\r\n-        socks5_server_config.unauth = True\r\n-        socks5_server_config.auth = True\r\n+        self.socks5_server_config = Socks5Configuration()\r\n+        self.socks5_server_config.addr = (\"127.0.0.1\", p2p_port(new_p2p_index()))\r\n+        self.socks5_server_config.unauth = True\r\n+        self.socks5_server_config.auth = True\r\n\r\n-        self.socks5_server = Socks5Server(socks5_server_config)\r\n+        self.socks5_server = Socks5Server(self.socks5_server_config)\r\n         self.socks5_server.start()\r\n\r\n         ports_base = p2p_port(MAX_NODES) + 15000\r\n@@ -171,7 +171,7 @@ class P2PLocalTxRelay(BitcoinTestFramework):\r\n             [\r\n                 \"-peerbloomfilters\", # needed to test replies to MEMPOOL\r\n                 \"-sensitiverelayowntx\",\r\n-                f\"-proxy={socks5_server_config.addr[0]}:{socks5_server_config.addr[1]}\"\r\n+                f\"-proxy={self.socks5_server_config.addr[0]}:{self.socks5_server_config.addr[1]}\"\r\n             ]\r\n         ])\r\n         self.start_nodes()\r\n@@ -243,6 +243,15 @@ class P2PLocalTxRelay(BitcoinTestFramework):\r\n         self.log.info(\"Waiting for normal broadcast to another observer\")\r\n         observer_outbound.wait_for_inv([inv])\r\n\r\n+        self.log.info(\"Test an invalid usage of -sensitiverelayowntx throw an init error\")\r\n+        self.stop_node(0)\r\n+        args_errors = {\r\n+            \"Sensitive relay of own transactions requested (-sensitiverelayowntx), but none of Tor or I2P networks\r\nis reachable\": [\"-sensitiverelayowntx\"],\r\n+            \"Sensitive relay of own transactions requested (-sensitiverelayowntx), but -connect is also configured.\r\n They are incompatible because the sensitive relay needs to open a new connection to a randomly chosen Tor or I2P pe\r\ner\" : [\"-sensitiverelayowntx\", \"-connect='127.0.0.1'\", f\"-proxy={self.socks5_server_config.addr[0]}:{self.socks5_ser\r\nver_config.addr[1]}\"]\r\n+        }\r\n+        for msg, args in args_errors.items():\r\n+            node0.assert_start_raises_init_error(extra_args=args, expected_msg=f'Error: {msg}')\r\n+\r\n\r\n if __name__ == '__main__':\r\n     P2PLocalTxRelay().main()\r\n```",
      "created_at": "2023-06-01T14:24:34Z",
      "updated_at": "2023-06-01T14:24:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1213240959",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213240959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1903,
      "original_line": 1903,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213295906",
      "pull_request_review_id": 1455700161,
      "id": 1213295906,
      "node_id": "PRRC_kwDOABII585IUW0i",
      "diff_hunk": "@@ -1650,7 +1650,25 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (!interruptNet.sleep_for(std::chrono::milliseconds(500)))\n             return;\n \n-        CSemaphoreGrant grant(*semOutbound);\n+        const size_t sensitive_relay_connections_to_open{m_sensitive_relay_connections_to_open.load()};\n+        const bool tor_reachable{IsReachable(NET_ONION)};\n+        const bool i2p_reachable{IsReachable(NET_I2P)};\n+        const bool open_sensitive_relay{sensitive_relay_connections_to_open > 0 &&",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "31dd230738c43a529c63331eb23135e42d083e8f",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 31dd230738c43a529c63331eb23135e42d083e8f: At this point (creation of `open_sensitive_relay`), is there any possibility of both tor and i2p to be unreachable?",
      "created_at": "2023-06-01T15:01:04Z",
      "updated_at": "2023-06-01T15:01:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1213295906",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213295906"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213371595",
      "pull_request_review_id": 1455819215,
      "id": 1213371595,
      "node_id": "PRRC_kwDOABII585IUpTL",
      "diff_hunk": "@@ -1650,7 +1650,25 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (!interruptNet.sleep_for(std::chrono::milliseconds(500)))\n             return;\n \n-        CSemaphoreGrant grant(*semOutbound);\n+        const size_t sensitive_relay_connections_to_open{m_sensitive_relay_connections_to_open.load()};\n+        const bool tor_reachable{IsReachable(NET_ONION)};\n+        const bool i2p_reachable{IsReachable(NET_I2P)};\n+        const bool open_sensitive_relay{sensitive_relay_connections_to_open > 0 &&",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "31dd230738c43a529c63331eb23135e42d083e8f",
      "in_reply_to_id": 1213295906,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good observation. If both Tor and I2P are unreachable then `m_sensitive_relay_connections_to_open` should always be zero. Inside `PeerManagerImpl::ScheduleLocalTxForRelay()` `UseSensitiveRelay()` would return `false` and `m_connman.ScheduleSensitiveRelayConnections()` which increments the counter will never be called.\r\n\r\nNow, that is the logic of some code far away, in another file. I did not want to rely on it because if we enter here and both are unreachable, then it will end up in an infinite loop. An assert that at least one is reachable is the other option, but I am trying to code this \"defensively\", following @sdaftuar's comment from another PR that excessive asserts in the networking code are better avoided.",
      "created_at": "2023-06-01T15:58:11Z",
      "updated_at": "2023-06-01T15:58:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1213371595",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213371595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213534764",
      "pull_request_review_id": 1456079399,
      "id": 1213534764,
      "node_id": "PRRC_kwDOABII585IVRIs",
      "diff_hunk": "@@ -0,0 +1,248 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2023 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test how locally submitted transactions are sent to the network when sensitive relay is used.\n+\n+The topology in the test is:\n+\n+Bitcoin Core (node0)\n+               ^   v       The default full-outbound + block-only connections\n+               |   |       (MAX_OUTBOUND_FULL_RELAY_CONNECTIONS + MAX_BLOCK_RELAY_ONLY_CONNECTIONS)\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[0][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[1][\"node\"])\n+               |   ...\n+               |   |       The sensitive relay TX recipients (SENSITIVE_RELAY_NUM_BROADCAST_PER_TX):\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i + 1][\"node\"])\n+               |   ...\n+               |\n+               *---------< observer_inbound\n+\"\"\"\n+\n+from test_framework.p2p import P2PDataStore, P2PInterface, P2P_SERVICES\n+from test_framework.messages import msg_getdata, msg_inv, msg_mempool, CInv, MSG_WTX\n+from test_framework.socks5 import Socks5Configuration, Socks5Server\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal, MAX_NODES, p2p_port\n+from test_framework.wallet import MiniWallet\n+\n+MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\n+MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\n+SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\n+\n+g_p2p_index = None\n+def new_p2p_index():\n+    global g_p2p_index",
      "path": "test/functional/p2p_local_tx_relay.py",
      "position": null,
      "original_position": 41,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think there is no need of creating a global variable like `g_p2p_index`. We could do something like:\r\n```diff\r\ndiff --git a/test/functional/p2p_local_tx_relay.py b/test/functional/p2p_local_tx_relay.py\r\nindex 0b115352d..9f4c6aaa5 100755\r\n--- a/test/functional/p2p_local_tx_relay.py\r\n+++ b/test/functional/p2p_local_tx_relay.py\r\n@@ -36,12 +36,6 @@ MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\r\n MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\r\n SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\r\n \r\n-g_p2p_index = None\r\n-def new_p2p_index():\r\n-    global g_p2p_index\r\n-    g_p2p_index += 1\r\n-    return g_p2p_index\r\n-\r\n # Fill addrman with these addresses. Must have enough Tor addresses, so that even\r\n # if all 10 default connections are opened to a Tor address (!?) there must be more\r\n # for sensitive relays.\r\n@@ -135,13 +129,16 @@ class P2PLocalTxRelay(BitcoinTestFramework):\r\n     def set_test_params(self):\r\n         self.disable_autoconnect = False\r\n         self.num_nodes = 1\r\n-        global g_p2p_index\r\n-        g_p2p_index = self.num_nodes - 1\r\n+        self.g_p2p_index = self.num_nodes - 1\r\n+\r\n+    def new_p2p_index(self):\r\n+        self.g_p2p_index += 1\r\n+        return self.g_p2p_index\r\n \r\n     def setup_nodes(self):\r\n         # Start a SOCKS5 proxy server.\r\n         socks5_server_config = Socks5Configuration()\r\n-        socks5_server_config.addr = (\"127.0.0.1\", p2p_port(new_p2p_index()))\r\n+        socks5_server_config.addr = (\"127.0.0.1\", p2p_port(self.new_p2p_index()))\r\n         socks5_server_config.unauth = True\r\n         socks5_server_config.auth = True\r\n```",
      "created_at": "2023-06-01T18:35:03Z",
      "updated_at": "2023-06-01T18:35:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1213534764",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213534764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213614742",
      "pull_request_review_id": 1456206463,
      "id": 1213614742,
      "node_id": "PRRC_kwDOABII585IVkqW",
      "diff_hunk": "@@ -1747,18 +1767,19 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         bool anchor = false;\n         bool fFeeler = false;\n \n-        // Determine what type of connection to open. Opening\n-        // BLOCK_RELAY connections to addresses from anchors.dat gets the highest\n-        // priority. Then we open OUTBOUND_FULL_RELAY priority until we\n-        // meet our full-relay capacity. Then we open BLOCK_RELAY connection\n-        // until we hit our block-relay-only peer limit.\n-        // GetTryNewOutboundPeer() gets set when a stale tip is detected, so we\n-        // try opening an additional OUTBOUND_FULL_RELAY connection. If none of\n-        // these conditions are met, check to see if it's time to try an extra\n-        // block-relay-only peer (to confirm our tip is current, see below) or the next_feeler\n-        // timer to decide if we should open a FEELER.\n-\n-        if (!m_anchors.empty() && (nOutboundBlockRelay < m_max_outbound_block_relay)) {\n+        // Determine what type of connection to open, in order of priority:\n+        // * SENSITIVE_RELAY if needed\n+        // * BLOCK_RELAY connections to addresses from anchors.dat\n+        // * OUTBOUND_FULL_RELAY until we reach full-relay capacity\n+        // * BLOCK_RELAY until we reach block-relay-only peer limit.\n+        // * OUTBOUND_FULL_RELAY if GetTryNewOutboundPeer() is true (a stale tip is detected)\n+        // * BLOCK_RELAY if it's time to try an extra block-relay-only peer (to confirm our tip is current)\n+        // * FEELER if it's time to try a feeler\n+        // * else retry the loop (sleep a bit and start from the top of this list)\n+\n+        if (open_sensitive_relay) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I suppose it bypass the `maxconnection`, does it? If so, it worths to update the `-maxconnections` mentioning it.",
      "created_at": "2023-06-01T19:53:02Z",
      "updated_at": "2023-06-01T19:53:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1213614742",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213614742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1789,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214126425",
      "pull_request_review_id": 1456965293,
      "id": 1214126425,
      "node_id": "PRRC_kwDOABII585IXhlZ",
      "diff_hunk": "@@ -1865,6 +1866,19 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     connOptions.m_i2p_accept_incoming = args.GetBoolArg(\"-i2pacceptincoming\", DEFAULT_I2P_ACCEPT_INCOMING);\n \n+    if (args.GetBoolArg(\"-sensitiverelayowntx\", DEFAULT_SENSITIVE_RELAY_OWN_TX)) {",
      "path": "src/init.cpp",
      "position": 78,
      "original_position": 12,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": 1213240959,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added this test, but in `feature_config_args.py` because it checks interaction between some config args. That fits better than `p2p_local_tx_relay.py`:\r\n> Test how locally submitted transactions are sent to the network when sensitive relay is used.",
      "created_at": "2023-06-02T09:11:31Z",
      "updated_at": "2023-06-02T09:11:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214126425",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214126425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1903,
      "original_line": 1903,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214127166",
      "pull_request_review_id": 1456966396,
      "id": 1214127166,
      "node_id": "PRRC_kwDOABII585IXhw-",
      "diff_hunk": "@@ -1650,7 +1650,25 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (!interruptNet.sleep_for(std::chrono::milliseconds(500)))\n             return;\n \n-        CSemaphoreGrant grant(*semOutbound);\n+        const size_t sensitive_relay_connections_to_open{m_sensitive_relay_connections_to_open.load()};\n+        const bool tor_reachable{IsReachable(NET_ONION)};\n+        const bool i2p_reachable{IsReachable(NET_I2P)};\n+        const bool open_sensitive_relay{sensitive_relay_connections_to_open > 0 &&",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "31dd230738c43a529c63331eb23135e42d083e8f",
      "in_reply_to_id": 1213295906,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment in the code in case somebody else wonders the same.",
      "created_at": "2023-06-02T09:12:16Z",
      "updated_at": "2023-06-02T09:12:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214127166",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214127166"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214128768",
      "pull_request_review_id": 1456968958,
      "id": 1214128768,
      "node_id": "PRRC_kwDOABII585IXiKA",
      "diff_hunk": "@@ -0,0 +1,248 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2023 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test how locally submitted transactions are sent to the network when sensitive relay is used.\n+\n+The topology in the test is:\n+\n+Bitcoin Core (node0)\n+               ^   v       The default full-outbound + block-only connections\n+               |   |       (MAX_OUTBOUND_FULL_RELAY_CONNECTIONS + MAX_BLOCK_RELAY_ONLY_CONNECTIONS)\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[0][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[1][\"node\"])\n+               |   ...\n+               |   |       The sensitive relay TX recipients (SENSITIVE_RELAY_NUM_BROADCAST_PER_TX):\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i + 1][\"node\"])\n+               |   ...\n+               |\n+               *---------< observer_inbound\n+\"\"\"\n+\n+from test_framework.p2p import P2PDataStore, P2PInterface, P2P_SERVICES\n+from test_framework.messages import msg_getdata, msg_inv, msg_mempool, CInv, MSG_WTX\n+from test_framework.socks5 import Socks5Configuration, Socks5Server\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal, MAX_NODES, p2p_port\n+from test_framework.wallet import MiniWallet\n+\n+MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\n+MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\n+SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\n+\n+g_p2p_index = None\n+def new_p2p_index():\n+    global g_p2p_index",
      "path": "test/functional/p2p_local_tx_relay.py",
      "position": null,
      "original_position": 41,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": 1213534764,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I removed `new_p2p_index()` because it was used in just one place. Earlier it was used also for all listeners behind the SOCKS5 proxy, but I had to stop using `p2p_port()` for that because it exceeded `MAX_NODES` (12).",
      "created_at": "2023-06-02T09:13:56Z",
      "updated_at": "2023-06-02T09:13:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214128768",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214128768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214131440",
      "pull_request_review_id": 1456973222,
      "id": 1214131440,
      "node_id": "PRRC_kwDOABII585IXizw",
      "diff_hunk": "@@ -1747,18 +1767,19 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         bool anchor = false;\n         bool fFeeler = false;\n \n-        // Determine what type of connection to open. Opening\n-        // BLOCK_RELAY connections to addresses from anchors.dat gets the highest\n-        // priority. Then we open OUTBOUND_FULL_RELAY priority until we\n-        // meet our full-relay capacity. Then we open BLOCK_RELAY connection\n-        // until we hit our block-relay-only peer limit.\n-        // GetTryNewOutboundPeer() gets set when a stale tip is detected, so we\n-        // try opening an additional OUTBOUND_FULL_RELAY connection. If none of\n-        // these conditions are met, check to see if it's time to try an extra\n-        // block-relay-only peer (to confirm our tip is current, see below) or the next_feeler\n-        // timer to decide if we should open a FEELER.\n-\n-        if (!m_anchors.empty() && (nOutboundBlockRelay < m_max_outbound_block_relay)) {\n+        // Determine what type of connection to open, in order of priority:\n+        // * SENSITIVE_RELAY if needed\n+        // * BLOCK_RELAY connections to addresses from anchors.dat\n+        // * OUTBOUND_FULL_RELAY until we reach full-relay capacity\n+        // * BLOCK_RELAY until we reach block-relay-only peer limit.\n+        // * OUTBOUND_FULL_RELAY if GetTryNewOutboundPeer() is true (a stale tip is detected)\n+        // * BLOCK_RELAY if it's time to try an extra block-relay-only peer (to confirm our tip is current)\n+        // * FEELER if it's time to try a feeler\n+        // * else retry the loop (sleep a bit and start from the top of this list)\n+\n+        if (open_sensitive_relay) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": 1213614742,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes. That is a bit hidden/implicit in the creation of the grant, in `master`:\r\n\r\n```cpp\r\nCSemaphoreGrant grant(*semOutbound);\r\n```\r\n\r\nthis would hang if there are too many connections, waiting for a free slot to be available (somebody to disconnect).\r\n\r\nAdded a mention to it in the description of `-maxconnections`.",
      "created_at": "2023-06-02T09:16:41Z",
      "updated_at": "2023-06-02T09:16:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214131440",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214131440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1789,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214671917",
      "pull_request_review_id": 1458209334,
      "id": 1214671917,
      "node_id": "PRRC_kwDOABII585IZmwt",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why use a funny value here instead of our actual subver? I'm guessing it's for extra anonymity? Could there be any downsides though, like nodes that refuse connections to certain agents?",
      "created_at": "2023-06-02T18:11:10Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214671917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214671917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214675802",
      "pull_request_review_id": 1458209334,
      "id": 1214675802,
      "node_id": "PRRC_kwDOABII585IZnta",
      "diff_hunk": "@@ -3515,6 +3614,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 187,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why is this extra ping needed for sensitive connections ?",
      "created_at": "2023-06-02T18:16:18Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214675802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214675802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214678210",
      "pull_request_review_id": 1458209334,
      "id": 1214678210,
      "node_id": "PRRC_kwDOABII585IZoTC",
      "diff_hunk": "@@ -4788,6 +4911,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                     if (ping_time.count() >= 0) {\n                         // Let connman know about this successful ping-pong\n                         pfrom.PongReceived(ping_time);\n+                        if (pfrom.IsSensitiveRelayConn()) {\n+                            pfrom.fDisconnect = true;",
      "path": "src/net_processing.cpp",
      "position": 489,
      "original_position": 217,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why disconnect the sensitive connection on PONG? Could that ever happen before we send our tx messages out?",
      "created_at": "2023-06-02T18:19:29Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214678210",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214678210"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 4948,
      "original_start_line": 4914,
      "start_side": "RIGHT",
      "line": 4949,
      "original_line": 4949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214684616",
      "pull_request_review_id": 1458209334,
      "id": 1214684616,
      "node_id": "PRRC_kwDOABII585IZp3I",
      "diff_hunk": "@@ -5729,6 +5918,16 @@ bool PeerManagerImpl::SendMessages(CNode* pto)\n                         if (tx_relay->m_bloom_filter) {\n                             if (!tx_relay->m_bloom_filter->IsRelevantAndUpdate(*txinfo.tx)) continue;\n                         }\n+                        if (WITH_LOCK(m_mempool.cs, return m_mempool.IsUnbroadcastTx(GenTxid::Txid(txinfo.tx->GetHash())))) {\n+                            LogPrintLevel( /* Continued */\n+                                BCLog::SENSITIVE_RELAY,\n+                                BCLog::Level::Info,\n+                                \"Omitting INV for unbroadcast transaction (txid=%s) from MEMPOOL reply peer=%d%s\\n\",\n+                                txinfo.tx->GetHash().ToString(),\n+                                pto->GetId(),\n+                                fLogIPs ? strprintf(\", peeraddr=%s\", pto->addr.ToStringAddrPort()) : \"\");\n+                            continue;\n+                        }",
      "path": "src/net_processing.cpp",
      "position": 519,
      "original_position": 519,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": 1212891740,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was just about to ask! Wouldn't this only hurt users who don't have sensitive relay available? Maybe `MEMPOOL` requests don't matter so much but wouldn't omitting from `GETDATA` prevent our own TX from being broadcast at all?",
      "created_at": "2023-06-02T18:27:21Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214684616",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214684616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 5925,
      "original_start_line": 5921,
      "start_side": "RIGHT",
      "line": 5934,
      "original_line": 5934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214690639",
      "pull_request_review_id": 1458209334,
      "id": 1214690639,
      "node_id": "PRRC_kwDOABII585IZrVP",
      "diff_hunk": "@@ -136,13 +141,23 @@ def test_msg_mempool(self):\n         filter_peer = P2PBloomFilter()\n \n         self.log.debug(\"Create a tx relevant to the peer before connecting\")\n-        txid = self.wallet.send_to(from_node=self.nodes[0], scriptPubKey=filter_peer.watch_script_pubkey, amount=9 * COIN)[\"txid\"]\n+\n+        amount = 9 * COIN\n+        fee = 1000\n+        tx = self.wallet.create_self_transfer(fee_rate=0)[\"tx\"]\n+        assert_greater_than_or_equal(tx.vout[0].nValue, amount + fee)\n+        tx.vout[0].nValue -= (amount + fee)\n+        tx.vout.append(CTxOut(amount, filter_peer.watch_script_pubkey))\n+        tx.rehash()\n+\n+        tx_sender = self.nodes[0].add_p2p_connection(P2PInterface())\n+        tx_sender.send_message(msg_tx(tx))",
      "path": "test/functional/p2p_filter.py",
      "position": 41,
      "original_position": 41,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "d2cb1585e331641bc7f2ae89de196eb8d663fd84",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just so I understand: this change is required because with the PR we wouldn't send our own TX in response to a `MEMPOOL` message, so you quickly spin up a dummy peer to send the TX to us first. Then we can assert that it was relayed to `fitler_peer` ?",
      "created_at": "2023-06-02T18:35:05Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214690639",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214690639"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 153,
      "original_start_line": 153,
      "start_side": "RIGHT",
      "line": 154,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214696791",
      "pull_request_review_id": 1458209334,
      "id": 1214696791,
      "node_id": "PRRC_kwDOABII585IZs1X",
      "diff_hunk": "@@ -2078,6 +2078,13 @@ void PeerManagerImpl::BlockChecked(const CBlock& block, const BlockValidationSta\n \n bool PeerManagerImpl::AlreadyHaveTx(const GenTxid& gtxid)\n {\n+    if (UseSensitiveRelay()) {\n+        LOCK(m_mempool.cs);\n+        if (m_mempool.IsUnbroadcastTx(gtxid)) {\n+            return false;\n+        }",
      "path": "src/net_processing.cpp",
      "position": 141,
      "original_position": 8,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "da000ed0a67bca3f1e5765eab4300bcb636bcab8",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: don't we usually do this kind of logic in one line?",
      "created_at": "2023-06-02T18:43:34Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214696791",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214696791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 2084,
      "original_start_line": 2083,
      "start_side": "RIGHT",
      "line": 2086,
      "original_line": 2086,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214698071",
      "pull_request_review_id": 1458209334,
      "id": 1214698071,
      "node_id": "PRRC_kwDOABII585IZtJX",
      "diff_hunk": "@@ -4210,6 +4219,23 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         m_txrequest.ReceivedResponse(pfrom.GetId(), txid);\n         if (tx.HasWitness()) m_txrequest.ReceivedResponse(pfrom.GetId(), wtxid);\n \n+        if (UseSensitiveRelay() && m_mempool.RemoveUnbroadcastTx(txid)) {\n+            LogPrintLevel( /* Continued */\n+                BCLog::SENSITIVE_RELAY,\n+                BCLog::Level::Info,\n+                \"Received own transaction (txid=%s) from the network from peer=%d%s; \"\n+                \"stopping sensitive broadcast and broadcasting it to everybody as if it is not our transaction\\n\",",
      "path": "src/net_processing.cpp",
      "position": 451,
      "original_position": 34,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "da000ed0a67bca3f1e5765eab4300bcb636bcab8",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Super cool idea! Is there common chance for failure here though? This relies on a chain of peers from the sensitive relay node back to us that haven't seen the tx yet.",
      "created_at": "2023-06-02T18:45:21Z",
      "updated_at": "2023-06-02T19:05:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214698071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214698071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4319,
      "original_line": 4319,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214738570",
      "pull_request_review_id": 1458360554,
      "id": 1214738570,
      "node_id": "PRRC_kwDOABII585IZ3CK",
      "diff_hunk": "@@ -4788,6 +4911,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                     if (ping_time.count() >= 0) {\n                         // Let connman know about this successful ping-pong\n                         pfrom.PongReceived(ping_time);\n+                        if (pfrom.IsSensitiveRelayConn()) {\n+                            pfrom.fDisconnect = true;",
      "path": "src/net_processing.cpp",
      "position": 489,
      "original_position": 217,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214678210,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(I just realized I answered my own question from https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214675802)\r\n\r\nBut still, don't we also send automatic PINGs ? Could that result in premature disconnection?",
      "created_at": "2023-06-02T19:20:47Z",
      "updated_at": "2023-06-02T19:20:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214738570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214738570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 4948,
      "original_start_line": 4914,
      "start_side": "RIGHT",
      "line": 4949,
      "original_line": 4949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214831451",
      "pull_request_review_id": 1458467993,
      "id": 1214831451,
      "node_id": "PRRC_kwDOABII585IaNtb",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214671917,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems for extra anonymity, but I have a similar doubt, couldn't I make easier for someone to censor us?",
      "created_at": "2023-06-02T20:55:32Z",
      "updated_at": "2023-06-02T20:55:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214831451",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214831451"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214832859",
      "pull_request_review_id": 1458469430,
      "id": 1214832859,
      "node_id": "PRRC_kwDOABII585IaODb",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214671917,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unless we want to sybil the network and fake long-term connections, it's obvious what this connection will be about? Just retry with new peers until someone honest propagates it?",
      "created_at": "2023-06-02T20:57:07Z",
      "updated_at": "2023-06-02T20:57:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1214832859",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1214832859"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218012577",
      "pull_request_review_id": 1462433959,
      "id": 1218012577,
      "node_id": "PRRC_kwDOABII585ImWWh",
      "diff_hunk": "@@ -5729,6 +5918,16 @@ bool PeerManagerImpl::SendMessages(CNode* pto)\n                         if (tx_relay->m_bloom_filter) {\n                             if (!tx_relay->m_bloom_filter->IsRelevantAndUpdate(*txinfo.tx)) continue;\n                         }\n+                        if (WITH_LOCK(m_mempool.cs, return m_mempool.IsUnbroadcastTx(GenTxid::Txid(txinfo.tx->GetHash())))) {\n+                            LogPrintLevel( /* Continued */\n+                                BCLog::SENSITIVE_RELAY,\n+                                BCLog::Level::Info,\n+                                \"Omitting INV for unbroadcast transaction (txid=%s) from MEMPOOL reply peer=%d%s\\n\",\n+                                txinfo.tx->GetHash().ToString(),\n+                                pto->GetId(),\n+                                fLogIPs ? strprintf(\", peeraddr=%s\", pto->addr.ToStringAddrPort()) : \"\");\n+                            continue;\n+                        }",
      "path": "src/net_processing.cpp",
      "position": 519,
      "original_position": 519,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b6fd6b525d3ee4d89331dc04d86f854cb1decccd",
      "in_reply_to_id": 1212891740,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For `GETDATA`, this only applies to transactions which we have not `INV`ed to the peer. Otherwise `INV`ed transactions will be sent via:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/f4a8269dfc144cc918570bdb870aa5143a11c1fe/src/net_processing.cpp#L2307",
      "created_at": "2023-06-05T12:35:48Z",
      "updated_at": "2023-06-05T12:35:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218012577",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218012577"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 5925,
      "original_start_line": 5921,
      "start_side": "RIGHT",
      "line": 5934,
      "original_line": 5934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218020772",
      "pull_request_review_id": 1462448234,
      "id": 1218020772,
      "node_id": "PRRC_kwDOABII585ImYWk",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214671917,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "TLDR: @instagibbs, right! :)\r\n\r\nFirst, the problem with the user-agent string is that it can be customized which will totally reveal the identity of the sender. Next idea is to use the non-customized user-agent even if `-uacomment=` is configured. But then, why even reveal the version - whether it is 26.0 or 27.0? Right after a new release there will be few nodes that run the just-released version and thus the anonymity set will be small. So this string better be constant - either empty string or whatever other constant. `/pynode:0.0.1/` was suggested here - https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517896418",
      "created_at": "2023-06-05T12:43:12Z",
      "updated_at": "2023-06-05T12:43:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218020772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218020772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218073603",
      "pull_request_review_id": 1462540270,
      "id": 1218073603,
      "node_id": "PRRC_kwDOABII585ImlQD",
      "diff_hunk": "@@ -3515,6 +3614,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 187,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214675802,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just one ping will be send. It is needed because without it the receiving bitcoind may ignore the TX message since the sender disconnects immediately after that, see https://github.com/bitcoin/bitcoin/issues/4432. Sending a ping and waiting for pong ensures that the preceding TX message has been processed (unless somebody implements out-of-order messages processing).",
      "created_at": "2023-06-05T13:26:49Z",
      "updated_at": "2023-06-05T13:26:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218073603",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218073603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218082238",
      "pull_request_review_id": 1462554319,
      "id": 1218082238,
      "node_id": "PRRC_kwDOABII585ImnW-",
      "diff_hunk": "@@ -4788,6 +4911,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                     if (ping_time.count() >= 0) {\n                         // Let connman know about this successful ping-pong\n                         pfrom.PongReceived(ping_time);\n+                        if (pfrom.IsSensitiveRelayConn()) {\n+                            pfrom.fDisconnect = true;",
      "path": "src/net_processing.cpp",
      "position": 489,
      "original_position": 217,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214678210,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Why disconnect the sensitive connection on PONG?\r\n\r\nBecause then we assume the TX message that preceded the PING message has been processed.\r\n\r\n> Could that ever happen before we send our tx messages out?\r\n\r\nYes, if the peer sends us unsolicited PONG without us sending PING before that.\r\n\r\n> But still, don't we also send automatic PINGs?\r\n\r\nYes, and for the sensitive relay connections this should be the first PING. The point is to send TX before any PING.",
      "created_at": "2023-06-05T13:32:10Z",
      "updated_at": "2023-06-05T13:32:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218082238",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218082238"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 4948,
      "original_start_line": 4914,
      "start_side": "RIGHT",
      "line": 4949,
      "original_line": 4949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218088888",
      "pull_request_review_id": 1462570773,
      "id": 1218088888,
      "node_id": "PRRC_kwDOABII585Imo-4",
      "diff_hunk": "@@ -136,13 +141,23 @@ def test_msg_mempool(self):\n         filter_peer = P2PBloomFilter()\n \n         self.log.debug(\"Create a tx relevant to the peer before connecting\")\n-        txid = self.wallet.send_to(from_node=self.nodes[0], scriptPubKey=filter_peer.watch_script_pubkey, amount=9 * COIN)[\"txid\"]\n+\n+        amount = 9 * COIN\n+        fee = 1000\n+        tx = self.wallet.create_self_transfer(fee_rate=0)[\"tx\"]\n+        assert_greater_than_or_equal(tx.vout[0].nValue, amount + fee)\n+        tx.vout[0].nValue -= (amount + fee)\n+        tx.vout.append(CTxOut(amount, filter_peer.watch_script_pubkey))\n+        tx.rehash()\n+\n+        tx_sender = self.nodes[0].add_p2p_connection(P2PInterface())\n+        tx_sender.send_message(msg_tx(tx))",
      "path": "test/functional/p2p_filter.py",
      "position": 41,
      "original_position": 41,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "d2cb1585e331641bc7f2ae89de196eb8d663fd84",
      "in_reply_to_id": 1214690639,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, exactly. Before this change the test sent the transaction to the node using RPC and so it becomes locally-submitted, sensitive, unbroadcast, our own, etc transaction. With this change to the test it sends the transaction to the node via the P2P interface, so it is treated as normal, foreign, non-sensitive transaction and thus included in the MEMPOOL reply.\r\n\r\nBtw, if changes from c70da509e4224f738fa0229e1f434a854629acf2 `net_processing: omit unbroadcast txs from replies to GETDATA and MEMPOOL` are restricted only to `if (UseSensitiveRelay()) {` then this tweak to the test will not be necessary.",
      "created_at": "2023-06-05T13:36:59Z",
      "updated_at": "2023-06-05T13:36:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218088888",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218088888"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 153,
      "original_start_line": 153,
      "start_side": "RIGHT",
      "line": 154,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218179793",
      "pull_request_review_id": 1462721593,
      "id": 1218179793,
      "node_id": "PRRC_kwDOABII585Im_LR",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214671917,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok understood. In that case, would it make sense to be very explicit about what this connection is about? I mean user agent could essentially be \"I am going to send you one TX and then disconnect\". Additional behavior could even be encoded on the recipient side, maybe to ensure we don't disconnect prematurely ?",
      "created_at": "2023-06-05T14:44:53Z",
      "updated_at": "2023-06-05T14:44:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218179793",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218179793"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218267977",
      "pull_request_review_id": 1462865826,
      "id": 1218267977,
      "node_id": "PRRC_kwDOABII585InUtJ",
      "diff_hunk": "@@ -4788,6 +4911,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                     if (ping_time.count() >= 0) {\n                         // Let connman know about this successful ping-pong\n                         pfrom.PongReceived(ping_time);\n+                        if (pfrom.IsSensitiveRelayConn()) {\n+                            pfrom.fDisconnect = true;",
      "path": "src/net_processing.cpp",
      "position": 489,
      "original_position": 217,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214678210,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Yes, if the peer sends us unsolicited PONG without us sending PING before that.\r\n\r\nI don't think the peer can guess the right ping nonce reliably , can it?",
      "created_at": "2023-06-05T15:46:26Z",
      "updated_at": "2023-06-05T15:46:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218267977",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218267977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 4948,
      "original_start_line": 4914,
      "start_side": "RIGHT",
      "line": 4949,
      "original_line": 4949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218585985",
      "pull_request_review_id": 1463428381,
      "id": 1218585985,
      "node_id": "PRRC_kwDOABII585IoiWB",
      "diff_hunk": "@@ -1865,6 +1866,19 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     connOptions.m_i2p_accept_incoming = args.GetBoolArg(\"-i2pacceptincoming\", DEFAULT_I2P_ACCEPT_INCOMING);\n \n+    if (args.GetBoolArg(\"-sensitiverelayowntx\", DEFAULT_SENSITIVE_RELAY_OWN_TX)) {\n+        if (!IsReachable(NET_ONION) && !IsReachable(NET_I2P)) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "f73bb4cbc4fc3b89abadc60aec18aa0b774d5791",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There could be a race with the `torcontrol` thread, which may set `NET_ONION` to reachable before this line is encountered or only later.",
      "created_at": "2023-06-05T20:57:42Z",
      "updated_at": "2023-06-05T21:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218585985",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218585985"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1870,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218588419",
      "pull_request_review_id": 1463428381,
      "id": 1218588419,
      "node_id": "PRRC_kwDOABII585Ioi8D",
      "diff_hunk": "@@ -451,6 +451,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (conn_type == \"block-relay-only\") return \"block\";\n         if (conn_type == \"manual\" || conn_type == \"feeler\") return conn_type;\n         if (conn_type == \"addr-fetch\") return \"addr\";\n+        if (conn_type == \"senstitive-relay\") return \"srelay\";",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b33fd076327cd8dbeb96e7f80f86f95060c2d5f8",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "typo: sensitive-relay (extra \"t\")",
      "created_at": "2023-06-05T20:59:51Z",
      "updated_at": "2023-06-05T21:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218588419",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218588419"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 454,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218597944",
      "pull_request_review_id": 1463428381,
      "id": 1218597944,
      "node_id": "PRRC_kwDOABII585IolQ4",
      "diff_hunk": "@@ -486,7 +486,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-forcednsseed\", strprintf(\"Always query for peer addresses via DNS lookup (default: %u)\", DEFAULT_FORCEDNSSEED), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listen\", strprintf(\"Accept connections from outside (default: %u if no -proxy, -connect or -maxconnections=0)\", DEFAULT_LISTEN), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listenonion\", strprintf(\"Automatically create Tor onion service (default: %d)\", DEFAULT_LISTEN_ONION), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u. It does not apply to short-lived sensitive relay connections either.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "a35e4056e2d4df77a071a1c33e788b80fb4f3c2b",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this bypasses `-maxconnections`,  could we run into trouble if we don't have sufficient file descriptors (see `RaiseFileDescriptorLimit()` call in init)?",
      "created_at": "2023-06-05T21:12:01Z",
      "updated_at": "2023-06-05T21:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218597944",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218597944"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 489,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218631408",
      "pull_request_review_id": 1463428381,
      "id": 1218631408,
      "node_id": "PRRC_kwDOABII585Iotbw",
      "diff_hunk": "@@ -1749,18 +1769,19 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         bool anchor = false;\n         bool fFeeler = false;\n \n-        // Determine what type of connection to open. Opening\n-        // BLOCK_RELAY connections to addresses from anchors.dat gets the highest\n-        // priority. Then we open OUTBOUND_FULL_RELAY priority until we\n-        // meet our full-relay capacity. Then we open BLOCK_RELAY connection\n-        // until we hit our block-relay-only peer limit.\n-        // GetTryNewOutboundPeer() gets set when a stale tip is detected, so we\n-        // try opening an additional OUTBOUND_FULL_RELAY connection. If none of\n-        // these conditions are met, check to see if it's time to try an extra\n-        // block-relay-only peer (to confirm our tip is current, see below) or the next_feeler\n-        // timer to decide if we should open a FEELER.\n-\n-        if (!m_anchors.empty() && (nOutboundBlockRelay < m_max_outbound_block_relay)) {\n+        // Determine what type of connection to open, in order of priority:\n+        // * SENSITIVE_RELAY if needed",
      "path": "src/net.cpp",
      "position": 220,
      "original_position": 55,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "a35e4056e2d4df77a071a1c33e788b80fb4f3c2b",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm a bit worried about this priority: What would happen if we, for some reason, aren't able to make successful sensitive relay connections (e.g. we think that we can connect to Tor but misconfigured something, or maybe we can connect but don't have any addresses for these networks in our addrman).\r\nWouldn't we try again and again (since this is the first priority and `m_sensitive_relay_connections_to_open` is never reduced) and never attempt to make an outbound connection of another type?",
      "created_at": "2023-06-05T21:51:19Z",
      "updated_at": "2023-06-05T21:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1218631408",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1218631408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1825,
      "original_line": 1825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219111950",
      "pull_request_review_id": 1464510532,
      "id": 1219111950,
      "node_id": "PRRC_kwDOABII585IqiwO",
      "diff_hunk": "@@ -2078,6 +2078,13 @@ void PeerManagerImpl::BlockChecked(const CBlock& block, const BlockValidationSta\n \n bool PeerManagerImpl::AlreadyHaveTx(const GenTxid& gtxid)\n {\n+    if (UseSensitiveRelay()) {\n+        LOCK(m_mempool.cs);\n+        if (m_mempool.IsUnbroadcastTx(gtxid)) {\n+            return false;\n+        }",
      "path": "src/net_processing.cpp",
      "position": 141,
      "original_position": 8,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "da000ed0a67bca3f1e5765eab4300bcb636bcab8",
      "in_reply_to_id": 1214696791,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The guidelines allow both and I prefer this because: https://github.com/vasild/bitcoin/wiki/if-on-the-same-line",
      "created_at": "2023-06-06T07:51:01Z",
      "updated_at": "2023-06-06T07:51:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1219111950",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219111950"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 2084,
      "original_start_line": 2083,
      "start_side": "RIGHT",
      "line": 2086,
      "original_line": 2086,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219127718",
      "pull_request_review_id": 1464531191,
      "id": 1219127718,
      "node_id": "PRRC_kwDOABII585Iqmmm",
      "diff_hunk": "@@ -4210,6 +4219,23 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         m_txrequest.ReceivedResponse(pfrom.GetId(), txid);\n         if (tx.HasWitness()) m_txrequest.ReceivedResponse(pfrom.GetId(), wtxid);\n \n+        if (UseSensitiveRelay() && m_mempool.RemoveUnbroadcastTx(txid)) {\n+            LogPrintLevel( /* Continued */\n+                BCLog::SENSITIVE_RELAY,\n+                BCLog::Level::Info,\n+                \"Received own transaction (txid=%s) from the network from peer=%d%s; \"\n+                \"stopping sensitive broadcast and broadcasting it to everybody as if it is not our transaction\\n\",",
      "path": "src/net_processing.cpp",
      "position": 451,
      "original_position": 34,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "da000ed0a67bca3f1e5765eab4300bcb636bcab8",
      "in_reply_to_id": 1214698071,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This chain of peers is desired / demanded to consider the transaction successfully propagated. Lets say we are connected to 30 peers (some inbound, some outbound). If somebody of them gets the transaction (from somebody else, not from us) he will tell us about it due to the normal flooding mechanism because he will not be aware we have it. If all our 30 peers stay silent about the transaction, it means that they did not get it which is a sign it propagated only to some part of the network or did not propagate at all.\r\n\r\nMy understanding is that normally it takes a few seconds for a transaction to reach _every node_ in the network due to the flooding mechanism.",
      "created_at": "2023-06-06T07:59:51Z",
      "updated_at": "2023-06-06T07:59:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1219127718",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219127718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4319,
      "original_line": 4319,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223152947",
      "pull_request_review_id": 1470120014,
      "id": 1223152947,
      "node_id": "PRRC_kwDOABII585I59Uz",
      "diff_hunk": "@@ -451,6 +451,7 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (conn_type == \"block-relay-only\") return \"block\";\n         if (conn_type == \"manual\" || conn_type == \"feeler\") return conn_type;\n         if (conn_type == \"addr-fetch\") return \"addr\";\n+        if (conn_type == \"senstitive-relay\") return \"srelay\";",
      "path": "src/bitcoin-cli.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "b33fd076327cd8dbeb96e7f80f86f95060c2d5f8",
      "in_reply_to_id": 1218588419,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2023-06-08T14:47:53Z",
      "updated_at": "2023-06-08T14:47:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1223152947",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223152947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 454,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223163824",
      "pull_request_review_id": 1470134560,
      "id": 1223163824,
      "node_id": "PRRC_kwDOABII585I5_-w",
      "diff_hunk": "@@ -1865,6 +1866,19 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     connOptions.m_i2p_accept_incoming = args.GetBoolArg(\"-i2pacceptincoming\", DEFAULT_I2P_ACCEPT_INCOMING);\n \n+    if (args.GetBoolArg(\"-sensitiverelayowntx\", DEFAULT_SENSITIVE_RELAY_OWN_TX)) {\n+        if (!IsReachable(NET_ONION) && !IsReachable(NET_I2P)) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "f73bb4cbc4fc3b89abadc60aec18aa0b774d5791",
      "in_reply_to_id": 1218585985,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, I relaxed the condition a bit to error only if we are sure Tor is unreachable and will remain unreachable. There is still a chance that the tor control thread will not set Tor to reachable, but there is also a chance that Tor is set to reachable here, but the Tor server is down. Later at runtime we do check again the reachable networks and in general the code must work when some or all of those networks go down.",
      "created_at": "2023-06-08T14:53:40Z",
      "updated_at": "2023-06-08T14:53:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1223163824",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223163824"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1870,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223171823",
      "pull_request_review_id": 1470147374,
      "id": 1223171823,
      "node_id": "PRRC_kwDOABII585I6B7v",
      "diff_hunk": "@@ -1749,18 +1769,19 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         bool anchor = false;\n         bool fFeeler = false;\n \n-        // Determine what type of connection to open. Opening\n-        // BLOCK_RELAY connections to addresses from anchors.dat gets the highest\n-        // priority. Then we open OUTBOUND_FULL_RELAY priority until we\n-        // meet our full-relay capacity. Then we open BLOCK_RELAY connection\n-        // until we hit our block-relay-only peer limit.\n-        // GetTryNewOutboundPeer() gets set when a stale tip is detected, so we\n-        // try opening an additional OUTBOUND_FULL_RELAY connection. If none of\n-        // these conditions are met, check to see if it's time to try an extra\n-        // block-relay-only peer (to confirm our tip is current, see below) or the next_feeler\n-        // timer to decide if we should open a FEELER.\n-\n-        if (!m_anchors.empty() && (nOutboundBlockRelay < m_max_outbound_block_relay)) {\n+        // Determine what type of connection to open, in order of priority:\n+        // * SENSITIVE_RELAY if needed",
      "path": "src/net.cpp",
      "position": 220,
      "original_position": 55,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "a35e4056e2d4df77a071a1c33e788b80fb4f3c2b",
      "in_reply_to_id": 1218631408,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes! I changed this to not try 2 consecutive sensitive relay connections. That is - after attempting one, give way to others (if any, otherwise sleep 0.5s) and only then try another sensitive relay.",
      "created_at": "2023-06-08T14:58:47Z",
      "updated_at": "2023-06-08T14:58:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1223171823",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223171823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1825,
      "original_line": 1825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223178234",
      "pull_request_review_id": 1470156383,
      "id": 1223178234,
      "node_id": "PRRC_kwDOABII585I6Df6",
      "diff_hunk": "@@ -486,7 +486,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-forcednsseed\", strprintf(\"Always query for peer addresses via DNS lookup (default: %u)\", DEFAULT_FORCEDNSSEED), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listen\", strprintf(\"Accept connections from outside (default: %u if no -proxy, -connect or -maxconnections=0)\", DEFAULT_LISTEN), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listenonion\", strprintf(\"Automatically create Tor onion service (default: %d)\", DEFAULT_LISTEN_ONION), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u. It does not apply to short-lived sensitive relay connections either.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "a35e4056e2d4df77a071a1c33e788b80fb4f3c2b",
      "in_reply_to_id": 1218597944,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, at least I should raise the fd limit, but by how much? Should we limit the number of sensitive relay connections? I think it makes sense to try as hard as possible even if that means sometimes a temporary error of running out of file descriptors. Or is that not a good idea? I guess in some cases a node operator may submit many transactions at once to their node. What do you think would be the best approach?",
      "created_at": "2023-06-08T15:02:15Z",
      "updated_at": "2023-06-08T15:02:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1223178234",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1223178234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 489,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1224124709",
      "pull_request_review_id": 1471667915,
      "id": 1224124709,
      "node_id": "PRRC_kwDOABII585I9qkl",
      "diff_hunk": "@@ -486,7 +486,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-forcednsseed\", strprintf(\"Always query for peer addresses via DNS lookup (default: %u)\", DEFAULT_FORCEDNSSEED), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listen\", strprintf(\"Accept connections from outside (default: %u if no -proxy, -connect or -maxconnections=0)\", DEFAULT_LISTEN), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-listenonion\", strprintf(\"Automatically create Tor onion service (default: %d)\", DEFAULT_LISTEN_ONION), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-maxconnections=<n>\", strprintf(\"Maintain at most <n> connections to peers (default: %u). This limit does not apply to connections manually added via -addnode or the addnode RPC, which have a separate limit of %u. It does not apply to short-lived sensitive relay connections either.\", DEFAULT_MAX_PEER_CONNECTIONS, MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "a35e4056e2d4df77a071a1c33e788b80fb4f3c2b",
      "in_reply_to_id": 1218597944,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I put a cap on the maximum number of sensitive relay connections that can be opened. Breaking through the max open file descriptors looks like a bad idea - it would also hamper access to the filesystem, even if temporarily. I assume somebody may submit thousands of local transactions in no time.",
      "created_at": "2023-06-09T10:13:49Z",
      "updated_at": "2023-06-09T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1224124709",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1224124709"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 489,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253796131",
      "pull_request_review_id": 1515567642,
      "id": 1253796131,
      "node_id": "PRRC_kwDOABII585Ku2kj",
      "diff_hunk": "@@ -3515,6 +3614,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 187,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214675802,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This implementation of that logic doesn't seem ideal to me:\r\n\r\n * sending the TX without doing INV/GETDATA first risks having the TX be ignored as unrequested\r\n\r\n * `PushUnbroadcastTx` doesn't actually send the TX, but `MaybeSendPing` does actually send the PING, so you might get the PONG and closes the connection before the other end has actually received/processed the TX",
      "created_at": "2023-07-06T00:50:11Z",
      "updated_at": "2023-07-06T00:50:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1253796131",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253796131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254309734",
      "pull_request_review_id": 1516342252,
      "id": 1254309734,
      "node_id": "PRRC_kwDOABII585Kwz9m",
      "diff_hunk": "@@ -4788,6 +4911,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                     if (ping_time.count() >= 0) {\n                         // Let connman know about this successful ping-pong\n                         pfrom.PongReceived(ping_time);\n+                        if (pfrom.IsSensitiveRelayConn()) {\n+                            pfrom.fDisconnect = true;",
      "path": "src/net_processing.cpp",
      "position": 489,
      "original_position": 217,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214678210,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, yes, this is in the \"nonce match\" branch of the logic that handles PONG. So, the answer to \"Could that ever happen before we send our tx messages out?\" is just \"No\".",
      "created_at": "2023-07-06T11:33:00Z",
      "updated_at": "2023-07-06T11:33:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1254309734",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254309734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 4948,
      "original_start_line": 4914,
      "start_side": "RIGHT",
      "line": 4949,
      "original_line": 4949,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254444996",
      "pull_request_review_id": 1516556628,
      "id": 1254444996,
      "node_id": "PRRC_kwDOABII585KxU_E",
      "diff_hunk": "@@ -3515,6 +3614,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 187,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214675802,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> sending the TX without doing INV/GETDATA first risks having the TX be ignored as unrequested\r\n\r\nI thought about doing `INV` first and waiting for get data but decided to not do that for the following reasons:\r\n\r\n1. Bitcoin Core accepts unsolicited transactions. According to https://developer.bitcoin.org/reference/p2p_networking.html#tx there is already some software that sends unsolicited transactions.\r\n2. It would add complexity to the implementation.\r\n3. After `INV` we would have to wait for some time for `GETDATA`, then in some cases when the wait is too little we risk cutting the connection just before we get `GETDATA`.\r\n4. Last, but this is the most important IMO: it does not matter. There is redundancy: the transaction will be sent to more than one peer and we will retry if we don't hear back from the network about it. It is expected and is ok if some of the peers we send the transaction drops it.\r\n\r\n> `PushUnbroadcastTx` doesn't actually send the TX, but `MaybeSendPing` does actually send the PING, so you might get the PONG and closes the connection before the other end has actually received/processed the TX\r\n\r\nI don't think so. Both `PushUnbroadcastTx()` and `MaybeSendPing()` end up calling `PushMessage()` which enqueues the message in `CNode::vSendMsg`. This is done synchronously so the transaction will go before the ping. Then messages from `CNode::vSendMsg` are processed and sent in the order they were added (FIFO).\r\n",
      "created_at": "2023-07-06T13:29:10Z",
      "updated_at": "2023-07-06T13:29:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1254444996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254444996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254506653",
      "pull_request_review_id": 1516655704,
      "id": 1254506653,
      "node_id": "PRRC_kwDOABII585KxkCd",
      "diff_hunk": "@@ -3515,6 +3614,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 187,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214675802,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I don't think so.\r\n\r\nYou're right -- I missed seeing the call to `ProcessGetData` and assumed it wasn't picked up until the next `ProcessMessages`.",
      "created_at": "2023-07-06T14:14:27Z",
      "updated_at": "2023-07-06T14:14:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1254506653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1254506653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267244372",
      "pull_request_review_id": 1535806985,
      "id": 1267244372,
      "node_id": "PRRC_kwDOABII585LiJ1U",
      "diff_hunk": "@@ -3292,6 +3367,56 @@ void PeerManagerImpl::ProcessCompactBlockTxns(CNode& pfrom, Peer& peer, const Bl\n     return;\n }\n \n+void PeerManagerImpl::PushUnbroadcastTx(CNode& node, Peer& peer, const std::atomic<bool>& interrupt)\n+{\n+    Peer::TxRelay* tx_relay{peer.GetTxRelay()};\n+    if (tx_relay == nullptr) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no transactions relay with this peer (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        m_connman.ScheduleSensitiveRelayConnections(1);",
      "path": "src/net_processing.cpp",
      "position": 234,
      "original_position": 234,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IIUC this line schedules a replacement sensitive connection because the one we were passed in has the wrong services and so it gets dumped. I think this is the only line in this function that makes it apply strictly to only sensitive relays. So I wonder if that should be asserted at the top? Or could be renamed to `PushUnbroadcastTxToSensistiveRelay()`? At the very least maybe sensitive-only should be explained in the function description on L933 ?",
      "created_at": "2023-07-18T19:50:48Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267244372",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267244372"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3380,
      "original_line": 3380,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267248349",
      "pull_request_review_id": 1535806985,
      "id": 1267248349,
      "node_id": "PRRC_kwDOABII585LiKzd",
      "diff_hunk": "@@ -3292,6 +3367,56 @@ void PeerManagerImpl::ProcessCompactBlockTxns(CNode& pfrom, Peer& peer, const Bl\n     return;\n }\n \n+void PeerManagerImpl::PushUnbroadcastTx(CNode& node, Peer& peer, const std::atomic<bool>& interrupt)\n+{\n+    Peer::TxRelay* tx_relay{peer.GetTxRelay()};\n+    if (tx_relay == nullptr) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no transactions relay with this peer (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        m_connman.ScheduleSensitiveRelayConnections(1);\n+        return;\n+    }\n+\n+    const auto unbroadcast_txids = m_mempool.GetUnbroadcastTxs();\n+\n+    if (unbroadcast_txids.empty()) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no more sensitive transactions to \"\n+                      \"relay (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        return;\n+    }\n+\n+    // Randomly pick some transaction from unbroadcast_txids.\n+    const uint64_t n{FastRandomContext{}.randrange(unbroadcast_txids.size())};\n+    auto tx_iter = unbroadcast_txids.begin();\n+    for (uint64_t i = 0; i < n; ++i) {\n+        ++tx_iter;\n+    }",
      "path": "src/net_processing.cpp",
      "position": 256,
      "original_position": 256,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "wow, is this really the fastest way to get a random element from `std::set` ? funny.",
      "created_at": "2023-07-18T19:55:45Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267248349",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267248349"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 3400,
      "original_start_line": 3400,
      "start_side": "RIGHT",
      "line": 3402,
      "original_line": 3402,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267253028",
      "pull_request_review_id": 1535806985,
      "id": 1267253028,
      "node_id": "PRRC_kwDOABII585LiL8k",
      "diff_hunk": "@@ -3579,6 +3719,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         }\n \n         pfrom.fSuccessfullyConnected = true;\n+\n+        if (pfrom.IsSensitiveRelayConn()) {\n+            // The peer may intend to later send us NetMsgType::FEEFILTER limiting\n+            // cheap transactions, but we don't wait for that and thus we may send\n+            // them a transaction below their threshold. This is ok because this\n+            // relay logic is designed to work even in cases when the peer drops\n+            // the transaction (due to it being too cheap, or for other reasons).\n+            PushUnbroadcastTx(pfrom, *peer, interruptMsgProc);\n+\n+            MaybeSendPing(pfrom, *peer, GetTime<std::chrono::microseconds>());",
      "path": "src/net_processing.cpp",
      "position": 417,
      "original_position": 417,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would it make any sense here to manually set `peer.m_ping_queued = true` to guarantee (not \"maybe\") sending ping?",
      "created_at": "2023-07-18T20:01:30Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267253028",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267253028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3731,
      "original_line": 3731,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267276546",
      "pull_request_review_id": 1535806985,
      "id": 1267276546,
      "node_id": "PRRC_kwDOABII585LiRsC",
      "diff_hunk": "@@ -40,6 +41,16 @@ def __init__(self):\n         self.af = socket.AF_INET # Bind address family\n         self.unauth = False  # Support unauthenticated\n         self.auth = False  # Support authentication\n+        # An array of objects like:\n+        # {\n+        #     \"listen_addr\": \"127.0.0.1\"\n+        #     \"listen_port\": 28276\n+        #     \"node\": python_p2p_node,\n+        #     \"requested_to_addr\": \"the_client_asked_to_connect_to_this_addr.onion\",",
      "path": "test/functional/test_framework/socks5.py",
      "position": 17,
      "original_position": 17,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't see `.node` used below and I don't think you really use `.requested_to_addr` anywhere after setting it below? Could this just be an array of `CAddress` or something like that?",
      "created_at": "2023-07-18T20:29:47Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267276546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267276546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 46,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": 49,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267277048",
      "pull_request_review_id": 1535806985,
      "id": 1267277048,
      "node_id": "PRRC_kwDOABII585LiRz4",
      "diff_hunk": "@@ -116,6 +127,30 @@ def handle(self):\n             cmdin = Socks5Command(cmd, atyp, addr, port, username, password)\n             self.serv.queue.put(cmdin)\n             logger.info('Proxy: %s', cmdin)\n+\n+            if self.serv.conf.destinations_used < len(self.serv.conf.destinations):",
      "path": "test/functional/test_framework/socks5.py",
      "position": 30,
      "original_position": 30,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this guy need an `else`? Maybe raise error that a connection request was made after all destinations have been used?",
      "created_at": "2023-07-18T20:30:22Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267277048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267277048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 131,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267279962",
      "pull_request_review_id": 1535806985,
      "id": 1267279962,
      "node_id": "PRRC_kwDOABII585LiSha",
      "diff_hunk": "@@ -1003,13 +1003,35 @@ size_t CTxMemPool::DynamicMemoryUsage() const {\n     return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 15 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + memusage::DynamicUsage(vTxHashes) + cachedInnerUsage;\n }\n \n-void CTxMemPool::RemoveUnbroadcastTx(const uint256& txid, const bool unchecked) {\n+bool CTxMemPool::RemoveUnbroadcastTx(const uint256& txid, const bool unchecked) {\n     LOCK(cs);\n \n     if (m_unbroadcast_txids.erase(txid))\n     {\n         LogPrint(BCLog::MEMPOOL, \"Removed %i from set of unbroadcast txns%s\\n\", txid.GetHex(), (unchecked ? \" before confirmation that txn was sent out\" : \"\"));\n+        return true;\n+    }\n+    return false;\n+}\n+\n+bool CTxMemPool::IsUnbroadcastTx(const GenTxid& gtxid) const",
      "path": "src/txmempool.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why did you need this to support wtxid? Is that how we are verifying our TX made the round trip out and back (without being malleated)?",
      "created_at": "2023-07-18T20:33:53Z",
      "updated_at": "2023-07-18T20:36:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1267279962",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267279962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1017,
      "original_line": 1017,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275287508",
      "pull_request_review_id": 1548267148,
      "id": 1275287508,
      "node_id": "PRRC_kwDOABII585MA1fU",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2023 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test how locally submitted transactions are sent to the network when sensitive relay is used.\n+\n+The topology in the test is:\n+\n+Bitcoin Core (node0)\n+               ^   v       The default full-outbound + block-only connections\n+               |   |       (MAX_OUTBOUND_FULL_RELAY_CONNECTIONS + MAX_BLOCK_RELAY_ONLY_CONNECTIONS):\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[0][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[1][\"node\"])\n+               |   ...\n+               |   |       The sensitive relay TX recipients\n+               |   |       (SENSITIVE_RELAY_NUM_BROADCAST_PER_TX)\n+               |   |       plus maybe some feeler or extra block only connections:\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i + 1][\"node\"])\n+               |   ...\n+               |\n+               *---------< observer_inbound\n+\"\"\"\n+\n+from test_framework.p2p import (\n+    P2PDataStore,\n+    P2PInterface,\n+    P2P_SERVICES,\n+    P2P_VERSION,\n+)\n+from test_framework.messages import (\n+    CAddress,\n+    CInv,\n+    MSG_WTX,\n+    msg_getdata,\n+    msg_inv,\n+    msg_mempool,\n+)\n+from test_framework.socks5 import (\n+    Socks5Configuration,\n+    Socks5Server,\n+)\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+)\n+from test_framework.util import (\n+    MAX_NODES,\n+    assert_equal,\n+    p2p_port,\n+)\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n+\n+MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\n+MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\n+SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\n+\n+# Fill addrman with these addresses. Must have enough Tor addresses, so that even\n+# if all 10 default connections are opened to a Tor address (!?) there must be more\n+# for sensitive relays.\n+addresses = [\n+    \"1.65.195.98\",\n+    \"2.59.236.56\",\n+    \"2.83.114.20\",\n+    \"2.248.194.16\",\n+    \"5.2.154.6\",\n+    \"5.101.140.30\",\n+    \"5.128.87.126\",\n+    \"5.144.21.49\",\n+    \"5.172.132.104\",\n+    \"5.188.62.18\",\n+    \"5.200.2.180\",\n+    \"8.129.184.255\",\n+    \"8.209.105.138\",\n+    \"12.34.98.148\",\n+    \"14.199.102.151\",\n+    \"18.27.79.17\",\n+    \"18.27.124.231\",\n+    \"18.216.249.151\",\n+    \"23.88.155.58\",\n+    \"23.93.101.158\",\n+    \"[2001:19f0:1000:1db3:5400:4ff:fe56:5a8d]\",\n+    \"[2001:19f0:5:24da:3eec:efff:feb9:f36e]\",\n+    \"[2001:19f0:5:24da::]\",\n+    \"[2001:19f0:5:4535:3eec:efff:feb9:87e4]\",\n+    \"[2001:19f0:5:4535::]\",\n+    \"[2001:1bc0:c1::2000]\",\n+    \"[2001:1c04:4008:6300:8a5f:2678:114b:a660]\",\n+    \"[2001:41d0:203:3739::]\",\n+    \"[2001:41d0:203:8f49::]\",\n+    \"[2001:41d0:203:bb0a::]\",\n+    \"[2001:41d0:2:bf8f::]\",\n+    \"[2001:41d0:303:de8b::]\",\n+    \"[2001:41d0:403:3d61::]\",\n+    \"[2001:41d0:405:9600::]\",\n+    \"[2001:41d0:8:ed7f::1]\",\n+    \"[2001:41d0:a:69a2::1]\",\n+    \"[2001:41f0::62:6974:636f:696e]\",\n+    \"[2001:470:1b62::]\",\n+    \"[2001:470:1f05:43b:2831:8530:7179:5864]\",\n+    \"[2001:470:1f09:b14::11]\",\n+    \"2bqghnldu6mcug4pikzprwhtjjnsyederctvci6klcwzepnjd46ikjyd.onion\",\n+    \"4lr3w2iyyl5u5l6tosizclykf5v3smqroqdn2i4h3kq6pfbbjb2xytad.onion\",\n+    \"5g72ppm3krkorsfopcm2bi7wlv4ohhs4u4mlseymasn7g7zhdcyjpfid.onion\",\n+    \"5sbmcl4m5api5tqafi4gcckrn3y52sz5mskxf3t6iw4bp7erwiptrgqd.onion\",\n+    \"776aegl7tfhg6oiqqy76jnwrwbvcytsx2qegcgh2mjqujll4376ohlid.onion\",\n+    \"77mdte42srl42shdh2mhtjr7nf7dmedqrw6bkcdekhdvmnld6ojyyiad.onion\",\n+    \"azbpsh4arqlm6442wfimy7qr65bmha2zhgjg7wbaji6vvaug53hur2qd.onion\",\n+    \"b64xcbleqmwgq2u46bh4hegnlrzzvxntyzbmucn3zt7cssm7y4ubv3id.onion\",\n+    \"bsqbtcparrfihlwolt4xgjbf4cgqckvrvsfyvy6vhiqrnh4w6ghixoid.onion\",\n+    \"bsqbtctulf2g4jtjsdfgl2ed7qs6zz5wqx27qnyiik7laockryvszqqd.onion\",\n+    \"cwi3ekrwhig47dhhzfenr5hbvckj7fzaojygvazi2lucsenwbzwoyiqd.onion\",\n+    \"devinbtcmwkuitvxl3tfi5of4zau46ymeannkjv6fpnylkgf3q5fa3id.onion\",\n+    \"devinbtctu7uctl7hly2juu3thbgeivfnvw3ckj3phy6nyvpnx66yeyd.onion\",\n+    \"devinbtcyk643iruzfpaxw3on2jket7rbjmwygm42dmdyub3ietrbmid.onion\",\n+    \"dtql5vci4iaml4anmueftqr7bfgzqlauzfy4rc2tfgulldd3ekyijjyd.onion\",\n+    \"emzybtc25oddoa2prol2znpz2axnrg6k77xwgirmhv7igoiucddsxiad.onion\",\n+    \"emzybtc3ewh7zihpkdvuwlgxrhzcxy2p5fvjggp7ngjbxcytxvt4rjid.onion\",\n+    \"emzybtc454ewbviqnmgtgx3rgublsgkk23r4onbhidcv36wremue4kqd.onion\",\n+    \"emzybtc5bnpb2o6gh54oquiox54o4r7yn4a2wiiwzrjonlouaibm2zid.onion\",\n+    \"fpz6r5ppsakkwypjcglz6gcnwt7ytfhxskkfhzu62tnylcknh3eq6pad.onion\",\n+    \"255fhcp6ajvftnyo7bwz3an3t4a4brhopm3bamyh2iu5r3gnr2rq.b32.i2p\",\n+    \"27yrtht5b5bzom2w5ajb27najuqvuydtzb7bavlak25wkufec5mq.b32.i2p\",\n+    \"3gocb7wc4zvbmmebktet7gujccuux4ifk3kqilnxnj5wpdpqx2hq.b32.i2p\",\n+    \"4fcc23wt3hyjk3csfzcdyjz5pcwg5dzhdqgma6bch2qyiakcbboa.b32.i2p\",\n+    \"4osyqeknhx5qf3a73jeimexwclmt42cju6xdp7icja4ixxguu2hq.b32.i2p\",\n+    \"4umsi4nlmgyp4rckosg4vegd2ysljvid47zu7pqsollkaszcbpqq.b32.i2p\",\n+    \"6j2ezegd3e2e2x3o3pox335f5vxfthrrigkdrbgfbdjchm5h4awa.b32.i2p\",\n+    \"6n36ljyr55szci5ygidmxqer64qr24f4qmnymnbvgehz7qinxnla.b32.i2p\",\n+    \"72yjs6mvlby3ky6mgpvvlemmwq5pfcznrzd34jkhclgrishqdxva.b32.i2p\",\n+    \"a5qsnv3maw77mlmmzlcglu6twje6ttctd3fhpbfwcbpmewx6fczq.b32.i2p\",\n+    \"aovep2pco7v2k4rheofrgytbgk23eg22dczpsjqgqtxcqqvmxk6a.b32.i2p\",\n+    \"bitcoi656nll5hu6u7ddzrmzysdtwtnzcnrjd4rfdqbeey7dmn5a.b32.i2p\",\n+    \"brifkruhlkgrj65hffybrjrjqcgdgqs2r7siizb5b2232nruik3a.b32.i2p\",\n+    \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+    \"day3hgxyrtwjslt54sikevbhxxs4qzo7d6vi72ipmscqtq3qmijq.b32.i2p\",\n+    \"du5kydummi23bjfp6bd7owsvrijgt7zhvxmz5h5f5spcioeoetwq.b32.i2p\",\n+    \"e55k6wu46rzp4pg5pk5npgbr3zz45bc3ihtzu2xcye5vwnzdy7pq.b32.i2p\",\n+    \"eciohu5nq7vsvwjjc52epskuk75d24iccgzmhbzrwonw6lx4gdva.b32.i2p\",\n+    \"ejlnngarmhqvune74ko7kk55xtgbz5i5ncs4vmnvjpy3l7y63xaa.b32.i2p\",\n+    \"fhzlp3xroabohnmjonu5iqazwhlbbwh5cpujvw2azcu3srqdceja.b32.i2p\",\n+    \"[fc32:17ea:e415:c3bf:9808:149d:b5a2:c9aa]\",\n+    \"[fcc7:be49:ccd1:dc91:3125:f0da:457d:8ce]\",\n+    \"[fcdc:73ae:b1a9:1bf8:d4c2:811:a4c7:c34e]\",",
      "path": "test/functional/p2p_local_tx_relay.py",
      "position": 150,
      "original_position": 150,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I added some extra logs to bitcoind and ran the test, these addrs fail `IsRoutable()`. I assume these are CJDNS addresses?",
      "created_at": "2023-07-26T17:33:42Z",
      "updated_at": "2023-07-26T17:44:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1275287508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275287508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 148,
      "original_start_line": 148,
      "start_side": "RIGHT",
      "line": 150,
      "original_line": 150,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275391537",
      "pull_request_review_id": 1548440940,
      "id": 1275391537,
      "node_id": "PRRC_kwDOABII585MBO4x",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2023 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test how locally submitted transactions are sent to the network when sensitive relay is used.\n+\n+The topology in the test is:\n+\n+Bitcoin Core (node0)\n+               ^   v       The default full-outbound + block-only connections\n+               |   |       (MAX_OUTBOUND_FULL_RELAY_CONNECTIONS + MAX_BLOCK_RELAY_ONLY_CONNECTIONS):\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[0][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[1][\"node\"])\n+               |   ...\n+               |   |       The sensitive relay TX recipients\n+               |   |       (SENSITIVE_RELAY_NUM_BROADCAST_PER_TX)\n+               |   |       plus maybe some feeler or extra block only connections:\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i + 1][\"node\"])\n+               |   ...\n+               |\n+               *---------< observer_inbound\n+\"\"\"\n+\n+from test_framework.p2p import (\n+    P2PDataStore,\n+    P2PInterface,\n+    P2P_SERVICES,\n+    P2P_VERSION,\n+)\n+from test_framework.messages import (\n+    CAddress,\n+    CInv,\n+    MSG_WTX,\n+    msg_getdata,\n+    msg_inv,\n+    msg_mempool,\n+)\n+from test_framework.socks5 import (\n+    Socks5Configuration,\n+    Socks5Server,\n+)\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+)\n+from test_framework.util import (\n+    MAX_NODES,\n+    assert_equal,\n+    p2p_port,\n+)\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n+\n+MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\n+MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\n+SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\n+\n+# Fill addrman with these addresses. Must have enough Tor addresses, so that even\n+# if all 10 default connections are opened to a Tor address (!?) there must be more\n+# for sensitive relays.\n+addresses = [\n+    \"1.65.195.98\",\n+    \"2.59.236.56\",\n+    \"2.83.114.20\",\n+    \"2.248.194.16\",\n+    \"5.2.154.6\",\n+    \"5.101.140.30\",\n+    \"5.128.87.126\",\n+    \"5.144.21.49\",\n+    \"5.172.132.104\",\n+    \"5.188.62.18\",\n+    \"5.200.2.180\",\n+    \"8.129.184.255\",\n+    \"8.209.105.138\",\n+    \"12.34.98.148\",\n+    \"14.199.102.151\",\n+    \"18.27.79.17\",\n+    \"18.27.124.231\",\n+    \"18.216.249.151\",\n+    \"23.88.155.58\",\n+    \"23.93.101.158\",\n+    \"[2001:19f0:1000:1db3:5400:4ff:fe56:5a8d]\",\n+    \"[2001:19f0:5:24da:3eec:efff:feb9:f36e]\",\n+    \"[2001:19f0:5:24da::]\",\n+    \"[2001:19f0:5:4535:3eec:efff:feb9:87e4]\",\n+    \"[2001:19f0:5:4535::]\",\n+    \"[2001:1bc0:c1::2000]\",\n+    \"[2001:1c04:4008:6300:8a5f:2678:114b:a660]\",\n+    \"[2001:41d0:203:3739::]\",\n+    \"[2001:41d0:203:8f49::]\",\n+    \"[2001:41d0:203:bb0a::]\",\n+    \"[2001:41d0:2:bf8f::]\",\n+    \"[2001:41d0:303:de8b::]\",\n+    \"[2001:41d0:403:3d61::]\",\n+    \"[2001:41d0:405:9600::]\",\n+    \"[2001:41d0:8:ed7f::1]\",\n+    \"[2001:41d0:a:69a2::1]\",\n+    \"[2001:41f0::62:6974:636f:696e]\",\n+    \"[2001:470:1b62::]\",\n+    \"[2001:470:1f05:43b:2831:8530:7179:5864]\",\n+    \"[2001:470:1f09:b14::11]\",\n+    \"2bqghnldu6mcug4pikzprwhtjjnsyederctvci6klcwzepnjd46ikjyd.onion\",\n+    \"4lr3w2iyyl5u5l6tosizclykf5v3smqroqdn2i4h3kq6pfbbjb2xytad.onion\",\n+    \"5g72ppm3krkorsfopcm2bi7wlv4ohhs4u4mlseymasn7g7zhdcyjpfid.onion\",\n+    \"5sbmcl4m5api5tqafi4gcckrn3y52sz5mskxf3t6iw4bp7erwiptrgqd.onion\",\n+    \"776aegl7tfhg6oiqqy76jnwrwbvcytsx2qegcgh2mjqujll4376ohlid.onion\",\n+    \"77mdte42srl42shdh2mhtjr7nf7dmedqrw6bkcdekhdvmnld6ojyyiad.onion\",\n+    \"azbpsh4arqlm6442wfimy7qr65bmha2zhgjg7wbaji6vvaug53hur2qd.onion\",\n+    \"b64xcbleqmwgq2u46bh4hegnlrzzvxntyzbmucn3zt7cssm7y4ubv3id.onion\",\n+    \"bsqbtcparrfihlwolt4xgjbf4cgqckvrvsfyvy6vhiqrnh4w6ghixoid.onion\",\n+    \"bsqbtctulf2g4jtjsdfgl2ed7qs6zz5wqx27qnyiik7laockryvszqqd.onion\",\n+    \"cwi3ekrwhig47dhhzfenr5hbvckj7fzaojygvazi2lucsenwbzwoyiqd.onion\",\n+    \"devinbtcmwkuitvxl3tfi5of4zau46ymeannkjv6fpnylkgf3q5fa3id.onion\",\n+    \"devinbtctu7uctl7hly2juu3thbgeivfnvw3ckj3phy6nyvpnx66yeyd.onion\",\n+    \"devinbtcyk643iruzfpaxw3on2jket7rbjmwygm42dmdyub3ietrbmid.onion\",\n+    \"dtql5vci4iaml4anmueftqr7bfgzqlauzfy4rc2tfgulldd3ekyijjyd.onion\",\n+    \"emzybtc25oddoa2prol2znpz2axnrg6k77xwgirmhv7igoiucddsxiad.onion\",\n+    \"emzybtc3ewh7zihpkdvuwlgxrhzcxy2p5fvjggp7ngjbxcytxvt4rjid.onion\",\n+    \"emzybtc454ewbviqnmgtgx3rgublsgkk23r4onbhidcv36wremue4kqd.onion\",\n+    \"emzybtc5bnpb2o6gh54oquiox54o4r7yn4a2wiiwzrjonlouaibm2zid.onion\",\n+    \"fpz6r5ppsakkwypjcglz6gcnwt7ytfhxskkfhzu62tnylcknh3eq6pad.onion\",\n+    \"255fhcp6ajvftnyo7bwz3an3t4a4brhopm3bamyh2iu5r3gnr2rq.b32.i2p\",\n+    \"27yrtht5b5bzom2w5ajb27najuqvuydtzb7bavlak25wkufec5mq.b32.i2p\",\n+    \"3gocb7wc4zvbmmebktet7gujccuux4ifk3kqilnxnj5wpdpqx2hq.b32.i2p\",\n+    \"4fcc23wt3hyjk3csfzcdyjz5pcwg5dzhdqgma6bch2qyiakcbboa.b32.i2p\",\n+    \"4osyqeknhx5qf3a73jeimexwclmt42cju6xdp7icja4ixxguu2hq.b32.i2p\",\n+    \"4umsi4nlmgyp4rckosg4vegd2ysljvid47zu7pqsollkaszcbpqq.b32.i2p\",\n+    \"6j2ezegd3e2e2x3o3pox335f5vxfthrrigkdrbgfbdjchm5h4awa.b32.i2p\",\n+    \"6n36ljyr55szci5ygidmxqer64qr24f4qmnymnbvgehz7qinxnla.b32.i2p\",\n+    \"72yjs6mvlby3ky6mgpvvlemmwq5pfcznrzd34jkhclgrishqdxva.b32.i2p\",\n+    \"a5qsnv3maw77mlmmzlcglu6twje6ttctd3fhpbfwcbpmewx6fczq.b32.i2p\",\n+    \"aovep2pco7v2k4rheofrgytbgk23eg22dczpsjqgqtxcqqvmxk6a.b32.i2p\",\n+    \"bitcoi656nll5hu6u7ddzrmzysdtwtnzcnrjd4rfdqbeey7dmn5a.b32.i2p\",\n+    \"brifkruhlkgrj65hffybrjrjqcgdgqs2r7siizb5b2232nruik3a.b32.i2p\",\n+    \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+    \"day3hgxyrtwjslt54sikevbhxxs4qzo7d6vi72ipmscqtq3qmijq.b32.i2p\",\n+    \"du5kydummi23bjfp6bd7owsvrijgt7zhvxmz5h5f5spcioeoetwq.b32.i2p\",\n+    \"e55k6wu46rzp4pg5pk5npgbr3zz45bc3ihtzu2xcye5vwnzdy7pq.b32.i2p\",\n+    \"eciohu5nq7vsvwjjc52epskuk75d24iccgzmhbzrwonw6lx4gdva.b32.i2p\",\n+    \"ejlnngarmhqvune74ko7kk55xtgbz5i5ncs4vmnvjpy3l7y63xaa.b32.i2p\",\n+    \"fhzlp3xroabohnmjonu5iqazwhlbbwh5cpujvw2azcu3srqdceja.b32.i2p\",\n+    \"[fc32:17ea:e415:c3bf:9808:149d:b5a2:c9aa]\",\n+    \"[fcc7:be49:ccd1:dc91:3125:f0da:457d:8ce]\",\n+    \"[fcdc:73ae:b1a9:1bf8:d4c2:811:a4c7:c34e]\",",
      "path": "test/functional/p2p_local_tx_relay.py",
      "position": 150,
      "original_position": 150,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": 1275287508,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, these three are CJDNS.",
      "created_at": "2023-07-26T19:21:19Z",
      "updated_at": "2023-07-26T19:21:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1275391537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275391537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 148,
      "original_start_line": 148,
      "start_side": "RIGHT",
      "line": 150,
      "original_line": 150,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275392099",
      "pull_request_review_id": 1548441864,
      "id": 1275392099,
      "node_id": "PRRC_kwDOABII585MBPBj",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2023 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test how locally submitted transactions are sent to the network when sensitive relay is used.\n+\n+The topology in the test is:\n+\n+Bitcoin Core (node0)\n+               ^   v       The default full-outbound + block-only connections\n+               |   |       (MAX_OUTBOUND_FULL_RELAY_CONNECTIONS + MAX_BLOCK_RELAY_ONLY_CONNECTIONS):\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[0][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[1][\"node\"])\n+               |   ...\n+               |   |       The sensitive relay TX recipients\n+               |   |       (SENSITIVE_RELAY_NUM_BROADCAST_PER_TX)\n+               |   |       plus maybe some feeler or extra block only connections:\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i][\"node\"])\n+               |   |\n+               |   *-----> SOCKS5 Proxy ---> P2PInterface (self.socks5_server.conf.destinations[i + 1][\"node\"])\n+               |   ...\n+               |\n+               *---------< observer_inbound\n+\"\"\"\n+\n+from test_framework.p2p import (\n+    P2PDataStore,\n+    P2PInterface,\n+    P2P_SERVICES,\n+    P2P_VERSION,\n+)\n+from test_framework.messages import (\n+    CAddress,\n+    CInv,\n+    MSG_WTX,\n+    msg_getdata,\n+    msg_inv,\n+    msg_mempool,\n+)\n+from test_framework.socks5 import (\n+    Socks5Configuration,\n+    Socks5Server,\n+)\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+)\n+from test_framework.util import (\n+    MAX_NODES,\n+    assert_equal,\n+    p2p_port,\n+)\n+from test_framework.wallet import (\n+    MiniWallet,\n+)\n+\n+MAX_OUTBOUND_FULL_RELAY_CONNECTIONS = 8\n+MAX_BLOCK_RELAY_ONLY_CONNECTIONS = 2\n+SENSITIVE_RELAY_NUM_BROADCAST_PER_TX = 5\n+\n+# Fill addrman with these addresses. Must have enough Tor addresses, so that even\n+# if all 10 default connections are opened to a Tor address (!?) there must be more\n+# for sensitive relays.\n+addresses = [\n+    \"1.65.195.98\",\n+    \"2.59.236.56\",\n+    \"2.83.114.20\",\n+    \"2.248.194.16\",\n+    \"5.2.154.6\",\n+    \"5.101.140.30\",\n+    \"5.128.87.126\",\n+    \"5.144.21.49\",\n+    \"5.172.132.104\",\n+    \"5.188.62.18\",\n+    \"5.200.2.180\",\n+    \"8.129.184.255\",\n+    \"8.209.105.138\",\n+    \"12.34.98.148\",\n+    \"14.199.102.151\",\n+    \"18.27.79.17\",\n+    \"18.27.124.231\",\n+    \"18.216.249.151\",\n+    \"23.88.155.58\",\n+    \"23.93.101.158\",\n+    \"[2001:19f0:1000:1db3:5400:4ff:fe56:5a8d]\",\n+    \"[2001:19f0:5:24da:3eec:efff:feb9:f36e]\",\n+    \"[2001:19f0:5:24da::]\",\n+    \"[2001:19f0:5:4535:3eec:efff:feb9:87e4]\",\n+    \"[2001:19f0:5:4535::]\",\n+    \"[2001:1bc0:c1::2000]\",\n+    \"[2001:1c04:4008:6300:8a5f:2678:114b:a660]\",\n+    \"[2001:41d0:203:3739::]\",\n+    \"[2001:41d0:203:8f49::]\",\n+    \"[2001:41d0:203:bb0a::]\",\n+    \"[2001:41d0:2:bf8f::]\",\n+    \"[2001:41d0:303:de8b::]\",\n+    \"[2001:41d0:403:3d61::]\",\n+    \"[2001:41d0:405:9600::]\",\n+    \"[2001:41d0:8:ed7f::1]\",\n+    \"[2001:41d0:a:69a2::1]\",\n+    \"[2001:41f0::62:6974:636f:696e]\",\n+    \"[2001:470:1b62::]\",\n+    \"[2001:470:1f05:43b:2831:8530:7179:5864]\",\n+    \"[2001:470:1f09:b14::11]\",\n+    \"2bqghnldu6mcug4pikzprwhtjjnsyederctvci6klcwzepnjd46ikjyd.onion\",\n+    \"4lr3w2iyyl5u5l6tosizclykf5v3smqroqdn2i4h3kq6pfbbjb2xytad.onion\",\n+    \"5g72ppm3krkorsfopcm2bi7wlv4ohhs4u4mlseymasn7g7zhdcyjpfid.onion\",\n+    \"5sbmcl4m5api5tqafi4gcckrn3y52sz5mskxf3t6iw4bp7erwiptrgqd.onion\",\n+    \"776aegl7tfhg6oiqqy76jnwrwbvcytsx2qegcgh2mjqujll4376ohlid.onion\",\n+    \"77mdte42srl42shdh2mhtjr7nf7dmedqrw6bkcdekhdvmnld6ojyyiad.onion\",\n+    \"azbpsh4arqlm6442wfimy7qr65bmha2zhgjg7wbaji6vvaug53hur2qd.onion\",\n+    \"b64xcbleqmwgq2u46bh4hegnlrzzvxntyzbmucn3zt7cssm7y4ubv3id.onion\",\n+    \"bsqbtcparrfihlwolt4xgjbf4cgqckvrvsfyvy6vhiqrnh4w6ghixoid.onion\",\n+    \"bsqbtctulf2g4jtjsdfgl2ed7qs6zz5wqx27qnyiik7laockryvszqqd.onion\",\n+    \"cwi3ekrwhig47dhhzfenr5hbvckj7fzaojygvazi2lucsenwbzwoyiqd.onion\",\n+    \"devinbtcmwkuitvxl3tfi5of4zau46ymeannkjv6fpnylkgf3q5fa3id.onion\",\n+    \"devinbtctu7uctl7hly2juu3thbgeivfnvw3ckj3phy6nyvpnx66yeyd.onion\",\n+    \"devinbtcyk643iruzfpaxw3on2jket7rbjmwygm42dmdyub3ietrbmid.onion\",\n+    \"dtql5vci4iaml4anmueftqr7bfgzqlauzfy4rc2tfgulldd3ekyijjyd.onion\",\n+    \"emzybtc25oddoa2prol2znpz2axnrg6k77xwgirmhv7igoiucddsxiad.onion\",\n+    \"emzybtc3ewh7zihpkdvuwlgxrhzcxy2p5fvjggp7ngjbxcytxvt4rjid.onion\",\n+    \"emzybtc454ewbviqnmgtgx3rgublsgkk23r4onbhidcv36wremue4kqd.onion\",\n+    \"emzybtc5bnpb2o6gh54oquiox54o4r7yn4a2wiiwzrjonlouaibm2zid.onion\",\n+    \"fpz6r5ppsakkwypjcglz6gcnwt7ytfhxskkfhzu62tnylcknh3eq6pad.onion\",\n+    \"255fhcp6ajvftnyo7bwz3an3t4a4brhopm3bamyh2iu5r3gnr2rq.b32.i2p\",\n+    \"27yrtht5b5bzom2w5ajb27najuqvuydtzb7bavlak25wkufec5mq.b32.i2p\",\n+    \"3gocb7wc4zvbmmebktet7gujccuux4ifk3kqilnxnj5wpdpqx2hq.b32.i2p\",\n+    \"4fcc23wt3hyjk3csfzcdyjz5pcwg5dzhdqgma6bch2qyiakcbboa.b32.i2p\",\n+    \"4osyqeknhx5qf3a73jeimexwclmt42cju6xdp7icja4ixxguu2hq.b32.i2p\",\n+    \"4umsi4nlmgyp4rckosg4vegd2ysljvid47zu7pqsollkaszcbpqq.b32.i2p\",\n+    \"6j2ezegd3e2e2x3o3pox335f5vxfthrrigkdrbgfbdjchm5h4awa.b32.i2p\",\n+    \"6n36ljyr55szci5ygidmxqer64qr24f4qmnymnbvgehz7qinxnla.b32.i2p\",\n+    \"72yjs6mvlby3ky6mgpvvlemmwq5pfcznrzd34jkhclgrishqdxva.b32.i2p\",\n+    \"a5qsnv3maw77mlmmzlcglu6twje6ttctd3fhpbfwcbpmewx6fczq.b32.i2p\",\n+    \"aovep2pco7v2k4rheofrgytbgk23eg22dczpsjqgqtxcqqvmxk6a.b32.i2p\",\n+    \"bitcoi656nll5hu6u7ddzrmzysdtwtnzcnrjd4rfdqbeey7dmn5a.b32.i2p\",\n+    \"brifkruhlkgrj65hffybrjrjqcgdgqs2r7siizb5b2232nruik3a.b32.i2p\",\n+    \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+    \"day3hgxyrtwjslt54sikevbhxxs4qzo7d6vi72ipmscqtq3qmijq.b32.i2p\",\n+    \"du5kydummi23bjfp6bd7owsvrijgt7zhvxmz5h5f5spcioeoetwq.b32.i2p\",\n+    \"e55k6wu46rzp4pg5pk5npgbr3zz45bc3ihtzu2xcye5vwnzdy7pq.b32.i2p\",\n+    \"eciohu5nq7vsvwjjc52epskuk75d24iccgzmhbzrwonw6lx4gdva.b32.i2p\",\n+    \"ejlnngarmhqvune74ko7kk55xtgbz5i5ncs4vmnvjpy3l7y63xaa.b32.i2p\",\n+    \"fhzlp3xroabohnmjonu5iqazwhlbbwh5cpujvw2azcu3srqdceja.b32.i2p\",\n+    \"[fc32:17ea:e415:c3bf:9808:149d:b5a2:c9aa]\",\n+    \"[fcc7:be49:ccd1:dc91:3125:f0da:457d:8ce]\",\n+    \"[fcdc:73ae:b1a9:1bf8:d4c2:811:a4c7:c34e]\",",
      "path": "test/functional/p2p_local_tx_relay.py",
      "position": 150,
      "original_position": 150,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": 1275287508,
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "does the test node need a config flag to route?",
      "created_at": "2023-07-26T19:22:01Z",
      "updated_at": "2023-07-26T19:22:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1275392099",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275392099"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 148,
      "original_start_line": 148,
      "start_side": "RIGHT",
      "line": 150,
      "original_line": 150,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276217017",
      "pull_request_review_id": 1549746400,
      "id": 1276217017,
      "node_id": "PRRC_kwDOABII585MEYa5",
      "diff_hunk": "@@ -3292,6 +3367,56 @@ void PeerManagerImpl::ProcessCompactBlockTxns(CNode& pfrom, Peer& peer, const Bl\n     return;\n }\n \n+void PeerManagerImpl::PushUnbroadcastTx(CNode& node, Peer& peer, const std::atomic<bool>& interrupt)\n+{\n+    Peer::TxRelay* tx_relay{peer.GetTxRelay()};\n+    if (tx_relay == nullptr) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no transactions relay with this peer (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        m_connman.ScheduleSensitiveRelayConnections(1);",
      "path": "src/net_processing.cpp",
      "position": 234,
      "original_position": 234,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": 1267244372,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> IIUC this line schedules a replacement sensitive connection because the one we were passed in has the wrong services and so it gets dumped.\r\n\r\nYes.\r\n\r\n> I think this is the only line in this function that makes it apply strictly to only sensitive relays. So I wonder if that should be asserted at the top? Or could be renamed to `PushUnbroadcastTxToSensistiveRelay()`? At the very least maybe sensitive-only should be explained in the function description on L933 ?\r\n\r\nRight. While this function will work if called for non-sensitive-relay peer (it will send the tx to the peer), this is not the intention because it will be bad for privacy and it is only called under `if (pfrom.IsSensitiveRelayConn()) {`.\r\n\r\nRenamed as suggested and added `Assume()`;",
      "created_at": "2023-07-27T12:35:26Z",
      "updated_at": "2023-07-27T12:35:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276217017",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276217017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3380,
      "original_line": 3380,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276240357",
      "pull_request_review_id": 1549783541,
      "id": 1276240357,
      "node_id": "PRRC_kwDOABII585MEeHl",
      "diff_hunk": "@@ -2853,6 +2953,22 @@ bool CConnman::NodeFullyConnected(const CNode* pnode)\n void CConnman::PushMessage(CNode* pnode, CSerializedNetMsg&& msg)\n {\n     AssertLockNotHeld(m_total_bytes_sent_mutex);\n+\n+    if (pnode->IsSensitiveRelayConn() &&\n+        msg.m_type != NetMsgType::VERSION &&\n+        msg.m_type != NetMsgType::VERACK &&\n+        msg.m_type != NetMsgType::TX &&\n+        msg.m_type != NetMsgType::PING) {\n+\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Omitting send of message '%s', peer=%d%s\\n\",\n+                      msg.m_type,\n+                      pnode->GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", pnode->addr.ToStringAddrPort()) : \"\");\n+        return;",
      "path": "src/net.cpp",
      "position": 323,
      "original_position": 323,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure if the low level net layer is the right place to inspect high level p2p messages and then decide to drop them. It may be good to enumerate why this is needed (if at all).",
      "created_at": "2023-07-27T12:53:56Z",
      "updated_at": "2023-07-27T13:04:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276240357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276240357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2969,
      "original_line": 2969,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276243984",
      "pull_request_review_id": 1549783541,
      "id": 1276243984,
      "node_id": "PRRC_kwDOABII585MEfAQ",
      "diff_hunk": "@@ -2092,6 +2141,26 @@ void PeerManagerImpl::RelayTransaction(const uint256& txid, const uint256& wtxid\n     };\n }\n \n+bool PeerManagerImpl::UseSensitiveRelay() const\n+{\n+    return gArgs.GetBoolArg(\"-sensitiverelayowntx\", DEFAULT_SENSITIVE_RELAY_OWN_TX) &&",
      "path": "src/net_processing.cpp",
      "position": 162,
      "original_position": 162,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "shouldn't this use the peerman options struct?",
      "created_at": "2023-07-27T12:57:01Z",
      "updated_at": "2023-07-27T13:04:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276243984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276243984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2146,
      "original_line": 2146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276249120",
      "pull_request_review_id": 1549783541,
      "id": 1276249120,
      "node_id": "PRRC_kwDOABII585MEgQg",
      "diff_hunk": "@@ -3292,6 +3367,56 @@ void PeerManagerImpl::ProcessCompactBlockTxns(CNode& pfrom, Peer& peer, const Bl\n     return;\n }\n \n+void PeerManagerImpl::PushUnbroadcastTx(CNode& node, Peer& peer, const std::atomic<bool>& interrupt)\n+{\n+    Peer::TxRelay* tx_relay{peer.GetTxRelay()};\n+    if (tx_relay == nullptr) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no transactions relay with this peer (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        m_connman.ScheduleSensitiveRelayConnections(1);\n+        return;\n+    }\n+\n+    const auto unbroadcast_txids = m_mempool.GetUnbroadcastTxs();\n+\n+    if (unbroadcast_txids.empty()) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no more sensitive transactions to \"\n+                      \"relay (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        return;\n+    }\n+\n+    // Randomly pick some transaction from unbroadcast_txids.\n+    const uint64_t n{FastRandomContext{}.randrange(unbroadcast_txids.size())};\n+    auto tx_iter = unbroadcast_txids.begin();\n+    for (uint64_t i = 0; i < n; ++i) {\n+        ++tx_iter;\n+    }",
      "path": "src/net_processing.cpp",
      "position": 256,
      "original_position": 256,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": 1267248349,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Any reason to re-implement `std::advance()`?",
      "created_at": "2023-07-27T13:01:19Z",
      "updated_at": "2023-07-27T13:04:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276249120",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276249120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 3400,
      "original_start_line": 3400,
      "start_side": "RIGHT",
      "line": 3402,
      "original_line": 3402,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276302188",
      "pull_request_review_id": 1549884238,
      "id": 1276302188,
      "node_id": "PRRC_kwDOABII585MEtNs",
      "diff_hunk": "@@ -3292,6 +3367,56 @@ void PeerManagerImpl::ProcessCompactBlockTxns(CNode& pfrom, Peer& peer, const Bl\n     return;\n }\n \n+void PeerManagerImpl::PushUnbroadcastTx(CNode& node, Peer& peer, const std::atomic<bool>& interrupt)\n+{\n+    Peer::TxRelay* tx_relay{peer.GetTxRelay()};\n+    if (tx_relay == nullptr) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no transactions relay with this peer (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        m_connman.ScheduleSensitiveRelayConnections(1);\n+        return;\n+    }\n+\n+    const auto unbroadcast_txids = m_mempool.GetUnbroadcastTxs();\n+\n+    if (unbroadcast_txids.empty()) {\n+        LogPrintLevel(BCLog::SENSITIVE_RELAY, /* Continued */\n+                      BCLog::Level::Debug,\n+                      \"Disconnecting: no more sensitive transactions to \"\n+                      \"relay (connected in vain), peer=%d%s\\n\",\n+                      node.GetId(),\n+                      fLogIPs ? strprintf(\", peeraddr=%s\", node.addr.ToStringAddrPort()) : \"\");\n+        node.fDisconnect = true;\n+        return;\n+    }\n+\n+    // Randomly pick some transaction from unbroadcast_txids.\n+    const uint64_t n{FastRandomContext{}.randrange(unbroadcast_txids.size())};\n+    auto tx_iter = unbroadcast_txids.begin();\n+    for (uint64_t i = 0; i < n; ++i) {\n+        ++tx_iter;\n+    }",
      "path": "src/net_processing.cpp",
      "position": 256,
      "original_position": 256,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "in_reply_to_id": 1267248349,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it does not provide a direct access to an arbitrary element. This is `O(unbroadcast_txids.size())` if faster is required we have to change the container (or extend it with supplementary vector). I shortened this a bit to:\r\n\r\n```cpp\r\nconst auto tx_iter = std::next(unbroadcast_txids.begin(), FastRandomContext{}.randrange(unbroadcast_txids.size()));\r\n```\r\n\r\nThis is still linear, but at least a bit short and (I hope) as easy to read.",
      "created_at": "2023-07-27T13:42:51Z",
      "updated_at": "2023-07-27T13:42:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276302188",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276302188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": 3400,
      "original_start_line": 3400,
      "start_side": "RIGHT",
      "line": 3402,
      "original_line": 3402,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276860339",
      "pull_request_review_id": 1550892103,
      "id": 1276860339,
      "node_id": "PRRC_kwDOABII585MG1ez",
      "diff_hunk": "@@ -1422,26 +1429,53 @@ void PeerManagerImpl::FindNextBlocksToDownload(const Peer& peer, unsigned int co\n \n void PeerManagerImpl::PushNodeVersion(CNode& pnode, const Peer& peer)\n {\n-    uint64_t my_services{peer.m_our_services};\n-    const int64_t nTime{count_seconds(GetTime<std::chrono::seconds>())};\n-    uint64_t nonce = pnode.GetLocalNonce();\n-    const int nNodeStartingHeight{m_best_height};\n-    NodeId nodeid = pnode.GetId();\n-    CAddress addr = pnode.addr;\n-\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n-    uint64_t your_services{addr.nServices};\n-\n-    const bool tx_relay{!RejectIncomingTxs(pnode)};\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\n-            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n-            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\n-            nonce, strSubVersion, nNodeStartingHeight, tx_relay));\n-\n+    uint64_t my_services;\n+    int64_t my_time;\n+    uint64_t your_services;\n+    CService your_addr;\n+    std::string my_user_agent;\n+    int my_height;\n+    bool my_tx_relay;\n+    if (pnode.IsSensitiveRelayConn()) {\n+        my_services = NODE_NONE;\n+        my_time = 0;\n+        your_services = NODE_NONE;\n+        your_addr = CService{};\n+        my_user_agent = \"/pynode:0.0.1/\";",
      "path": "src/net_processing.cpp",
      "position": 84,
      "original_position": 46,
      "commit_id": "bde055d28f5d41d9e923f770d130010e72441e91",
      "original_commit_id": "504453a394d28c6bef7faaeaac98ac98f96bb0ae",
      "in_reply_to_id": 1214671917,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't like outright lying in the UA. Why not just send it blank? Or at least some kind of standard for \"I am not telling you\"",
      "created_at": "2023-07-27T22:02:01Z",
      "updated_at": "2023-07-27T22:02:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27509#discussion_r1276860339",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276860339"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1441,
      "original_line": 1441,
      "side": "RIGHT"
    }
  ]
}