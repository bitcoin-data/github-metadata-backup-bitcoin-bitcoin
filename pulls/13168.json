{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168",
    "id": 186103221,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTg2MTAzMjIx",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13168",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/13168.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/13168.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
    "number": 13168,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Thread names in logs and deadlock debug tools (take 2)",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Replaces #13099.\r\n\r\nThe goal here is the same as the previous PR, but this approach only includes threadnames in logs when we can make use of `thread_local`. We specifically disable `HAVE_THREAD_LOCAL` for platforms where its presence or implementation is questionable (Darwin, mingw32).\r\n\r\nInstead of using a mutex-protected map to generate numeric suffixes (e.g. `httpworker.2`) we explicitly pass in suffixes during thread creation.\r\n\r\nUnder this changeset, logs look like this:\r\n```\r\n2018-06-13T21:43:28Z [bitcoin-qt-init] init message: Starting network threads...\r\n2018-06-13T21:43:28Z [net] net thread start\r\n2018-06-13T21:43:28Z [bitcoin-qt-init] init message: Done loading\r\n2018-06-13T21:43:28Z [opencon] opencon thread start\r\n2018-06-13T21:43:28Z [msghand] msghand thread start\r\n2018-06-13T21:43:28Z [dnsseed] dnsseed thread start\r\n2018-06-13T21:43:28Z [dnsseed] Loading addresses from DNS seeds (could take a while)\r\n2018-06-13T21:43:28Z [dnsseed] 0 addresses found from DNS seeds\r\n2018-06-13T21:43:28Z [dnsseed] dnsseed thread exit\r\n2018-06-13T21:43:28Z [addcon] addcon thread start\r\n2018-06-13T21:43:28Z [bitcoin-qt] GUI: Platform customization: \"other\"\r\n2018-06-13T21:43:28Z [bitcoin-qt] GUI: PaymentServer::LoadRootCAs: Loaded  146  root certificates\r\n2018-06-13T21:43:28Z [loadblk] Loaded 1 blocks from external file in 147ms\r\n2018-06-13T21:43:28Z [loadblk] Reindexing finished\r\n2018-06-13T21:43:28Z [loadblk] Imported mempool transactions from disk: 0 succeeded, 0 failed, 0 expired, 0 already there\r\n\r\n```",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2018-05-04T21:01:19Z",
    "updated_at": "2022-08-16T17:14:22Z",
    "closed_at": "2018-12-03T16:08:06Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "d9f3f2d1ef8e3593afe2a3584351e464f12dbd22",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "jamesob:2018-05-threadnames-take-2",
      "ref": "2018-05-threadnames-take-2",
      "sha": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 42077031,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MjA3NzAzMQ==",
        "name": "bitcoin",
        "full_name": "jamesob/bitcoin",
        "owner": {
          "login": "jamesob",
          "id": 73197,
          "node_id": "MDQ6VXNlcjczMTk3",
          "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jamesob",
          "html_url": "https://github.com/jamesob",
          "followers_url": "https://api.github.com/users/jamesob/followers",
          "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
          "organizations_url": "https://api.github.com/users/jamesob/orgs",
          "repos_url": "https://api.github.com/users/jamesob/repos",
          "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jamesob/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jamesob/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jamesob/bitcoin",
        "archive_url": "https://api.github.com/repos/jamesob/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jamesob/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jamesob/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jamesob/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jamesob/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jamesob/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jamesob/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jamesob/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jamesob/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jamesob/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jamesob/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jamesob/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jamesob/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jamesob/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jamesob/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jamesob/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jamesob/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jamesob/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jamesob/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jamesob/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jamesob/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jamesob/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jamesob/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jamesob/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jamesob/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jamesob/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jamesob/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jamesob/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jamesob/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jamesob/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jamesob/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jamesob/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jamesob/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jamesob/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jamesob/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jamesob/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jamesob/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jamesob/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jamesob/bitcoin/hooks",
        "svn_url": "https://github.com/jamesob/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 252891,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-31T19:20:56Z",
        "created_at": "2015-09-07T22:18:03Z",
        "updated_at": "2023-05-05T06:31:51Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9b638c7ce1b93c996b49f02c0bcefb25b6200d8e",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69851,
        "watchers_count": 69851,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T22:17:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T03:19:05Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 266,
    "deletions": 61,
    "changed_files": 19,
    "commits": 5,
    "review_comments": 100,
    "comments": 37
  },
  "events": [
    {
      "event": "mentioned",
      "id": 1610820756,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMDgyMDc1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610820756",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:01:19Z"
    },
    {
      "event": "subscribed",
      "id": 1610820757,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTA4MjA3NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610820757",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:01:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1610862422,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMDg2MjQyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610862422",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:23:50Z"
    },
    {
      "event": "reviewed",
      "id": 117769212,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE3NzY5MjEy",
      "url": null,
      "actor": null,
      "commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "A few nits/comments on the first commit. Also:\r\n* Why the rename from threadval to threadutil? Ideally introduce the file with the preferred name in the first commit, or at least do the rename in a separate commit from other changes.\r\n* Naming convention (functions should be CamelCase).\r\n* get_internal_id seems entirely unused.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-117769212",
      "submitted_at": "2018-05-04T21:27:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "commented",
      "id": 386741763,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njc0MTc2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386741763",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:37:22Z",
      "updated_at": "2018-05-04T21:37:22Z",
      "author_association": "MEMBER",
      "body": "I figure \"threadutil\" might be a better name going forward because I anticipate as we continue to split stuff out of `util`, this unit might be a good home for things like `TraceThread`. If you or @theuni thinks we should stick with \"threadval\" I'm happy to revert, otherwise I'll split out the rename into a separate commit.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386741763",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1610882191,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMDg4MjE5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610882191",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:37:22Z"
    },
    {
      "event": "subscribed",
      "id": 1610882192,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTA4ODIxOTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610882192",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:37:22Z"
    },
    {
      "event": "commented",
      "id": 386742031,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njc0MjAzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386742031",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:38:35Z",
      "updated_at": "2018-05-04T21:38:35Z",
      "author_association": "MEMBER",
      "body": "@jamesob I have no opinion about the name. I'm only complaining about a rename in the middle of a PR in a commit that also introduces other changes.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386742031",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1610883769,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMDg4Mzc2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610883769",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:38:35Z"
    },
    {
      "event": "subscribed",
      "id": 1610883770,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTA4ODM3NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610883770",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T21:38:35Z"
    },
    {
      "event": "reviewed",
      "id": 117778533,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE3Nzc4NTMz",
      "url": null,
      "actor": null,
      "commit_id": "ffa1b4f8735080bc3481e7c47f87348fde5708d3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-117778533",
      "submitted_at": "2018-05-04T21:53:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "commented",
      "id": 386746957,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njc0Njk1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386746957",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T22:04:55Z",
      "updated_at": "2018-05-04T22:04:55Z",
      "author_association": "MEMBER",
      "body": "@jamesob You can just take the threadval files, don't worry about the commit attribution.\r\n\r\nAgree with @sipa about the name change, it complicates the review a pretty good bit. Also no preference on naming. I originally named it \"threadval\" with the intention of making it a generic low-level interface for thread_local, but that's not worth the trouble.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386746957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1610916970,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMDkxNjk3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610916970",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T22:04:55Z"
    },
    {
      "event": "subscribed",
      "id": 1610916975,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTA5MTY5NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610916975",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T22:04:55Z"
    },
    {
      "event": "mentioned",
      "id": 1610916977,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMDkxNjk3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610916977",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T22:04:55Z"
    },
    {
      "event": "subscribed",
      "id": 1610916978,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTA5MTY5Nzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1610916978",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-04T22:04:55Z"
    },
    {
      "event": "labeled",
      "id": 1611037550,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2MTEwMzc1NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611037550",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T00:26:42Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1611416588,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMTQxNjU4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611416588",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:10:30Z"
    },
    {
      "event": "commented",
      "id": 386832009,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjgzMjAwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386832009",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:17:32Z",
      "updated_at": "2018-05-05T20:17:32Z",
      "author_association": "MEMBER",
      "body": "@sipa @theuni Thanks for the quick look and comments. I've pushed a reworked version of this branch which\r\n- rewrites the commit history to be more easily reviewable (I hope),\r\n- fixes naming conventions,\r\n- fixes the uninitialized use of `g_key`,\r\n- ensures each implementation of the thread_local behavior only bumps the internal ID accumulator on the first `SetInternalName` per thread,\r\n- removes the unused `GetInternalID` function,\r\n- removes fallback inference from process name when thread name is unset, and explicitly names main threads (`bitcoind`, `bitcoin-qt`), and\r\n- fixes `/* Continued */` logline behavior by introducing *Continued macros which don't prefix log message with thread name. ",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386832009",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1611418444,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMTQxODQ0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611418444",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:17:32Z"
    },
    {
      "event": "subscribed",
      "id": 1611418445,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTE0MTg0NDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611418445",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:17:32Z"
    },
    {
      "event": "mentioned",
      "id": 1611418446,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMTQxODQ0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611418446",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:17:32Z"
    },
    {
      "event": "subscribed",
      "id": 1611418447,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTE0MTg0NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611418447",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:17:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1611419111,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMTQxOTExMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611419111",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-05T20:19:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1611783107,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMTc4MzEwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611783107",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T17:36:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1611838992,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMTgzODk5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611838992",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T19:36:07Z"
    },
    {
      "event": "commented",
      "id": 386910323,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjkxMDMyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386910323",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T20:21:51Z",
      "updated_at": "2018-05-06T20:21:51Z",
      "author_association": "MEMBER",
      "body": "Pushed a small fix for a mysterious segfault which was happening on 2 x86_64 linux Travis jobs. Core dump and brief writeup in gist below. Build is now passing.\r\n\r\n[threadnames2.2 -> threadnames2.3](https://gist.github.com/jamesob/a7b05acc4330317f4cf06f505e575eaa)",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386910323",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 386910543,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjkxMDU0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386910543",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T20:25:27Z",
      "updated_at": "2018-05-06T20:25:27Z",
      "author_association": "MEMBER",
      "body": "What platforms still don't have thread_local? Can we just ifdef everything and upgrade our release build OSX SDK and get it in every release platform?\n\nOn May 4, 2018 9:01:28 PM UTC, jamesob <notifications@github.com> wrote:\n>Replaces #13099.\n>\n>The goal here is the same as the previous PR, but this approach uses\n>@theuni's gracefully degrading thread-local caching strategy to avoid\n>(when possible) map lookup and mutex overhead during thread name\n>lookup.\n>\n>Instead of using a mutex-protected map to generate numeric suffixes\n>(e.g. `httpworker.2`) we explicitly pass in suffixes during thread\n>creation.\n>\n>The logging format is also slightly different:\n>```\n>[bitcoind     ] 2018-05-04T20:58:13Z nBestHeight = 1296342\n>[torcontrol   ] 2018-05-04T20:58:13Z torcontrol thread start\n>[bitcoind     ] 2018-05-04T20:58:13Z Bound to [::]:18333\n>[bitcoind     ] 2018-05-04T20:58:13Z Bound to 0.0.0.0:18333\n>[bitcoind     ] 2018-05-04T20:58:13Z init message: Loading P2P\n>addresses...\n>[loadblk      ] 2018-05-04T20:58:13Z Leaving InitialBlockDownload\n>(latching to false)\n>[loadblk      ] 2018-05-04T20:58:13Z Imported mempool transactions from\n>disk: 3 succeeded, 0 failed, 0 expired, 0 already there\n>[bitcoind     ] 2018-05-04T20:58:13Z Loaded 19762 addresses from\n>peers.dat  102ms\n>[bitcoind     ] 2018-05-04T20:58:13Z init message: Loading banlist...\n>[bitcoind     ] 2018-05-04T20:58:13Z init message: Starting network\n>threads...\n>[net          ] 2018-05-04T20:58:13Z net thread start\n>[addcon       ] 2018-05-04T20:58:13Z addcon thread start\n>[dnsseed      ] 2018-05-04T20:58:13Z dnsseed thread start\n>[msghand      ] 2018-05-04T20:58:13Z msghand thread start\n>[bitcoind     ] 2018-05-04T20:58:13Z init message: Done loading\n>```\n>You can view, comment on, or merge this pull request online at:\n>\n>  https://github.com/bitcoin/bitcoin/pull/13168\n>\n>-- Commit Summary --\n>\n>  * threads: add threadval files\n>  * threads: hook up threadval for logging\n>  * threads: add numeric suffixes to threads with the same name\n>  * tests: add threadutil naming tests\n>  * threads: add thread names to deadlock debugging tools\n>\n>-- File Changes --\n>\n>    M src/Makefile.am (2)\n>    M src/Makefile.test.include (1)\n>    M src/httpserver.cpp (11)\n>    M src/init.cpp (7)\n>    M src/logging.cpp (11)\n>    M src/sync.cpp (14)\n>    M src/test/test_bitcoin.cpp (2)\n>    A src/test/threadutil_tests.cpp (90)\n>    A src/threadutil.cpp (237)\n>    A src/threadutil.h (62)\n>    M src/util.cpp (21)\n>    M src/util.h (6)\n>    M src/validation.cpp (5)\n>    M src/validation.h (8)\n>\n>-- Patch Links --\n>\n>https://github.com/bitcoin/bitcoin/pull/13168.patch\n>https://github.com/bitcoin/bitcoin/pull/13168.diff\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/13168\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386910543",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1611857675,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMTg1NzY3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611857675",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T20:25:28Z"
    },
    {
      "event": "subscribed",
      "id": 1611857676,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTE4NTc2NzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1611857676",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T20:25:28Z"
    },
    {
      "event": "commented",
      "id": 386917148,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjkxNzE0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386917148",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-06T21:35:32Z",
      "updated_at": "2018-05-06T21:35:46Z",
      "author_association": "MEMBER",
      "body": "General comment: never @mention someone directly in a commit (just attribute them by name). They'll be spammed by every fork on github when those commits are merged by them.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386917148",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "reviewed",
      "id": 117856242,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE3ODU2MjQy",
      "url": null,
      "actor": null,
      "commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Some more comments.\r\n\r\nOverall: why do we need `LogPrint*Continued`? It should be implied by a lack of newline on the previous log statement (which is already used to determine whether to log the time).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-117856242",
      "submitted_at": "2018-05-06T21:58:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "commented",
      "id": 386950733,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njk1MDczMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386950733",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T03:54:13Z",
      "updated_at": "2018-05-07T03:54:13Z",
      "author_association": "MEMBER",
      "body": "We need `LogPrint*Continued` to prevent prefixing a line continuation with a thread name. Thanks for the look, will incorporate the feedback tomorrow.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-386950733",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1612996309,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMjk5NjMwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1612996309",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:02:10Z"
    },
    {
      "event": "commented",
      "id": 387076303,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzA3NjMwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387076303",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:08:10Z",
      "updated_at": "2018-05-07T14:08:10Z",
      "author_association": "MEMBER",
      "body": "@sipa ah, sorry: I missed your point about the LogPrint macros. I see now that we can just move thread name attachment to reuse the existing `m_started_new_line` stuff, thanks. I've removed the last commit and worked in your other feedback.\r\n\r\n[`jamesob/threadnames2.3 -> jamesob/threadnames2.4`](https://gist.github.com/jamesob/2aebc372f6421e6888ff2e5c29ac71b0)",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387076303",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1613009098,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzAwOTA5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613009098",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:08:10Z"
    },
    {
      "event": "subscribed",
      "id": 1613009100,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTMwMDkxMDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613009100",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:08:10Z"
    },
    {
      "event": "commented",
      "id": 387077686,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzA3NzY4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387077686",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:12:37Z",
      "updated_at": "2018-05-07T14:12:37Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt honestly I'm not sure about the thread_local stuff; all I know is that mingw32 wasn't behaving well with its use (as noted [in the comment](https://github.com/bitcoin/bitcoin/pull/13168/files#diff-defae1c29982e5afaf477729b6c7d9b4R13)) - @theuni is the authority there.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387077686",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1613018664,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzAxODY2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613018664",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:12:37Z"
    },
    {
      "event": "subscribed",
      "id": 1613018666,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTMwMTg2NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613018666",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:12:37Z"
    },
    {
      "event": "mentioned",
      "id": 1613018667,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzAxODY2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613018667",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:12:37Z"
    },
    {
      "event": "subscribed",
      "id": 1613018668,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTMwMTg2Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613018668",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T14:12:37Z"
    },
    {
      "event": "reviewed",
      "id": 118041104,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE4MDQxMTA0",
      "url": null,
      "actor": null,
      "commit_id": "b891a44af4cd9d593f702d74d28656e383245b15",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-118041104",
      "submitted_at": "2018-05-07T15:33:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "mentioned",
      "id": 1613233379,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzIzMzM3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613233379",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T15:42:29Z"
    },
    {
      "event": "subscribed",
      "id": 1613233380,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTMyMzMzODA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613233380",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T15:42:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1613401071,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxMzQwMTA3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613401071",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T17:01:34Z"
    },
    {
      "event": "commented",
      "id": 387133425,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzEzMzQyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387133425",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T17:05:06Z",
      "updated_at": "2018-05-07T17:05:06Z",
      "author_association": "MEMBER",
      "body": "Changed with more feedback from @sipa. \r\n\r\n[`jamesob/threadnames2.4` -> `.5`](https://gist.github.com/jamesob/5604eb4586f8eb3401659566e17632f8)",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387133425",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1613407892,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzQwNzg5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613407892",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T17:05:06Z"
    },
    {
      "event": "subscribed",
      "id": 1613407893,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTM0MDc4OTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613407893",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T17:05:06Z"
    },
    {
      "event": "commented",
      "id": 387181155,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzE4MTE1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387181155",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z",
      "updated_at": "2018-05-07T19:46:52Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt unfortunately it's not the SDK, it's Apple's clang itself that had thread_local patched out until xcode 9.0, released in June 2017. And to make it worse, they held off on supporting it because they \"didn't want to commit to an inefficient abi\". It's that reasoning that makes me believe that a build with an upstream clang may have compatibility issues with end-users' libc/libstdc++. A few tests might shed some light, but even then, I'd worry about one-off version issues.\r\n\r\nSo, options are:\r\n- Move forward with thread_local, require mac builders to upgrade to xcode 9, hope for no abi issues\r\n- Wait for xcode 9 to be a reasonable minimum, same as above\r\n- \\#ifndef \\_\\_APPLE\\_\\_ ...\r\n- No thread_local for now\r\n\r\nThose options ignore mingw, with which @jamesob has also reported some thread_local issues, but I haven't investigated those.\r\n\r\n@sipa I left the thread_local code but undef'd the variable in case we want to go for \\#3. Otherwise, I begrudgingly agree that it probably shouldn't be present until it's usable.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387181155",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1613735169,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzczNTE2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735169",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "subscribed",
      "id": 1613735170,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTM3MzUxNzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735170",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "mentioned",
      "id": 1613735171,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzczNTE3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735171",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "subscribed",
      "id": 1613735174,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTM3MzUxNzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735174",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "mentioned",
      "id": 1613735175,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYxMzczNTE3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735175",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "subscribed",
      "id": 1613735176,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MTM3MzUxNzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1613735176",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-07T19:46:52Z"
    },
    {
      "event": "reviewed",
      "id": 118377896,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE4Mzc3ODk2",
      "url": null,
      "actor": null,
      "commit_id": "2d36119493dee83cd16d14314ae884e7123c748d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-118377896",
      "submitted_at": "2018-05-08T14:09:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1615787736,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYxNTc4NzczNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1615787736",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-08T16:58:24Z"
    },
    {
      "event": "commented",
      "id": 387472891,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzQ3Mjg5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387472891",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-08T17:05:37Z",
      "updated_at": "2018-05-08T17:05:46Z",
      "author_association": "MEMBER",
      "body": "I've pushed changes removing the unused `thread_local` implementation.\r\n\r\n[`jamesob/threadnames2.5 -> .6`](https://gist.github.com/jamesob/7759579c2ece06e9fa7db43652a47600)\r\n\r\n",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387472891",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 389928466,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTkyODQ2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389928466",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T16:30:58Z",
      "updated_at": "2018-05-17T16:30:58Z",
      "author_association": "MEMBER",
      "body": "Needs rebase due to mege of #13236\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-389928466",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 389957916,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTk1NzkxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389957916",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:07:37Z",
      "updated_at": "2018-05-17T18:07:37Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt and @ryanofsky gave feedback offline that we should only include a (very simple) thread_local implementation for this change, undef `HAVE_THREAD_LOCAL` on problematic platforms (e.g. Apple, Windows), and only include threadnames on supported platforms.  Does anyone disagree with this? If not, I'll implement that sometime in the next few days.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-389957916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1632617428,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYzMjYxNzQyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632617428",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:07:37Z"
    },
    {
      "event": "subscribed",
      "id": 1632617429,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MzI2MTc0Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632617429",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:07:37Z"
    },
    {
      "event": "mentioned",
      "id": 1632617432,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYzMjYxNzQzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632617432",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:07:37Z"
    },
    {
      "event": "subscribed",
      "id": 1632617433,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MzI2MTc0MzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632617433",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:07:37Z"
    },
    {
      "event": "commented",
      "id": 389961411,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTk2MTQxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389961411",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:19:35Z",
      "updated_at": "2018-05-17T18:19:35Z",
      "author_association": "MEMBER",
      "body": "> @TheBlueMatt and @ryanofsky gave feedback offline that we should only include a (very simple) thread_local implementation for this change\r\n\r\nI'm happy with either approach. I just wanted to suggest that not logging thread names on platforms that don't support thread_local could be ok and simplify things.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-389961411",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1632640563,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYzMjY0MDU2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632640563",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:19:35Z"
    },
    {
      "event": "subscribed",
      "id": 1632640564,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MzI2NDA1NjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632640564",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:19:35Z"
    },
    {
      "event": "mentioned",
      "id": 1632640566,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTYzMjY0MDU2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632640566",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:19:35Z"
    },
    {
      "event": "subscribed",
      "id": 1632640567,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2MzI2NDA1Njc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1632640567",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-17T18:19:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1637415500,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYzNzQxNTUwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1637415500",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-21T16:26:31Z"
    },
    {
      "event": "commented",
      "id": 390709422,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDcwOTQyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390709422",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-21T16:36:34Z",
      "updated_at": "2018-05-21T16:36:34Z",
      "author_association": "MEMBER",
      "body": "I've pushed a simplified rework of this branch which removes all non-`thread_local` implementations of the threadutil stuff; we just won't support threadnames if the platform in question doesn't support thread_local. I've also added a flag to disable threadname prefixes (`-logthreadnames`) a la `-logtimestamps`, and have added related release notes.\r\n\r\nThis should be ready for review. One outstanding question I have is where we should be doing the conditional `#undef HAVE_THREAD_LOCAL` -- `threadutil.cpp` doesn't seem like the right place.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-390709422",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1637595336,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYzNzU5NTMzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1637595336",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-21T18:03:32Z"
    },
    {
      "event": "referenced",
      "id": 1637595368,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2Mzc1OTUzNjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1637595368",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2ed61a42f21496017af7ae1a53c7fa4556c8a714",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/2ed61a42f21496017af7ae1a53c7fa4556c8a714",
      "created_at": "2018-05-21T18:03:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1637777509,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTYzNzc3NzUwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1637777509",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-21T19:49:07Z"
    },
    {
      "event": "commented",
      "id": 391787374,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTc4NzM3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391787374",
      "actor": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-24T16:59:46Z",
      "updated_at": "2018-05-24T16:59:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK (I'm already finding this useful) - a quick note that this breaks combine logs.py (but trivial fix - just need to update the regexp that identifies timestamps)",
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-391787374",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 393172412,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzE3MjQxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393172412",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-30T13:58:58Z",
      "updated_at": "2018-05-30T13:58:58Z",
      "author_association": "MEMBER",
      "body": "Needs rebase due to merge of #13341\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-393172412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1662428143,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY2MjQyODE0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1662428143",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-04T22:30:54Z"
    },
    {
      "event": "referenced",
      "id": 1662428149,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2NjI0MjgxNDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1662428149",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3e1de02c2500cd82ed4a112aa0198dc601d7947c",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/3e1de02c2500cd82ed4a112aa0198dc601d7947c",
      "created_at": "2018-06-04T22:30:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1664302599,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY2NDMwMjU5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1664302599",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T17:32:34Z"
    },
    {
      "event": "commented",
      "id": 394818420,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDgxODQyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394818420",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T18:45:33Z",
      "updated_at": "2018-06-05T18:45:33Z",
      "author_association": "MEMBER",
      "body": "Thanks for the heads-up, @MarcoFalke. I've rebased and pushed a fix to combine_logs.py (thanks @skeees). This is ready for review-for-merge.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-394818420",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1664454555,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY2NDQ1NDU1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1664454555",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T18:45:33Z"
    },
    {
      "event": "subscribed",
      "id": 1664454557,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2NjQ0NTQ1NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1664454557",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T18:45:33Z"
    },
    {
      "event": "mentioned",
      "id": 1664454559,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY2NDQ1NDU1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1664454559",
      "actor": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T18:45:33Z"
    },
    {
      "event": "subscribed",
      "id": 1664454562,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2NjQ0NTQ1NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1664454562",
      "actor": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-05T18:45:33Z"
    },
    {
      "event": "reviewed",
      "id": 126477730,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI2NDc3NzMw",
      "url": null,
      "actor": null,
      "commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-126477730",
      "submitted_at": "2018-06-06T18:24:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "reviewed",
      "id": 126566604,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI2NTY2NjA0",
      "url": null,
      "actor": null,
      "commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-126566604",
      "submitted_at": "2018-06-06T21:42:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "reviewed",
      "id": 126883538,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI2ODgzNTM4",
      "url": null,
      "actor": null,
      "commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Generally looks good. A couple of comments inline.\r\n\r\nthe txindex thread is not named. I think you'll need to call `thread_util::Rename()` in `TxIndex::Start()` (in txindex.cpp).",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-126883538",
      "submitted_at": "2018-06-07T17:40:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "reviewed",
      "id": 128391707,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI4MzkxNzA3",
      "url": null,
      "actor": null,
      "commit_id": "3e1de02c2500cd82ed4a112aa0198dc601d7947c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK e6454374033760d93a33619bea1451573718dd3d",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-128391707",
      "submitted_at": "2018-06-13T17:32:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1679569785,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY3OTU2OTc4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1679569785",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-13T19:35:01Z"
    },
    {
      "event": "referenced",
      "id": 1679569805,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2Nzk1Njk4MDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1679569805",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "789758c500a90987c62cae248c2b2cf946b5a18f",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/789758c500a90987c62cae248c2b2cf946b5a18f",
      "created_at": "2018-06-13T19:35:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1679818752,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY3OTgxODc1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1679818752",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-13T21:41:52Z"
    },
    {
      "event": "referenced",
      "id": 1679818786,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2Nzk4MTg3ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1679818786",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b4c026b7397a5a3bc3626779c50bac9bc64d0a56",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/b4c026b7397a5a3bc3626779c50bac9bc64d0a56",
      "created_at": "2018-06-13T21:41:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1681282286,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY4MTI4MjI4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681282286",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:14:07Z"
    },
    {
      "event": "referenced",
      "id": 1681282294,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2ODEyODIyOTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681282294",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cdada4f684aa2d96b24854c198de7f5e84547e05",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/cdada4f684aa2d96b24854c198de7f5e84547e05",
      "created_at": "2018-06-14T14:14:07Z"
    },
    {
      "event": "mentioned",
      "id": 1681352340,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY4MTM1MjM0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681352340",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:41:15Z"
    },
    {
      "event": "subscribed",
      "id": 1681352342,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2ODEzNTIzNDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681352342",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:41:15Z"
    },
    {
      "event": "commented",
      "id": 397323573,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzMyMzU3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397323573",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:50:27Z",
      "updated_at": "2018-06-14T14:52:36Z",
      "author_association": "MEMBER",
      "body": "Thanks very much for the reviews, @skeees @jnewbery @ryanofsky. I've rebased and pushed changes incorporating your good feedback. The changeset has been simplified; instead of the generic thread data struct (which was more or less a vestige from when we were trying to provide threadnames for all platforms, even those not supporting `thread_local`), we're now just using a single thread_local variable for the threadname. I've also moved the threadname back to following timestamp as suggested.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-397323573",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1681376392,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY4MTM3NjM5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681376392",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:50:27Z"
    },
    {
      "event": "subscribed",
      "id": 1681376394,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2ODEzNzYzOTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681376394",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:50:27Z"
    },
    {
      "event": "mentioned",
      "id": 1681376398,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY4MTM3NjM5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681376398",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:50:28Z"
    },
    {
      "event": "subscribed",
      "id": 1681376399,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2ODEzNzYzOTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681376399",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:50:28Z"
    },
    {
      "event": "mentioned",
      "id": 1681382101,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY4MTM4MjEwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681382101",
      "actor": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:52:37Z"
    },
    {
      "event": "subscribed",
      "id": 1681382105,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2ODEzODIxMDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681382105",
      "actor": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:52:37Z"
    },
    {
      "event": "commented",
      "id": 397325155,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzMyNTE1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397325155",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T14:54:50Z",
      "updated_at": "2018-06-14T14:54:50Z",
      "author_association": "MEMBER",
      "body": "Looks like I botched the rebase; https://github.com/bitcoin/bitcoin/pull/13168/commits/d930487b3dc398f3ac93c00324fff027a4c61588 shouldn't be in this PR... Fixing.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-397325155",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1681461211,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY4MTQ2MTIxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681461211",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T15:23:25Z"
    },
    {
      "event": "referenced",
      "id": 1681461234,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2ODE0NjEyMzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681461234",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "bf2cb44e5b80511dde94b732a5e80f74d7d572b8",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/bf2cb44e5b80511dde94b732a5e80f74d7d572b8",
      "created_at": "2018-06-14T15:23:25Z"
    },
    {
      "event": "commented",
      "id": 397335382,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzMzNTM4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397335382",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T15:24:12Z",
      "updated_at": "2018-06-14T15:24:12Z",
      "author_association": "MEMBER",
      "body": "Botched rebase fixed.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-397335382",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1681590478,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY4MTU5MDQ3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681590478",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T16:17:45Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1681680406,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY4MTY4MDQwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681680406",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-14T17:01:28Z"
    },
    {
      "event": "referenced",
      "id": 1681680418,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2ODE2ODA0MTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1681680418",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4c21846ec3990e4f43f7eedb6b993df0968d33fd",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/4c21846ec3990e4f43f7eedb6b993df0968d33fd",
      "created_at": "2018-06-14T17:01:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1683584976,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY4MzU4NDk3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1683584976",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-15T14:48:09Z"
    },
    {
      "event": "referenced",
      "id": 1683584990,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2ODM1ODQ5OTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1683584990",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "696bdb751055c01c645dc95df486d56a873325de",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/696bdb751055c01c645dc95df486d56a873325de",
      "created_at": "2018-06-15T14:48:10Z"
    },
    {
      "event": "reviewed",
      "id": 130165610,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTMwMTY1NjEw",
      "url": null,
      "actor": null,
      "commit_id": "696bdb751055c01c645dc95df486d56a873325de",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK cf82eda8aec147a0d24ade9263f8df0708ff02bb. Lots of little changes since the last review, all discussed above. Main user visible changes are putting thread names after timestamps on log lines and not padding log thread names with spaces.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-130165610",
      "submitted_at": "2018-06-19T21:38:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1691496336,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY5MTQ5NjMzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1691496336",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T15:32:27Z"
    },
    {
      "event": "referenced",
      "id": 1691496346,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE2OTE0OTYzNDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1691496346",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6f854f68bc8da48b37928f5263518e09dbfcf5c1",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/6f854f68bc8da48b37928f5263518e09dbfcf5c1",
      "created_at": "2018-06-20T15:32:28Z"
    },
    {
      "event": "commented",
      "id": 398797316,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODc5NzMxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398797316",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T15:41:19Z",
      "updated_at": "2018-06-20T15:41:19Z",
      "author_association": "MEMBER",
      "body": "Thanks for the continued review, @ryanofsky. Pushed a few small changes addressing your feedback.\r\n\r\n```sh\r\n $ git diff threadnames2.12..threadnames2.11 | cat\r\n\r\ndiff --git a/configure.ac b/configure.ac\r\nindex 6873326..31c8c66 100644\r\n--- a/configure.ac\r\n+++ b/configure.ac\r\n@@ -771,7 +771,7 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\r\n         AC_MSG_RESULT(no)\r\n         ;;\r\n       *darwin*)\r\n-        # TODO enable thread_local on later versions of Darwin where it is\r\n+        # TODO enable therad_local on later versions of Darwin where it is\r\n         # supported (per https://stackoverflow.com/a/29929949)\r\n         AC_MSG_RESULT(no)\r\n         ;;\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex ee99099..066e83d 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -58,7 +58,7 @@ static bool AppInit(int argc, char* argv[])\r\n {\r\n     bool fRet = false;\r\n\r\n-    thread_util::Rename(\"init\");\r\n+    thread_util::Rename(\"bitcoind\");\r\n\r\n     //\r\n     // Parameters\r\n```",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-398797316",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1691519430,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY5MTUxOTQzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1691519430",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T15:41:19Z"
    },
    {
      "event": "subscribed",
      "id": 1691519434,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2OTE1MTk0MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1691519434",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T15:41:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1691637900,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY5MTYzNzkwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1691637900",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T16:28:25Z"
    },
    {
      "event": "commented",
      "id": 398813037,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODgxMzAzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398813037",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T16:28:41Z",
      "updated_at": "2018-06-20T16:28:41Z",
      "author_association": "MEMBER",
      "body": "Oops -- missed the QT `Rename` calls in the last change. Pushed: \r\n```sh\r\n $ git diff threadnames2.12..threadnames2.13 | cat\r\n\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex d3f97f7..f13e655 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -283,7 +283,7 @@ void BitcoinCore::initialize()\r\n     try\r\n     {\r\n         qDebug() << __func__ << \": Running initialization in thread\";\r\n-        thread_util::Rename(\"bitcoin-qt-init\");\r\n+        thread_util::Rename(\"qt-init\");\r\n         bool rv = m_node.appInitMain();\r\n         Q_EMIT initializeResult(rv);\r\n     } catch (const std::exception& e) {\r\n@@ -568,7 +568,7 @@ static void SetupUIArgs()\r\n int main(int argc, char *argv[])\r\n {\r\n     SetupEnvironment();\r\n-    thread_util::Rename(\"bitcoin-qt\");\r\n+    thread_util::Rename(\"main\");\r\n\r\n     std::unique_ptr<interfaces::Node> node = interfaces::MakeNode();\r\n```",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-398813037",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "reviewed",
      "id": 130531024,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTMwNTMxMDI0",
      "url": null,
      "actor": null,
      "commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "A few nits inline.\r\n\r\nThe txindex thread is not named. Perhaps you lost that when rebasing on #13243\r\n\r\nI've tested and other than those nits, it looks good!",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-130531024",
      "submitted_at": "2018-06-20T19:17:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1696772571,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTY5Njc3MjU3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1696772571",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-22T20:37:54Z"
    },
    {
      "event": "commented",
      "id": 399576244,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTU3NjI0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399576244",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-22T20:44:03Z",
      "updated_at": "2018-06-22T20:44:03Z",
      "author_association": "MEMBER",
      "body": "Thanks for the look, @jnewbery. Pushed [`threadnames2.13` -> `threadnames2.14`](https://gist.github.com/jamesob/4b68362c5b47c6ce46ea712ebb9995e2). \r\n\r\nIt turns out the txindex thread *is* actually named ([here](https://github.com/bitcoin/bitcoin/blob/master/src/index/base.cpp#L267-L268) - GetName() is passed into TraceThread(), which then calls Rename()):\r\n\r\n```\r\n2018-06-22T20:36:46Z [txindex] txindex thread start\r\n2018-06-22T20:36:46Z [qt-init] init message: Loading wallet...\r\n2018-06-22T20:36:46Z [txindex] txindex is enabled\r\n2018-06-22T20:36:46Z [txindex] txindex thread exit\r\n```",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-399576244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1696782116,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY5Njc4MjExNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1696782116",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-22T20:44:03Z"
    },
    {
      "event": "subscribed",
      "id": 1696782118,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2OTY3ODIxMTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1696782118",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-22T20:44:03Z"
    },
    {
      "event": "commented",
      "id": 399969344,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTk2OTM0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399969344",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-25T14:21:34Z",
      "updated_at": "2018-06-25T14:21:34Z",
      "author_association": "MEMBER",
      "body": "Do you know what thread these leveldb logs come from:\r\n\r\n```\r\n2018-06-25T14:20:09Z [init] Bitcoin Core version v0.16.99.0-unk (release build)\r\n2018-06-25T14:20:09Z [init] InitParameterInteraction: parameter interaction: -whitelistforcerelay=1 -> setting -whitelistrelay=1\r\n2018-06-25T14:20:09Z [init] Assuming ancestors of block 0000000000000000005214481d2d96f898e3d5416e43359c145944a909d242e0 have valid signatures.\r\n2018-06-25T14:20:09Z [init] Setting nMinimumChainWork=000000000000000000000000000000000000000000f91c579d57cad4bc5278cc\r\n2018-06-25T14:20:09Z [init] Using the 'sse4(1way+4way)' SHA256 implementation\r\n2018-06-25T14:20:09Z [init] Using RdRand as an additional entropy source\r\n2018-06-25T14:20:09Z [init] Default data directory /home/ubuntu/.bitcoin\r\n2018-06-25T14:20:09Z [init] Using data directory /home/ubuntu/.bitcoin\r\n2018-06-25T14:20:09Z [init] Using config file /home/ubuntu/.bitcoin/bitcoin.conf\r\n2018-06-25T14:20:09Z [init] Using at most 125 automatic connections (1024 file descriptors available)\r\n2018-06-25T14:20:09Z [init] Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2018-06-25T14:20:09Z [init] Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2018-06-25T14:20:09Z [init] Using 2 threads for script verification\r\n2018-06-25T14:20:09Z [init] Allowing HTTP connections from: 127.0.0.0/8 ::1/128 127.0.0.1/32 \r\n2018-06-25T14:20:09Z [init] Binding RPC on address :: port 44553\r\n2018-06-25T14:20:09Z [init] Binding RPC on address 0.0.0.0 port 44553\r\n2018-06-25T14:20:09Z [init] Binding RPC on address 0.0.0.0 port 44553 failed.\r\n2018-06-25T14:20:09Z [init] Initialized HTTP server\r\n2018-06-25T14:20:09Z [init] HTTP: creating work queue of depth 16\r\n2018-06-25T14:20:09Z [init] Starting RPC\r\n2018-06-25T14:20:09Z [init] Starting HTTP RPC server\r\n2018-06-25T14:20:09Z [init] Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcuser for rpcauth auth generation.\r\n2018-06-25T14:20:09Z [init] Registering HTTP handler for / (exactmatch 1)\r\n2018-06-25T14:20:09Z [init] Registering HTTP handler for /wallet/ (exactmatch 0)\r\n2018-06-25T14:20:09Z [init] Starting HTTP server\r\n2018-06-25T14:20:09Z [init] HTTP: starting 4 worker threads\r\n2018-06-25T14:20:09Z [init] Using wallet directory /home/ubuntu/.bitcoin\r\n2018-06-25T14:20:09Z [init] init message: Verifying wallet(s)...\r\n2018-06-25T14:20:09Z [init] Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2018-06-25T14:20:09Z [init] Using wallet wallet.dat\r\n2018-06-25T14:20:09Z [init] BerkeleyEnvironment::Open: LogDir=/home/ubuntu/.bitcoin/database ErrorFile=/home/ubuntu/.bitcoin/db.log\r\n2018-06-25T14:20:09Z [scheduler] scheduler thread start\r\n2018-06-25T14:20:09Z [http] Entering http event loop\r\n2018-06-25T14:20:09Z [init] net: setting try another outbound peer=false\r\n2018-06-25T14:20:09Z [init] Cache configuration:\r\n2018-06-25T14:20:09Z [init] * Using 2.0MiB for block index database\r\n2018-06-25T14:20:09Z [init] * Using 56.0MiB for transaction index database\r\n2018-06-25T14:20:09Z [init] * Using 8.0MiB for chain state database\r\n2018-06-25T14:20:09Z [init] * Using 384.0MiB for in-memory UTXO set (plus up to 286.1MiB of unused mempool space)\r\n2018-06-25T14:20:09Z [init] init message: Loading block index...\r\n2018-06-25T14:20:09Z [init] LevelDB using max_open_files=1000 (default=1000)\r\n2018-06-25T14:20:09Z [init] Opening LevelDB in /home/ubuntu/.bitcoin/blocks/index\r\n2018-06-25T14:20:09Z [init] leveldb: Recovering log #247\r\n2018-06-25T14:20:10Z [init] leveldb: Level-0 table #249: started\r\n2018-06-25T14:20:10Z [init] leveldb: Level-0 table #249: 5789826 bytes OK\r\n2018-06-25T14:20:10Z [init] leveldb: Recovering log #248\r\n2018-06-25T14:20:10Z [init] leveldb: Level-0 table #250: started\r\n2018-06-25T14:20:10Z [init] leveldb: Level-0 table #250: 193 bytes OK\r\n2018-06-25T14:20:10Z [init] leveldb: Delete type=0 #247\r\n2018-06-25T14:20:10Z [init] leveldb: Delete type=3 #244\r\n2018-06-25T14:20:10Z [init] leveldb: Delete type=0 #248\r\n2018-06-25T14:20:10Z [init] Opened LevelDB successfully\r\n2018-06-25T14:20:10Z [init] Using obfuscation key for /home/ubuntu/.bitcoin/blocks/index: 0000000000000000\r\n2018-06-25T14:20:10Z [] leveldb: Compacting 4@0 + 7@1 files\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #252@0: 15702 keys, 2141621 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #253@0: 8086 keys, 1117181 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #254@0: 15629 keys, 2139993 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #255@0: 6885 keys, 942686 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #256@0: 15662 keys, 2141826 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #257@0: 5521 keys, 755359 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Generated table #258@0: 5260 keys, 711244 bytes\r\n2018-06-25T14:20:10Z [] leveldb: Compacted 4@0 + 7@1 files => 9949910 bytes\r\n2018-06-25T14:20:10Z [] leveldb: compacted to: files[ 0 7 35 0 0 0 0 ]\r\n```",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-399969344",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 399987545,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTk4NzU0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399987545",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-25T15:13:56Z",
      "updated_at": "2018-06-25T15:13:56Z",
      "author_association": "MEMBER",
      "body": "Tested ACK 18928a194fa351e07eb808eaea01792ceb1d2093, modulo the question above about the leveldb logs.\r\n\r\nIf there are any further changes to this PR, I'd suggest squashing commit *threads: explicitly name main threads* into commit *threads: introduce threadutil, refactor thread naming*. ",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-399987545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "commented",
      "id": 400012141,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDAxMjE0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400012141",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-25T16:24:33Z",
      "updated_at": "2018-06-25T16:24:33Z",
      "author_association": "MEMBER",
      "body": "@jnewbery Thanks for the follow-up. Turns out that the blank names contained in your logs come from a [compaction](https://github.com/jamesob/bitcoin/blob/18928a194fa351e07eb808eaea01792ceb1d2093/src/leveldb/db/db_impl.cc#L657-L660) thread [started from within the leveldb source tree](https://github.com/jamesob/bitcoin/blob/18928a194fa351e07eb808eaea01792ceb1d2093/src/leveldb/util/env_posix.cc#L622-L629), so I don't think there's much we can do there.\r\n\r\nI'll be sure to squash the commits you reference pending more modifications.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-400012141",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1699366603,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY5OTM2NjYwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1699366603",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-25T16:24:33Z"
    },
    {
      "event": "subscribed",
      "id": 1699366605,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2OTkzNjY2MDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1699366605",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-25T16:24:33Z"
    },
    {
      "event": "reviewed",
      "id": 134343396,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTM0MzQzMzk2",
      "url": null,
      "actor": null,
      "commit_id": "18928a194fa351e07eb808eaea01792ceb1d2093",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 18928a194fa351e07eb808eaea01792ceb1d2093. Only minor changes since last review: updating init thread names, dropping bool return values, fixing spelling mistake.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-134343396",
      "submitted_at": "2018-07-04T11:27:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "labeled",
      "id": 1721405842,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE3MjE0MDU4NDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1721405842",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-07T08:39:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OWQ2YTFlODY1NjRkN2IzMTZhN2RlMWQzNTY1OTgwODExZTY1MGNl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99d6a1e86564d7b316a7de1d3565980811e650ce",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99d6a1e86564d7b316a7de1d3565980811e650ce",
      "tree": {
        "sha": "078e1c15430b2fd9fa462aaf245a60b8fc39b66b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/078e1c15430b2fd9fa462aaf245a60b8fc39b66b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ba77df15de92deb35bfd501d4635aed3236af30",
          "sha": "5ba77df15de92deb35bfd501d4635aed3236af30",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ba77df15de92deb35bfd501d4635aed3236af30"
        }
      ],
      "message": "disable thread_local on unreliable platforms\n\nSee discussions here:\n\n- https://github.com/bitcoin/bitcoin/pull/11722#pullrequestreview-79322658\n- https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-387181155",
      "committer": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-07-11T20:47:47Z"
      },
      "author": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-05-21T17:44:23Z"
      },
      "sha": "99d6a1e86564d7b316a7de1d3565980811e650ce"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1728924819,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTcyODkyNDgxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1728924819",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-11T21:02:50Z"
    },
    {
      "event": "commented",
      "id": 404309566,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDMwOTU2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404309566",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-11T21:07:24Z",
      "updated_at": "2018-07-11T21:07:24Z",
      "author_association": "MEMBER",
      "body": "Rebased",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-404309566",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "reviewed",
      "id": 119680023,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTE5NjgwMDIz",
      "url": null,
      "actor": null,
      "commit_id": "6b12218a8234b61dabf2696997de393ac054b2e7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-119680023",
      "submitted_at": "2018-07-11T23:25:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "unlabeled",
      "id": 1729222399,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MTcyOTIyMjM5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1729222399",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T00:54:44Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZTEyZjAxYjg0ODBhOTNkY2Q5N2MwODYxOGUxYzdjODI3ZWE3MmI3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e12f01b8480a93dcd97c08618e1c7c827ea72b7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6e12f01b8480a93dcd97c08618e1c7c827ea72b7",
      "tree": {
        "sha": "72beca1239877027d5c52416a65e37293ef29bd7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72beca1239877027d5c52416a65e37293ef29bd7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99d6a1e86564d7b316a7de1d3565980811e650ce",
          "sha": "99d6a1e86564d7b316a7de1d3565980811e650ce",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99d6a1e86564d7b316a7de1d3565980811e650ce"
        }
      ],
      "message": "threads: introduce threadutil, refactor thread naming\n\nThis work is prerequisite to attaching thread names to log lines and deadlock\ndebug utilities. threadutil allows setting of an \"internal\" threadname per\nthread on platforms where thread_local is available.\n\nThis commit also moves RenameThread() out of util and adds a numeric suffix to\ndisambiguate between threads with the same name. It explicitly names a few\nmain threads using the new Rename() utility.",
      "committer": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-07-12T14:17:49Z"
      },
      "author": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-06-13T18:50:59Z"
      },
      "sha": "6e12f01b8480a93dcd97c08618e1c7c827ea72b7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMDJhNTcwYjVkYTJhMWMxNWZiOTJlNjM2MmE5NjE2M2VlZDEzZGVh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/002a570b5da2a1c15fb92e6362a96163eed13dea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/002a570b5da2a1c15fb92e6362a96163eed13dea",
      "tree": {
        "sha": "68b6cf13034057eb32014b582918b0352930360f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/68b6cf13034057eb32014b582918b0352930360f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e12f01b8480a93dcd97c08618e1c7c827ea72b7",
          "sha": "6e12f01b8480a93dcd97c08618e1c7c827ea72b7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6e12f01b8480a93dcd97c08618e1c7c827ea72b7"
        }
      ],
      "message": "tests: add threadutil tests",
      "committer": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-07-12T14:18:01Z"
      },
      "author": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-05-05T18:11:46Z"
      },
      "sha": "002a570b5da2a1c15fb92e6362a96163eed13dea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NzdmZmQ0MGEwN2IxNTZjMTkxNzAwNGE4MTdmMDc0NzIxMDYwNjZi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/577ffd40a07b156c1917004a817f07472106066b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/577ffd40a07b156c1917004a817f07472106066b",
      "tree": {
        "sha": "450d44bf00a68c7e0dca3fc37f0f6b1395b48219",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/450d44bf00a68c7e0dca3fc37f0f6b1395b48219"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/002a570b5da2a1c15fb92e6362a96163eed13dea",
          "sha": "002a570b5da2a1c15fb92e6362a96163eed13dea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/002a570b5da2a1c15fb92e6362a96163eed13dea"
        }
      ],
      "message": "threads: prefix log messages with thread names\n\nIntroduce a new flag (`-logthreadnames`) which allows toggling\nof this behavior.",
      "committer": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-07-12T14:18:01Z"
      },
      "author": {
        "name": "James O'Beirne",
        "email": "james@chaincode.com",
        "date": "2018-05-05T18:14:43Z"
      },
      "sha": "577ffd40a07b156c1917004a817f07472106066b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MWFlZjcwMmM5MGQ1M2M4ZjhkZDUzZGZhY2I1ZDVmM2QwY2IyYjkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "tree": {
        "sha": "d4f624387352865ddc654b28d14fbe0f6bcf599d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d4f624387352865ddc654b28d14fbe0f6bcf599d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/577ffd40a07b156c1917004a817f07472106066b",
          "sha": "577ffd40a07b156c1917004a817f07472106066b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/577ffd40a07b156c1917004a817f07472106066b"
        }
      ],
      "message": "threads: add thread names to deadlock debugging message\n\nAlso refactor CLockLocation to use an initialization list.",
      "committer": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-07-12T14:18:01Z"
      },
      "author": {
        "name": "James O'Beirne",
        "email": "james.obeirne@gmail.com",
        "date": "2018-05-05T18:15:30Z"
      },
      "sha": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1730455320,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTczMDQ1NTMyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1730455320",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:27:18Z"
    },
    {
      "event": "commented",
      "id": 404532679,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDUzMjY3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404532679",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:31:00Z",
      "updated_at": "2018-07-12T14:31:00Z",
      "author_association": "MEMBER",
      "body": "Thanks for the look, @sipa. I've incorporated your suggestions and squashed commits as suggested by @jnewbery earlier. \r\n\r\nDiff here: [threadnames2.15 -> .16](https://gist.github.com/jamesob/eb392fa435782d3b34cf04de90959ffa)",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-404532679",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1730465289,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTczMDQ2NTI4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1730465289",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:31:00Z"
    },
    {
      "event": "subscribed",
      "id": 1730465290,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE3MzA0NjUyOTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1730465290",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:31:00Z"
    },
    {
      "event": "mentioned",
      "id": 1730465291,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTczMDQ2NTI5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1730465291",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:31:00Z"
    },
    {
      "event": "subscribed",
      "id": 1730465293,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE3MzA0NjUyOTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1730465293",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-12T14:31:00Z"
    },
    {
      "event": "commented",
      "id": 407215808,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzIxNTgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/407215808",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-23T22:02:13Z",
      "updated_at": "2018-07-23T22:02:13Z",
      "author_association": "MEMBER",
      "body": "Tested ACK 91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-407215808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "referenced",
      "id": 1798437953,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3OTg0Mzc5NTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1798437953",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "558f3235eec383f2bcf175c4d5901e17b93a8815",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/558f3235eec383f2bcf175c4d5901e17b93a8815",
      "created_at": "2018-08-20T18:53:34Z"
    },
    {
      "event": "commented",
      "id": 414467287,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDQ2NzI4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/414467287",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-20T21:21:15Z",
      "updated_at": "2018-08-20T21:21:15Z",
      "author_association": "MEMBER",
      "body": "I benchmarked this branch (as rebased on top of master) with [bitcoinperf]() and it's worth noting that we see a roughly 1.4% slowdown over master ([details here](https://gist.github.com/jamesob/8115f1d24086580d4dbd54dba4b27047)) during IBD up to height 200,000.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-414467287",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "reviewed",
      "id": 149364915,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ5MzY0OTE1",
      "url": null,
      "actor": null,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> we see a roughly 1.4% slowdown over master\r\n\r\nWhat's the implication of this? Do you want to to try to optimize the change, or abandon it, or turn it off by default? Does the slowdown even happen in the default configuration, or only when extra debugging is enabled?\r\n\r\ntACK 91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91. I just ran `bitcoind -regtest` and looked at ps thread names and log output. Only changes since my previous review were a rebase and tweaked thread names.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#pullrequestreview-149364915",
      "submitted_at": "2018-08-24T16:05:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
    },
    {
      "event": "commented",
      "id": 415808482,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTgwODQ4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415808482",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-24T16:17:04Z",
      "updated_at": "2018-08-24T16:17:04Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky thanks for the look. I think given the observed slowdown, maybe disabling by default is the way to go. I don't see any obvious means of improving performance, though I haven't taken to profiling tools.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-415808482",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "mentioned",
      "id": 1808037429,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTgwODAzNzQyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1808037429",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-24T16:17:04Z"
    },
    {
      "event": "subscribed",
      "id": 1808037431,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE4MDgwMzc0MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1808037431",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-24T16:17:04Z"
    },
    {
      "event": "commented",
      "id": 417709189,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzcwOTE4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/417709189",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-31T15:56:34Z",
      "updated_at": "2018-08-31T15:56:34Z",
      "author_association": "MEMBER",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-417709189",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "labeled",
      "id": 1820940789,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE4MjA5NDA3ODk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1820940789",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-31T15:56:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 2001847257,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIwMDE4NDcyNTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2001847257",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-03T16:08:01Z",
      "label": {
        "name": "Up for grabs",
        "color": "99a810"
      }
    },
    {
      "event": "commented",
      "id": 443765054,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0Mzc2NTA1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/443765054",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-03T16:08:02Z",
      "updated_at": "2018-12-03T16:08:02Z",
      "author_association": "MEMBER",
      "body": "<!--5fd3d806e98f4a0ca80977bb178665a0-->There hasn't been much activity lately and the patch still needs rebase, so I am closing this for now. Please let me know when you want to continue working on this, so the pull request can be re-opened.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-443765054",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "closed",
      "id": 2001847477,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjAwMTg0NzQ3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2001847477",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-03T16:08:06Z"
    },
    {
      "event": "referenced",
      "id": 2081493031,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIwODE0OTMwMzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2081493031",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "315d84314a7a05f856cbd4a18f1271de4f0be675",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/315d84314a7a05f856cbd4a18f1271de4f0be675",
      "created_at": "2019-01-17T21:56:15Z"
    },
    {
      "event": "referenced",
      "id": 2285932408,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIyODU5MzI0MDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2285932408",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7550fc1bccbeebe2e148eee485ee2318851d86b2",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/7550fc1bccbeebe2e148eee485ee2318851d86b2",
      "created_at": "2019-04-18T14:38:52Z"
    },
    {
      "event": "referenced",
      "id": 2285936718,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIyODU5MzY3MTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2285936718",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c1d159999c6fc2b81fb8d0caf7d68a744d127fb8",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/c1d159999c6fc2b81fb8d0caf7d68a744d127fb8",
      "created_at": "2019-04-18T14:40:18Z"
    },
    {
      "event": "referenced",
      "id": 2303954398,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzMDM5NTQzOTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2303954398",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "188ca75e5fe4837d16241446558c7566912f67b2",
      "commit_url": "https://api.github.com/repos/jamesob/bitcoin/commits/188ca75e5fe4837d16241446558c7566912f67b2",
      "created_at": "2019-04-26T19:04:01Z"
    },
    {
      "event": "referenced",
      "id": 2310502632,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzMTA1MDI2MzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2310502632",
      "actor": {
        "login": "pull[bot]",
        "id": 39814207,
        "node_id": "MDM6Qm90Mzk4MTQyMDc=",
        "avatar_url": "https://avatars.githubusercontent.com/in/12910?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pull%5Bbot%5D",
        "html_url": "https://github.com/apps/pull",
        "followers_url": "https://api.github.com/users/pull%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/pull%5Bbot%5D/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pull%5Bbot%5D/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pull%5Bbot%5D/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pull%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/pull%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/pull%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/pull%5Bbot%5D/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pull%5Bbot%5D/received_events",
        "type": "Bot",
        "site_admin": false
      },
      "commit_id": "2c35fe6238131f0b5613c3a1230c5019f13f0c09",
      "commit_url": "https://api.github.com/repos/jaschadub/bitcoin/commits/2c35fe6238131f0b5613c3a1230c5019f13f0c09",
      "created_at": "2019-04-30T19:28:00Z"
    },
    {
      "event": "referenced",
      "id": 2313035307,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzMTMwMzUzMDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2313035307",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "500e70c86d77a26339df99662ad9548947e04f6a",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/500e70c86d77a26339df99662ad9548947e04f6a",
      "created_at": "2019-05-01T22:12:02Z"
    },
    {
      "event": "referenced",
      "id": 2596681378,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI1OTY2ODEzNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2596681378",
      "actor": {
        "login": "HashUnlimited",
        "id": 26601261,
        "node_id": "MDQ6VXNlcjI2NjAxMjYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/26601261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HashUnlimited",
        "html_url": "https://github.com/HashUnlimited",
        "followers_url": "https://api.github.com/users/HashUnlimited/followers",
        "following_url": "https://api.github.com/users/HashUnlimited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HashUnlimited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HashUnlimited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HashUnlimited/subscriptions",
        "organizations_url": "https://api.github.com/users/HashUnlimited/orgs",
        "repos_url": "https://api.github.com/users/HashUnlimited/repos",
        "events_url": "https://api.github.com/users/HashUnlimited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HashUnlimited/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ddcb2ca45d820ece831db91795ed60f764787cdd",
      "commit_url": "https://api.github.com/repos/HashUnlimited/chaincoin/commits/ddcb2ca45d820ece831db91795ed60f764787cdd",
      "created_at": "2019-08-30T10:02:56Z"
    },
    {
      "event": "unlabeled",
      "id": 2741494688,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50Mjc0MTQ5NDY4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2741494688",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-24T16:50:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 2786559524,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI3ODY1NTk1MjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2786559524",
      "actor": {
        "login": "barrystyle",
        "id": 14147070,
        "node_id": "MDQ6VXNlcjE0MTQ3MDcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/14147070?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/barrystyle",
        "html_url": "https://github.com/barrystyle",
        "followers_url": "https://api.github.com/users/barrystyle/followers",
        "following_url": "https://api.github.com/users/barrystyle/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/barrystyle/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/barrystyle/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/barrystyle/subscriptions",
        "organizations_url": "https://api.github.com/users/barrystyle/orgs",
        "repos_url": "https://api.github.com/users/barrystyle/repos",
        "events_url": "https://api.github.com/users/barrystyle/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/barrystyle/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e98602b60d0a782c9c4153de19d4e6e3efcbdd6c",
      "commit_url": "https://api.github.com/repos/zentoshi/zentoshi/commits/e98602b60d0a782c9c4153de19d4e6e3efcbdd6c",
      "created_at": "2019-11-11T03:13:18Z"
    },
    {
      "event": "unlabeled",
      "id": 4560485571,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDU2MDQ4NTU3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4560485571",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-07T06:37:32Z",
      "label": {
        "name": "Up for grabs",
        "color": "99a810"
      }
    },
    {
      "event": "commented",
      "id": 814645198,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxNDY0NTE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/814645198",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-07T06:37:37Z",
      "updated_at": "2021-04-07T06:37:37Z",
      "author_association": "MEMBER",
      "body": "Removing \"Up for grabs\" given #15849.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#issuecomment-814645198",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13168"
    },
    {
      "event": "locked",
      "id": 7199081353,
      "node_id": "LOE_lADOABII584TGVw0zwAAAAGtGUOJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199081353",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:14:22Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186222792",
      "pull_request_review_id": 117769212,
      "id": 186222792,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyMjc5Mg==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do we want to use thread local even on mingw (where you had problems earlier?)",
      "created_at": "2018-05-04T21:11:33Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186222792",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186222792"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186223904",
      "pull_request_review_id": 117769212,
      "id": 186223904,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyMzkwNA==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_data::get_internal_name()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+long thread_data::get_internal_id()\n+{\n+    return g_thread_data.m_id;\n+}\n+\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    g_thread_data = {internal_id++, std::move(name)};\n+    return true;\n+}\n+\n+#elif defined(HAVE_PTHREAD)\n+\n+static pthread_key_t g_key;\n+static void destruct_data(void* data)\n+{\n+    delete static_cast<thread_data_type*>(data);\n+}\n+\n+static void make_key()\n+{\n+    pthread_key_create(&g_key, destruct_data);\n+}\n+\n+std::string thread_data::get_internal_name()\n+{\n+    void* data = pthread_getspecific(g_key);",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(in this function and the next) `g_key` is uninitialized if called before `set_internal_name` is invoked. Perhaps you need to add the `pthread_once` call here as well?\r\n\r\nIf not, document that it's illegal to invoke these functions without knowing if `set_internal_name` has been called.",
      "created_at": "2018-05-04T21:16:55Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186223904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186223904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186224307",
      "pull_request_review_id": 117769212,
      "id": 186224307,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyNDMwNw==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_data::get_internal_name()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+long thread_data::get_internal_id()\n+{\n+    return g_thread_data.m_id;\n+}\n+\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    g_thread_data = {internal_id++, std::move(name)};\n+    return true;\n+}\n+\n+#elif defined(HAVE_PTHREAD)\n+\n+static pthread_key_t g_key;\n+static void destruct_data(void* data)\n+{\n+    delete static_cast<thread_data_type*>(data);\n+}\n+\n+static void make_key()\n+{\n+    pthread_key_create(&g_key, destruct_data);\n+}\n+\n+std::string thread_data::get_internal_name()\n+{\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        return static_cast<thread_data_type*>(data)->m_name;\n+    }\n+    return \"unnamed\";\n+}\n+long thread_data::get_internal_id()\n+{\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        return static_cast<thread_data_type*>(data)->m_id;\n+    }\n+    return -1;\n+}\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    static pthread_once_t key_once = PTHREAD_ONCE_INIT;\n+    if (pthread_once(&key_once, make_key)) {\n+        return false;\n+    }\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        static_cast<thread_data_type*>(data)->m_name = std::move(name);\n+        return true;\n+    }\n+    data = new thread_data_type{internal_id++, std::move(name)};",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `internal_id` has different semantics here than in the thread_local case (here it's only incremented the first time a thread is given a name; in the above case it's incremented every time the name changes). Is that an issue?",
      "created_at": "2018-05-04T21:19:10Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186224307",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186224307"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186226655",
      "pull_request_review_id": 117773985,
      "id": 186226655,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyNjY1NQ==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": 186222792,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/13168/files#diff-defae1c29982e5afaf477729b6c7d9b4R11 :)",
      "created_at": "2018-05-04T21:31:41Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186226655",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186226655"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186228314",
      "pull_request_review_id": 117775981,
      "id": 186228314,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyODMxNA==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_data::get_internal_name()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+long thread_data::get_internal_id()\n+{\n+    return g_thread_data.m_id;\n+}\n+\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    g_thread_data = {internal_id++, std::move(name)};\n+    return true;\n+}\n+\n+#elif defined(HAVE_PTHREAD)\n+\n+static pthread_key_t g_key;\n+static void destruct_data(void* data)\n+{\n+    delete static_cast<thread_data_type*>(data);\n+}\n+\n+static void make_key()\n+{\n+    pthread_key_create(&g_key, destruct_data);\n+}\n+\n+std::string thread_data::get_internal_name()\n+{\n+    void* data = pthread_getspecific(g_key);",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": 186223904,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yep, good catch.",
      "created_at": "2018-05-04T21:40:46Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186228314",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186228314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186229119",
      "pull_request_review_id": 117776960,
      "id": 186229119,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIyOTExOQ==",
      "diff_hunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadval.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"unnamed\"};\n+};\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_data::get_internal_name()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+long thread_data::get_internal_id()\n+{\n+    return g_thread_data.m_id;\n+}\n+\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    g_thread_data = {internal_id++, std::move(name)};\n+    return true;\n+}\n+\n+#elif defined(HAVE_PTHREAD)\n+\n+static pthread_key_t g_key;\n+static void destruct_data(void* data)\n+{\n+    delete static_cast<thread_data_type*>(data);\n+}\n+\n+static void make_key()\n+{\n+    pthread_key_create(&g_key, destruct_data);\n+}\n+\n+std::string thread_data::get_internal_name()\n+{\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        return static_cast<thread_data_type*>(data)->m_name;\n+    }\n+    return \"unnamed\";\n+}\n+long thread_data::get_internal_id()\n+{\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        return static_cast<thread_data_type*>(data)->m_id;\n+    }\n+    return -1;\n+}\n+bool thread_data::set_internal_name(std::string name)\n+{\n+    static std::atomic<long> internal_id{0};\n+    static pthread_once_t key_once = PTHREAD_ONCE_INIT;\n+    if (pthread_once(&key_once, make_key)) {\n+        return false;\n+    }\n+    void* data = pthread_getspecific(g_key);\n+    if (data) {\n+        static_cast<thread_data_type*>(data)->m_name = std::move(name);\n+        return true;\n+    }\n+    data = new thread_data_type{internal_id++, std::move(name)};",
      "path": "src/threadval.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "01e0925b875ec15aadaf1476a80e2167f59bd05d",
      "in_reply_to_id": 186224307,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yep. The thread_local impl is incorrect. We only want to increment if unset, so thread id's don't bounce around across renames.",
      "created_at": "2018-05-04T21:45:35Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186229119",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186229119"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186230413",
      "pull_request_review_id": 117778533,
      "id": 186230413,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjIzMDQxMw==",
      "diff_hunk": "@@ -0,0 +1,237 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadutil.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+const std::string UNNAMED_THREAD = \"<unnamed>\";\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::set_process_name(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::get_process_name()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+static std::string try_set_internal_name_from_process()\n+{\n+    std::string procname = thread_util::get_process_name();\n+    if (procname.size()) thread_util::set_internal_name(procname);\n+    return procname;\n+}\n+\n+\n+bool thread_util::rename(std::string name)\n+{\n+    set_process_name(name.c_str());\n+    set_internal_name(name);\n+}\n+\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::get_internal_name()\n+{\n+    auto name = g_thread_data.m_name;\n+\n+    if (g_thread_data.m_name.empty()) {",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "ffa1b4f8735080bc3481e7c47f87348fde5708d3",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why the fallback?",
      "created_at": "2018-05-04T21:53:44Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186230413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186230413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186266594",
      "pull_request_review_id": 117819138,
      "id": 186266594,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjI2NjU5NA==",
      "diff_hunk": "@@ -0,0 +1,237 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadutil.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+const std::string UNNAMED_THREAD = \"<unnamed>\";\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::set_process_name(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::get_process_name()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+static std::string try_set_internal_name_from_process()\n+{\n+    std::string procname = thread_util::get_process_name();\n+    if (procname.size()) thread_util::set_internal_name(procname);\n+    return procname;\n+}\n+\n+\n+bool thread_util::rename(std::string name)\n+{\n+    set_process_name(name.c_str());\n+    set_internal_name(name);\n+}\n+\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::get_internal_name()\n+{\n+    auto name = g_thread_data.m_name;\n+\n+    if (g_thread_data.m_name.empty()) {",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "ffa1b4f8735080bc3481e7c47f87348fde5708d3",
      "in_reply_to_id": 186230413,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There were lots of `\"<unnamed>\"` occurrences in the logs and so I figured it made sense to fall back to the process name if we hadn't explicitly named the thread (e.g. `bitcoind`, `bitcoin-qt`). Do you think it makes more sense to just explicitly call `rename` on those main threads?",
      "created_at": "2018-05-05T16:40:22Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186266594",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186266594"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186266784",
      "pull_request_review_id": 117819370,
      "id": 186266784,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjI2Njc4NA==",
      "diff_hunk": "@@ -0,0 +1,237 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <threadutil.h>\n+\n+/*  TODO: using thread_local changes the abi in ways that may not play nice\n+    when the c++ stdlib is linked dynamically. Disable it until thorough\n+    testing has been done. */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+#include <atomic>\n+#include <thread>\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <atomic>\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <thread>\n+#include <unordered_map>\n+#endif\n+\n+const std::string UNNAMED_THREAD = \"<unnamed>\";\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::set_process_name(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::get_process_name()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+static std::string try_set_internal_name_from_process()\n+{\n+    std::string procname = thread_util::get_process_name();\n+    if (procname.size()) thread_util::set_internal_name(procname);\n+    return procname;\n+}\n+\n+\n+bool thread_util::rename(std::string name)\n+{\n+    set_process_name(name.c_str());\n+    set_internal_name(name);\n+}\n+\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::get_internal_name()\n+{\n+    auto name = g_thread_data.m_name;\n+\n+    if (g_thread_data.m_name.empty()) {",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "ffa1b4f8735080bc3481e7c47f87348fde5708d3",
      "in_reply_to_id": 186230413,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I can see concerns with `get_internal_name` being a misnomer. Maybe we should introduce a `GetName` that first tries the internal name and then falls back to the process name?",
      "created_at": "2018-05-05T16:49:25Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186266784",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186266784"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303737",
      "pull_request_review_id": 117856242,
      "id": 186303737,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMwMzczNw==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(name);",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This can be `SetInternalName(std::move(name))`.",
      "created_at": "2018-05-06T21:37:53Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186303737",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303737"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303792",
      "pull_request_review_id": 117856242,
      "id": 186303792,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMwMzc5Mg==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(name);\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This increments id every time the name is set (regardless of whether it had a name already).",
      "created_at": "2018-05-06T21:40:09Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186303792",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303792"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303836",
      "pull_request_review_id": 117856242,
      "id": 186303836,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMwMzgzNg==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(name);\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};\n+    g_thread_data = {thread_id, std::move(name)};\n+    return true;\n+}\n+\n+/*\n+ * Otherwise if we don't have use of thread_local, use the pthreads interface\n+ * to stash thread data in thread-specific key using getspecific/setspecific.\n+ */\n+#elif defined(HAVE_PTHREAD)\n+\n+static pthread_key_t g_key;\n+static void destruct_data(void* data)\n+{\n+    delete static_cast<thread_data_type*>(data);\n+}\n+\n+static void make_key()\n+{\n+    pthread_key_create(&g_key, destruct_data);\n+}\n+\n+static bool EnsureKeyCreated()\n+{\n+    static pthread_once_t key_once = PTHREAD_ONCE_INIT;\n+    return pthread_once(&key_once, make_key) ? false : true;",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 135,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can be written as `!pthread_once(&key_once, make_key);`.",
      "created_at": "2018-05-06T21:42:13Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186303836",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186303836"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 135,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186304251",
      "pull_request_review_id": 117856242,
      "id": 186304251,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMwNDI1MQ==",
      "diff_hunk": "@@ -35,23 +39,27 @@ void PrintLockContention(const char* pszName, const char* pszFile, int nLine)\n //\n \n struct CLockLocation {\n-    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn)\n+    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn, std::string thread_name_)\n     {\n         mutexName = pszName;\n         sourceFile = pszFile;\n         sourceLine = nLine;\n         fTry = fTryIn;\n+        thread_name = thread_name_;",
      "path": "src/sync.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e7a091d8a8aaaca114de0fbfda13dcecb9d409ef",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This can be written as `thread_name = std::move(thread_name_)` to avoid a copy.",
      "created_at": "2018-05-06T21:54:01Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186304251",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186304251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186322006",
      "pull_request_review_id": 117876766,
      "id": 186322006,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMyMjAwNg==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(name);\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "in_reply_to_id": 186303792,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Doesn't the `static thread_local` attribute prevent that?",
      "created_at": "2018-05-07T03:52:14Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186322006",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186322006"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186324579",
      "pull_request_review_id": 117879914,
      "id": 186324579,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjMyNDU3OQ==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, pthreadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), pthreadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(pthreadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(name);\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "7db4e45b9d2eecaee72104226ff5c302b0773ce3",
      "in_reply_to_id": 186303792,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, yes indeed. Ignore me\n",
      "created_at": "2018-05-07T04:29:16Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186324579",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186324579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186459657",
      "pull_request_review_id": 118041104,
      "id": 186459657,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjQ1OTY1Nw==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b891a44af4cd9d593f702d74d28656e383245b15",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this line may be unintentional.",
      "created_at": "2018-05-07T15:31:29Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186459657",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186459657"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186460270",
      "pull_request_review_id": 118041104,
      "id": 186460270,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjQ2MDI3MA==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+    char* pthreadname_buff = (char*)(&threadname_buff);",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b891a44af4cd9d593f702d74d28656e383245b15",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think you need this variable; using `threadname_buff` will automatically decay to `(char *)`.",
      "created_at": "2018-05-07T15:33:46Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186460270",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186460270"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 75,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186462663",
      "pull_request_review_id": 118044756,
      "id": 186462663,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjQ2MjY2Mw==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b891a44af4cd9d593f702d74d28656e383245b15",
      "in_reply_to_id": 186459657,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think so - see the comment above; sounds like @theuni wants to do more testing with dynamic linking before we use `thread_local` outside the context of debug code.",
      "created_at": "2018-05-07T15:42:29Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186462663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186462663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186511474",
      "pull_request_review_id": 118104543,
      "id": 186511474,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjUxMTQ3NA==",
      "diff_hunk": "@@ -0,0 +1,213 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b891a44af4cd9d593f702d74d28656e383245b15",
      "in_reply_to_id": 186459657,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Unsure if we should have the code in in that case, as it's untestable (it also doesn't compile currently).",
      "created_at": "2018-05-07T18:43:14Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186511474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186511474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740293",
      "pull_request_review_id": 118377896,
      "id": 186740293,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4Njc0MDI5Mw==",
      "diff_hunk": "@@ -0,0 +1,212 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 109,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "2d36119493dee83cd16d14314ae884e7123c748d",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This declaration misses a type (when you uncomment the `#undef HAVE_THREAD_LOCAL`).",
      "created_at": "2018-05-08T14:09:28Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186740293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186761614",
      "pull_request_review_id": 118404466,
      "id": 186761614,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4Njc2MTYxNA==",
      "diff_hunk": "@@ -0,0 +1,212 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+/*\n+ * TODO: using thread_local changes the abi in ways that may not play nice\n+ * when the c++ stdlib is linked dynamically. Disable it until thorough\n+ * testing has been done.\n+ *\n+ * mingw32's implementation of thread_local has also been shown to behave\n+ * erroneously under concurrent usage; see:\n+ *\n+ *   https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+ */\n+#undef HAVE_THREAD_LOCAL\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+#if (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+#include <pthread_np.h>\n+#endif\n+\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+#elif defined(HAVE_PTHREAD)\n+#include <pthread.h>\n+\n+#else\n+#include <mutex>\n+#include <unordered_map>\n+#endif\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * What follows are three separate platform-dependent implementations of\n+ * *name and *id parts of the thread_utils interface. Each implementation\n+ * emulates thread_local storage.\n+ *\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 109,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "2d36119493dee83cd16d14314ae884e7123c748d",
      "in_reply_to_id": 186740293,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "More evidence that we should remove this code until we need it. I'll strip it out.",
      "created_at": "2018-05-08T15:06:52Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r186761614",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186761614"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187824667",
      "pull_request_review_id": 119680023,
      "id": 187824667,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NzgyNDY2Nw==",
      "diff_hunk": "@@ -1650,8 +1651,8 @@ static bool WriteUndoDataForBlock(const CBlockUndo& blockundo, CValidationState&\n \n static CCheckQueue<CScriptCheck> scriptcheckqueue(128);\n \n-void ThreadScriptCheck() {\n-    RenameThread(\"bitcoin-scriptch\");\n+void ThreadScriptCheck(int worker_num) {\n+    thread_util::Rename((\"scriptch.\" + std::to_string(worker_num)).c_str());",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "6b12218a8234b61dabf2696997de393ac054b2e7",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Using `thread_util::Rename(strprintf(\"scriptch.%i\", worker_num));` would be simpler.\r\n\r\nEDIT: also, `std::to_string` is locale-dependent so should probably be avoided.",
      "created_at": "2018-05-14T02:21:41Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r187824667",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187824667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1707,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193494673",
      "pull_request_review_id": 126477730,
      "id": 193494673,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQ5NDY3Mw==",
      "diff_hunk": "@@ -9,6 +9,7 @@\n #include <random.h>\n #include <serialize.h>\n #include <utilstrencodings.h>\n+#include <threadutil.h>",
      "path": "src/util.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this include necessary?",
      "created_at": "2018-06-06T17:30:02Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193494673",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193494673"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193496034",
      "pull_request_review_id": 126477730,
      "id": 193496034,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQ5NjAzNA==",
      "diff_hunk": "@@ -309,15 +310,12 @@ std::string HelpMessageOpt(const std::string& option, const std::string& message\n  */\n int GetNumCores();\n \n-void RenameThread(const char* name);\n-\n /**\n  * .. and a wrapper that just calls func once\n  */\n template <typename Callable> void TraceThread(const char* name,  Callable func)",
      "path": "src/util.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "really feels like you should just lift this out into threadutil",
      "created_at": "2018-06-06T17:34:43Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193496034",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193496034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 321,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193497650",
      "pull_request_review_id": 126477730,
      "id": 193497650,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQ5NzY1MA==",
      "diff_hunk": "@@ -759,8 +759,21 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *)",
      "path": "configure.ac",
      "position": null,
      "original_position": 16,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "if you are that concerned about sane behavior for thread_local, does it make more sense to take a whitelist approach?",
      "created_at": "2018-06-06T17:39:50Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193497650",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193497650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 790,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193499740",
      "pull_request_review_id": 126477730,
      "id": 193499740,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQ5OTc0MA==",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_THREADUTIL_H\n+#define BITCOIN_THREADUTIL_H\n+\n+#include <string>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For PR_GET_NAME\n+#endif\n+\n+#if (defined(PR_GET_NAME) || defined(MAC_OSX))\n+#define CAN_READ_PROCESS_NAME\n+#endif\n+\n+namespace thread_util\n+{\n+    /**\n+     * Rename a thread both in terms of an internal (in-memory) name as well\n+     * as its system process name.\n+     *\n+     * @return whether or not the rename succeeded.\n+     */\n+    void Rename(std::string);",
      "path": "src/threadutil.h",
      "position": null,
      "original_position": 30,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "if this is the only setting function thats currently used outside of this translation unit, maybe make Set{Internal,Process}Name static so they arent exposed until theres a reason to have separate internal and internal names?",
      "created_at": "2018-06-06T17:45:58Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193499740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193499740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193499843",
      "pull_request_review_id": 126477730,
      "id": 193499843,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQ5OTg0Mw==",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_THREADUTIL_H\n+#define BITCOIN_THREADUTIL_H\n+\n+#include <string>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For PR_GET_NAME\n+#endif\n+\n+#if (defined(PR_GET_NAME) || defined(MAC_OSX))\n+#define CAN_READ_PROCESS_NAME\n+#endif\n+\n+namespace thread_util",
      "path": "src/threadutil.h",
      "position": null,
      "original_position": 22,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you can add some consts to the functions declared here",
      "created_at": "2018-06-06T17:46:21Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193499843",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193499843"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 10,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193510566",
      "pull_request_review_id": 126477730,
      "id": 193510566,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzUxMDU2Ng==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "it feels weird that i can set it, but then cannot read it back. also this function isn't used anywhere except tests so maybe just remove GetProcessName",
      "created_at": "2018-06-06T18:17:56Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193510566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193510566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193511000",
      "pull_request_review_id": 126477730,
      "id": 193511000,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzUxMTAwMA==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local long thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "thread_id is never used for anything",
      "created_at": "2018-06-06T18:19:13Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193511000",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193511000"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193511474",
      "pull_request_review_id": 126477730,
      "id": 193511474,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzUxMTQ3NA==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)\n+{\n+    if (!m_log_threadnames || !m_started_new_line) {\n+        return str;\n+    }\n+    std::string thread_name = thread_util::GetInternalName();\n+    // The longest thread name (with numeric suffix) we have at the moment is 13 characters.\n+    thread_name.resize(13, ' ');",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "what happens if you name something longer? truncate? worth amending comment to specify",
      "created_at": "2018-06-06T18:20:33Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193511474",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193511474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193512219",
      "pull_request_review_id": 126477730,
      "id": 193512219,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzUxMjIxOQ==",
      "diff_hunk": "@@ -37,23 +39,27 @@ void PrintLockContention(const char* pszName, const char* pszFile, int nLine)\n //\n \n struct CLockLocation {\n-    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn)\n+    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn, std::string thread_name_)\n     {\n         mutexName = pszName;\n         sourceFile = pszFile;\n         sourceLine = nLine;\n         fTry = fTryIn;\n+        thread_name = std::move(thread_name_);",
      "path": "src/sync.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "skeees",
        "id": 195769,
        "node_id": "MDQ6VXNlcjE5NTc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/skeees",
        "html_url": "https://github.com/skeees",
        "followers_url": "https://api.github.com/users/skeees/followers",
        "following_url": "https://api.github.com/users/skeees/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/skeees/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/skeees/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
        "organizations_url": "https://api.github.com/users/skeees/orgs",
        "repos_url": "https://api.github.com/users/skeees/repos",
        "events_url": "https://api.github.com/users/skeees/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/skeees/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "you do a move here but a copy into the function you probably want an rvalue ref and a forward - performance is probably reasonable to worry about here because i think this is called every time a lock is acquired? \r\nif you make thread_util::GetName() return a const then even better because all of this should get reused",
      "created_at": "2018-06-06T18:22:47Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193512219",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193512219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193568494",
      "pull_request_review_id": 126566604,
      "id": 193568494,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzU2ODQ5NA==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)\n+{\n+    if (!m_log_threadnames || !m_started_new_line) {\n+        return str;\n+    }\n+    std::string thread_name = thread_util::GetInternalName();\n+    // The longest thread name (with numeric suffix) we have at the moment is 13 characters.\n+    thread_name.resize(13, ' ');\n+    return \"[\" + std::move(thread_name) + \"] \" + str;\n+}\n+\n void BCLog::Logger::LogPrintStr(const std::string &str)\n {\n-    std::string strTimestamped = LogTimestampStr(str);\n+    std::string strPrefixed = LogThreadnameStr(LogTimestampStr(str));",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems more natural to me to have the thread name after the timestamp.\r\n\r\nThis way round breaks combine_logs without a fix. I imagine other log parsers expect the timestamp at the start of the line as well.",
      "created_at": "2018-06-06T21:42:28Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193568494",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193568494"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 216,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193830438",
      "pull_request_review_id": 126883538,
      "id": 193830438,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzgzMDQzOA==",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_THREADUTIL_H\n+#define BITCOIN_THREADUTIL_H\n+\n+#include <string>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For PR_GET_NAME\n+#endif\n+\n+#if (defined(PR_GET_NAME) || defined(MAC_OSX))\n+#define CAN_READ_PROCESS_NAME\n+#endif\n+\n+namespace thread_util\n+{\n+    /**\n+     * Rename a thread both in terms of an internal (in-memory) name as well\n+     * as its system process name.\n+     *\n+     * @return whether or not the rename succeeded.\n+     */\n+    void Rename(std::string);\n+\n+    /**\n+     * Set the thread's internal (in-memory) name; used e.g. for identification in",
      "path": "src/threadutil.h",
      "position": null,
      "original_position": 33,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment is incorrect. Should be `Get the thread's ...`, or `@return the thread's...`",
      "created_at": "2018-06-07T17:33:16Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193830438",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193830438"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193832295",
      "pull_request_review_id": 126883538,
      "id": 193832295,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzgzMjI5NQ==",
      "diff_hunk": "@@ -12,8 +12,8 @@\n import re\n import sys\n \n-# Matches on the date format at the start of the log event\n-TIMESTAMP_PATTERN = re.compile(r\"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{6}Z\")\n+# Matches on the date format or threadname prefix at the start of the log event\n+PREFIX_PATTERN = re.compile(r\"^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{6}Z|\\[\\w+\\s*\\] )\")",
      "path": "test/functional/combine_logs.py",
      "position": null,
      "original_position": 7,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The pattern doesn't work for the `[httpworker.n ]` thread logs:\r\n\r\n```\r\n/tmp/user/1000/testb2liucdnnode0 [http         ] 2018-06-07T17:33:43.612724Z Received a POST request for / from 127.0.0.1:34830\r\n\r\n[httpworker.2 ] 2018-06-07T17:33:43.612865Z ThreadRPCServer method=getblockcount user=__cookie__ \r\n node0 [http         ] 2018-06-07T17:33:43.613814Z Received a POST request for / from 127.0.0.1:34830\r\n\r\n[httpworker.0 ] 2018-06-07T17:33:43.613905Z ThreadRPCServer method=listwallets user=__cookie__ \r\n node0 [http         ] 2018-06-07T17:33:43.614514Z Received a POST request for / from 127.0.0.1:34830\r\n```\r\n\r\nThis problem goes away if you leave the timestamp at the start of the log string.",
      "created_at": "2018-06-07T17:40:11Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r193832295",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193832295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194154011",
      "pull_request_review_id": 127280723,
      "id": 194154011,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDE1NDAxMQ==",
      "diff_hunk": "@@ -9,6 +9,7 @@\n #include <random.h>\n #include <serialize.h>\n #include <utilstrencodings.h>\n+#include <threadutil.h>",
      "path": "src/util.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193494673,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think so: `thread_util::Rename` is used on [line 318](https://github.com/jamesob/bitcoin/blob/e6454374033760d93a33619bea1451573718dd3d/src/util.h#L318). ",
      "created_at": "2018-06-08T19:05:17Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r194154011",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194154011"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194155079",
      "pull_request_review_id": 127282047,
      "id": 194155079,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDE1NTA3OQ==",
      "diff_hunk": "@@ -309,15 +310,12 @@ std::string HelpMessageOpt(const std::string& option, const std::string& message\n  */\n int GetNumCores();\n \n-void RenameThread(const char* name);\n-\n /**\n  * .. and a wrapper that just calls func once\n  */\n template <typename Callable> void TraceThread(const char* name,  Callable func)",
      "path": "src/util.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193496034,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Only problem is that'd create a circular dep with `logging` and `threadutil` due to use of `LogPrintf` here. I agree that in concept that's where it should live, but it doesn't look trivial to avoid that circular dep.",
      "created_at": "2018-06-08T19:09:58Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r194155079",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194155079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 321,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195094232",
      "pull_request_review_id": 128391707,
      "id": 195094232,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTA5NDIzMg==",
      "diff_hunk": "@@ -759,8 +759,21 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *)",
      "path": "configure.ac",
      "position": null,
      "original_position": 16,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193497650,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"disable thread_local on unreliable platforms\" (3e1de02c2500cd82ed4a112aa0198dc601d7947c)\r\n\r\n> if you are that concerned about sane behavior for thread_local, does it make more sense to take a whitelist approach?\r\n\r\nIMO, blacklisting is an appropriate way to work around bugs in implementations of a standard API like `thread_local`. I think it would be overkill to assume going forward that every new platform providing `thread_local` has a buggy implementation just because implementations on two somewhat neglected platforms happened to have bugs at some point.",
      "created_at": "2018-06-13T14:03:09Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195094232",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195094232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 790,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195099926",
      "pull_request_review_id": 128391707,
      "id": 195099926,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTA5OTkyNg==",
      "diff_hunk": "@@ -759,8 +759,21 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        AC_MSG_RESULT(no)",
      "path": "configure.ac",
      "position": null,
      "original_position": 14,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "3e1de02c2500cd82ed4a112aa0198dc601d7947c",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"disable thread_local on unreliable platforms\" (3e1de02c2500cd82ed4a112aa0198dc601d7947c)\r\n\r\nCould you add a comment here with a todo to enable `thread_local` for newer versions of darwin where it is supported? According to \r\nhttps://stackoverflow.com/questions/28094794/why-does-apple-clang-disallow-c11-thread-local-when-official-clang-supports/29929949#29929949, Apple announced support for `thread_local` in a developer presentation linked in that answer.\r\n\r\nIt should be possible in the future (no need to do it in this PR) to check for this support using an https://clang.llvm.org/docs/LanguageExtensions.html#c-11-thread-local autoconf check or another autoconf check.",
      "created_at": "2018-06-13T14:17:52Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195099926",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195099926"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 788,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195113139",
      "pull_request_review_id": 128391707,
      "id": 195113139,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTExMzEzOQ==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: introduce threadutil, move RenameProcess, add thread suffixes\" (afce7f5ffce546c4d1aa5111ea02bf9a671cc775)\r\n\r\nThis should be called `SetThreadName`, not `SetProcessName` (similarly for GetProcessName) below. The pthread calls obviously affect the thread rather than the process, and from http://man7.org/linux/man-pages/man2/prctl.2.html, the prctl call will \"set the name of the calling thread\".",
      "created_at": "2018-06-13T14:49:16Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195113139",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195113139"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195115522",
      "pull_request_review_id": 128391707,
      "id": 195115522,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTExNTUyMg==",
      "diff_hunk": "@@ -281,7 +282,7 @@ static void http_reject_request_cb(struct evhttp_request* req, void*)\n /** Event dispatcher thread */\n static bool ThreadHTTP(struct event_base* base, struct evhttp* http)\n {\n-    RenameThread(\"bitcoin-http\");",
      "path": "src/httpserver.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: introduce threadutil, move RenameProcess, add thread suffixes\" (afce7f5ffce546c4d1aa5111ea02bf9a671cc775)\r\n\r\nI think the reason for the `bitcoin-` prefix is that it makes it easier to distinguish bitcoin threads from other process threads if you press `H` in top, though I'm sure there are other ways to accomplish this.\r\n\r\nMaybe call `SetProcessName` with the `bitcoin-` prefix and `SetInternalName` without it?",
      "created_at": "2018-06-13T14:55:15Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195115522",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195115522"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 284,
      "original_line": 284,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195122528",
      "pull_request_review_id": 128391707,
      "id": 195122528,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEyMjUyOA==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 61,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: introduce threadutil, move RenameProcess, add thread suffixes\" (afce7f5ffce546c4d1aa5111ea02bf9a671cc775)\r\n\r\nName of this struct seems unusual. I'd probably call it to something like `ThreadName` or `ThreadData`, but I think you should keep whatever name you prefer.",
      "created_at": "2018-06-13T15:11:07Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195122528",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195122528"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195124574",
      "pull_request_review_id": 128391707,
      "id": 195124574,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEyNDU3NA==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 63,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: introduce threadutil, move RenameProcess, add thread suffixes\" (afce7f5ffce546c4d1aa5111ea02bf9a671cc775)\r\n\r\nDoes `constexpr` here actually do anything? I'm suprised the compiler even allows it with the `std::string` struct member.",
      "created_at": "2018-06-13T15:16:13Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195124574",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195124574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195126209",
      "pull_request_review_id": 128391707,
      "id": 195126209,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEyNjIwOQ==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local long thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193511000,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"tests: add threadutil tests\" (b1982dd303f8994a9e5a14e2e3b0a3b1fe98da25)\r\n\r\n> thread_id is never used for anything`\r\n\r\n I would also encourage you to drop thread_id. There are already a bunch of unique identifiers for threads: `gettid()`, `pthread_self()`, `std::this_thread::get_id()`, so I think it'd be good to have clear rationale before adding a new one.",
      "created_at": "2018-06-13T15:20:09Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195126209",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195126209"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195127819",
      "pull_request_review_id": 128391707,
      "id": 195127819,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEyNzgxOQ==",
      "diff_hunk": "@@ -328,9 +329,9 @@ static bool HTTPBindAddresses(struct evhttp* http)\n }\n \n /** Simple wrapper to set thread name and run work queue */\n-static void HTTPWorkQueueRun(WorkQueue<HTTPClosure>* queue)\n+static void HTTPWorkQueueRun(WorkQueue<HTTPClosure>* queue, int worker_num)\n {\n-    RenameThread(\"bitcoin-httpworker\");\n+    thread_util::Rename((\"httpworker.\" + std::to_string(worker_num)).c_str());",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: introduce threadutil, move RenameProcess, add thread suffixes\" (afce7f5ffce546c4d1aa5111ea02bf9a671cc775)\r\n\r\nThis commit is kind of a hodgepodge. Maybe split it into separate commits that just do one thing (move the rename api, change the thread names, add new thread local data).",
      "created_at": "2018-06-13T15:24:07Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195127819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195127819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195134421",
      "pull_request_review_id": 128391707,
      "id": 195134421,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEzNDQyMQ==",
      "diff_hunk": "@@ -0,0 +1,94 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <threadutil.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <thread>\n+#include <vector>\n+#include <set>\n+#include <mutex>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <boost/test/unit_test.hpp>\n+\n+BOOST_FIXTURE_TEST_SUITE(threadutil_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(threadutil_test_process_rename_serial)",
      "path": "src/test/threadutil_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b1982dd303f8994a9e5a14e2e3b0a3b1fe98da25",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"tests: add threadutil tests\" (b1982dd303f8994a9e5a14e2e3b0a3b1fe98da25)\r\n\r\nMaybe note in a comment that this will overwrite and clear the test thread name on platforms that don't support `CAN_READ_PROCESS_NAME`, since this may affect later tests, and display in task managers.",
      "created_at": "2018-06-13T15:40:38Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195134421",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195134421"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195135941",
      "pull_request_review_id": 128391707,
      "id": 195135941,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEzNTk0MQ==",
      "diff_hunk": "@@ -0,0 +1,5 @@\n+Thread names in logs\n+--------------------\n+\n+Log lines are now prefixed by default with the name of the thread that caused",
      "path": "doc/release-notes-pr13168.md",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: prefix log messages with thread names\" (d1385ab370b6100bd920ceb817688655b94c650e)\r\n\r\nProbably should prefix this with, \"On platforms that support it...\"",
      "created_at": "2018-06-13T15:44:08Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195135941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195135941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195136170",
      "pull_request_review_id": 128391707,
      "id": 195136170,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTEzNjE3MA==",
      "diff_hunk": "@@ -457,6 +457,7 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-help-debug\", \"Show all debugging options (usage: --help -help-debug)\", false, OptionsCategory::DEBUG_TEST);\n     gArgs.AddArg(\"-logips\", strprintf(\"Include IP addresses in debug output (default: %u)\", DEFAULT_LOGIPS), false, OptionsCategory::DEBUG_TEST);\n     gArgs.AddArg(\"-logtimestamps\", strprintf(\"Prepend debug output with timestamp (default: %u)\", DEFAULT_LOGTIMESTAMPS), false, OptionsCategory::DEBUG_TEST);\n+    gArgs.AddArg(\"-logthreadnames\", strprintf(\"Prepend debug output with name of the originating thread (default: %u)\", DEFAULT_LOGTHREADNAMES), false, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: prefix log messages with thread names\" (d1385ab370b6100bd920ceb817688655b94c650e)\r\n\r\nDocumentation should note that this feature isn't supported on all platforms, causing the thread name column to appear empty.",
      "created_at": "2018-06-13T15:44:41Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195136170",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195136170"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 460,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195141701",
      "pull_request_review_id": 128391707,
      "id": 195141701,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTE0MTcwMQ==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: prefix log messages with thread names\" (d1385ab370b6100bd920ceb817688655b94c650e)\r\n\r\nChanging the `const std::string &str` declaration to `std::string str` here would avoid an unnecessary string copy in the case where `str` is returned directly (it would be moved from instead of copied, see https://en.cppreference.com/w/cpp/language/return). The same optimization is also applicable to LogTimestampStr above.",
      "created_at": "2018-06-13T15:58:48Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195141701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195141701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 203,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195146016",
      "pull_request_review_id": 128391707,
      "id": 195146016,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTE0NjAxNg==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)\n+{\n+    if (!m_log_threadnames || !m_started_new_line) {\n+        return str;\n+    }\n+    std::string thread_name = thread_util::GetInternalName();\n+    // The longest thread name (with numeric suffix) we have at the moment is 13 characters.\n+    thread_name.resize(13, ' ');\n+    return \"[\" + std::move(thread_name) + \"] \" + str;\n+}\n+\n void BCLog::Logger::LogPrintStr(const std::string &str)\n {\n-    std::string strTimestamped = LogTimestampStr(str);\n+    std::string strPrefixed = LogThreadnameStr(LogTimestampStr(str));",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193568494,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: prefix log messages with thread names\" (d1385ab370b6100bd920ceb817688655b94c650e)\r\n\r\n> It seems more natural to me to have the thread name after the timestamp.\r\n\r\nI'd agree with John. A timestamp seems like an inherent property of any logged event, while a thread name seems more like a piece of debug information might happen to be associated with some events. Also, if you are piping to `sort`, it seems more natural to sort based on timestamp than thread name.",
      "created_at": "2018-06-13T16:11:28Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195146016",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195146016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 216,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195153663",
      "pull_request_review_id": 128391707,
      "id": 195153663,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTE1MzY2Mw==",
      "diff_hunk": "@@ -37,23 +39,27 @@ void PrintLockContention(const char* pszName, const char* pszFile, int nLine)\n //\n \n struct CLockLocation {\n-    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn)\n+    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn, std::string thread_name_)\n     {\n         mutexName = pszName;\n         sourceFile = pszFile;\n         sourceLine = nLine;\n         fTry = fTryIn;\n+        thread_name = std::move(thread_name_);",
      "path": "src/sync.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193512219,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: add thread names to deadlock debugging message\" (2b75975636ed943b2a2678edde2a75e15af2c8bf)\r\n\r\n> you do a move here but a copy into the function you probably want an rvalue ref and a forward - performance is probably reasonable to worry about here because i think this is called every time a lock is acquired?\r\nif you make thread_util::GetName() return a const then even better because all of this should get reused\r\n\r\nI don't think this is right. Exactly one `std::string` move from the `GetInternalName` returned object to the `CLockLocation::thread_name` struct member should be required in either case. What might make this code slightly more efficient, though, would be to use the move constructor instead of the move `operator=`, by writing `thread_name(std::move(thread_name_))` and avoiding default string initialization.\r\n\r\nThere would be a some noteable downsides if this code were changed to use rvalue references. If you changed it to take a `std::string&&` reference, it would be unnecessarily difficult to call with an lvalue expression, and if you changed it to take a `T&&` and use `std::forward<T>` it could unnecessarily bloat the executable with different template instantiations.\r\n\r\nIn general, when you write a function that inserts an object into a data structure, it is good to pass by value and use std::move instead of messing with rvalue references.",
      "created_at": "2018-06-13T16:33:17Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195153663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195153663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195165776",
      "pull_request_review_id": 128391707,
      "id": 195165776,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTE2NTc3Ng==",
      "diff_hunk": "@@ -282,6 +283,7 @@ void BitcoinCore::initialize()\n     try\n     {\n         qDebug() << __func__ << \": Running initialization in thread\";\n+        thread_util::Rename(\"bitcoin-qt\");",
      "path": "src/qt/bitcoin.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "56deb18c8bc36de5bb49c7b1db27adfa80ce7169",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: explicitly name main threads\" (56deb18c8bc36de5bb49c7b1db27adfa80ce7169)\r\n\r\nThis is giving 2 different threads (the `main()` thread, and the initialization thread spawned in `BitcoinApplication::startThread`) the same name. It might be better to distinguish this thread by calling it `qt-init` or something instead of `bitcoin-qt`.\r\n\r\nThis is also kind of an awkward place to be name the thread, since it isn't in a standard thread entry point or close to where the thread is created. Maybe it would make sense for us to have a custom QThread subclass that supports named threads, and calls `thread_util::Rename` in [`exec()`](http://doc.qt.io/qt-5/qthread.html#exec). Or maybe we could have write a little helper object that attaches to a `QThread`, listens for the [`started`](http://doc.qt.io/qt-5/qthread.html#started) signal, and sets the thread name in the signal handler.\r\n\r\n\r\n",
      "created_at": "2018-06-13T17:12:41Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195165776",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195165776"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 286,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447003",
      "pull_request_review_id": 128817930,
      "id": 195447003,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NzAwMw==",
      "diff_hunk": "@@ -759,8 +759,21 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        AC_MSG_RESULT(no)",
      "path": "configure.ac",
      "position": null,
      "original_position": 14,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "3e1de02c2500cd82ed4a112aa0198dc601d7947c",
      "in_reply_to_id": 195099926,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added, thanks. ",
      "created_at": "2018-06-14T14:32:52Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195447003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 788,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447083",
      "pull_request_review_id": 128818022,
      "id": 195447083,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NzA4Mw==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": 195113139,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2018-06-14T14:33:02Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195447083",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447083"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447322",
      "pull_request_review_id": 128818319,
      "id": 195447322,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NzMyMg==",
      "diff_hunk": "@@ -281,7 +282,7 @@ static void http_reject_request_cb(struct evhttp_request* req, void*)\n /** Event dispatcher thread */\n static bool ThreadHTTP(struct event_base* base, struct evhttp* http)\n {\n-    RenameThread(\"bitcoin-http\");",
      "path": "src/httpserver.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": 195115522,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Took your advice; am now prefixing threadname with `\"bitcoin-\"` for `SetThreadName` calls.",
      "created_at": "2018-06-14T14:33:38Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195447322",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 284,
      "original_line": 284,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447471",
      "pull_request_review_id": 128818498,
      "id": 195447471,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NzQ3MQ==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 61,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": 195122528,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`thread_data_type` has been removed entirely.",
      "created_at": "2018-06-14T14:34:02Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195447471",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447574",
      "pull_request_review_id": 128818627,
      "id": 195447574,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NzU3NA==",
      "diff_hunk": "@@ -457,6 +457,7 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-help-debug\", \"Show all debugging options (usage: --help -help-debug)\", false, OptionsCategory::DEBUG_TEST);\n     gArgs.AddArg(\"-logips\", strprintf(\"Include IP addresses in debug output (default: %u)\", DEFAULT_LOGIPS), false, OptionsCategory::DEBUG_TEST);\n     gArgs.AddArg(\"-logtimestamps\", strprintf(\"Prepend debug output with timestamp (default: %u)\", DEFAULT_LOGTIMESTAMPS), false, OptionsCategory::DEBUG_TEST);\n+    gArgs.AddArg(\"-logthreadnames\", strprintf(\"Prepend debug output with name of the originating thread (default: %u)\", DEFAULT_LOGTHREADNAMES), false, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": 195136170,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2018-06-14T14:34:17Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195447574",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195447574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 460,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195448878",
      "pull_request_review_id": 128820224,
      "id": 195448878,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0ODg3OA==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": 195141701,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now that we've reversed the order of threadname and log timestamp (threadname follows timestamp), I've only modified `LogTimestampStr` per your suggestion since it's the only function of the two to receive an rvalue as input. `LogThreadnameStr` receives an lvalue from `LogPrintStr` which itself receives an lvalue from `logging.h:LogPrintf`; I may be mistaken here, but the optimization you describe wouldn't apply in this case.",
      "created_at": "2018-06-14T14:37:45Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195448878",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195448878"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 203,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195448982",
      "pull_request_review_id": 128820348,
      "id": 195448982,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0ODk4Mg==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)\n+{\n+    if (!m_log_threadnames || !m_started_new_line) {\n+        return str;\n+    }\n+    std::string thread_name = thread_util::GetInternalName();\n+    // The longest thread name (with numeric suffix) we have at the moment is 13 characters.\n+    thread_name.resize(13, ' ');\n+    return \"[\" + std::move(thread_name) + \"] \" + str;\n+}\n+\n void BCLog::Logger::LogPrintStr(const std::string &str)\n {\n-    std::string strTimestamped = LogTimestampStr(str);\n+    std::string strPrefixed = LogThreadnameStr(LogTimestampStr(str));",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193568494,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2018-06-14T14:38:01Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195448982",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195448982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 216,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449120",
      "pull_request_review_id": 128820518,
      "id": 195449120,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0OTEyMA==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 63,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": 195124574,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed; thread_data_type has been removed.",
      "created_at": "2018-06-14T14:38:24Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195449120",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449852",
      "pull_request_review_id": 128821473,
      "id": 195449852,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0OTg1Mg==",
      "diff_hunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+void thread_util::SetProcessName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+std::string thread_util::GetProcessName()\n+{\n+#if !defined(CAN_READ_PROCESS_NAME)\n+    return \"\";\n+#endif\n+\n+    char threadname_buff[16];\n+\n+#if defined(PR_GET_NAME)\n+    ::prctl(PR_GET_NAME, threadname_buff);\n+#elif defined(MAC_OSX)\n+    pthread_getname_np(pthread_self(), threadname_buff, sizeof(threadname_buff));\n+#endif\n+    return std::string(threadname_buff);\n+}\n+\n+void thread_util::Rename(std::string name)\n+{\n+    SetProcessName(name.c_str());\n+    SetInternalName(std::move(name));\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+struct thread_data_type\n+{\n+    constexpr thread_data_type() = default;\n+    thread_data_type(long id, std::string name) : m_id(id), m_name(std::move(name)){}\n+\n+    long m_id{0};\n+    std::string m_name{\"\"};\n+};\n+\n+static thread_local thread_data_type g_thread_data;\n+std::string thread_util::GetInternalName()\n+{\n+    return g_thread_data.m_name;\n+}\n+\n+bool thread_util::SetInternalName(std::string name)\n+{\n+    static std::atomic<long> id_accumulator{0};\n+    static thread_local long thread_id{id_accumulator++};",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193511000,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yep, dropped. The changeset has been substantially simplified to use a single `thread_local std::string g_thread_name` variable instead of a struct.",
      "created_at": "2018-06-14T14:40:25Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195449852",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449852"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449990",
      "pull_request_review_id": 128821636,
      "id": 195449990,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0OTk5MA==",
      "diff_hunk": "@@ -190,29 +197,37 @@ std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n     } else\n         strStamped = str;\n \n-    if (!str.empty() && str[str.size()-1] == '\\n')\n-        m_started_new_line = true;\n-    else\n-        m_started_new_line = false;\n-\n     return strStamped;\n }\n \n+std::string BCLog::Logger::LogThreadnameStr(const std::string &str)\n+{\n+    if (!m_log_threadnames || !m_started_new_line) {\n+        return str;\n+    }\n+    std::string thread_name = thread_util::GetInternalName();\n+    // The longest thread name (with numeric suffix) we have at the moment is 13 characters.\n+    thread_name.resize(13, ' ');",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193511474,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We're now no longer resizing the internal threadname; thanks.",
      "created_at": "2018-06-14T14:40:46Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195449990",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195449990"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195450185",
      "pull_request_review_id": 128821885,
      "id": 195450185,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MDE4NQ==",
      "diff_hunk": "@@ -37,23 +39,27 @@ void PrintLockContention(const char* pszName, const char* pszFile, int nLine)\n //\n \n struct CLockLocation {\n-    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn)\n+    CLockLocation(const char* pszName, const char* pszFile, int nLine, bool fTryIn, std::string thread_name_)\n     {\n         mutexName = pszName;\n         sourceFile = pszFile;\n         sourceLine = nLine;\n         fTry = fTryIn;\n+        thread_name = std::move(thread_name_);",
      "path": "src/sync.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193512219,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Took @ryanofsky's advice and refactored this constructor to use an initialization list.",
      "created_at": "2018-06-14T14:41:15Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195450185",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195450185"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195450430",
      "pull_request_review_id": 128822217,
      "id": 195450430,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MDQzMA==",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_THREADUTIL_H\n+#define BITCOIN_THREADUTIL_H\n+\n+#include <string>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For PR_GET_NAME\n+#endif\n+\n+#if (defined(PR_GET_NAME) || defined(MAC_OSX))\n+#define CAN_READ_PROCESS_NAME\n+#endif\n+\n+namespace thread_util\n+{\n+    /**\n+     * Rename a thread both in terms of an internal (in-memory) name as well\n+     * as its system process name.\n+     *\n+     * @return whether or not the rename succeeded.\n+     */\n+    void Rename(std::string);\n+\n+    /**\n+     * Set the thread's internal (in-memory) name; used e.g. for identification in",
      "path": "src/threadutil.h",
      "position": null,
      "original_position": 33,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193830438,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2018-06-14T14:41:57Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195450430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195450430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451511",
      "pull_request_review_id": 128823574,
      "id": 195451511,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MTUxMQ==",
      "diff_hunk": "@@ -328,9 +329,9 @@ static bool HTTPBindAddresses(struct evhttp* http)\n }\n \n /** Simple wrapper to set thread name and run work queue */\n-static void HTTPWorkQueueRun(WorkQueue<HTTPClosure>* queue)\n+static void HTTPWorkQueueRun(WorkQueue<HTTPClosure>* queue, int worker_num)\n {\n-    RenameThread(\"bitcoin-httpworker\");\n+    thread_util::Rename((\"httpworker.\" + std::to_string(worker_num)).c_str());",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "afce7f5ffce546c4d1aa5111ea02bf9a671cc775",
      "in_reply_to_id": 195127819,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This commit seems tough to split up in a meaningful way. Hopefully the reduced size of the `threadutil` change (now that we aren't doing anything with a generic thread data struct) makes it easier to review, but it'll take a lot of rework to stage the changes out as you suggest. I'm happy to do this if you think it's worthwhile, but wanted to check before doing so to see if the simplifications make a difference for this recommendation.",
      "created_at": "2018-06-14T14:44:50Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195451511",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451511"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451697",
      "pull_request_review_id": 128823794,
      "id": 195451697,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MTY5Nw==",
      "diff_hunk": "@@ -0,0 +1,94 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <threadutil.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <thread>\n+#include <vector>\n+#include <set>\n+#include <mutex>\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <boost/test/unit_test.hpp>\n+\n+BOOST_FIXTURE_TEST_SUITE(threadutil_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(threadutil_test_process_rename_serial)",
      "path": "src/test/threadutil_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "b1982dd303f8994a9e5a14e2e3b0a3b1fe98da25",
      "in_reply_to_id": 195134421,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed this test.",
      "created_at": "2018-06-14T14:45:18Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195451697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451742",
      "pull_request_review_id": 128823847,
      "id": 195451742,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MTc0Mg==",
      "diff_hunk": "@@ -0,0 +1,5 @@\n+Thread names in logs\n+--------------------\n+\n+Log lines are now prefixed by default with the name of the thread that caused",
      "path": "doc/release-notes-pr13168.md",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d1385ab370b6100bd920ceb817688655b94c650e",
      "in_reply_to_id": 195135941,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, thanks.",
      "created_at": "2018-06-14T14:45:26Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195451742",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195451742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195452268",
      "pull_request_review_id": 128824498,
      "id": 195452268,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ1MjI2OA==",
      "diff_hunk": "@@ -282,6 +283,7 @@ void BitcoinCore::initialize()\n     try\n     {\n         qDebug() << __func__ << \": Running initialization in thread\";\n+        thread_util::Rename(\"bitcoin-qt\");",
      "path": "src/qt/bitcoin.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "56deb18c8bc36de5bb49c7b1db27adfa80ce7169",
      "in_reply_to_id": 195165776,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed the name of this thread to `bitcoin-qt-init`.\r\n\r\nAgree with you that this is an awkward spot for naming. Do you think your proposed fix should be done along with this changeset or maybe as a follow-up PR?",
      "created_at": "2018-06-14T14:46:48Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195452268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195452268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 286,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195485403",
      "pull_request_review_id": 128864946,
      "id": 195485403,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ4NTQwMw==",
      "diff_hunk": "@@ -9,6 +9,7 @@\n #include <random.h>\n #include <serialize.h>\n #include <utilstrencodings.h>\n+#include <threadutil.h>",
      "path": "src/util.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "e6454374033760d93a33619bea1451573718dd3d",
      "in_reply_to_id": 193494673,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh no, you're right: I confused this with util.h. Thanks!",
      "created_at": "2018-06-14T16:16:26Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195485403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195485403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196580178",
      "pull_request_review_id": 130161686,
      "id": 196580178,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjU4MDE3OA==",
      "diff_hunk": "@@ -282,6 +283,7 @@ void BitcoinCore::initialize()\n     try\n     {\n         qDebug() << __func__ << \": Running initialization in thread\";\n+        thread_util::Rename(\"bitcoin-qt\");",
      "path": "src/qt/bitcoin.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "56deb18c8bc36de5bb49c7b1db27adfa80ce7169",
      "in_reply_to_id": 195165776,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195165776\r\n\r\n> Do you think your proposed fix should be done along with this changeset or maybe as a follow-up PR?\r\n\r\nI might opt to do it in a different PR because QThread is also used in rpcconsole.cpp and bitcoin.cpp, and it might make sense to update those places to set thread names in the same way. But I don't have a real opinion. It seems fine to make the change in this PR, in another PR, or not at all.",
      "created_at": "2018-06-19T21:12:18Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196580178",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196580178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 286,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196583624",
      "pull_request_review_id": 130165610,
      "id": 196583624,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjU4MzYyNA==",
      "diff_hunk": "@@ -763,8 +763,23 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        # TODO enable therad_local on later versions of Darwin where it is",
      "path": "configure.ac",
      "position": null,
      "original_position": 14,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "696bdb751055c01c645dc95df486d56a873325de",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"disable thread_local on unreliable platforms\" (696bdb751055c01c645dc95df486d56a873325de)\r\n\r\nLittle spelling mistake",
      "created_at": "2018-06-19T21:24:47Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196583624",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196583624"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 774,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196586902",
      "pull_request_review_id": 130165610,
      "id": 196586902,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjU4NjkwMg==",
      "diff_hunk": "@@ -57,6 +58,8 @@ static bool AppInit(int argc, char* argv[])\n {\n     bool fRet = false;\n \n+    thread_util::Rename(\"bitcoind\");",
      "path": "src/bitcoind.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "cf82eda8aec147a0d24ade9263f8df0708ff02bb",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"threads: explicitly name main threads\" (cf82eda8aec147a0d24ade9263f8df0708ff02bb)\r\n\r\nSince OS thread names are now prefixed with \"bitcoin-\", I guess these will show up as \"bitcoin-bitcoind\", \"bitcoin-bitcoin-qt-init\", and \"\"bitcoin-bitcoin-qt\" in top? This seems ok, but a little redundant. You could consider just calling `Rename()` with \"main\" and \"init\" so the OS names would be \"bitcoin-main\" and \"bitcoin-init\".",
      "created_at": "2018-06-19T21:36:54Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196586902",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196586902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196830149",
      "pull_request_review_id": 130456715,
      "id": 196830149,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjgzMDE0OQ==",
      "diff_hunk": "@@ -763,8 +763,23 @@ AC_LINK_IFELSE([AC_LANG_SOURCE([\n   }\n   ])],\n   [\n-    AC_DEFINE(HAVE_THREAD_LOCAL,1,[Define if thread_local is supported.])\n-    AC_MSG_RESULT(yes)\n+   case $host in\n+     *mingw*)\n+        # mingw32's implementation of thread_local has also been shown to behave\n+        # erroneously under concurrent usage; see:\n+        # https://gist.github.com/jamesob/fe9a872051a88b2025b1aa37bfa98605\n+        AC_MSG_RESULT(no)\n+        ;;\n+      *darwin*)\n+        # TODO enable therad_local on later versions of Darwin where it is",
      "path": "configure.ac",
      "position": null,
      "original_position": 14,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "696bdb751055c01c645dc95df486d56a873325de",
      "in_reply_to_id": 196583624,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "D'oh. Fixed.",
      "created_at": "2018-06-20T15:35:11Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196830149",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196830149"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 774,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196832011",
      "pull_request_review_id": 130459088,
      "id": 196832011,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjgzMjAxMQ==",
      "diff_hunk": "@@ -57,6 +58,8 @@ static bool AppInit(int argc, char* argv[])\n {\n     bool fRet = false;\n \n+    thread_util::Rename(\"bitcoind\");",
      "path": "src/bitcoind.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "cf82eda8aec147a0d24ade9263f8df0708ff02bb",
      "in_reply_to_id": 196586902,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, thanks. Non-internal thread names now look like \r\n```sh\r\n $ pstree 12441\r\n\r\nbitcoin-init{bitcoin-addcon}\r\n             {bitcoin-dnsseed}\r\n             4*[{bitcoin-httpwor}]\r\n             {bitcoin-http}\r\n             {bitcoin-init}\r\n             {bitcoin-loadblk}\r\n             {bitcoin-msghand}\r\n             {bitcoin-net}\r\n             {bitcoin-opencon}\r\n             {bitcoin-schedul}\r\n             7*[{bitcoin-scriptc}]\r\n             {bitcoin-torcont}\r\n```",
      "created_at": "2018-06-20T15:40:10Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196832011",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196832011"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196894591",
      "pull_request_review_id": 130531024,
      "id": 196894591,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njg5NDU5MQ==",
      "diff_hunk": "@@ -0,0 +1,28 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_THREADUTIL_H\n+#define BITCOIN_THREADUTIL_H\n+\n+#include <string>\n+\n+namespace thread_util\n+{\n+    /**\n+     * Rename a thread both in terms of an internal (in-memory) name as well\n+     * as its system thread name.\n+     *\n+     * @return whether or not the rename succeeded.",
      "path": "src/threadutil.h",
      "position": null,
      "original_position": 16,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nope. Return type is `void`.",
      "created_at": "2018-06-20T18:21:25Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196894591",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196894591"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196894947",
      "pull_request_review_id": 130531024,
      "id": 196894947,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njg5NDk0Nw==",
      "diff_hunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+/**\n+ * Set the thread's name at the process level. Does not affect the\n+ * internal name.\n+ */\n+static void SetThreadName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local std::string g_thread_name;\n+\n+std::string thread_util::GetInternalName() {\n+    return g_thread_name;\n+}\n+\n+/**\n+ * Set the in-memory internal name for this thread. Does not affect the process\n+ * name.\n+ */\n+static bool SetInternalName(const std::string& name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "the returned `bool` isn't used. Change to `void` (same for other definition of `SetInternalName()` below).",
      "created_at": "2018-06-20T18:22:17Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196894947",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196894947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196895959",
      "pull_request_review_id": 130531024,
      "id": 196895959,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njg5NTk1OQ==",
      "diff_hunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+/**\n+ * Set the thread's name at the process level. Does not affect the\n+ * internal name.\n+ */\n+static void SetThreadName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local std::string g_thread_name;\n+\n+std::string thread_util::GetInternalName() {\n+    return g_thread_name;\n+}\n+\n+/**\n+ * Set the in-memory internal name for this thread. Does not affect the process\n+ * name.\n+ */\n+static bool SetInternalName(const std::string& name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": 196894947,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In fact, since the `#else` definition here is doing nothing, I'd just remove these static functions entirely and add the following to `Rename()`:\r\n\r\n```\r\n#if defined(HAVE_THREAD_LOCAL)\r\n    g_thread_name = name;\r\n#endif\r\n```\r\n    ",
      "created_at": "2018-06-20T18:25:27Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196895959",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196895959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196911420",
      "pull_request_review_id": 130531024,
      "id": 196911420,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxMTQyMA==",
      "diff_hunk": "@@ -168,7 +174,7 @@ std::vector<CLogCategoryActive> ListActiveLogCategories()\n     return ret;\n }\n \n-std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n+std::string BCLog::Logger::LogTimestampStr(std::string str)",
      "path": "src/logging.cpp",
      "position": 17,
      "original_position": 18,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think you need to change the signature here. Any reason to change from a const reference?",
      "created_at": "2018-06-20T19:16:07Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r196911420",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196911420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 176,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197558217",
      "pull_request_review_id": 131333853,
      "id": 197558217,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzU1ODIxNw==",
      "diff_hunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+/**\n+ * Set the thread's name at the process level. Does not affect the\n+ * internal name.\n+ */\n+static void SetThreadName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local std::string g_thread_name;\n+\n+std::string thread_util::GetInternalName() {\n+    return g_thread_name;\n+}\n+\n+/**\n+ * Set the in-memory internal name for this thread. Does not affect the process\n+ * name.\n+ */\n+static bool SetInternalName(const std::string& name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": 196894947,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`g_thread_name` doesn't exist as a symbol in non-`thread_local` enabled environments, so basically our choice is one `#if defined(...)` or three inline. I figure one is preferable, but if you feel strongly I'm happy to change.",
      "created_at": "2018-06-22T20:17:07Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r197558217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197558217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197558640",
      "pull_request_review_id": 131334411,
      "id": 197558640,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzU1ODY0MA==",
      "diff_hunk": "@@ -168,7 +174,7 @@ std::vector<CLogCategoryActive> ListActiveLogCategories()\n     return ret;\n }\n \n-std::string BCLog::Logger::LogTimestampStr(const std::string &str)\n+std::string BCLog::Logger::LogTimestampStr(std::string str)",
      "path": "src/logging.cpp",
      "position": 17,
      "original_position": 18,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": 196911420,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See https://github.com/bitcoin/bitcoin/pull/13168#discussion_r195141701",
      "created_at": "2018-06-22T20:19:09Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r197558640",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197558640"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 176,
      "original_line": 176,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197831762",
      "pull_request_review_id": 131651339,
      "id": 197831762,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzgzMTc2Mg==",
      "diff_hunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <atomic>\n+#include <thread>\n+\n+#include <threadutil.h>\n+\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys/prctl.h> // For prctl, PR_SET_NAME, PR_GET_NAME\n+#endif\n+\n+/**\n+ * Set the thread's name at the process level. Does not affect the\n+ * internal name.\n+ */\n+static void SetThreadName(const char* name)\n+{\n+#if defined(PR_SET_NAME)\n+    // Only the first 15 characters are used (16 - NUL terminator)\n+    ::prctl(PR_SET_NAME, name, 0, 0, 0);\n+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__))\n+    pthread_set_name_np(pthread_self(), name);\n+#elif defined(MAC_OSX)\n+    pthread_setname_np(name);\n+#else\n+    // Prevent warnings for unused parameters...\n+    (void)name;\n+#endif\n+}\n+\n+/*\n+ * If we have thread_local, just keep thread ID and name in a thread_local\n+ * global.\n+ */\n+#if defined(HAVE_THREAD_LOCAL)\n+\n+static thread_local std::string g_thread_name;\n+\n+std::string thread_util::GetInternalName() {\n+    return g_thread_name;\n+}\n+\n+/**\n+ * Set the in-memory internal name for this thread. Does not affect the process\n+ * name.\n+ */\n+static bool SetInternalName(const std::string& name)",
      "path": "src/threadutil.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "d404d64abc69186c6dfdf2b32ba37633cf965ab5",
      "in_reply_to_id": 196894947,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, I don't feel strongly. Both are fine!",
      "created_at": "2018-06-25T15:06:27Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r197831762",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197831762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201869522",
      "pull_request_review_id": 119680023,
      "id": 201869522,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTg2OTUyMg==",
      "diff_hunk": "@@ -5,6 +5,12 @@\n \n #include <logging.h>\n #include <utiltime.h>\n+#include <util.h>",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "5ac8b4111535cb9b3dcffa296b94274c9259cc02",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What does logging need util for?",
      "created_at": "2018-07-11T23:24:54Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r201869522",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201869522"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 8,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202052054",
      "pull_request_review_id": 136671874,
      "id": 202052054,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjA1MjA1NA==",
      "diff_hunk": "@@ -5,6 +5,12 @@\n \n #include <logging.h>\n #include <utiltime.h>\n+#include <util.h>",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "5ac8b4111535cb9b3dcffa296b94274c9259cc02",
      "in_reply_to_id": 201869522,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch; this was a relic from previous code.",
      "created_at": "2018-07-12T14:18:36Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r202052054",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202052054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 8,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202052408",
      "pull_request_review_id": 136672318,
      "id": 202052408,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjA1MjQwOA==",
      "diff_hunk": "@@ -1650,8 +1651,8 @@ static bool WriteUndoDataForBlock(const CBlockUndo& blockundo, CValidationState&\n \n static CCheckQueue<CScriptCheck> scriptcheckqueue(128);\n \n-void ThreadScriptCheck() {\n-    RenameThread(\"bitcoin-scriptch\");\n+void ThreadScriptCheck(int worker_num) {\n+    thread_util::Rename((\"scriptch.\" + std::to_string(worker_num)).c_str());",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "91aef702c90d53c8f8dd53dfacb5d5f3d0cb2b91",
      "original_commit_id": "6b12218a8234b61dabf2696997de393ac054b2e7",
      "in_reply_to_id": 187824667,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah thanks, will fix the `httpworker` rename calls as well.",
      "created_at": "2018-07-12T14:19:34Z",
      "updated_at": "2018-07-12T14:27:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13168#discussion_r202052408",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202052408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13168"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1707,
      "side": "RIGHT"
    }
  ]
}