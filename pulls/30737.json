{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737",
    "id": 2042001300,
    "node_id": "PR_kwDOABII5855tneU",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30737",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30737.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30737.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30737",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30737/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
    "number": 30737,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: Fix RANDOM_CTX_SEED use with parallel tests",
    "user": {
      "login": "hodlinator",
      "id": 172445034,
      "node_id": "U_kgDOCkdNag",
      "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hodlinator",
      "html_url": "https://github.com/hodlinator",
      "followers_url": "https://api.github.com/users/hodlinator/followers",
      "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
      "organizations_url": "https://api.github.com/users/hodlinator/orgs",
      "repos_url": "https://api.github.com/users/hodlinator/repos",
      "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hodlinator/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "To fix the issue with test directories clashing when running in parallel with the env var `RANDOM_CTX_SEED` set, we now mix in the test name.\r\n\r\nIssue was introduced by 97e16f57042cab07e5e73f6bed19feec2006e4f7, and comment for `g_insecure_rand_ctx_temp_path` became invalid with that commit. Make the determinism clear through removing the no longer useful `g_insecure_rand_ctx_temp_path`.\r\n\r\nFixes #30696.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2024-08-28T13:43:58Z",
    "updated_at": "2024-09-03T20:16:57Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "ce8a32e3a4c2ae3d7ab9e53236074e88635393ea",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "hodlinator:2024-08/RANDOM_CTX_SEED_jobs_fix_alt",
      "ref": "2024-08/RANDOM_CTX_SEED_jobs_fix_alt",
      "sha": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 813856282,
        "node_id": "R_kgDOMIJ2Gg",
        "name": "bitcoin",
        "full_name": "hodlinator/bitcoin",
        "owner": {
          "login": "hodlinator",
          "id": 172445034,
          "node_id": "U_kgDOCkdNag",
          "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hodlinator",
          "html_url": "https://github.com/hodlinator",
          "followers_url": "https://api.github.com/users/hodlinator/followers",
          "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
          "organizations_url": "https://api.github.com/users/hodlinator/orgs",
          "repos_url": "https://api.github.com/users/hodlinator/repos",
          "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/hodlinator/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/hodlinator/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/hodlinator/bitcoin",
        "archive_url": "https://api.github.com/repos/hodlinator/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/hodlinator/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/hodlinator/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/hodlinator/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/hodlinator/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/hodlinator/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/hodlinator/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/hodlinator/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/hodlinator/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/hodlinator/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/hodlinator/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/hodlinator/bitcoin/events",
        "forks_url": "https://api.github.com/repos/hodlinator/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/hodlinator/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/hodlinator/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/hodlinator/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/hodlinator/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/hodlinator/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/hodlinator/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/hodlinator/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/hodlinator/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/hodlinator/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/hodlinator/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/hodlinator/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/hodlinator/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:hodlinator/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/hodlinator/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/hodlinator/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/hodlinator/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/hodlinator/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/hodlinator/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/hodlinator/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/hodlinator/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/hodlinator/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/hodlinator/bitcoin/hooks",
        "svn_url": "https://github.com/hodlinator/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 226106,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-08-29T09:08:51Z",
        "created_at": "2024-06-11T22:00:51Z",
        "updated_at": "2024-08-14T02:59:01Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "0e0de9484600f3a69ea4d87a3d2af0d8f3862af9",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35816,
        "stargazers_count": 77790,
        "watchers_count": 77790,
        "size": 267571,
        "default_branch": "master",
        "open_issues_count": 670,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-03T20:33:56Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-09-03T20:34:03Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 11,
    "deletions": 8,
    "changed_files": 4,
    "commits": 3,
    "review_comments": 10,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 2315360635,
      "node_id": "IC_kwDOABII586KAZl7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2315360635",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T13:44:02Z",
      "updated_at": "2024-09-03T20:16:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30737).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30748](https://github.com/bitcoin/bitcoin/pull/30748) (test: Pin and document TEST_DIR_PATH_ELEMENT, SeedRand::FIXED_SEED by maflcko)\n* [#30618](https://github.com/bitcoin/bitcoin/pull/30618) (test: support std::optional in BOOST_CHECK_* and increase FromUserHex fuzz feature coverage by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#issuecomment-2315360635",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30737"
    },
    {
      "event": "labeled",
      "id": 14046908480,
      "node_id": "LE_lADOABII586Uis48zwAAAANFQtBA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14046908480",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T13:44:04Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 2315375003,
      "node_id": "IC_kwDOABII586KAdGb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2315375003",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T13:49:43Z",
      "updated_at": "2024-08-28T13:49:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Can be verified through running\r\n```\r\nRANDOM_CTX_SEED=21 make -j10 check\r\n```",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#issuecomment-2315375003",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30737"
    },
    {
      "event": "reviewed",
      "id": 2266551283,
      "node_id": "PRR_kwDOABII586HGNPz",
      "url": null,
      "actor": null,
      "commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#pullrequestreview-2266551283",
      "submitted_at": "2024-08-28T14:59:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
    },
    {
      "event": "labeled",
      "id": 14049870512,
      "node_id": "LE_lADOABII586Uis48zwAAAANFcAKw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14049870512",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T16:29:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2315809451,
      "node_id": "IC_kwDOABII586KCHKr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2315809451",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-28T16:35:51Z",
      "updated_at": "2024-08-28T16:35:51Z",
      "author_association": "MEMBER",
      "body": "Will review after rebase.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#issuecomment-2315809451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30737"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRmZWYwMmY5MzgyNTc5MzUyYWJjYjRmY2M4ZDg1MTcwZGU5ZjQ0MWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfef02f9382579352abcb4fcc8d85170de9f441a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dfef02f9382579352abcb4fcc8d85170de9f441a",
      "tree": {
        "sha": "dbfb9a55f911b2c30d1d5312ebcc12e57dbf2fc6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dbfb9a55f911b2c30d1d5312ebcc12e57dbf2fc6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dbfb9a55f911b2c30d1d5312ebcc12e57dbf2fc6\nparent 4ee1940e849efe8fb1510b11d78399231df4b578\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724915581 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724921655 +0200\n\ntest: bench+fuzz - Implement G_TEST_GET_FULL_NAME\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQAcR/RqZ0RBMU02oeNXnPZzSM0eZejk8yBlqBozkVtwW8A7iTCehMtq5MJMaqioyky\nZwPryiEVf3X/iEWo0YEQ0=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ee1940e849efe8fb1510b11d78399231df4b578",
          "sha": "4ee1940e849efe8fb1510b11d78399231df4b578",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4ee1940e849efe8fb1510b11d78399231df4b578"
        }
      ],
      "message": "test: bench+fuzz - Implement G_TEST_GET_FULL_NAME",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-29T08:54:15Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-29T07:13:01Z"
      },
      "sha": "dfef02f9382579352abcb4fcc8d85170de9f441a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlNWY4YTRmNzc1YjkzZDMwYjg2ZDI4NDA1ODg2ZWVhMjMyY2Y4NzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e5f8a4f775b93d30b86d28405886eea232cf875",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8e5f8a4f775b93d30b86d28405886eea232cf875",
      "tree": {
        "sha": "0a7870319911359d70a91c9758e98d99cd440234",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0a7870319911359d70a91c9758e98d99cd440234"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0a7870319911359d70a91c9758e98d99cd440234\nparent dfef02f9382579352abcb4fcc8d85170de9f441a\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724915617 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724921739 +0200\n\ntest: Make fuzz/test_runner pass on RANDOM_CTX_SEED if set\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNzOBP29+dqT8mJ0OSS8AnxQ4cbpLiTn2+yg/FS5FV5r0IXuWERd7wgsdWm3D98Ijj\n2NmYk8VvxCJusv5PhE0wA=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfef02f9382579352abcb4fcc8d85170de9f441a",
          "sha": "dfef02f9382579352abcb4fcc8d85170de9f441a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dfef02f9382579352abcb4fcc8d85170de9f441a"
        }
      ],
      "message": "test: Make fuzz/test_runner pass on RANDOM_CTX_SEED if set",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-29T08:55:39Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-29T07:13:37Z"
      },
      "sha": "8e5f8a4f775b93d30b86d28405886eea232cf875"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA2NWYwZjY2ZDYwYmEyMWQ2YzNhNTlmZWIzMGMwNjVmNmQ4YWNlYWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "tree": {
        "sha": "b6f69a2181691da03881644c3804b39cc299cf85",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b6f69a2181691da03881644c3804b39cc299cf85"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b6f69a2181691da03881644c3804b39cc299cf85\nparent 8e5f8a4f775b93d30b86d28405886eea232cf875\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724851041 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1724921739 +0200\n\ntest: Fix RANDOM_CTX_SEED use with parallel tests\n\nTo fix the issue with test directories clashing when running in parallel with the env var RANDOM_CTX_SEED set, we now mix in the test name.\n\nIssue was introduced by 97e16f57042cab07e5e73f6bed19feec2006e4f7, and comment for g_insecure_rand_ctx_temp_path became invalid with that commit. Make the determinism clear through removing the no longer useful g_insecure_rand_ctx_temp_path.\n\nFixes #30696.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQBIrHZHEAixPLU+kxRjv0fc4eHDnZ2l7kDgNOrHTHGjxoP6kruGmZOgQ7bL9bv+bpV\nAC6CurqzZLfrKTnPk8aQA=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e5f8a4f775b93d30b86d28405886eea232cf875",
          "sha": "8e5f8a4f775b93d30b86d28405886eea232cf875",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8e5f8a4f775b93d30b86d28405886eea232cf875"
        }
      ],
      "message": "test: Fix RANDOM_CTX_SEED use with parallel tests\n\nTo fix the issue with test directories clashing when running in parallel with the env var RANDOM_CTX_SEED set, we now mix in the test name.\n\nIssue was introduced by 97e16f57042cab07e5e73f6bed19feec2006e4f7, and comment for g_insecure_rand_ctx_temp_path became invalid with that commit. Make the determinism clear through removing the no longer useful g_insecure_rand_ctx_temp_path.\n\nFixes #30696.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-29T08:55:39Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2024-08-28T13:17:21Z"
      },
      "sha": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14058376175,
      "node_id": "HRFPE_lADOABII586Uis48zwAAAANF8cvv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14058376175",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-29T09:08:52Z"
    },
    {
      "event": "unlabeled",
      "id": 14058544989,
      "node_id": "UNLE_lADOABII586Uis48zwAAAANF9F9d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14058544989",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-29T09:20:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1734852679",
      "pull_request_review_id": 2266551283,
      "id": 1734852679,
      "node_id": "PRRC_kwDOABII585nZ8BH",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This isn't set in the fuzz tests, IIRC. So, as explained in https://github.com/bitcoin/bitcoin/issues/30696#issuecomment-2307116476 it would fail if there were two fuzz tests that set up a (Basic)TestingSetup each. No?",
      "created_at": "2024-08-28T14:59:13Z",
      "updated_at": "2024-08-28T14:59:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1734852679",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1734852679"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1734856457",
      "pull_request_review_id": 2266557565,
      "id": 1734856457,
      "node_id": "PRRC_kwDOABII585nZ88J",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, obviously, the issue would remain if the same test is run in parallel ",
      "created_at": "2024-08-28T15:01:26Z",
      "updated_at": "2024-08-28T15:01:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1734856457",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1734856457"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735853776",
      "pull_request_review_id": 2268143344,
      "id": 1735853776,
      "node_id": "PRRC_kwDOABII585ndwbQ",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you for your detailed linked comment @maflcko. Apologies for not going back to re-read it before publishing this PR.\r\n\r\nBefore publishing, I did recall that you were worried about fuzz tests and ran:\r\n```\r\nRANDOM_CTX_SEED=21 ./test/fuzz/test_runner.py -j40 .\r\n```\r\n..with this added temporarily:\r\n```C++\r\nprintf(\"%s\\n\", rand_str.c_str());\r\n```\r\nThe hashes outputted were unique. I admit it surprised me and I also printed `test_path` and saw they were empty. Should have dug deeper at that point to figure out the cause of randomness before publishing the PR.\r\n\r\nAfter your latest comment I dug deeper, discovering:\r\n* **test/fuzz/test_runner.py** does not automatically forward on environment variables, I guess it wants to keep the environment under tighter control. Making it explicitly forward `RANDOM_CTX_SEED` makes the deterministic randomness of the fuzz tests start from the same seed.\r\n\r\nOutputting `getpid()` in the `BasicTestingSetup`-ctor now shows unique PIDs per fuzz test. I hesitate to add the PID to the seed since the intent of 97e16f57042cab07e5e73f6bed19feec2006e4f7 seems to be to decrease determinism). In the case of benchmarks, the PID would probably not help either, as the intent seems to be to run them single-threaded(?) - which would at the same time mean directories being created/destroyed should not be an issue for benchmarks.\r\n\r\nI've opted in the latest push to implement forwarding of `RANDOM_CTX_SEED` and implemented `G_TEST_GET_FULL_NAME` for bench+fuzz. Please let me know what you think about that approach.\r\n\r\n(Noticed in the debugger that the `BasicTestingSetup`-ctor, after creating the test directories, creates the `kernel::Context` which calls `RandomInit()` which calls `ProcRand(..., /*always_use_real_rng=*/true)` ...which should be harmless as long as `RNGState::m_deterministic_prng` has been set).",
      "created_at": "2024-08-29T09:09:57Z",
      "updated_at": "2024-08-29T09:09:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1735853776",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735853776"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735862677",
      "pull_request_review_id": 2268159187,
      "id": 1735862677,
      "node_id": "PRRC_kwDOABII585ndymV",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To offer another alternative fix, beside the ones proposed in https://github.com/bitcoin/bitcoin/issues/30696#issuecomment-2307116476:\r\n\r\nAnother possible fix would be to ensure the `g_rng_temp_path` is seeded before any call to `SeedRandomForTest`.\r\n\r\nI think it would help why you didn't think that any of the 4 alternative fixes are worth a try and instead went for this, which is an incomplete fix, as explained in my previous comment.",
      "created_at": "2024-08-29T09:16:10Z",
      "updated_at": "2024-08-29T09:16:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1735862677",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735862677"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735936167",
      "pull_request_review_id": 2268286644,
      "id": 1735936167,
      "node_id": "PRRC_kwDOABII585neEin",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think it would help why you didn't think that any of the 4 alternative fixes are worth a try and instead went for this, which is an incomplete fix, as explained in my previous comment.\r\n\r\nIn general I think determinism should be increased, not decreased. Increased determinism appears to be the original intent behind moving `SeedRandomForTest` earlier in 97e16f57042cab07e5e73f6bed19feec2006e4f7, please let me know if you have a different interpretation. All your suggestions lead to decreased determinism, to avoid repetition, I only left additional comments:\r\n\r\n1. \"Use `GetStrongRandBytes`, however, I am not sure how slow that'd be in the worst case.\" - You pointed out that it may be a bit slow.\r\n\r\n2. \"Move the `SeedRandomForTest` after the fuzz target's `init` function, but before `ResetCoverageCounters`. However that'd still break if the fuzz target spun up a TestingSetup.\" - As `init` often creates `BasicTestingSetup`, that approach would also need to have the **setup_common.cpp** part of 97e16f57042cab07e5e73f6bed19feec2006e4f7 reverted. As you said any later created `BasicTestingSetup` after `init` would become deterministic.\r\n\r\n3. \"Use the hash of the current folder generator, as well as the hash of the pid. Which may obviously break once the kernel wraps the pids, but I am not sure how likely that is.\" - Addressed in my [previous comment](https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1735853776).\r\n\r\n4. Ensure the `g_rng_temp_path` is seeded before any call to `SeedRandomForTest`. - Just the general determinism concern above.\r\n\r\n---\r\n\r\n>  Also, obviously, the issue would remain if the same test is run in parallel\r\n\r\nThe same test being run in parallel *with itself* could use `-testdatadir`. Is that a common case?\r\n\r\nEdit: Could use different `RANDOM_CTX_SEED` if wanting to run the same test in parallel with itself as well.",
      "created_at": "2024-08-29T10:09:18Z",
      "updated_at": "2024-08-29T10:18:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1735936167",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735936167"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735959988",
      "pull_request_review_id": 2268323698,
      "id": 1735959988,
      "node_id": "PRRC_kwDOABII585neKW0",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, I see. There may be a misunderstanding here. According to the comment you removed, the datadir should actually be \"unique\", not \"deterministic\". (\"Random context to get unique temp data dirs.\")\r\n\r\nOnce you make it deterministic, there will be a chance of collision, which may lead to a crash, which this pull request is trying to fix, no?\r\n\r\n\r\n\r\n> The same test being run in parallel _with itself_ could use `-testdatadir`. Is that a common case?\r\n> \r\n> Edit: Could use different `RANDOM_CTX_SEED` if wanting to run the same test in parallel with itself as well.\r\n\r\nI don't think anything here is a common case. So in theory an alternative \"fix\" would be to simply say in a comment that `RANDOM_CTX_SEED` can only be used when running a single test process at a time.",
      "created_at": "2024-08-29T10:27:20Z",
      "updated_at": "2024-08-29T10:27:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1735959988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1735959988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736060030",
      "pull_request_review_id": 2268489168,
      "id": 1736060030,
      "node_id": "PRRC_kwDOABII585neix-",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Ah, I see. There may be a misunderstanding here. According to the comment you removed, the datadir should actually be \"unique\", not \"deterministic\". (\"Random context to get unique temp data dirs.\")\r\n\r\nAha, time to bring out the `git log -S \"Random context to get unique temp data dirs\"` command. ;)\r\n\r\nI see it was your fae43a97ca947cd0802392e9bb86d9d0572c0fba from 2019, so it's hard to argue that the author may have meant \"unique\" as in simply different from other tests. :) See you introduced the later seeding of the RNG in that commit too.\r\n\r\nOn the other hand, you (together with me) ACKed #29625 which contains 97e16f57042cab07e5e73f6bed19feec2006e4f7, moving the seeding prior to directory naming randomization. Do you now disagree with it?\r\n\r\n> Once you make it deterministic, there will be a chance of collision, which may lead to a crash, which this pull request is trying to fix, no?\r\n\r\nThe PR *does fix* collisions between *different* tests that would otherwise happen when `RANDOM_CTX_SEED` was set to the same value, which was resulting in the same folder name being used. (`RANDOM_CTX_SEED=21 make -j10 check`).\r\n\r\n> I don't think anything here is a common case. So in theory an alternative \"fix\" would be to simply say in a comment that RANDOM_CTX_SEED can only be used when running a single test process at a time.\r\n\r\nCombining tests with setting `RANDOM_CTX_SEED` is indeed an edge case. This PR arguably implements missing test names for bench+fuzz, missing support for forwarding `RANDOM_CTX_SEED` to fuzz tests, simplifies the code through removing `g_rng_temp_path` which had a no longer valid comment after 97e16f57042cab07e5e73f6bed19feec2006e4f7, the main fix/complexity lies in adding entropy to the random folder path using the test name.\r\n\r\nThe extremely paranoid would say that the folder name generation could influence test success/failure, so having it deterministic is helpful. Unit tests are poorly written if that is ever the case, but for fuzzing it's still an open question to me.",
      "created_at": "2024-08-29T11:51:34Z",
      "updated_at": "2024-08-29T11:51:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1736060030",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736060030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736079881",
      "pull_request_review_id": 2268526353,
      "id": 1736079881,
      "node_id": "PRRC_kwDOABII585nenoJ",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> On the other hand, you (together with me) ACKed #29625 which contains [97e16f5](https://github.com/bitcoin/bitcoin/commit/97e16f57042cab07e5e73f6bed19feec2006e4f7), moving the seeding prior to directory naming randomization. Do you now disagree with it?\r\n\r\nI think it was simply an oversight. At least for me.\r\n\r\n> > Once you make it deterministic, there will be a chance of collision, which may lead to a crash, which this pull request is trying to fix, no?\r\n> \r\n> The PR _does fix_ collisions between _different_ tests that would otherwise happen when `RANDOM_CTX_SEED` was set to the same value, which was resulting in the same folder name being used. (`RANDOM_CTX_SEED=21 make -j10 check`).\r\n\r\nYes, I understand the code diff. I am just saying that it would be nicer if running the same test also didn't crash for that reason, when run in parallel. It seems plausible that someone would want to do that, given that it is possible and supported right now (when not setting `RANDOM_CTX_SEED`).\r\n\r\nOtherwise, someone else will report that as an issue and the code has to be changed again.\r\n\r\n> The extremely paranoid would say that the folder name generation could influence test success/failure\r\n\r\nOk, that helps to understand your concern. However, I'd say that the folder name is printed. So if it lead to an issue, it would be trivial to reproduce.\r\n\r\n(If it is not printed on failure, then that should be fixed)",
      "created_at": "2024-08-29T12:06:18Z",
      "updated_at": "2024-08-29T12:06:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1736079881",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736079881"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736206924",
      "pull_request_review_id": 2268745751,
      "id": 1736206924,
      "node_id": "PRRC_kwDOABII585nfGpM",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> > On the other hand, you (together with me) ACKed https://github.com/bitcoin/bitcoin/pull/29625 which contains 97e16f57042cab07e5e73f6bed19feec2006e4f7, moving the seeding prior to directory naming randomization. Do you now disagree with it?\r\n>\r\n> I think it was simply an oversight. At least for me.\r\n\r\nAlright, thanks for addressing this. I think it would be good to wait for sipa to have time as this PR continues in the same direction as his commit.\r\n\r\n> Yes, I understand the code diff. I am just saying that it would be nicer if running the same test also didn't crash for that reason, when run in parallel. It seems plausible that someone would want to do that, given that it is possible and supported right now (when not setting `RANDOM_CTX_SEED`).\r\n>\r\n> Otherwise, someone else will report that as an issue and the code has to be changed again.\r\n\r\nIf they don't want to set different `RANDOM_CTX_SEED` they can set different `-testdatadir` (and probably should, for clarity in case there are failures).\r\n\r\n> > The extremely paranoid would say that the folder name generation could influence test success/failure\r\n>\r\n> Ok, that helps to understand your concern. However, I'd say that the folder name is printed. So if it lead to an issue, it would be trivial to reproduce.\r\n\r\nIt will be even more trivial to reproduce if one can just set the `RANDOM_CTX_SEED` env var and re-run the same binary without modifying and recompiling the code (and potentially having to set up a git & build environment).",
      "created_at": "2024-08-29T13:25:22Z",
      "updated_at": "2024-08-29T13:25:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1736206924",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1736206924"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1737970771",
      "pull_request_review_id": 2271228381,
      "id": 1737970771,
      "node_id": "PRRC_kwDOABII585nl1RT",
      "diff_hunk": "@@ -156,9 +155,10 @@ BasicTestingSetup::BasicTestingSetup(const ChainType chainType, TestOpts opts)\n     // data directories use a random name that doesn't overlap with other tests.\n     SeedRandomForTest(SeedRand::SEED);\n \n+    const std::string test_path{G_TEST_GET_FULL_NAME ? G_TEST_GET_FULL_NAME() : \"\"};",
      "path": "src/test/util/setup_common.cpp",
      "position": 22,
      "original_position": 30,
      "commit_id": "065f0f66d60ba21d6c3a59feb30c065f6d8aceaf",
      "original_commit_id": "eeeb56b74c038d9dee655c9d7f6329e6636f5e77",
      "in_reply_to_id": 1734852679,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> It will be even more trivial to reproduce if one can just set the `RANDOM_CTX_SEED` env var and re-run the same binary without modifying and recompiling the code (and potentially having to set up a git & build environment).\r\n\r\nI just think this optimized in the wrong direction. Has there ever been a known issue due to a fixed-size ascii-hex-encoded path element? Stuff like variable-size or non-hex-ascii are known to possibly find issues, but a fixed size [a-f0-9] element, I am not aware of.\r\n\r\nMoreover, adding code like `fuzz_env['RANDOM_CTX_SEED'] = random_seed` to the fuzz runner also seems to go in the wrong direction a bit. The goal of the fuzz tests is to be fully deterministic and stable, within a single run and across different runs. If the fuzz randomness is seeded with anything other than stuff provided by the fuzz engine, it is easy to get non-determinism, or coverage instability.\r\n\r\nAn having different types of \"seed\" in the fuzz context is also confusing.\r\n\r\n> If they don't want to set different `RANDOM_CTX_SEED` they can set different `-testdatadir` (and probably should, for clarity in case there are failures).\r\n\r\nWell, the only point of setting `RANDOM_CTX_SEED` is to reproduce a past failure. However, if you want to go down the route of requiring to set a different testdatadir when wanting to run the same test in parallel, it may be best to fully go that route. Instead of a hash, just use the test name as-is? This would also be parallel to the functional tests.",
      "created_at": "2024-08-30T05:40:29Z",
      "updated_at": "2024-08-30T05:40:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30737#discussion_r1737970771",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1737970771"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30737"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 157,
      "original_line": 157,
      "side": "RIGHT"
    }
  ]
}