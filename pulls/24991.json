{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991",
    "id": 919161022,
    "node_id": "PR_kwDOABII5842yUi-",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/24991",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/24991.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/24991.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
    "number": 24991,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "init: allow startup with -onlynet=onion -listenonion=1",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It does not make sense to specify `-onlynet=onion` without providing a\r\nTor proxy (even if other `-onlynet=...` are given). This is checked\r\nduring startup. However, it was forgotten that a Tor proxy can also be\r\nretrieved from \"Tor control\" to which we connect if `-listenonion=1`.\r\n\r\nSo, the full Tor proxy retrieval logic is:\r\n1. get it from `-onion`\r\n2. get it from `-proxy`\r\n3. if `-listenonion=1`, then connect to \"Tor control\" and get the proxy\r\n   from there (was forgotten before this change)\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/24980",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
      "id": 7150037,
      "node_id": "MI_kwDOABII584AbRnV",
      "number": 54,
      "state": "closed",
      "title": "24.0",
      "description": "",
      "creator": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 159,
      "created_at": "2021-09-14T08:27:02Z",
      "updated_at": "2022-11-29T15:44:44Z",
      "closed_at": "2022-11-29T15:44:44Z"
    },
    "created_at": "2022-04-26T09:21:55Z",
    "updated_at": "2023-09-15T12:11:02Z",
    "closed_at": "2022-09-13T11:36:53Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-09-13T11:36:53Z",
    "merge_commit_sha": "94d17845d04e71e189c59d65b8bbc3df1efbc59a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "vasild:onlynet_onion_with_listenonion_is_ok",
      "ref": "onlynet_onion_with_listenonion_is_ok",
      "sha": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 217805,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-15T12:41:48Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-08-28T12:41:46Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "5291933fedceb9df16eb9e4627b1d7386b53ba07",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35677,
        "stargazers_count": 71358,
        "watchers_count": 71358,
        "size": 239512,
        "default_branch": "master",
        "open_issues_count": 687,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-15T12:50:56Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-09-15T12:55:13Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 27,
    "deletions": 10,
    "changed_files": 2,
    "commits": 1,
    "review_comments": 18,
    "comments": 15
  },
  "events": [
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T09:23:05Z",
      "updated_at": "2022-04-26T09:23:05Z",
      "source": {
        "issue": {
          "id": 1214866388,
          "node_id": "I_kwDOABII585IaWPU",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24980",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24980/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24980/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24980/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/24980",
          "number": 24980,
          "state": "closed",
          "state_reason": "completed",
          "title": "-onlynet=onion plus -onlynet=ipv4/etc, without -onion=, in spite of -torcontrol= specified, incorrectly kills startup",
          "body": "In v22, using the options: -onlynet=onion -onlynet=ipv4 -onlynet=ipv6, combined with the options -torcontrol= (etc) functioned and bitcoind correctly pulled the onion socks address via a probe to tor. In v23, that combination of options no longer functions and -onion= is required.\r\n\r\n** expected **\r\n\r\nUsing -onlynet=onion (and ipv4 and ipv6) if -torcontrol= is specified should still work.\r\n\r\n**Actual behavior**\r\n\r\nbitcoind refuses to start up due to commitid e53a8505db preventing it from doing so in init.cpp.\r\n\r\n**To reproduce**\r\n\r\nRun as per above.\r\n\r\n**System information**\r\n\r\nSources built from fcf6c8f4eb217763545ede1766831a6b93f583bd (tag v23.0 as of this writing I .. think?)\r\n\r\nError message in debug.log is:\r\n\r\nError: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided\r\n(no -proxy= and no -onion= given) or it is explicitly forbidden (-onion=0)\r\nShutdown: In progress...\r\nscheduler thread exit\r\nShutdown: done\r\n",
          "user": {
            "login": "midnightmagic",
            "id": 607777,
            "node_id": "MDQ6VXNlcjYwNzc3Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/607777?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/midnightmagic",
            "html_url": "https://github.com/midnightmagic",
            "followers_url": "https://api.github.com/users/midnightmagic/followers",
            "following_url": "https://api.github.com/users/midnightmagic/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/midnightmagic/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/midnightmagic/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/midnightmagic/subscriptions",
            "organizations_url": "https://api.github.com/users/midnightmagic/orgs",
            "repos_url": "https://api.github.com/users/midnightmagic/repos",
            "events_url": "https://api.github.com/users/midnightmagic/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/midnightmagic/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "closed_at": "2022-09-13T11:36:37Z",
          "created_at": "2022-04-25T18:12:35Z",
          "updated_at": "2022-11-10T13:20:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6497267104,
      "node_id": "HRFPE_lADOABII585IdYLhzwAAAAGDRG2g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6497267104",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T09:45:01Z"
    },
    {
      "event": "commented",
      "id": 1109588407,
      "node_id": "IC_kwDOABII585CIvm3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109588407",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T09:48:59Z",
      "updated_at": "2022-04-26T09:48:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "`111bec2fdc...bbbb1755da`: remove `;` from python code ðŸ¤¦\r\n\r\n`111b`, `bbbb1`, wow! today is my lucky day!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1109588407",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "labeled",
      "id": 6497913482,
      "node_id": "LE_lADOABII585IdYLhzwAAAAGDTkqK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6497913482",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T11:19:14Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "reviewed",
      "id": 953266071,
      "node_id": "PRR_kwDOABII58440a-X",
      "url": null,
      "actor": null,
      "commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light Approach ACK (looked quickly, in seminar ATM)\r\n\r\n```\r\nâ‚¿ bitcoind -signet -onlynet=onion -listenonion=0\r\n2022-04-26T12:11:00Z [init] Error: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided: none of -proxy, -onion or -listenonion is given\r\nError: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided: none of -proxy, -onion or -listenonion is given\r\n2022-04-26T12:11:00Z [init] Shutdown: In progress...\r\n2022-04-26T12:11:00Z [scheduler] scheduler thread exit\r\n2022-04-26T12:11:00Z [shutoff] Shutdown: done\r\n```\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#pullrequestreview-953266071",
      "submitted_at": "2022-04-26T12:20:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
    },
    {
      "event": "labeled",
      "id": 6498594901,
      "node_id": "LE_lADOABII585IdYLhzwAAAAGDWLBV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6498594901",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T12:56:24Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 1110029246,
      "node_id": "IC_kwDOABII585CKbO-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110029246",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T16:51:51Z",
      "updated_at": "2022-04-26T16:51:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\n> `111bec2fdc...bbbb1755da`: remove `;` from python code ðŸ¤¦\r\n> \r\n> `111b`, `bbbb1`, wow! today is my lucky day!\r\n\r\nNice!",
      "user": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1110029246",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1111829590,
      "node_id": "IC_kwDOABII585CRSxW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111829590",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T07:10:36Z",
      "updated_at": "2022-04-28T07:10:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "tACK bbbb175\r\n\r\n`./src/bitcoind -signet -onlynet=onion -listenonion=1` will not fail to start up. Node starts connecting to onion peers and runs normally.\r\n\r\n`./src/bitcoind -signet -onlynet=onion -listenonion=0` will kill init with:\r\n```\r\n2022-04-28T07:09:12Z Error: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided: none of -proxy, -onion or -listenonion is given\r\nError: Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided: none of -proxy, -onion or -listenonion is given\r\n```",
      "user": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1111829590",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1111902036,
      "node_id": "IC_kwDOABII585CRkdU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111902036",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T08:33:38Z",
      "updated_at": "2022-04-28T08:33:38Z",
      "author_association": "MEMBER",
      "body": "@midnightmagic Can you confirm this solves your issue?",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1111902036",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "mentioned",
      "id": 6513116674,
      "node_id": "MEE_lADOABII585IdYLhzwAAAAGENkYC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6513116674",
      "actor": {
        "login": "midnightmagic",
        "id": 607777,
        "node_id": "MDQ6VXNlcjYwNzc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/607777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/midnightmagic",
        "html_url": "https://github.com/midnightmagic",
        "followers_url": "https://api.github.com/users/midnightmagic/followers",
        "following_url": "https://api.github.com/users/midnightmagic/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/midnightmagic/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/midnightmagic/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/midnightmagic/subscriptions",
        "organizations_url": "https://api.github.com/users/midnightmagic/orgs",
        "repos_url": "https://api.github.com/users/midnightmagic/repos",
        "events_url": "https://api.github.com/users/midnightmagic/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/midnightmagic/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T08:33:38Z"
    },
    {
      "event": "subscribed",
      "id": 6513116688,
      "node_id": "SE_lADOABII585IdYLhzwAAAAGENkYQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6513116688",
      "actor": {
        "login": "midnightmagic",
        "id": 607777,
        "node_id": "MDQ6VXNlcjYwNzc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/607777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/midnightmagic",
        "html_url": "https://github.com/midnightmagic",
        "followers_url": "https://api.github.com/users/midnightmagic/followers",
        "following_url": "https://api.github.com/users/midnightmagic/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/midnightmagic/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/midnightmagic/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/midnightmagic/subscriptions",
        "organizations_url": "https://api.github.com/users/midnightmagic/orgs",
        "repos_url": "https://api.github.com/users/midnightmagic/repos",
        "events_url": "https://api.github.com/users/midnightmagic/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/midnightmagic/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-28T08:33:39Z"
    },
    {
      "event": "commented",
      "id": 1113303666,
      "node_id": "IC_kwDOABII585CW6py",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113303666",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T13:21:06Z",
      "updated_at": "2022-04-29T13:21:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "`bbbb1755da...c313568a97`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1113303666",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6523268604,
      "node_id": "HRFPE_lADOABII585IdYLhzwAAAAGE0S38",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6523268604",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T13:21:07Z"
    },
    {
      "event": "commented",
      "id": 1114342625,
      "node_id": "IC_kwDOABII585Ca4Th",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114342625",
      "actor": {
        "login": "schildbach",
        "id": 743306,
        "node_id": "MDQ6VXNlcjc0MzMwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/743306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/schildbach",
        "html_url": "https://github.com/schildbach",
        "followers_url": "https://api.github.com/users/schildbach/followers",
        "following_url": "https://api.github.com/users/schildbach/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/schildbach/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/schildbach/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/schildbach/subscriptions",
        "organizations_url": "https://api.github.com/users/schildbach/orgs",
        "repos_url": "https://api.github.com/users/schildbach/repos",
        "events_url": "https://api.github.com/users/schildbach/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/schildbach/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T21:38:59Z",
      "updated_at": "2022-05-01T21:38:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Does this issue prevent incoming connections via Tor, if `--torcontrol` is used in combination with `--listenonion=1`? I've been running version 23.0 for days, and I've not got a single incoming connection via Tor. All are outgoing.",
      "user": {
        "login": "schildbach",
        "id": 743306,
        "node_id": "MDQ6VXNlcjc0MzMwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/743306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/schildbach",
        "html_url": "https://github.com/schildbach",
        "followers_url": "https://api.github.com/users/schildbach/followers",
        "following_url": "https://api.github.com/users/schildbach/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/schildbach/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/schildbach/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/schildbach/subscriptions",
        "organizations_url": "https://api.github.com/users/schildbach/orgs",
        "repos_url": "https://api.github.com/users/schildbach/repos",
        "events_url": "https://api.github.com/users/schildbach/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/schildbach/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1114342625",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1114572461,
      "node_id": "IC_kwDOABII585Cbwat",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114572461",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T07:25:56Z",
      "updated_at": "2022-05-02T07:25:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "@schildbach, no, the issue itself (described in https://github.com/bitcoin/bitcoin/issues/24980) is that startup would abort with an error if `-onlynet=onion` is given without `-proxy` and without `-onion`. Those options specify the proxy for connecting to the Tor network. However there is a 3rd way to provide a Tor proxy - if `-listenonion=1` is given, then we would connect to the \"Tor control center\" and retrieve the IP address/port of the Tor proxy from there.\r\n\r\nThis PR aims to fix that problem by relaxing the startup check to allow startup with `-onlynet=onion` without `-proxy`, without `-onion` if `-listenonion` is given.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1114572461",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "mentioned",
      "id": 6531558593,
      "node_id": "MEE_lADOABII585IdYLhzwAAAAGFT6zB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6531558593",
      "actor": {
        "login": "schildbach",
        "id": 743306,
        "node_id": "MDQ6VXNlcjc0MzMwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/743306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/schildbach",
        "html_url": "https://github.com/schildbach",
        "followers_url": "https://api.github.com/users/schildbach/followers",
        "following_url": "https://api.github.com/users/schildbach/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/schildbach/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/schildbach/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/schildbach/subscriptions",
        "organizations_url": "https://api.github.com/users/schildbach/orgs",
        "repos_url": "https://api.github.com/users/schildbach/repos",
        "events_url": "https://api.github.com/users/schildbach/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/schildbach/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T07:25:56Z"
    },
    {
      "event": "subscribed",
      "id": 6531558598,
      "node_id": "SE_lADOABII585IdYLhzwAAAAGFT6zG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6531558598",
      "actor": {
        "login": "schildbach",
        "id": 743306,
        "node_id": "MDQ6VXNlcjc0MzMwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/743306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/schildbach",
        "html_url": "https://github.com/schildbach",
        "followers_url": "https://api.github.com/users/schildbach/followers",
        "following_url": "https://api.github.com/users/schildbach/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/schildbach/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/schildbach/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/schildbach/subscriptions",
        "organizations_url": "https://api.github.com/users/schildbach/orgs",
        "repos_url": "https://api.github.com/users/schildbach/repos",
        "events_url": "https://api.github.com/users/schildbach/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/schildbach/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T07:25:57Z"
    },
    {
      "event": "reviewed",
      "id": 963625032,
      "node_id": "PRR_kwDOABII5845b8BI",
      "url": null,
      "actor": null,
      "commit_id": "c313568a97bbac41d7f372f62594e440a515e1f5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Diff LGTM in latest push per `git diff bbbb175 c313568`, will re-review. \r\n\r\n> I've been running version 23.0 for days, and I've not got a single incoming connection via Tor.\r\n\r\n@schildbach If you like, send me your tor address over IRC (nick jonatack on #bitcoin-core-dev) and I'll try to manually connect to you. ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#pullrequestreview-963625032",
      "submitted_at": "2022-05-05T16:13:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
    },
    {
      "event": "labeled",
      "id": 6649079758,
      "node_id": "LE_lADOABII585IdYLhzwAAAAGMUOfO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6649079758",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-20T09:23:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 6655417509,
      "node_id": "REFE_lADOABII585IdYLhzwAAAAGMsZyl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6655417509",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c9c28186194dfd6d8cf31115e952e4bbcd37cf37",
      "commit_url": "https://api.github.com/repos/luke-jr/bitcoin/commits/c9c28186194dfd6d8cf31115e952e4bbcd37cf37",
      "created_at": "2022-05-21T21:51:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6659304854,
      "node_id": "HRFPE_lADOABII585IdYLhzwAAAAGM7O2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6659304854",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T09:22:43Z"
    },
    {
      "event": "commented",
      "id": 1134415967,
      "node_id": "IC_kwDOABII585DndBf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1134415967",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T09:23:52Z",
      "updated_at": "2022-05-23T09:23:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "`c313568a97...28ae912f50`: rebase due to conflicts\r\n\r\nPreviously invalidated ACK from @dunxen \r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1134415967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "mentioned",
      "id": 6659314358,
      "node_id": "MEE_lADOABII585IdYLhzwAAAAGM7RK2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6659314358",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T09:23:53Z"
    },
    {
      "event": "subscribed",
      "id": 6659314364,
      "node_id": "SE_lADOABII585IdYLhzwAAAAGM7RK8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6659314364",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T09:23:53Z"
    },
    {
      "event": "unlabeled",
      "id": 6659833092,
      "node_id": "UNLE_lADOABII585IdYLhzwAAAAGM9P0E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6659833092",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T10:28:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1134558818,
      "node_id": "IC_kwDOABII585Dn_5i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1134558818",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-23T11:33:30Z",
      "updated_at": "2022-05-23T11:33:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 28ae912",
      "user": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1134558818",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1235886272,
      "node_id": "IC_kwDOABII585JqiDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235886272",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T20:52:33Z",
      "updated_at": "2022-09-02T20:52:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, will review closely soon. I think it would be nice to get this fixed for 24.0. ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1235886272",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-03T14:59:32Z",
      "updated_at": "2022-09-03T14:59:32Z",
      "source": {
        "issue": {
          "id": 1360599759,
          "node_id": "PR_kwDOABII584-TZEY",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25989/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25989/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25989/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25989",
          "number": 25989,
          "state": "closed",
          "state_reason": null,
          "title": "init: abort if i2p/cjdns are chosen via -onlynet but are unreachable",
          "body": "If the networks i2p / cjdns are chosen via `-onlynet` but the user forgot to provide `-i2psam` / `-cjdnsreachable`, no outbound connections will be made - it would be nice to inform the user about that.\r\nThe solution proposed here mimics existing behavior for `-onlynet=onion` and non-specified `-onion`/`-proxy` where we already abort with an InitError - if reviewers would prefer to just print a warning, please say so.\r\n\r\nThe second commit adds CJDNS support to the debug-only `addpeeraddress` RPC allowing to add CJDNS addresses to addrman for testing and debug purposes. (if `-cjdnsreachable=1`)\r\n\r\nThis is the result of an [IRC discussion](https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-09-01#848066;) with vasild.",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25989",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25989",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25989.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25989.patch"
          },
          "closed_at": "2022-09-21T10:01:16Z",
          "created_at": "2022-09-02T20:47:20Z",
          "updated_at": "2022-09-21T18:24:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1236288272,
      "node_id": "IC_kwDOABII585JsEMQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1236288272",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-04T08:30:07Z",
      "updated_at": "2022-09-04T08:30:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25989](https://github.com/bitcoin/bitcoin/pull/25989) (init: abort if i2p/cjdns are chosen via -onlynet but are unreachable by mzumsande)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1236288272",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "reviewed",
      "id": 1096201497,
      "node_id": "PRR_kwDOABII585BVrUZ",
      "url": null,
      "actor": null,
      "commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 28ae912f501e1a09bd050dcf35ecf712374f743f\r\n\r\nI agree that this should be tagged for the v24.0 milestone, have run across this issue myself.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#pullrequestreview-1096201497",
      "submitted_at": "2022-09-05T10:33:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
    },
    {
      "event": "milestoned",
      "id": 7321866618,
      "node_id": "MIE_lADOABII585IdYLhzwAAAAG0atF6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7321866618",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T10:37:19Z",
      "milestone": {
        "title": "24.0"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkMGI0ZTRmZjY2ZTYwYzg1Zjg2YzUyNmE1M2Y4ZmIyNDJlYmI3ZDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "tree": {
        "sha": "8121c24e1dd46bb61e7faf36c0b74d5ec2726bc6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8121c24e1dd46bb61e7faf36c0b74d5ec2726bc6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8121c24e1dd46bb61e7faf36c0b74d5ec2726bc6\nparent 5291933fedceb9df16eb9e4627b1d7386b53ba07\nauthor Vasil Dimov <vd@FreeBSD.org> 1650962710 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1662393128 +0200\n\ninit: allow startup with -onlynet=onion -listenonion=1\n\nIt does not make sense to specify `-onlynet=onion` without providing a\nTor proxy (even if other `-onlynet=...` are given). This is checked\nduring startup. However, it was forgotten that a Tor proxy can also be\nretrieved from \"Tor control\" to which we connect if `-listenonion=1`.\n\nSo, the full Tor proxy retrieval logic is:\n1. get it from `-onion`\n2. get it from `-proxy`\n3. if `-listenonion=1`, then connect to \"Tor control\" and get the proxy\n   from there (was forgotten before this change)\n\nFixes https://github.com/bitcoin/bitcoin/issues/24980\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmMWGyoACgkQVN8G9ktV\ny79emh//f3dH6FVeRQauERiO0gX6gX2sSX6/D39HNk7V6elTPspKEYEoWjEpSZQf\nnOrhitxp/59WtGVvEhYKijUMx+RNzWc1qNWWlocKfRFoiCSadAfmhXAZq7xHhgOZ\noKV3mOyFtRra9NrUp+n/TkancVq61OZs/Cqlix2/GzEdOwm3hOCJ80bSS9XVZTwR\navykdbnRCCb54lSpOP2Qs7cKWexQ5Si7zQyVUkoGBnpPwPigRJ1JwDhv9VsARBZ4\n47z0AK0CaYLKLuZeZdZ50j77An4/EgDYejQaVqAIGLHpouOfAV7CHCY+3vvV2IL3\n4IxurVm0mVdBDKgf+hmLxZM5dympZPG/PCA1csOb3IV0kbkYWsLx5UzopaahDvd6\nG9KeGBwx0oig+9AoRgmqL7Ouhe0RqJdnN6A8aGsluxw6Ww69UBEKyhlA0x2tabff\nhWE6ZysYlbwubrbAhyu1VC8d4wpSLtNDaNmX+Sz+CO4EATz+kMay9E6AJnp/9ikc\n1PvKrfzhnZIl1YEXpMUmpM8x8KiwcAsrxMm8UXNmnEkpnySGjIsGFuT7RT+lnleY\ngeIt2O3fuiVaBkzYnZW6j1rwDUcvWRcPYgTOm3IhWESXVMDTnsPpsoicdQpzgjdU\nRLaeLVeGznj8kEoCC8CaUg04d6H97xqr7/b1MKNplp8aTYtvw8gKsVrMAnFbrPtY\nulQunPlWdVqhrKn8rUG488alM6VRcrbGR/zhgL9FvZIwF85FOGex3BCHiwJb5d/z\nkBM7HKe05tWiMVsZhUak4Sl1s8sOfpUQavhd4pWdkCEbTKq+Wgt2X0zxrls4zl81\ncoNAK1A5ZmFYdtJA7JlRmeFgeNeCYb68G9CsvzrNZFXrCujrMWCQAeBJRljDBXcN\nZQAOsYwcaryQsW7Su3BNuEbbortYRtyPSQFlchobmNurZP8aBfbF4yL8g8DmtfbA\ndOTJrjKoG+XSXMAGR61rSH9VDD/R+MnUvmXmPkIFOyEjH4BFLF2OFsWXvlcxN2je\nGVwimMbQmszXTEUBoWiUmbiy1Fi5BPpWKemBuAF0LYKWHWNofQxko5Mb22y0JMnc\nxPwkDDwt9NrDay/Q136KdvetSY+TPSJtLHTQmL8rNZQO98rNVWY46X4EQqoPUgOc\nwDRmAG/S0joqTk5KafmY4zIymxXGE/yJAydaOIZ8pBVcnpmeQ0d7DU4MBccmR5gA\n9LYrTi4g+6tV6Nv7n+rnLOZ2VytVy0cMNmLrsoA8BA47+8kp+/DWJcC4MnAxWKC0\nMq88SfZ1ZDGLGEfRN98v1oR7nKICd3a9zokqPiI5AnCvZmnLXKkJafTZnbmniVhu\nFsynEXgdm7dOcNGtGc268jWoKvNbrg==\n=KxdZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5291933fedceb9df16eb9e4627b1d7386b53ba07",
          "sha": "5291933fedceb9df16eb9e4627b1d7386b53ba07",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5291933fedceb9df16eb9e4627b1d7386b53ba07"
        }
      ],
      "message": "init: allow startup with -onlynet=onion -listenonion=1\n\nIt does not make sense to specify `-onlynet=onion` without providing a\nTor proxy (even if other `-onlynet=...` are given). This is checked\nduring startup. However, it was forgotten that a Tor proxy can also be\nretrieved from \"Tor control\" to which we connect if `-listenonion=1`.\n\nSo, the full Tor proxy retrieval logic is:\n1. get it from `-onion`\n2. get it from `-proxy`\n3. if `-listenonion=1`, then connect to \"Tor control\" and get the proxy\n   from there (was forgotten before this change)\n\nFixes https://github.com/bitcoin/bitcoin/issues/24980",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2022-09-05T15:52:08Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2022-04-26T08:45:10Z"
      },
      "sha": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7324384203,
      "node_id": "HRFPE_lADOABII585IdYLhzwAAAAG0kTvL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7324384203",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:54:21Z"
    },
    {
      "event": "commented",
      "id": 1237245591,
      "node_id": "IC_kwDOABII585Jvt6X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1237245591",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:56:50Z",
      "updated_at": "2022-09-05T15:56:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "`28ae912f50...2d0b4e4ff6`: rebase because this was old (no clear conflicts though) + pick suggestion + reword error message for consistency with the other message in this PR and with https://github.com/bitcoin/bitcoin/pull/25989.\r\n\r\nInvalidates ACKs from @dunxen, @jonatack \r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1237245591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "mentioned",
      "id": 7324400468,
      "node_id": "MEE_lADOABII585IdYLhzwAAAAG0kXtU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7324400468",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:56:50Z"
    },
    {
      "event": "subscribed",
      "id": 7324400474,
      "node_id": "SE_lADOABII585IdYLhzwAAAAG0kXta",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7324400474",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:56:50Z"
    },
    {
      "event": "mentioned",
      "id": 7324400480,
      "node_id": "MEE_lADOABII585IdYLhzwAAAAG0kXtg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7324400480",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:56:50Z"
    },
    {
      "event": "subscribed",
      "id": 7324400486,
      "node_id": "SE_lADOABII585IdYLhzwAAAAG0kXtm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7324400486",
      "actor": {
        "login": "dunxen",
        "id": 3072149,
        "node_id": "MDQ6VXNlcjMwNzIxNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3072149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dunxen",
        "html_url": "https://github.com/dunxen",
        "followers_url": "https://api.github.com/users/dunxen/followers",
        "following_url": "https://api.github.com/users/dunxen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dunxen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dunxen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dunxen/subscriptions",
        "organizations_url": "https://api.github.com/users/dunxen/orgs",
        "repos_url": "https://api.github.com/users/dunxen/repos",
        "events_url": "https://api.github.com/users/dunxen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dunxen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T15:56:50Z"
    },
    {
      "event": "reviewed",
      "id": 1097826146,
      "node_id": "PRR_kwDOABII585Bb39i",
      "url": null,
      "actor": null,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#pullrequestreview-1097826146",
      "submitted_at": "2022-09-06T15:45:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
    },
    {
      "event": "commented",
      "id": 1238538623,
      "node_id": "IC_kwDOABII585J0pl_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238538623",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T19:01:28Z",
      "updated_at": "2022-09-06T19:01:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1238538623",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1239776614,
      "node_id": "IC_kwDOABII585J5X1m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1239776614",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-07T19:13:29Z",
      "updated_at": "2022-09-07T19:13:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK 2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1239776614",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "commented",
      "id": 1243427243,
      "node_id": "IC_kwDOABII585KHTGr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243427243",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-12T08:59:41Z",
      "updated_at": "2022-09-12T08:59:41Z",
      "author_association": "MEMBER",
      "body": "ACK 2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0 ðŸ•¸\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0 ðŸ•¸\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUgf6gv+JHLZSJ81Lalmx6JwgWyyjItQKB/aJMLaEK32S1zCAgLEEWK0RLm6L9XK\r\nagQsA3ShTx7s25Lpa50vESdibiK/gGARpd2Wt8k0KsSdq4swZQiA5GnH2MIVGCY/\r\ntS6H0bNnZUxNtq5yY9i0bT7MTPbjd0QTeQUs3KZHlmZBgigEkMXfIYyW24LtgTiE\r\nrDo5Q70SXeQde2tbxKAvUET3TIdVCRj8sZ6+qyqP2VS9w54DfKA4w/q8jnv5RC8q\r\n2glKU/0RMrQ7M23EH1vFH6Qp9TWV6/PQhKFB9LgyciSGGcBfG8IwF4Elhsc34pxV\r\nTgIISzdWBhjrWG6ql78eXMT2vJAfmPCD+pThkBc9nxzbIeU/CBSQMwYCjyhDOyN0\r\nmX0xpeDdjuCb3rIHgG2qDgrvBs9FkL2zNOAbKYyqzkIwCYfDNMDDYHDrYpqiGd7B\r\nCKTL0X9zUB7+aIao36dM7QkcT8Q8V8eL9nEY8wZ4JwAgF+8ujZ9yp0rJ3uB7tOZx\r\nvz9IevYu\r\n=4zdT\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#issuecomment-1243427243",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24991"
    },
    {
      "event": "merged",
      "id": 7375771244,
      "node_id": "ME_lADOABII585IdYLhzwAAAAG3oVZs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7375771244",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "94d17845d04e71e189c59d65b8bbc3df1efbc59a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94d17845d04e71e189c59d65b8bbc3df1efbc59a",
      "created_at": "2022-09-13T11:36:53Z"
    },
    {
      "event": "closed",
      "id": 7375771264,
      "node_id": "CE_lADOABII585IdYLhzwAAAAG3oVaA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7375771264",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T11:36:53Z"
    },
    {
      "event": "referenced",
      "id": 7379695553,
      "node_id": "REFE_lADOABII585IdYLhzwAAAAG33TfB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7379695553",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "58d242900d609c22375532710230e8eaed7312e2",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/58d242900d609c22375532710230e8eaed7312e2",
      "created_at": "2022-09-13T19:55:44Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 7384015196,
      "node_id": "HRDE_lADOABII585IdYLhzwAAAAG4HyFc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7384015196",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T09:38:56Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-29T21:50:05Z",
      "updated_at": "2022-09-29T21:50:05Z",
      "source": {
        "issue": {
          "id": 1344091938,
          "node_id": "PR_kwDOABII5849camF",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25871",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25871/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25871/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25871/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25871",
          "number": 25871,
          "state": "closed",
          "state_reason": null,
          "title": "contrib: add vasild to trusted keys",
          "body": "_(this is a followup from yesterday's [IRC discussion](https://www.erisian.com.au/bitcoin-core-dev/log-2022-08-18.html#l-299))_\r\n\r\nFor Networking scope maintenance.\r\n\r\nI have been signing commits with that key and it is available at `keys.openpgp.org`.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 231994551,
              "node_id": "MDU6TGFiZWwyMzE5OTQ1NTE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Scripts%20and%20tools",
              "name": "Scripts and tools",
              "color": "ffffee",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 65,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25871",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25871",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25871.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25871.patch"
          },
          "closed_at": "2023-01-14T08:29:04Z",
          "created_at": "2022-08-19T08:02:03Z",
          "updated_at": "2023-01-14T08:29:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 10382723782,
      "node_id": "LOE_lADOABII585IdYLhzwAAAAJq28rG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10382723782",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-15T12:11:02Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858635116",
      "pull_request_review_id": 953266071,
      "id": 858635116,
      "node_id": "PRRC_kwDOABII584zLbts",
      "diff_hunk": "@@ -1361,11 +1368,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool maybe_later = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+        if (onlynet_used_with_onion && !maybe_later) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "naming suggestion (or just inline it without a local variable, as a comment is also added here)\r\n\r\n```diff\r\n-        const bool maybe_later = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\r\n-        if (onlynet_used_with_onion && !maybe_later) {\r\n+        const bool listen_onion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};\r\n+        if (onlynet_used_with_onion && listen_onion_disabled) {\r\n```\r\n",
      "created_at": "2022-04-26T12:09:11Z",
      "updated_at": "2022-04-26T12:20:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r858635116",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858635116"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858643418",
      "pull_request_review_id": 953266071,
      "id": 858643418,
      "node_id": "PRRC_kwDOABII584zLdva",
      "diff_hunk": "@@ -1361,11 +1368,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool maybe_later = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+        if (onlynet_used_with_onion && !maybe_later) {\n             return InitError(\n                 _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n-                  \"reaching the Tor network is not provided (no -proxy= and no -onion= given) or \"\n-                  \"it is explicitly forbidden (-onion=0)\"));\n+                  \"reaching the Tor network is not provided: none of -proxy, -onion or \"\n+                  \"-listenonion is given\"));",
      "path": "src/init.cpp",
      "position": 35,
      "original_position": 35,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe consider something like this as a more helpful error message:\r\n```diff\r\n-                _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\r\n-                  \"reaching the Tor network is not provided: none of -proxy, -onion or \"\r\n-                  \"-listenonion is given\"));\r\n+                _(\"The -onlynet=onion configuration option was passed to restrict outbound\"\r\n+                  \" connections to Tor, but the proxy for reaching the Tor network was not\"\r\n+                  \" provided: none of -proxy, -onion or -listenonion was given\"));\r\n```\r\n",
      "created_at": "2022-04-26T12:18:11Z",
      "updated_at": "2022-04-26T12:20:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r858643418",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858643418"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1343,
      "original_line": 1343,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858644855",
      "pull_request_review_id": 953266071,
      "id": 858644855,
      "node_id": "PRRC_kwDOABII584zLeF3",
      "diff_hunk": "@@ -335,20 +335,29 @@ def networks_dict(d):\n         msg = \"Error: Invalid -i2psam address or hostname: 'def:xyz'\"\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         msg = (\n             \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n-            \"the proxy for reaching the Tor network is not provided (no -proxy= \"\n-            \"and no -onion= given) or it is explicitly forbidden (-onion=0)\"\n+            \"the proxy for reaching the Tor network is explicitly forbidden: -onion=0\"\n         )\n-        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion raises expected init error\")\n-        self.nodes[1].extra_args = [\"-onlynet=onion\"]\n-        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n-\n-        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         for arg in [\"-onion=0\", \"-noonion\"]:\n             self.nodes[1].extra_args = [\"-onlynet=onion\", arg]\n             self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion without -proxy, -onion or -listenonion raises expected init error\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=0\"]\n+        msg = (\n+            \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n+            \"the proxy for reaching the Tor network is not provided: \"\n+            \"none of -proxy, -onion or -listenonion is given\"\n+        )\n+        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)",
      "path": "test/functional/feature_proxy.py",
      "position": 26,
      "original_position": 27,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe keep the test without explicit listenonion=0 (not sure, didn't review deeply yet)\r\n```diff\r\n-        self.log.info(\"Test passing -onlynet=onion without -proxy, -onion or -listenonion raises expected init error\")\r\n-        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=0\"]\r\n         msg = (\r\n             \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\r\n             \"the proxy for reaching the Tor network is not provided: \"\r\n             \"none of -proxy, -onion or -listenonion is given\"\r\n         )\r\n+\r\n+        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion raises expected init error\")\r\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listen\"]\r\n+        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\r\n+\r\n+        self.log.info(\"Test passing -onlynet=onion and -listen, without -proxy or -onion, and with -listenonion disabled raises expected init error\")\r\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listen\", \"-listenonion=0\"]\r\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\r\n```\r\n",
      "created_at": "2022-04-26T12:19:50Z",
      "updated_at": "2022-04-26T13:56:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r858644855",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858644855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 350,
      "original_line": 350,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861795947",
      "pull_request_review_id": 957724065,
      "id": 861795947,
      "node_id": "PRRC_kwDOABII584zXfZr",
      "diff_hunk": "@@ -1361,11 +1368,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool maybe_later = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+        if (onlynet_used_with_onion && !maybe_later) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": 858635116,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-04-29T13:21:26Z",
      "updated_at": "2022-04-29T13:21:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r861795947",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861795947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861796090",
      "pull_request_review_id": 957724307,
      "id": 861796090,
      "node_id": "PRRC_kwDOABII584zXfb6",
      "diff_hunk": "@@ -1361,11 +1368,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool maybe_later = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+        if (onlynet_used_with_onion && !maybe_later) {\n             return InitError(\n                 _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n-                  \"reaching the Tor network is not provided (no -proxy= and no -onion= given) or \"\n-                  \"it is explicitly forbidden (-onion=0)\"));\n+                  \"reaching the Tor network is not provided: none of -proxy, -onion or \"\n+                  \"-listenonion is given\"));",
      "path": "src/init.cpp",
      "position": 35,
      "original_position": 35,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": 858643418,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-04-29T13:21:38Z",
      "updated_at": "2022-04-29T13:21:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r861796090",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861796090"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1343,
      "original_line": 1343,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861798766",
      "pull_request_review_id": 957728322,
      "id": 861798766,
      "node_id": "PRRC_kwDOABII584zXgFu",
      "diff_hunk": "@@ -335,20 +335,29 @@ def networks_dict(d):\n         msg = \"Error: Invalid -i2psam address or hostname: 'def:xyz'\"\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         msg = (\n             \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n-            \"the proxy for reaching the Tor network is not provided (no -proxy= \"\n-            \"and no -onion= given) or it is explicitly forbidden (-onion=0)\"\n+            \"the proxy for reaching the Tor network is explicitly forbidden: -onion=0\"\n         )\n-        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion raises expected init error\")\n-        self.nodes[1].extra_args = [\"-onlynet=onion\"]\n-        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n-\n-        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         for arg in [\"-onion=0\", \"-noonion\"]:\n             self.nodes[1].extra_args = [\"-onlynet=onion\", arg]\n             self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion without -proxy, -onion or -listenonion raises expected init error\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=0\"]\n+        msg = (\n+            \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n+            \"the proxy for reaching the Tor network is not provided: \"\n+            \"none of -proxy, -onion or -listenonion is given\"\n+        )\n+        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)",
      "path": "test/functional/feature_proxy.py",
      "position": 26,
      "original_position": 27,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "bbbb1755daf7b8c98a8f565a1d9f82599313b3c8",
      "in_reply_to_id": 858644855,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since now the behavior depends on the `-listenonion` value, I added two tests - one with `1` and one with `0`. Leaving the test without an explicit `-listenonion` would mean relying on some parameter interaction or that the testing framework uses a specific value. This could result in a test failure if it is changed.",
      "created_at": "2022-04-29T13:24:45Z",
      "updated_at": "2022-04-29T13:24:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r861798766",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861798766"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 350,
      "original_line": 350,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962729075",
      "pull_request_review_id": 1096201497,
      "id": 962729075,
      "node_id": "PRRC_kwDOABII5845YhRz",
      "diff_hunk": "@@ -1348,13 +1348,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         onion_proxy = addrProxy;\n     }\n \n+    const bool onlynet_used_with_onion{args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)};\n+\n     // -onion can be used to set only a proxy for .onion, or override normal proxy for .onion addresses\n     // -noonion (or -onion=0) disables connecting to .onion entirely\n     // An empty string is used to not override the onion proxy (in which case it defaults to -proxy set above, or none)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n             onion_proxy = Proxy{};\n+            if (onlynet_used_with_onion) {\n+                return InitError(\n+                    _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                      \"reaching the Tor network is explicitly forbidden: -onion=0\"));",
      "path": "src/init.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, use the same (more explicit) phrasing here as for the error message below, and consistent verb tense\r\n```diff\r\n-                    _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\r\n-                      \"reaching the Tor network is explicitly forbidden: -onion=0\"));\r\n+                    _(\"The -onlynet=onion configuration option was passed to restrict outbound\"\r\n+                      \" connections to Tor, but the proxy for reaching the Tor network was explicitly forbidden: -onion=0\"));\r\n```\r\n",
      "created_at": "2022-09-05T10:02:21Z",
      "updated_at": "2022-09-05T10:33:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r962729075",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962729075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962755616",
      "pull_request_review_id": 1096201497,
      "id": 962755616,
      "node_id": "PRRC_kwDOABII5845Ynwg",
      "diff_hunk": "@@ -336,20 +336,29 @@ def networks_dict(d):\n         msg = \"Error: Invalid -i2psam address or hostname: 'def:xyz'\"\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         msg = (\n             \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n-            \"the proxy for reaching the Tor network is not provided (no -proxy= \"\n-            \"and no -onion= given) or it is explicitly forbidden (-onion=0)\"\n+            \"the proxy for reaching the Tor network is explicitly forbidden: -onion=0\"\n         )\n-        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion raises expected init error\")\n-        self.nodes[1].extra_args = [\"-onlynet=onion\"]\n-        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n-\n-        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         for arg in [\"-onion=0\", \"-noonion\"]:\n             self.nodes[1].extra_args = [\"-onlynet=onion\", arg]\n             self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion without -proxy, -onion or -listenonion raises expected init error\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=0\"]\n+        msg = (\n+            \"Error: The -onlynet=onion configuration option was passed to restrict outbound\"\n+            \" connections to Tor, but the proxy for reaching the Tor network was not\"\n+            \" provided: none of -proxy, -onion or -listenonion was given\"\n+        )\n+        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n+\n+        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion but with -listenonion=1 is ok\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=1\"]\n+        self.start_node(1)",
      "path": "test/functional/feature_proxy.py",
      "position": null,
      "original_position": 31,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "- these two lines can be combined to one, i.e. `self.start_node(1, extra_args=[\"-onlynet=onion\", \"-listenonion=1\"])`\r\n- maybe check that Tor is successfully up with assert_debug_log\r\n\r\n```diff\r\n         self.log.info(\"Test passing -onlynet=onion without -proxy or -onion but with -listenonion=1 is ok\")\r\n-        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=1\"]\r\n-        self.start_node(1)\r\n+        with self.nodes[1].assert_debug_log([\"[tor] Authentication successful\"]):\r\n+            self.start_node(1, extra_args=[\"-onlynet=onion\", \"-listenonion=1\"])\r\n         self.stop_node(1)\r\n```\r\n",
      "created_at": "2022-09-05T10:33:04Z",
      "updated_at": "2022-09-05T10:34:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r962755616",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962755616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963002512",
      "pull_request_review_id": 1096596987,
      "id": 963002512,
      "node_id": "PRRC_kwDOABII5845ZkCQ",
      "diff_hunk": "@@ -1348,13 +1348,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         onion_proxy = addrProxy;\n     }\n \n+    const bool onlynet_used_with_onion{args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)};\n+\n     // -onion can be used to set only a proxy for .onion, or override normal proxy for .onion addresses\n     // -noonion (or -onion=0) disables connecting to .onion entirely\n     // An empty string is used to not override the onion proxy (in which case it defaults to -proxy set above, or none)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n             onion_proxy = Proxy{};\n+            if (onlynet_used_with_onion) {\n+                return InitError(\n+                    _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                      \"reaching the Tor network is explicitly forbidden: -onion=0\"));",
      "path": "src/init.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": 962729075,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would be good to have consistent wording here and for I2P and CJDNS in https://github.com/bitcoin/bitcoin/pull/25989.\r\n\r\n`master`:\r\n\r\n> Outbound connections restricted to Tor (-onlynet=onion) but the proxy for  reaching the Tor network is not provided ...\r\n\r\nthis PR:\r\n\r\n> Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is explicitly forbidden: -onion=0\r\n\r\n> The -onlynet=onion configuration option was passed to restrict outbound connections to Tor, but the proxy for reaching the Tor network was not provided ...\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/25989\r\n\r\n> Outbound connections restricted to CJDNS (-onlynet=cjdns) but -cjdnsreachable is not provided\r\n\r\n> Outbound connections restricted to i2p (-onlynet=i2p) but -i2psam is not provided",
      "created_at": "2022-09-05T15:18:33Z",
      "updated_at": "2022-09-05T15:18:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r963002512",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963002512"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963030837",
      "pull_request_review_id": 1096636836,
      "id": 963030837,
      "node_id": "PRRC_kwDOABII5845Zq81",
      "diff_hunk": "@@ -336,20 +336,29 @@ def networks_dict(d):\n         msg = \"Error: Invalid -i2psam address or hostname: 'def:xyz'\"\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         msg = (\n             \"Error: Outbound connections restricted to Tor (-onlynet=onion) but \"\n-            \"the proxy for reaching the Tor network is not provided (no -proxy= \"\n-            \"and no -onion= given) or it is explicitly forbidden (-onion=0)\"\n+            \"the proxy for reaching the Tor network is explicitly forbidden: -onion=0\"\n         )\n-        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion raises expected init error\")\n-        self.nodes[1].extra_args = [\"-onlynet=onion\"]\n-        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n-\n-        self.log.info(\"Test passing -onlynet=onion with -onion=0/-noonion raises expected init error\")\n         for arg in [\"-onion=0\", \"-noonion\"]:\n             self.nodes[1].extra_args = [\"-onlynet=onion\", arg]\n             self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing -onlynet=onion without -proxy, -onion or -listenonion raises expected init error\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=0\"]\n+        msg = (\n+            \"Error: The -onlynet=onion configuration option was passed to restrict outbound\"\n+            \" connections to Tor, but the proxy for reaching the Tor network was not\"\n+            \" provided: none of -proxy, -onion or -listenonion was given\"\n+        )\n+        self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n+\n+        self.log.info(\"Test passing -onlynet=onion without -proxy or -onion but with -listenonion=1 is ok\")\n+        self.nodes[1].extra_args = [\"-onlynet=onion\", \"-listenonion=1\"]\n+        self.start_node(1)",
      "path": "test/functional/feature_proxy.py",
      "position": null,
      "original_position": 31,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": 962755616,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I combined the two lines to one, as suggested.\r\n\r\nHowever, expecting \"[tor] Authentication successful\" in the log failed for me because it tried to talk to a Tor daemon on `127.0.0.1:9051`, not to the Python one from the testing framework at `self.conf2.addr`, because when overriding `extra_args` the setting `-onion=...` which was in `extra_args` is lost.",
      "created_at": "2022-09-05T16:04:00Z",
      "updated_at": "2022-09-05T16:04:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r963030837",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963030837"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963031546",
      "pull_request_review_id": 1096637891,
      "id": 963031546,
      "node_id": "PRRC_kwDOABII5845ZrH6",
      "diff_hunk": "@@ -1348,13 +1348,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         onion_proxy = addrProxy;\n     }\n \n+    const bool onlynet_used_with_onion{args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)};\n+\n     // -onion can be used to set only a proxy for .onion, or override normal proxy for .onion addresses\n     // -noonion (or -onion=0) disables connecting to .onion entirely\n     // An empty string is used to not override the onion proxy (in which case it defaults to -proxy set above, or none)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n             onion_proxy = Proxy{};\n+            if (onlynet_used_with_onion) {\n+                return InitError(\n+                    _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                      \"reaching the Tor network is explicitly forbidden: -onion=0\"));",
      "path": "src/init.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": 962729075,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I changed the second message in this PR to be consistent with the rest:\r\n\r\n> Outbound connections restricted to Tor (-onlynet=onion) but the proxy for reaching the Tor network is not provided: none of -proxy, -onion or -listenonion is given",
      "created_at": "2022-09-05T16:05:18Z",
      "updated_at": "2022-09-05T16:05:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r963031546",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963031546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963866133",
      "pull_request_review_id": 1097826146,
      "id": 963866133,
      "node_id": "PRRC_kwDOABII5845c24V",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since `DEFAULT_LISTEN_ONION=true`, this makes the InitError go away in some cases where it would be useful -  in particular in the (probably very typical) case where a user just starts `./bitcoind -onlynet=onion` without providing any additional configuration and hopes everything works together out of the box. The user would have to actively set `-listenonion=0` or `listen=0` to still get this error.\r\n\r\nI wonder if it might be more helpful to change the InitError to a info/warning (something along the lines of \"Did you maybe forgot to provide a tor proxy? Disregard this if you use torcontrol\") that is not conditional on `-listenonion` Not a strong suggestion though, I am not sure either way.",
      "created_at": "2022-09-06T15:39:57Z",
      "updated_at": "2022-09-06T15:49:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r963866133",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963866133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964691570",
      "pull_request_review_id": 1098959482,
      "id": 964691570,
      "node_id": "PRRC_kwDOABII5845gAZy",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": 963866133,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> this makes the InitError go away in some cases where it would be useful ... `./bitcoind -onlynet=onion`\r\n\r\nThat is exactly the case where we do not want an init error -- the problem described in https://github.com/bitcoin/bitcoin/issues/24980 which this PR aims to fix. Because it could as well work out of the box, giving an init error is too strict and is relaxed by this PR.\r\n\r\nNow, it is true that we do not know for sure, at this stage, at startup, whether we would be able to connect to torcontrol and retrieve the proxy address from it. I think it is proper to allow startup and later, if the tor control thread fails to retrieve the proxy it will log the relevant error. That is similar (but not identical) to the case where `-proxy=` is given and at startup we do not know if it will work and actually proxy connections. Maybe later we would find out that nobody is listening on the given proxy address and will log an error then.\r\n\r\nThat is, we give init errors only if we are sure, guaranteed that it will not work.\r\n\r\n> I wonder if it might be more helpful to change the InitError to a info/warning\r\n\r\nI am a bit confused. Do you mean to keep the init error as it is in this PR, but in the case where we silently allow startup (the new relaxation in this PR) to log a warning? I think it would not be necessary because it could be annoying for the cases when all is ok. For the cases when it is not, then the tor control thread will log a proper message if/when the problem occurs. Also, \"Disregard this if you use torcontrol\" -- `-torcontrol` is irrelevant here -- even if not specified it has a reasonable default. The relevant setting is `-listenonion=1`.\r\n\r\nOff topic rant: I find the name `listenonion` confusing, it should be something like `-auto_create_tor_listening_service_via_torcontrol` because `-listenonion` does not control whether or not we _listen_ on `127.0.0.1:8334` and the tor service could be setup in `tor.conf` (the \"static\" way in which we should have `-listenonion=0`, but would still be listening and accepting incoming tor connections).",
      "created_at": "2022-09-07T10:53:53Z",
      "updated_at": "2022-09-07T10:53:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r964691570",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964691570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965187925",
      "pull_request_review_id": 1099679424,
      "id": 965187925,
      "node_id": "PRRC_kwDOABII5845h5lV",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": 963866133,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was just thinking about the scenario where a user installs and starts tor, then `./bitcoind -onlynet=onion`, but didn't setup a Onion Service as described in `tor.md` because they didn't read the doc.\r\nIn that case they wouldn't make outbound connections and I think also get no error or warning from the torcontrol Thread unless they have `debug=tor` enabled.\r\n",
      "created_at": "2022-09-07T19:13:12Z",
      "updated_at": "2022-09-07T19:13:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r965187925",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965187925"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965680314",
      "pull_request_review_id": 1100340702,
      "id": 965680314,
      "node_id": "PRRC_kwDOABII5845jxy6",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": 963866133,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> but didn't setup a Onion Service as described in `tor.md`\r\n\r\nThere are two ways - [automatic](https://github.com/bitcoin/bitcoin/blame/2557429d2b82fe5ba308b940bcf14c3047634345/doc/tor.md#L70) and [manual](https://github.com/bitcoin/bitcoin/blame/2557429d2b82fe5ba308b940bcf14c3047634345/doc/tor.md#L162), which one do you mean?\r\n\r\nWhat you describe above _could_ work with the automatic way:\r\n1. `bitcoind` finds the tor control at `127.0.0.1:9051` (no need to specify `-torcontrol=127.0.0.1:9051` since that is the default).\r\n2. The tor daemon tells `bitcoind` where is the tor cookie file and `bitcoind` is able to read it. Authentication is successful.\r\n3. `bitcoind` automatically creates the onion service and starts listening and accepting incoming tor connections (locally at `127.0.0.1:8334`)\r\n4. `bitcoind` retrieves the address of the socks5 tor proxy from tor control and sets `-onion` to it, for making outbound connections to tor peers.\r\n\r\nIf 2. fails then there will be some error in the log, either from [`TorController::auth_cb()`](https://github.com/bitcoin/bitcoin/blob/2557429d2b82fe5ba308b940bcf14c3047634345/src/torcontrol.cpp#L459) or from [`TorController::protocolinfo_cb()`](https://github.com/bitcoin/bitcoin/blob/2557429d2b82fe5ba308b940bcf14c3047634345/src/torcontrol.cpp#L562-L595).\r\n\r\nIf 4. fails, there will be an error from [`TorController::get_socks_cb()`](https://github.com/bitcoin/bitcoin/blob/2557429d2b82fe5ba308b940bcf14c3047634345/src/torcontrol.cpp#L337).",
      "created_at": "2022-09-08T08:47:34Z",
      "updated_at": "2022-09-08T08:47:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r965680314",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965680314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966047671",
      "pull_request_review_id": 1100861485,
      "id": 966047671,
      "node_id": "PRRC_kwDOABII5845lLe3",
      "diff_hunk": "@@ -1348,13 +1348,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         onion_proxy = addrProxy;\n     }\n \n+    const bool onlynet_used_with_onion{args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)};\n+\n     // -onion can be used to set only a proxy for .onion, or override normal proxy for .onion addresses\n     // -noonion (or -onion=0) disables connecting to .onion entirely\n     // An empty string is used to not override the onion proxy (in which case it defaults to -proxy set above, or none)\n     std::string onionArg = args.GetArg(\"-onion\", \"\");\n     if (onionArg != \"\") {\n         if (onionArg == \"0\") { // Handle -noonion/-onion=0\n             onion_proxy = Proxy{};\n+            if (onlynet_used_with_onion) {\n+                return InitError(\n+                    _(\"Outbound connections restricted to Tor (-onlynet=onion) but the proxy for \"\n+                      \"reaching the Tor network is explicitly forbidden: -onion=0\"));",
      "path": "src/init.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "28ae912f501e1a09bd050dcf35ecf712374f743f",
      "in_reply_to_id": 962729075,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the explicit version is clearer.",
      "created_at": "2022-09-08T14:32:08Z",
      "updated_at": "2022-09-08T14:32:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r966047671",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966047671"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966269858",
      "pull_request_review_id": 1101181801,
      "id": 966269858,
      "node_id": "PRRC_kwDOABII5845mBui",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": 963866133,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I mean the automatic way.\r\nIf step 1) is not successful, there will be  repeated messages:\r\n```\r\n[tor] Error connecting to Tor control socket\r\n[tor] Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n```\r\nthat are usually hidden in the `tor` debug category, because with `-listenonion=1` being the default, we probably don't even intend to use anything but clearnet and don't need to see those. These messages would become kind of relevant though if we used `-onlynet=onion` because we'd not find any peers without being able to find tor control, so it might be helpful to log something unconditionally in this case.\r\nBut these are logging nits that don't have to be discussed in this PR and certainly shouldn't hold it off, so I think you should just go ahead and resolve this thread.",
      "created_at": "2022-09-08T18:04:30Z",
      "updated_at": "2022-09-08T18:04:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r966269858",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966269858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967057251",
      "pull_request_review_id": 1102296046,
      "id": 967057251,
      "node_id": "PRRC_kwDOABII5845pB9j",
      "diff_hunk": "@@ -1326,11 +1333,14 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     if (onion_proxy.IsValid()) {\n         SetProxy(NET_ONION, onion_proxy);\n     } else {\n-        if (args.IsArgSet(\"-onlynet\") && IsReachable(NET_ONION)) {\n+        // If -listenonion is set, then we will (try to) connect to the Tor control port\n+        // later from the torcontrol thread and may retrieve the onion proxy from there.\n+        const bool listenonion_disabled{!args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)};",
      "path": "src/init.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "original_commit_id": "2d0b4e4ff66e60c85f86c526a53f8fb242ebb7d0",
      "in_reply_to_id": 963866133,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> ... a user installs and starts tor, then ./bitcoind -onlynet=onion ...\r\n\r\nFor 1. to fail, then tor is not listening on `127.0.0.1:9051` which it does by default. So, maybe the user did not install and start tor or did so, but fiddled with its config and changed the listening address.\r\n\r\nAnyway, maybe this change makes sense:\r\n\r\n```diff\r\n--- i/src/torcontrol.cpp\r\n+++ w/src/torcontrol.cpp\r\n@@ -612,13 +612,26 @@ void TorController::disconnected_cb(TorControlConnection& _conn)\r\n     if (service.IsValid())\r\n         RemoveLocal(service);\r\n     service = CService();\r\n     if (!reconnect)\r\n         return;\r\n\r\n-    LogPrint(BCLog::TOR, \"Not connected to Tor control port %s, trying to reconnect\\n\", m_tor_control_\r\n+    const auto onlynets = gArgs.GetArgs(\"-onlynet\");\r\n+    if (gArgs.IsArgSet(\"-onlynet\") &&\r\n+        std::any_of(onlynets.begin(), onlynets.end(), [](const auto& n) {\r\n+            return ParseNetwork(n) == NET_ONION;\r\n+        })) {\r\n+        LogPrintf(\"Not connected to Tor control port %s, trying to reconnect. \"\r\n+                  \"Use -listenonion=0 to disable the tor control thread.\\n\",\r\n+                  m_tor_control_center);\r\n+    } else {\r\n+        LogPrint(BCLog::TOR,\r\n+                 \"Not connected to Tor control port %s, trying to reconnect. \"\r\n+                 \"Use -listenonion=0 to disable the tor control thread.\\n\",\r\n+                 m_tor_control_center);\r\n+    }\r\n\r\n     // Single-shot timer for reconnect. Use exponential backoff.\r\n```\r\n\r\nKeep it in the debug log only if `-onlynet=onion` is not given, because for users that did not install tor and do not care about tor and just run `bitcoind` this would be just noise.",
      "created_at": "2022-09-09T13:12:35Z",
      "updated_at": "2022-09-09T13:12:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24991#discussion_r967057251",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967057251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24991"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1338,
      "original_line": 1338,
      "side": "RIGHT"
    }
  ]
}