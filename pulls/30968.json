{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968",
    "id": 2091389962,
    "node_id": "PR_kwDOABII5858qBQK",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30968",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30968.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30968.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30968",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30968/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e9d60af9889c12b4d427adefa53fd234e417f8f6",
    "number": 30968,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "init: Remove retry for loop",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The for loop around the chain loading logic in `init.cpp` allows users of the GUI to retry once on failure with reindexing without having to manually set the reindex flag on startup. However this current mechanism has problems:\r\n\r\n* It is badly documented and has led to confusion among developers and bugs making it into master. Examples:\r\n    * https://github.com/bitcoin/bitcoin/pull/28830/files#r1598392660\r\n    * https://github.com/bitcoin/bitcoin/pull/30132#issuecomment-2120741121\r\n* It can only ever iterate once, making the choice of a for loop questionable.\r\n* With its large scope it is easy for re-entry bugs to sneak in. Example:\r\n    * https://github.com/bitcoin/bitcoin/pull/28830#discussion_r1601589963\r\n\r\nAttempt to fix this by moving the bulk of the logic into a separate function and replacing the for loop with a simpler `if` statement.\r\n\r\nThe diff's in this pull request are best reviewed with `--color-moved-ws=ignore-all-space --color-moved=dimmed-zebra`. The error behaviour can be tested by either manually making `LoadChainstate` return a failure, or deleting some of the block index database files.",
    "labels": [],
    "created_at": "2024-09-25T13:16:19Z",
    "updated_at": "2024-09-25T18:02:08Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "69fd6dfda351c7970092785ff78dccc9037f18a6",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:removeInitForLoop",
      "ref": "removeInitForLoop",
      "sha": "e9d60af9889c12b4d427adefa53fd234e417f8f6",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 247681,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-25T17:43:15Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-09-23T18:20:39Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "39219fe145e5e6e6f079b591e3f4b5fea8e71804",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36200,
        "stargazers_count": 78546,
        "watchers_count": 78546,
        "size": 268977,
        "default_branch": "master",
        "open_issues_count": 658,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-25T18:33:38Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-09-25T18:46:37Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 137,
    "deletions": 124,
    "changed_files": 1,
    "commits": 3,
    "review_comments": 0,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc4MWMwMWY1ODA2NmQzNzVjMTRiMWE3MTcxNjBmNTFjMmYyZWJlMjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/781c01f58066d375c14b1a717160f51c2f2ebe20",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/781c01f58066d375c14b1a717160f51c2f2ebe20",
      "tree": {
        "sha": "7b000a40fbcedb4716b2b7978a3197370f86540a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b000a40fbcedb4716b2b7978a3197370f86540a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b000a40fbcedb4716b2b7978a3197370f86540a\nparent 39219fe145e5e6e6f079b591e3f4b5fea8e71804\nauthor TheCharlatan <seb.kung@gmail.com> 1727262602 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1727268354 +0200\n\ninit: Check mempool arguments in AppInitParameterInteractions\n\nThis makes the handling more consistent and reports errors sooner.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmb0BgcACgkQm3m0VpHb\nQXNXbRAAy4+3J3IY9RUg5sJJkU5Du7IkNotfAussmn+7MMm38wAaJRJdmmSK37J+\nx4zTi5A0gDAtwO5bSgqcgvXFQuSeb990orFUKy3nS4AdvN1jvTTiN20DsFpSsBMG\n7JSbHbc31pPl0En6QsSPajUOmbU2dqCdUQ3xeTCgMtcQroGcYQ8XutRzCbg53MD0\nbBCbGj4VQqTGEGcpvGBmXk4432DehbXpBk6mCi1sLzTT5DNbbLM4GgLxV7iUHzcD\n2UAdUfUrvIfNJa9rd83Ny/3uSIe1kr73aD7hBXWieNkd0DkZJNgDqRsI7YZTua66\nwHsVBpKbomCoE35rp2N0Rrc3ZcPJgQ8v7P83FbKUpowoMIW8JcnCM0C8PIvg8gN9\nffF5kqNkEuU6HngvGtMLEIOZodvQxIu5PNbuINSIrMPsOFlAGPD3sHDxT1Mzd2GC\nAEMZo0y+ZKZ5FQbNL6RCmGzlVB7Pfw8Qi8JW3EguioOWr4WVo4fglHV4uQLozFgt\n+iOGwjlYosIPjwHXTnJCgNiQ5ze7g7D1x8sgc4NUBmUWdIHUfjFrN9GN0kxuNEFT\n/kK0bJAr1GZbdLMnE5LRbAnXClKM3thK7QRLT4iR2wAwpGSKYFuKG3xo6RU9rezW\nn9DpN6k1SR6sJYHLcVGK0/jR8oR2xJE0/kOhPxydWyQH/xV1kuM=\n=hyQS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/39219fe145e5e6e6f079b591e3f4b5fea8e71804",
          "sha": "39219fe145e5e6e6f079b591e3f4b5fea8e71804",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/39219fe145e5e6e6f079b591e3f4b5fea8e71804"
        }
      ],
      "message": "init: Check mempool arguments in AppInitParameterInteractions\n\nThis makes the handling more consistent and reports errors sooner.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T12:45:54Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T11:10:02Z"
      },
      "sha": "781c01f58066d375c14b1a717160f51c2f2ebe20"
    },
    {
      "event": "commented",
      "id": 2374060944,
      "node_id": "IC_kwDOABII586NgUuQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2374060944",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T13:16:23Z",
      "updated_at": "2024-09-25T18:02:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30968).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2328825567), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2329121486) |\n| Stale ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2328680000) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30967](https://github.com/bitcoin/bitcoin/pull/30967) (refactor: Replace g_genesis_wait_cv with m_tip_block_cv by maflcko)\n* [#30965](https://github.com/bitcoin/bitcoin/pull/30965) (kernel: Move block tree db open to block manager by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30968#issuecomment-2374060944",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30968"
    },
    {
      "event": "reviewed",
      "id": 2328680000,
      "node_id": "PRR_kwDOABII586KzNZA",
      "url": null,
      "actor": null,
      "commit_id": "705105de4f84f2ce3bb1d754c88c32349e01bb3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 705105de4f84f2ce3bb1d754c88c32349e01bb3b\r\n\r\nNice cleanup. Previous for loop was very confusing and new code is straightforward.\r\n\r\nNot important, but I think it would be a little better if `InitAndLoadChainstate` simply returned `ChainstateLoadStatus` instead of `std::tuple</*may_retry*/ bool, /*error*/ bilingual_str>`. This way retry logic would be implemented in one function, not split across two functions. And it would avoid introducing a new way to represent success/interrupted/failure status, and just reuse the status type we already have:\r\n\r\n<details><summary>diff</summary>\r\n<p>\r\n\r\n```diff\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -123,6 +123,7 @@ using node::ApplyArgsManOptions;\r\n using node::BlockManager;\r\n using node::CacheSizes;\r\n using node::CalculateCacheSizes;\r\n+using node::ChainstateLoadStatus;\r\n using node::DEFAULT_PERSIST_MEMPOOL;\r\n using node::DEFAULT_PRINT_MODIFIED_FEE;\r\n using node::DEFAULT_STOPATHEIGHT;\r\n@@ -1185,23 +1186,24 @@ bool CheckHostPortOptions(const ArgsManager& args) {\r\n \r\n // A GUI user may opt to retry once if there is a failure during chainstate initialization.\r\n // The function therefore has to support re-entry.\r\n-static std::tuple</*may_retry*/ bool, /*error*/ bilingual_str> InitAndLoadChainstate(\r\n+static ChainstateLoadStatus InitAndLoadChainstate(\r\n     NodeContext& node,\r\n     bool do_reindex,\r\n     const bool do_reindex_chainstate,\r\n     CacheSizes& cache_sizes,\r\n-    const ArgsManager& args)\r\n+    const ArgsManager& args,\r\n+    bilingual_str& error)\r\n {\r\n+    error.clear();\r\n     const CChainParams& chainparams = Params();\r\n     CTxMemPool::Options mempool_opts{\r\n         .check_ratio = chainparams.DefaultConsistencyChecks() ? 1 : 0,\r\n         .signals = node.validation_signals.get(),\r\n     };\r\n     Assert(ApplyArgsManOptions(args, chainparams, mempool_opts)); // no error can happen, already checked in AppInitParameterInteraction\r\n-    bilingual_str mempool_error;\r\n-    node.mempool = std::make_unique<CTxMemPool>(mempool_opts, mempool_error);\r\n-    if (!mempool_error.empty()) {\r\n-        return {/*may_retry*/ false, /*error*/ mempool_error};\r\n+    node.mempool = std::make_unique<CTxMemPool>(mempool_opts, error);\r\n+    if (!error.empty()) {\r\n+        return ChainstateLoadStatus::FAILURE_FATAL;\r\n     }\r\n     LogPrintf(\"* Using %.1f MiB for in-memory UTXO set (plus up to %.1f MiB of unused mempool space)\\n\", cache_sizes.coins * (1.0 / 1024 / 1024), mempool_opts.max_size_bytes * (1.0 / 1024 / 1024));\r\n     ChainstateManager::Options chainman_opts{\r\n@@ -1220,7 +1222,8 @@ static std::tuple</*may_retry*/ bool, /*error*/ bilingual_str> InitAndLoadChains\r\n     try {\r\n         node.chainman = std::make_unique<ChainstateManager>(*Assert(node.shutdown), chainman_opts, blockman_opts);\r\n     } catch (std::exception& e) {\r\n-        return {/*may_retry*/ false, /*error*/ strprintf(Untranslated(\"Failed to initialize ChainstateManager: %s\"), e.what())};\r\n+        error = Untranslated(strprintf(\"Failed to initialize ChainstateManager: %s\", e.what()));\r\n+        return ChainstateLoadStatus::FAILURE_FATAL;\r\n     }\r\n     ChainstateManager& chainman = *node.chainman;\r\n     // This is defined and set here instead of inline in validation.h to avoid a hard\r\n@@ -1266,7 +1269,8 @@ static std::tuple</*may_retry*/ bool, /*error*/ bilingual_str> InitAndLoadChains\r\n             return std::make_tuple(node::ChainstateLoadStatus::FAILURE, _(\"Error opening block database\"));\r\n         }\r\n     };\r\n-    auto [status, error] = catch_exceptions([&] { return LoadChainstate(chainman, cache_sizes, options); });\r\n+    ChainstateLoadStatus status;\r\n+    std::tie(status, error) = catch_exceptions([&] { return LoadChainstate(chainman, cache_sizes, options); });\r\n     if (status == node::ChainstateLoadStatus::SUCCESS) {\r\n         uiInterface.InitMessage(_(\"Verifying blocksâ€¦\").translated);\r\n         if (chainman.m_blockman.m_have_pruned && options.check_blocks > MIN_BLOCKS_TO_KEEP) {\r\n@@ -1276,13 +1280,9 @@ static std::tuple</*may_retry*/ bool, /*error*/ bilingual_str> InitAndLoadChains\r\n         std::tie(status, error) = catch_exceptions([&] { return VerifyLoadedChainstate(chainman, options); });\r\n         if (status == node::ChainstateLoadStatus::SUCCESS) {\r\n             LogPrintf(\" block index %15dms\\n\", Ticks<std::chrono::milliseconds>(SteadyClock::now() - load_block_index_start_time));\r\n-            return {/*may_retry*/ false, /*error*/ bilingual_str{}};\r\n         }\r\n     }\r\n-    if (status == node::ChainstateLoadStatus::FAILURE_FATAL || status == node::ChainstateLoadStatus::FAILURE_INCOMPATIBLE_DB || status == node::ChainstateLoadStatus::FAILURE_INSUFFICIENT_DBCACHE) {\r\n-        return {/*may_retry*/ false, /*error*/ error};\r\n-    }\r\n-    return {/*may_retry*/ true, /*error*/ error};\r\n+    return status;\r\n };\r\n \r\n bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n@@ -1638,13 +1638,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n     const bool do_reindex_chainstate{args.GetBoolArg(\"-reindex-chainstate\", false)};\r\n \r\n     // Chainstate initialization and loading may be retried once with reindexing by GUI users\r\n-    auto [maybe_retry, error] = InitAndLoadChainstate(\r\n-        node,\r\n-        do_reindex,\r\n-        do_reindex_chainstate,\r\n-        cache_sizes,\r\n-        args);\r\n-    if (maybe_retry && !do_reindex && !ShutdownRequested(node)) {\r\n+    bilingual_str error;\r\n+    ChainstateLoadStatus status = InitAndLoadChainstate(node, do_reindex, do_reindex_chainstate, cache_sizes, args, error);\r\n+    if (status == ChainstateLoadStatus::FAILURE && !do_reindex && !ShutdownRequested(node)) {\r\n         // suggest a reindex\r\n         bool do_retry = uiInterface.ThreadSafeQuestion(\r\n             error + Untranslated(\".\\n\\n\") + _(\"Do you want to rebuild the block database now?\"),\r\n@@ -1658,14 +1654,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n         if (!Assert(node.shutdown)->reset()) {\r\n             LogError(\"Internal error: failed to reset shutdown signal.\\n\");\r\n         }\r\n-        std::tie(std::ignore, error) = InitAndLoadChainstate(\r\n-            node,\r\n-            do_reindex,\r\n-            do_reindex_chainstate,\r\n-            cache_sizes,\r\n-            args);\r\n+        status = InitAndLoadChainstate(node, do_reindex, do_reindex_chainstate, cache_sizes, args, error);\r\n     }\r\n-    if (!error.empty()) {\r\n+    if (status != ChainstateLoadStatus::SUCCESS && status != ChainstateLoadStatus::INTERRUPTED) {\r\n         return InitError(error);\r\n     }\r\n \r\n```\r\n</p>\r\n</details>\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2328680000",
      "submitted_at": "2024-09-25T15:42:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968"
    },
    {
      "event": "reviewed",
      "id": 2328825567,
      "node_id": "PRR_kwDOABII586Kzw7f",
      "url": null,
      "actor": null,
      "commit_id": "705105de4f84f2ce3bb1d754c88c32349e01bb3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK. I've also spent a good amount of time (more than once) scratching my head trying to understand this loop.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2328825567",
      "submitted_at": "2024-09-25T16:34:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMxZDg4NzBlYTQxNTVjMjc2NmQzMGQzOGZjNWIxYWZjNjNkY2QzNjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c1d8870ea4155c2766d30d38fc5b1afc63dcd364",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c1d8870ea4155c2766d30d38fc5b1afc63dcd364",
      "tree": {
        "sha": "a4728dc1715b419dd3a5ab641afa37ffd5155cce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4728dc1715b419dd3a5ab641afa37ffd5155cce"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a4728dc1715b419dd3a5ab641afa37ffd5155cce\nparent 781c01f58066d375c14b1a717160f51c2f2ebe20\nauthor TheCharlatan <seb.kung@gmail.com> 1727263450 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1727285999 +0200\n\nrefactor: Move most of init retry for loop to a function\n\nThis makes it clearer which state is being mutated by the function and\nfacilitates getting rid of the for loop in the following commit. Move\ncreation of the required options into the function too, such that the\nfunction takes fewer arguments and is more self-contained.\n\nCo-Authored-By: Ryan Ofsky <ryan@ofsky.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmb0SvUACgkQm3m0VpHb\nQXOoQA/9G6Y15+zolt1fmxdRcCIFZYHwvbbDPu297GB/u7Sck+MTHyqhJlvpy8HQ\nTztzqrt6OJLy3yi7Yd0fE+mY5FrCmmDTiqlICneqQrEoSOeDaZmw9FWlDTZrFUhQ\nfI12YrGABB8cquh8P0KZ67ws+O0nCOK2XI84w+p+TMRrfZU8km2ZW4qoXnrxITRP\naS8AnkZ2ByawamRLQrt4pNnjYk00jd8hF+6Y8I5ccvhIi7sZpTFDIiEhu5LYdwAn\nk+7HyRIeN2u2I37/7jSWRzsX/sM9Kn7kkDrHPmpVjjZT67LBmDhA8PgPulBzuCwp\nnTEPy4Lw9xe0jrtvP/04Lt0tC0slR33xeAWdlzQpq+U2vQLLFmEFfZfprxQ85hF3\nCEwEghtUype3bArVRtA7sM8qd/MUJESJfOr+h9OZM0Xos2yxEekHbrR/bAdPPA5j\nMZU2EtbTuljCyjh3V7XSZhYtqdgo2m+bxhRx+/XodMPM82vkTnOFeBwYczkaCfhp\nu5VTbgxJ+qjn8xx53uUNyUT14EbUD8LHpV/tHlDgqugwoO0llJHTRrqBfUmTumgz\nR11uv7JregYjDFUdpNUDiapiMfxVIwhMuLLt8hNcsF0HwZyVxj8ZcKuCmxpaRjPz\nN4PGXTlU1a3LdPsy+X2r4+AatSPPthMnsyTY6gsRSvbpeKryPxM=\n=pdsh\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/781c01f58066d375c14b1a717160f51c2f2ebe20",
          "sha": "781c01f58066d375c14b1a717160f51c2f2ebe20",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/781c01f58066d375c14b1a717160f51c2f2ebe20"
        }
      ],
      "message": "refactor: Move most of init retry for loop to a function\n\nThis makes it clearer which state is being mutated by the function and\nfacilitates getting rid of the for loop in the following commit. Move\ncreation of the required options into the function too, such that the\nfunction takes fewer arguments and is more self-contained.\n\nCo-Authored-By: Ryan Ofsky <ryan@ofsky.org>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T17:39:59Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T11:24:10Z"
      },
      "sha": "c1d8870ea4155c2766d30d38fc5b1afc63dcd364"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU5ZDYwYWY5ODg5YzEyYjRkNDI3YWRlZmE1M2ZkMjM0ZTQxN2Y4ZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e9d60af9889c12b4d427adefa53fd234e417f8f6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e9d60af9889c12b4d427adefa53fd234e417f8f6",
      "tree": {
        "sha": "74b596af3167617d1bc241179d8384b11f2ef8dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/74b596af3167617d1bc241179d8384b11f2ef8dc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 74b596af3167617d1bc241179d8384b11f2ef8dc\nparent c1d8870ea4155c2766d30d38fc5b1afc63dcd364\nauthor TheCharlatan <seb.kung@gmail.com> 1727266447 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1727286009 +0200\n\nrefactor: Replace init retry for loop with if statement\n\nThe for loop has been a long standing source of confusion and bugs, both\nbecause its purpose is not clearly documented and because the body of\nthe for loop contains a lot of logic.\n\nCo-Authored-By: Ryan Ofsky <ryan@ofsky.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmb0Sv8ACgkQm3m0VpHb\nQXNQfg//SDzaxzKCHivEnzDTee0Zu99rey+aWTV2SgpobqcMwbYofutW9HmFOlgU\n7Ygeje6Kd/9foziTsIvrVJBy3x2TBtHeRHsX7NeQJkZqJfZJYgIKihlG8Ds4fwlH\n5ny+Q94z8zF97Ajn0b1Qz8qjFpkMcISKHLbGi8zZVAUczLMf3a69TNMK8ct+mNtg\n8aUiNp1ZKvlLZrDFxEl5yO69pMdLEwKQzbuOFW7UicUHSTEfvo2/DBbK4vGd3jbw\nVZZ1ak83cFI+zYDSRQ5zbK0DD+NTjiDFz/Pn3UDtTDxbZ3L5Abg/5MLBVPkfFV/D\nTFGCChbAVrb1T2n/S8tQInwnJYif7Z8ntOAJHrRA1ormhscKW6c7917v0cemL26x\nkIfDpRbl+9XsuNSRmPBQ1ZbtEKPkhnVaRnBekNASQxgLslszCwHqis7oAip4WqjO\nNe+cTv5Pa8OtfAshhCXSzFO+NhU/wTB53HaSVrgNJcvr1nBzzm32VIwb2gDatSGo\nhQz+wJfjkYhwYsVez89nuLIq+FV+WKN98rvGcv2ej0kACU92JfS5Io730zXT9SKb\nZcgmZsJk0+4rfF1UIjp5D+qyg+zrEA7wxA+HB40MK10rc4hDa681pj1ldiSQGT69\nm9gReElzmnIe3QHUuQgZcQYQ8omRbF8W3FRA9pzPL5pZKCGGBT8=\n=0aX9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c1d8870ea4155c2766d30d38fc5b1afc63dcd364",
          "sha": "c1d8870ea4155c2766d30d38fc5b1afc63dcd364",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c1d8870ea4155c2766d30d38fc5b1afc63dcd364"
        }
      ],
      "message": "refactor: Replace init retry for loop with if statement\n\nThe for loop has been a long standing source of confusion and bugs, both\nbecause its purpose is not clearly documented and because the body of\nthe for loop contains a lot of logic.\n\nCo-Authored-By: Ryan Ofsky <ryan@ofsky.org>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T17:40:09Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-09-25T12:14:07Z"
      },
      "sha": "e9d60af9889c12b4d427adefa53fd234e417f8f6"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14403224966,
      "node_id": "HRFPE_lADOABII586X3vavzwAAAANaf8WG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14403224966",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T17:43:16Z"
    },
    {
      "event": "commented",
      "id": 2374760380,
      "node_id": "IC_kwDOABII586Ni_e8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2374760380",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T17:43:39Z",
      "updated_at": "2024-09-25T17:43:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for your suggestion @ryanofsky,\r\n\r\nUpdated 705105de4f84f2ce3bb1d754c88c32349e01bb3b -> e9d60af9889c12b4d427adefa53fd234e417f8f6 ([removeInitForLoop_0](https://github.com/TheCharlatan/bitcoin/tree/removeInitForLoop_0) -> [removeInitForLoop_1](https://github.com/TheCharlatan/bitcoin/tree/removeInitForLoop_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/removeInitForLoop_0..removeInitForLoop_1))\r\n\r\n* Took @ryanofsky's [suggestion](https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2328680000), making the new `InitLoadChainstate` function return a `ChainstateLoadResult` and using it instead of a `retry` and `error` tuple.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30968#issuecomment-2374760380",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30968"
    },
    {
      "event": "mentioned",
      "id": 14403229240,
      "node_id": "MEE_lADOABII586X3vavzwAAAANaf9Y4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14403229240",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T17:43:40Z"
    },
    {
      "event": "subscribed",
      "id": 14403229259,
      "node_id": "SE_lADOABII586X3vavzwAAAANaf9ZL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14403229259",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-25T17:43:40Z"
    },
    {
      "event": "reviewed",
      "id": 2329121486,
      "node_id": "PRR_kwDOABII586K05LO",
      "url": null,
      "actor": null,
      "commit_id": "e9d60af9889c12b4d427adefa53fd234e417f8f6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Nice Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30968#pullrequestreview-2329121486",
      "submitted_at": "2024-09-25T18:02:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30968"
    }
  ],
  "comments": []
}