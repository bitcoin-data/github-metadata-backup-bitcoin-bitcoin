{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34138",
    "id": 3123216401,
    "node_id": "PR_kwDOABII5866KIAR",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34138",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34138.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34138.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34138/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34138/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/04b9afa063298ebbf0335fff0ad87621149afe27",
    "number": 34138,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Cluster mempool: more accurate cost model for SFL",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Builds on top of #34023, part of #30289.\r\n\r\nThis introduces a more accurate cost model for SFL, to control how much CPU time is spent inside the algorithm for clusters that cannot be linearized perfectly within a reasonable amount of time.\r\n\r\nThe goal is having a metric for the amount of work performed, so that txmempool can impose limits on that work: a lower bound that is always performed (unless optimality is reached before that point, of course), and an upper bound to limit the latency and total CPU time spent on this. There are conflicting design goals here:\r\n* On the one hand, it seems ideal if this metric is closely correlated to actual CPU time, because otherwise the limits become inaccurate.\r\n* On the other hand, it seems a nightmare to have the metric be platform/system dependent, as it makes network-wide reasoning nearly impossible. It's expected that slower systems take longer to do the same thing; this holds for everything, and we don't need to compensate for this.\r\n\r\nThere are multiple solutions to this:\r\n* One extreme is just measuring the time. This is very accurate, but extremely platform dependent, and also non-deterministic due to random scheduling/cache effects.\r\n* The other extreme is using a very abstract metric like counting how many times certain loops/function inside the algorithm run. That is what is implemented as of #32545 and #34023, just counting the sum of the numbers of transactions updated across all `UpdateChunks()` calls. It however necessarily fails to account for significant portions of runtime spent elsewhere, resulting in a rather wide range of \"ns per cost\" values.\r\n* This PR takes a middle ground, counting many function calls / branches / loops, with weights that were determined through benchmarking on a reference system (Zen 4 based).\r\n\r\nThis is draft because:\r\n* The weights used are outdated, as several non-trivial improvements were made to #32545 and #34023 since.\r\n* I don't know if it is the right middle ground, and it seems good to have some conceptual discussion first:\r\n  * Using benchmarks on a reference system inherently captures some platform specifics, making it possible that the metric is not very accurate on other systems.\r\n  * A benchmark-based metric is nontrivial to maintain.",
    "labels": [],
    "created_at": "2025-12-22T14:57:53Z",
    "updated_at": "2026-01-03T21:51:01Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "102c6496b0ba8471b66a49c63d9a300badb5bc14",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "sipa:202512_sfl_costs",
      "ref": "202512_sfl_costs",
      "sha": "04b9afa063298ebbf0335fff0ad87621149afe27",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 22,
        "stargazers_count": 91,
        "watchers_count": 91,
        "size": 284043,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-12-29T22:09:26Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2025-12-31T21:09:58Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d861c3820528fad2e17a45549bec70b6ba434dcc",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38572,
        "stargazers_count": 87505,
        "watchers_count": 87505,
        "size": 301125,
        "default_branch": "master",
        "open_issues_count": 739,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-03T00:49:36Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-03T21:35:39Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34138"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 729,
    "deletions": 445,
    "changed_files": 7,
    "commits": 19,
    "review_comments": 0,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 3682415994,
      "node_id": "IC_kwDOABII587bfTV6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3682415994",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T14:57:59Z",
      "updated_at": "2025-12-26T23:52:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34138.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34085](https://github.com/bitcoin/bitcoin/pull/34085) (cluster mempool: exploit SFL properties in txgraph by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- [m_nonminimal_chunks.emplace_back(chunk_idx, pivot_idx, flags ^ 3)] in src/cluster_linearize.h\n\n\n\n<sup>2025-12-26</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3682415994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    },
    {
      "event": "renamed",
      "id": 21706497953,
      "node_id": "RTE_lADOABII587fwvh9zwAAAAUNzt-h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21706497953",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T14:58:10Z",
      "rename": {
        "from": "202512 sfl costs",
        "to": "Cluster mempool: more accurate cost model for SFL"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21706639201,
      "node_id": "HRFPE_lADOABII587fwvh9zwAAAAUN0Qdh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21706639201",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "ccf537686e505276edbb8f4f187e6ba66989ec87",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/ccf537686e505276edbb8f4f187e6ba66989ec87",
      "created_at": "2025-12-22T15:05:00Z"
    },
    {
      "event": "labeled",
      "id": 21706692134,
      "node_id": "LE_lADOABII587fwvh9zwAAAAUN0dYm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21706692134",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T15:07:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21707796262,
      "node_id": "HRFPE_lADOABII587fwvh9zwAAAAUN4q8m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21707796262",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "919b4043f0fd2c23747083bd7174f3903b603ddb",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/919b4043f0fd2c23747083bd7174f3903b603ddb",
      "created_at": "2025-12-22T15:59:17Z"
    },
    {
      "event": "unlabeled",
      "id": 21709237284,
      "node_id": "UNLE_lADOABII587fwvh9zwAAAAUN-Kwk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21709237284",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T17:15:40Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21712979192,
      "node_id": "HRFPE_lADOABII587fwvh9zwAAAAUOMcT4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21712979192",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "f651f6921266e75e2888628f828dddca1f08b78b",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/f651f6921266e75e2888628f828dddca1f08b78b",
      "created_at": "2025-12-22T21:07:00Z"
    },
    {
      "event": "labeled",
      "id": 21714176587,
      "node_id": "LE_lADOABII587fwvh9zwAAAAUORApL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21714176587",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T22:24:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3684396418,
      "node_id": "IC_kwDOABII587bm22C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3684396418",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-22T22:24:06Z",
      "updated_at": "2025-12-22T22:24:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/20443977146/job/58743290866</sub>\n<sub>LLM reason (âœ¨ experimental): Lint check failed due to scripted_diff differences in the patch.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3684396418",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21714230140,
      "node_id": "HRFPE_lADOABII587fwvh9zwAAAAUORNt8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21714230140",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dc09b2eeb381a599a1efcb4c9c4361eaecce7817",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/dc09b2eeb381a599a1efcb4c9c4361eaecce7817",
      "created_at": "2025-12-22T22:28:06Z"
    },
    {
      "event": "unlabeled",
      "id": 21715963695,
      "node_id": "UNLE_lADOABII587fwvh9zwAAAAUOX08v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21715963695",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T01:28:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3690429677,
      "node_id": "IC_kwDOABII587b93zt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3690429677",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-24T19:47:20Z",
      "updated_at": "2025-12-24T19:48:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "My thoughts: \r\n\r\nIt should use a metric like this, not time, because it would be weird and undesirable for the behavior to change a lot just based on what system you're on or what you're doing with it.  People expect slower computers to have higher cpu utilization and the intended limits are low enough that I think they won't be problematic on even quite slow computers.\r\n\r\nAn operation based metric based on the performance of any specific computer will likely be much more reflective of the real resourced used on *another* kind of computer than some simple iteration count-- so even if something profiled on a single computer doesn't reflect yours it beats keeping the iteration based approach.\r\n\r\nOne possibility would be to benchmark on several modern architectures like zen4, macpro, and graviton... normalize their coefficients for equal time on some corpus, and then average them.   As in the weights for the different measures are just the average of the systems except for some per-system scaling factor of expected average performance difference. (Or in the context of the regression used to fit this, fit a model on the coefficients with Archs-1 additional free scaling factors and then discard the scaling factors)--  e.g.  minimize ((A\\*x+B\\*y+C\\*z+..)+Arch1\\*(A\\*x+B\\*y+C\\*z+..)+Arch2\\*(A\\*x+B\\*y+C\\*z+..)-(Arch0time+Arch1time+Arch2time+...))^2.  This wouldn't reflect the cost on any specific system perfectly but it might give a better estimate overall, across multiple systems.  And my argument of \"A wrong cost is still better than no cost model\" still applies.  The downside is that you'd need to measure multiple systems to calibrate it.\r\n\r\nAn alternative might be to just use the coefficients for whatever popular modern hardware you think is most resource constrained--  better to have the unexpectedly show runs impact the fast computers more.  And at least this approach only requires the extensive profiling on one system.\r\n\r\nAs far as what transactions calibration should be against, a corpus of historical clusters is probably okay.  It would probably make sense to exclude from the corpus easy clusters, e.g. ones with fewer than 10 transactions. You only care if the metric is accurate on times near the limit.  I don't think using artificial cases is that helpful, as the metric will only be accurate 'on average' anyways. \r\n \r\nI don't think the coefficients need to be that well maintained over time except due to future algorithmic optimizations simply because doing *anything* here is better than just iteration counting.  And since it's desirable to behave mostly consistently (so when someone asks why was some suboptimal cluster picked you can just look and see finding it is usually over the limit, etc), you wouldn't want to updated them often -- probably only when advances in typical computer speeds also justify meaningfully increasing the limit overall such that almost all transactions would get as much or more optimization permitted under the new limits.\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3690429677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJjMjcxMDI0MzgxMTgxMTJkOWIyMThmYWFlZmY3ODMxNzk1NzZiMDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc27102438118112d9b218faaeff783179576b08",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bc27102438118112d9b218faaeff783179576b08",
      "tree": {
        "sha": "7fdb2d241b8eabc55874cc9b913d690656e3c052",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7fdb2d241b8eabc55874cc9b913d690656e3c052"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d861c3820528fad2e17a45549bec70b6ba434dcc",
          "sha": "d861c3820528fad2e17a45549bec70b6ba434dcc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d861c3820528fad2e17a45549bec70b6ba434dcc"
        }
      ],
      "message": "clusterlin: split chunks based on maximum gain (optimization)\n\nThis introduces the notion of gain to the SFL algorithm. Given a chunk c,\nan active dependency d in it, and the chunks (t, b) that c would split into\nif d were deactivated, the gain is defined as either (they are equivalent):\n\n  (feerate(t) - feerate(b)) * size(t) * size(b)\n  fee(t) * size(b) - fee(b) * size(t)\n\nIt happens to also be equal to these:\n\n  (feerate(t) - feerate(c)) * size(t) * size(c)\n  fee(t) * size(c) - fee(c) * size(t)\n\nIts relevance is that this metric is proportional to a lower bound on the area\nunder the fee-size diagram which would be gained IF a deactivation of d does not\nresult in a self-merge of t and b again.\n\nThis commit adds logic to find, within each chunk, the dependency with the highest\ngain. In benchmarks, this appears to be a very good heuristic for deciding which\nsplits are worth making.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:08:31Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-16T13:00:00Z"
      },
      "sha": "bc27102438118112d9b218faaeff783179576b08"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM1ZmVlMThhM2ZlN2U0NGQ2N2NkZTIxNzFjNDVkMjcwNmMzNThjY2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5fee18a3fe7e44d67cde2171c45d2706c358cca",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c5fee18a3fe7e44d67cde2171c45d2706c358cca",
      "tree": {
        "sha": "eefae937531e6d31bdbe479a8abbd0b9e689e0a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eefae937531e6d31bdbe479a8abbd0b9e689e0a8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc27102438118112d9b218faaeff783179576b08",
          "sha": "bc27102438118112d9b218faaeff783179576b08",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bc27102438118112d9b218faaeff783179576b08"
        }
      ],
      "message": "clusterlin: split tx/chunk dep counting (preparation)\n\nThis splits the chunk_deps variable in LoadLinearization in two, one for\ntracking tx dependencies and one for chunk dependencies. This is a\npreparation for a later commit, where chunks won't be identified anymore\nby a presentative transaction in them, but by a separate index. With\nthat, it seems weird to keep them both in the same structure if they\nwill be indexed in an incompatible way.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:08:59Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-22T19:47:16Z"
      },
      "sha": "c5fee18a3fe7e44d67cde2171c45d2706c358cca"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5NzM2Yjc4MDBkNGM5ZDg0ZWIzMWFmZTRkNzNmYzI5ZmVhOWYwOTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99736b7800d4c9d84eb31afe4d73fc29fea9f094",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99736b7800d4c9d84eb31afe4d73fc29fea9f094",
      "tree": {
        "sha": "aa26a39ea330867f556b1dc38d866f18a59ca575",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aa26a39ea330867f556b1dc38d866f18a59ca575"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5fee18a3fe7e44d67cde2171c45d2706c358cca",
          "sha": "c5fee18a3fe7e44d67cde2171c45d2706c358cca",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c5fee18a3fe7e44d67cde2171c45d2706c358cca"
        }
      ],
      "message": "clusterlin: count chunk deps without loop (optimization)\n\nThis small optimization avoids the need to loop over the parents of each\ntransaction when initializing the dependency-counting structures inside\nGetLinearization().",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:10:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-22T20:11:56Z"
      },
      "sha": "99736b7800d4c9d84eb31afe4d73fc29fea9f094"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA4NzZkMzg0ZTZiZDk3N2M0YzBmNTQyNDY5ZDJjYzgyOWM0ZWQ5YTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0876d384e6bd977c4c0f542469d2cc829c4ed9a8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0876d384e6bd977c4c0f542469d2cc829c4ed9a8",
      "tree": {
        "sha": "2d53c5ca389ad3501f7aee66a43f25647449d56f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2d53c5ca389ad3501f7aee66a43f25647449d56f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99736b7800d4c9d84eb31afe4d73fc29fea9f094",
          "sha": "99736b7800d4c9d84eb31afe4d73fc29fea9f094",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99736b7800d4c9d84eb31afe4d73fc29fea9f094"
        }
      ],
      "message": "scripted-diff: rename _rep -> _idx in SFL\n\nThis is a preparation for the next commit, where chunks will no longer\nbe identified using a representative transaction, but using a set index.\nReduce the load of line changes by doing this rename ahead of time.\n\n-BEGIN VERIFY SCRIPT-\nsed --in-place 's/_rep/_idx/g' src/cluster_linearize.h\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:10:51Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-22T20:37:15Z"
      },
      "sha": "0876d384e6bd977c4c0f542469d2cc829c4ed9a8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5ZDA1Y2MzZjc1YjE1Y2QwM2ExZmQxN2JkNjIyOTRiMGFiMTczNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9d05cc3f75b15cd03a1fd17bd62294b0ab17354",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9d05cc3f75b15cd03a1fd17bd62294b0ab17354",
      "tree": {
        "sha": "cf31e5a8e597f5bce362347cb8380be769b7e284",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cf31e5a8e597f5bce362347cb8380be769b7e284"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0876d384e6bd977c4c0f542469d2cc829c4ed9a8",
          "sha": "0876d384e6bd977c4c0f542469d2cc829c4ed9a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0876d384e6bd977c4c0f542469d2cc829c4ed9a8"
        }
      ],
      "message": "clusterlin: get rid of DepData, reuse sets (optimization)\n\nThis significantly changes the data structures used in SFL, based on the\nobservation that the DepData::top_setinfo fields are quite wasteful:\nthere is one per dependency (up to n^2/4), but we only ever need one per\nactive dependency (of which there at most n-1). In total, the number of\nchunks plus the number of active dependencies is always exactly equal to\nthe number of transactions, so it makes sense to have a shared pool of\nSetInfos, which are used for both chunks and top sets.\n\nTo that effect, introduce a separate m_set_info variable, which stores a\nSetInfo per transaction. Some of these are used for chunk sets, and some\nfor active dependencies' top sets. Every activation transforms the\nparent's chunk into the top set for the new dependency. Every\ndeactivation transforms the top set into the new parent chunk.\n\nWith that, there is little need for DepData anymore. Use parent/child\nTxIdxs to refer to dependencies, and find their top set by having a\nchild TxIdx-indexed vector in each TxData, rather than a list of\ndependencies. This makes code for iterating over dependencies more\nnatural and simpler.\n\nWith indexes into m_set_data (SetIdx) becoming bounded by the number of\ntransactions, we can use a SetType to represent sets of SetIdxs.\nSpecifically, an m_chunk_idxs is added which contains all SetIdx\nreferring to chunks. This leads to a much more natural way of iterating\nover chunks.\n\nAlso use this opportunity to normalize many variable names.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:10:59Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-22T20:44:19Z"
      },
      "sha": "a9d05cc3f75b15cd03a1fd17bd62294b0ab17354"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc3MjZmNjdkYjJlYjlkYTAxYTgyMmY2OTgyM2QzNzIwZmU3YTEwMzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7726f67db2eb9da01a822f69823d3720fe7a1037",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7726f67db2eb9da01a822f69823d3720fe7a1037",
      "tree": {
        "sha": "02f3927d062060a8980f2621f8a25ebaceda047c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/02f3927d062060a8980f2621f8a25ebaceda047c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9d05cc3f75b15cd03a1fd17bd62294b0ab17354",
          "sha": "a9d05cc3f75b15cd03a1fd17bd62294b0ab17354",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a9d05cc3f75b15cd03a1fd17bd62294b0ab17354"
        }
      ],
      "message": "clusterlin: improve TxData::dep_top_idx type (optimization)\n\nThe combined size of TxData::dep_top_idx can be 16 KiB with 64\ntransactions and SetIdx = uint32_t. Use a smaller type where possible to\nreduce memory footprint and improve cache locality of m_tx_data.\n\nAlso switch from an std::vector to an std::array, reducing allocation\noverhead and indirections.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:13:12Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-21T21:56:14Z"
      },
      "sha": "7726f67db2eb9da01a822f69823d3720fe7a1037"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY0NTJlMWI3ZTVmMDhlMTMwMzc5NWY1YjlmMmIxOGQyZTdkMjc5OTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f452e1b7e5f08e1303795f5b9f2b18d2e7d27996",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f452e1b7e5f08e1303795f5b9f2b18d2e7d27996",
      "tree": {
        "sha": "8fc491fa626f918cba177514054e2f1aa9e2a78d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8fc491fa626f918cba177514054e2f1aa9e2a78d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7726f67db2eb9da01a822f69823d3720fe7a1037",
          "sha": "7726f67db2eb9da01a822f69823d3720fe7a1037",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7726f67db2eb9da01a822f69823d3720fe7a1037"
        }
      ],
      "message": "clusterlin: abstract out functions from MergeStep (refactor)\n\nThis is a simple refactor to make the code more readable.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:13:33Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T15:42:19Z"
      },
      "sha": "f452e1b7e5f08e1303795f5b9f2b18d2e7d27996"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU0ZDVlZjk4MmMxMDkzMjQ3ZmJlZGFmYTE5NzliMmM3YTU2ZTFmYjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4d5ef982c1093247fbedafa1979b2c7a56e1fb1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e4d5ef982c1093247fbedafa1979b2c7a56e1fb1",
      "tree": {
        "sha": "5d03598cc708b2fab098118f8a0f3b734063dbf1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5d03598cc708b2fab098118f8a0f3b734063dbf1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f452e1b7e5f08e1303795f5b9f2b18d2e7d27996",
          "sha": "f452e1b7e5f08e1303795f5b9f2b18d2e7d27996",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f452e1b7e5f08e1303795f5b9f2b18d2e7d27996"
        }
      ],
      "message": "clusterlin: simplify PickMergeCandidate (optimization)\n\nThe current process consists of iterating over the transactions of the\nchunk one by one, and then for each figuring out which of its\nparents/children are in unprocessed chunks.\n\nSimplify this (and speed it up slightly) by splitting this process into\ntwo phases: first determine the union of all parents/children, and then\nfind which chunks those belong to.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:13:46Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T15:50:35Z"
      },
      "sha": "e4d5ef982c1093247fbedafa1979b2c7a56e1fb1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhZWJiNmM5MDQ0Y2Y5NmQwMzZkZDE5MmU0ZmM4OGRjNzJiMzBhMGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aaebb6c9044cf96d036dd192e4fc88dc72b30a0f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aaebb6c9044cf96d036dd192e4fc88dc72b30a0f",
      "tree": {
        "sha": "6aff93045ccb2ecfad67e3a64b68383218d5293c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6aff93045ccb2ecfad67e3a64b68383218d5293c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4d5ef982c1093247fbedafa1979b2c7a56e1fb1",
          "sha": "e4d5ef982c1093247fbedafa1979b2c7a56e1fb1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e4d5ef982c1093247fbedafa1979b2c7a56e1fb1"
        }
      ],
      "message": "clusterlin: precompute reachable sets (optimization)\n\nInstead of computing the set of reachable transactions inside\nPickMergeCandidate, make the information precomputed, and updated in\nActivate (by merging the two chucks' reachable sets) and Deactive (by\nrecomputing).\n\nThis is a small performance gain on itself, but also a preparation for\nfuture optimizations that rely on quickly testing whether dependencies\nbetween chunks exist.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:14:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T16:39:21Z"
      },
      "sha": "aaebb6c9044cf96d036dd192e4fc88dc72b30a0f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEzOTQyZjY5MzA5MGU3NWI3MDk0NzA4NjQ5NWU3N2EwYWYxYTM4NWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/13942f693090e75b70947086495e77a0af1a385d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/13942f693090e75b70947086495e77a0af1a385d",
      "tree": {
        "sha": "8a2d3500caea9ee989ebae4beaee507fccfa6a2a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8a2d3500caea9ee989ebae4beaee507fccfa6a2a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aaebb6c9044cf96d036dd192e4fc88dc72b30a0f",
          "sha": "aaebb6c9044cf96d036dd192e4fc88dc72b30a0f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aaebb6c9044cf96d036dd192e4fc88dc72b30a0f"
        }
      ],
      "message": "clusterlin: make MergeSequence take SetIdx (simplification)\n\nFuture changes will rely on knowing the chunk indexes of the two created\nchunks after a split. It is natural to return this information from\nDeactivate, which also simplifies MergeSequence.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:16:44Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T19:37:28Z"
      },
      "sha": "13942f693090e75b70947086495e77a0af1a385d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3YzA3NmQ2ZGY5MzhhNjk3Y2ZkMTFkMmRlYjZlODdmYjRhYWVkYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7c076d6df938a697cfd11d2deb6e87fb4aaedab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c7c076d6df938a697cfd11d2deb6e87fb4aaedab",
      "tree": {
        "sha": "3d8bc3f44b56d277750aec85a317a8d05c1f5b00",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3d8bc3f44b56d277750aec85a317a8d05c1f5b00"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/13942f693090e75b70947086495e77a0af1a385d",
          "sha": "13942f693090e75b70947086495e77a0af1a385d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/13942f693090e75b70947086495e77a0af1a385d"
        }
      ],
      "message": "clusterlin: special-case self-merges (optimization)\n\nAfter a split, if the top part has a dependency on the bottom part, the\nfirst MergeSequence will always perform this merge and then stop. This\nis referred to as a self-merge.\n\nWe can special case these by detecting self-merges early, and avoiding\nthe overhead of a full MergeSequence which involves two\nPickMergeCandidate calls (a succesful and an unsuccesful one).",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:18:37Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T19:38:42Z"
      },
      "sha": "c7c076d6df938a697cfd11d2deb6e87fb4aaedab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFiMGQyMjg1YWJkNWUwZTViMmYwNTEyYzIzNTllMWU0MTk5MzE4ZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ab0d2285abd5e0e5b2f0512c2359e1e4199318f5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ab0d2285abd5e0e5b2f0512c2359e1e4199318f5",
      "tree": {
        "sha": "bff08f15f03ac3944190052108841e874aaed35e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bff08f15f03ac3944190052108841e874aaed35e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7c076d6df938a697cfd11d2deb6e87fb4aaedab",
          "sha": "c7c076d6df938a697cfd11d2deb6e87fb4aaedab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c7c076d6df938a697cfd11d2deb6e87fb4aaedab"
        }
      ],
      "message": "clusterlin: keep track of active children (optimization)\n\nThis means we can iterate over all active dependencies in a\ncluster/chunk in O(ntx) time rather than O(ndeps) (*), as the number of\nactive dependencies in a set of transactions of size is at most ntx-1.\n\n(*) Asymptotically, this is not actually true, as for large transaction\ncounts, iterating over a BitSet still scales with ntx. In practice\nhowever, where BitSets are represented by a constant number of integers,\nit holds.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T20:19:25Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-21T17:13:38Z"
      },
      "sha": "ab0d2285abd5e0e5b2f0512c2359e1e4199318f5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM4M2NmMjYyYzgyYmJlMzFhZGRkYjg0OGY4NGFmNWMxZGNkNTY4ZWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/383cf262c82bbe31adddb848f84af5c1dcd568ea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/383cf262c82bbe31adddb848f84af5c1dcd568ea",
      "tree": {
        "sha": "51f1ca137961807c2d0b4f6ae509118e3e9785cd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/51f1ca137961807c2d0b4f6ae509118e3e9785cd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ab0d2285abd5e0e5b2f0512c2359e1e4199318f5",
          "sha": "ab0d2285abd5e0e5b2f0512c2359e1e4199318f5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ab0d2285abd5e0e5b2f0512c2359e1e4199318f5"
        }
      ],
      "message": "clusterlin: track suboptimal chunks (optimization)\n\nThis avoids adding them a second time to m_suboptimal_chunks when they\nhappen to already be there.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:27:34Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-16T01:35:58Z"
      },
      "sha": "383cf262c82bbe31adddb848f84af5c1dcd568ea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhhODk2MDA1YzFkNjQ3ZmM0ZmU2YWFkNGIwNWJkOWZjMjhjZDllNjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66",
      "tree": {
        "sha": "9ad9e94faf8195996676ec68cf551ea9b8dfb74b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ad9e94faf8195996676ec68cf551ea9b8dfb74b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/383cf262c82bbe31adddb848f84af5c1dcd568ea",
          "sha": "383cf262c82bbe31adddb848f84af5c1dcd568ea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/383cf262c82bbe31adddb848f84af5c1dcd568ea"
        }
      ],
      "message": "clusterlin: use random split in SFL on every 3rd attempt (feature)\n\nOut of an abundance of caution that adversarially-constructed clusters might\nreliably result in bad chunk split decisions with the maximum-gain strategy,\nmake every third consecutive attempt to split the same chunk use a random\nsplit strategy instead.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:29:07Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-14T20:30:05Z"
      },
      "sha": "8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkzNDI3MjgyNzQ2OTgyNGJlNjQ5MGU1NWJmZDQyYzRiMDhjNDVlODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/934272827469824be6490e55bfd42c4b08c45e82",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/934272827469824be6490e55bfd42c4b08c45e82",
      "tree": {
        "sha": "acd057bb211220583ebc3e0dd44e20f2193cfe47",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/acd057bb211220583ebc3e0dd44e20f2193cfe47"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66",
          "sha": "8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8a896005c1d647fc4fe6aad4b05bd9fc28cd9e66"
        }
      ],
      "message": "clusterlin: unidirectional MakeTopological initially (optimization)\n\nIt suffices to initially only attempt one direction of merges in\nMakeTopological(), and only try both directions on chunks that are the\nresult of other merges.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:29:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-15T21:59:09Z"
      },
      "sha": "934272827469824be6490e55bfd42c4b08c45e82"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM5OTBmNTNkYzQxNjE1NDgwMTFmYmI0NmExNGE5ZTQ1OTlkMjJkMGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c990f53dc4161548011fbb46a14a9e4599d22d0c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c990f53dc4161548011fbb46a14a9e4599d22d0c",
      "tree": {
        "sha": "6f26c28290e7f7aebf5a0224627db0713ba84319",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f26c28290e7f7aebf5a0224627db0713ba84319"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/934272827469824be6490e55bfd42c4b08c45e82",
          "sha": "934272827469824be6490e55bfd42c4b08c45e82",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/934272827469824be6490e55bfd42c4b08c45e82"
        }
      ],
      "message": "clusterlin: minimize chunks (feature)\n\nAfter the normal optimization process finishes, and finds an optimal\nspanning forest, run a second process (while computation budget remains)\nto split chunks into minimal equal-feerate chunks.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:29:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-14T20:15:19Z"
      },
      "sha": "c990f53dc4161548011fbb46a14a9e4599d22d0c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNkMjA1MTNlZjY5MjJiNDJhNmI5ZWU5MmYwYWQ1MDZjOTQwOGRjYjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd20513ef6922b42a6b9ee92f0ad506c9408dcb0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cd20513ef6922b42a6b9ee92f0ad506c9408dcb0",
      "tree": {
        "sha": "0e3a98aaae9a135dfda950b148d04071085f8285",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0e3a98aaae9a135dfda950b148d04071085f8285"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c990f53dc4161548011fbb46a14a9e4599d22d0c",
          "sha": "c990f53dc4161548011fbb46a14a9e4599d22d0c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c990f53dc4161548011fbb46a14a9e4599d22d0c"
        }
      ],
      "message": "clusterlin: inline UpdateChunk into (De)Activate (optimization)\n\nThe two calls to UpdateChunk, in Activate and Deactive each, are subtly\ndifferent: the top one needs to update the chunk_idx of iterated\ntransactions, while the bottom one leaves it unchanged. To exploit this\ndifference, inline the four function calls, getting rid of UpdateChunks.\n\nThis is also a preparation for a future improvement that inlines the\nrecomputation of reachable sets in the same loop in Deactivate.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:29:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T18:54:25Z"
      },
      "sha": "cd20513ef6922b42a6b9ee92f0ad506c9408dcb0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmMGQ4ZGE1OTA3ZmY4ODhmMTZiNGI0Y2Q5OGUwNWUxMTI1NTU4ZmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf0d8da5907ff888f16b4b4cd98e05e1125558fc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf0d8da5907ff888f16b4b4cd98e05e1125558fc",
      "tree": {
        "sha": "020b2044282b0b1cc8e84e4bda57ebb80cae816f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/020b2044282b0b1cc8e84e4bda57ebb80cae816f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd20513ef6922b42a6b9ee92f0ad506c9408dcb0",
          "sha": "cd20513ef6922b42a6b9ee92f0ad506c9408dcb0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cd20513ef6922b42a6b9ee92f0ad506c9408dcb0"
        }
      ],
      "message": "clusterlin: inline GetReachable into Deactivate (optimization)\n\nAvoid two full iterations over all of a chunks' transactions to\nrecompute the reachable sets, by inlining them into the\ndependency-updating loops.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T21:29:08Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-12-26T18:58:45Z"
      },
      "sha": "cf0d8da5907ff888f16b4b4cd98e05e1125558fc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0YjlhZmEwNjMyOThlYmJmMDMzNWZmZjBhZDg3NjIxMTQ5YWZlMjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04b9afa063298ebbf0335fff0ad87621149afe27",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04b9afa063298ebbf0335fff0ad87621149afe27",
      "tree": {
        "sha": "8dc482dfd1080d166e35107a7b28b0e28676b288",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8dc482dfd1080d166e35107a7b28b0e28676b288"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf0d8da5907ff888f16b4b4cd98e05e1125558fc",
          "sha": "cf0d8da5907ff888f16b4b4cd98e05e1125558fc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf0d8da5907ff888f16b4b4cd98e05e1125558fc"
        }
      ],
      "message": "clusterlin: add more accurate cost modeling (feature)\n\nThis adds a rough estimate of algorithm runtime, so it can be interrupted if no\nsolution is found in time. Due to inherent differences between platforms, this\nwill not be extremely accurate, but it is preferable over directly measuring\ntime for consistency.\n\nThe runtime corresponds to up to 2 ns/cost now on modern desktop systems, so\nincrease ACCEPTABLE_ITERS correspondingly.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "bitcoin-dev@wuille.net",
        "date": "2025-12-26T23:51:29Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-10-14T19:59:44Z"
      },
      "sha": "04b9afa063298ebbf0335fff0ad87621149afe27"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21762683533,
      "node_id": "HRFPE_lADOABII587fwvh9zwAAAAURKDKN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21762683533",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "04b9afa063298ebbf0335fff0ad87621149afe27",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/04b9afa063298ebbf0335fff0ad87621149afe27",
      "created_at": "2025-12-26T23:51:55Z"
    },
    {
      "event": "commented",
      "id": 3694153286,
      "node_id": "IC_kwDOABII587cME5G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3694153286",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-27T18:45:24Z",
      "updated_at": "2025-12-27T18:45:24Z",
      "author_association": "MEMBER",
      "body": "> An alternative might be to just use the coefficients for whatever popular modern hardware you think is most resource constrained-- better to have the unexpectedly show runs impact the fast computers more. And at least this approach only requires the extensive profiling on one system.\r\n\r\nFair enough, but an argument can also be made in favor of using metrics tuned for a relatively high-end system, in that those are likely a better predictor for which machines on the network, in the short to medium term future, will be responsible for actual transaction and block propagation. The numbers are such that any node, even running very low-end hardware, will not have trouble *keeping up* with mempool/relay, but from a network perspective, it's a well-connected subset of relatively fast systems that is responsible for relay.\r\n\r\n>  I don't think using artificial cases is that helpful, as the metric will only be accurate 'on average' anyways.\r\n\r\nHmm, that does risk situations where adverserially-constructed transactions are significantly (but still probably not more than a small factor, say 2x-3x) more expensive per cost. I think it makes sense to use as wide a variety of clusters, real and synthetic, to calibrate.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3694153286",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    },
    {
      "event": "commented",
      "id": 3694187055,
      "node_id": "IC_kwDOABII587cMNIv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3694187055",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-27T19:51:54Z",
      "updated_at": "2025-12-27T19:51:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yeah I was trying to capture 'reflective of the future' in the word \"modern\".  Fair point on the relatively fast systems being the ones that count -- while slow systems are just \"also runs\" and it's sufficient that they just aren't broken.  Fair enough.\r\n\r\n> Hmm, that does risk situations where adverserially-constructed transactions are significantly (but still probably not more than a small factor, say 2x-3x) more expensive per cost.\r\n\r\nA concern I had with synthetics is that with artificially hard clusters the costs might end up distorted by 'hard' transactions tending to trigger more of an operation and having that cost inflated in the regression though that operation itself is actually fast.  It might make sense to have a starting offset based on the number of dependencies or some costs having a multiplier of the number of dependencies in them.\r\n\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3694187055",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    },
    {
      "event": "commented",
      "id": 3697866944,
      "node_id": "IC_kwDOABII587caPjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3697866944",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-30T00:13:20Z",
      "updated_at": "2025-12-30T00:13:20Z",
      "author_association": "MEMBER",
      "body": "> A concern I had with synthetics is that with artificially hard clusters the costs might end up distorted by 'hard' transactions tending to trigger more of an operation and having that cost inflated in the regression though that operation itself is actually fast.\r\n\r\nFWIW, the current PR (although outdated now)'s weights were determined by benchmarking small pieces of code (functions, sometimes individual loop executions) and running linear regression on those. I also tried regression that tried to relate overall linearization time with various linear factors (number of times each function/loop is executed), but it turned out to be far too noisy. The result ended up containing negative factors etc.\r\n\r\nSo I think that when #34023 is in, I will redo the numbers here with the same approach. For every function or non-trivial branch in the algorithm, benchmark it, and gather a histogram of its runtimes, broken down by loop iterations (e.g. in `Activate` broken down by #tx affected, in `PickMergeChunk` broken down by number of chunks visited, ...). Then look at the 90th or 99th percentile of those runtimes, and perform linear regression with just one variable, that iteration count.\r\n\r\nThe exact composition of the training data set shouldn't matter really, except to the extent that it has some variety, and not say all clusters with deps=tx-1 or so.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34138#issuecomment-3697866944",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34138"
    }
  ],
  "comments": []
}