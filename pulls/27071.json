{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071",
    "id": 1236533145,
    "node_id": "PR_kwDOABII585Js_-Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27071",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27071.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27071.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
    "number": 27071,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Handle CJDNS from LookupSubNet()",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`LookupSubNet()` would treat addresses that start with `fc` as IPv6 even if `-cjdnsreachable` is set. This creates the following problems where it is called:\r\n\r\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails to white list CJDNS addresses: when a CJDNS peer connects to us, it will be matched against IPv6 `fc...` subnet and the match will never succeed.\r\n\r\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in `banlist.json`. Upon reading from disk they have to be converted back to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6) would not match a peer (`fc00::1`, CJDNS).\r\n    \r\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it must match whatever is stored in `BanMan`, otherwise it is impossible to unban via the GUI.\r\n\r\nThese were uncovered by https://github.com/bitcoin/bitcoin/pull/26859.\r\n\r\nThus, flip the result of `LookupSubNet()` to CJDNS if the network base address starts with `fc` and `-cjdnsreachable` is set. Since subnetting/masking does not make sense for CJDNS (the address is \"random\" bytes, like Tor and I2P, there is no hierarchy) treat `fc.../mask` as an invalid `CSubNet`.\r\n\r\nTo achieve that, `MaybeFlipIPv6toCJDNS()` has to be moved from `net` to `netbase` and thus also `IsReachable()`. In the process of moving `IsReachable()`, `SetReachable()` and `vfLimited[]` encapsulate those in a class.",
    "labels": [],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
      "id": 9286970,
      "node_id": "MI_kwDOABII584AjbU6",
      "number": 60,
      "state": "open",
      "title": "26.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 8,
      "closed_issues": 91,
      "created_at": "2023-04-15T11:36:05Z",
      "updated_at": "2023-10-19T16:49:03Z"
    },
    "created_at": "2023-02-10T11:20:45Z",
    "updated_at": "2023-10-19T16:49:03Z",
    "closed_at": "2023-10-19T16:49:02Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-10-19T16:49:02Z",
    "merge_commit_sha": "0655e9dd92ea4a86d3e76d5689d59a71cff61357",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "vasild:lookup_subnet_cjdns",
      "ref": "lookup_subnet_cjdns",
      "sha": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 219804,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-10-19T10:32:57Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-08-28T12:41:46Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "22fa1f4702e9a60e141f545f8d09704deca34b22",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35844,
        "stargazers_count": 71842,
        "watchers_count": 71842,
        "size": 242063,
        "default_branch": "master",
        "open_issues_count": 633,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-10-19T16:48:54Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-10-19T16:47:33Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 168,
    "deletions": 139,
    "changed_files": 13,
    "commits": 6,
    "review_comments": 40,
    "comments": 23
  },
  "events": [
    {
      "event": "commented",
      "id": 1425658309,
      "node_id": "IC_kwDOABII585U-dHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425658309",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T11:20:48Z",
      "updated_at": "2023-10-19T16:47:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/27071).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1680739374), [jonatack](https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1765091098), [achow101](https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1771363317) |\n| Concept ACK | [brunoerg](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28248](https://github.com/bitcoin/bitcoin/pull/28248) (p2p: peer connection bug fixes, logic and logging improvements by jonatack)\n* [#28170](https://github.com/bitcoin/bitcoin/pull/28170) (p2p: adaptive connections services flags by furszy)\n* [#27837](https://github.com/bitcoin/bitcoin/pull/27837) (net: introduce block tracker to retry to download blocks after failure by furszy)\n* [#27557](https://github.com/bitcoin/bitcoin/pull/27557) (net: call getaddrinfo() in detachable thread to prevent stalling by pinheadmz)\n* [#27375](https://github.com/bitcoin/bitcoin/pull/27375) (net: support unix domain sockets for -proxy and -onion by pinheadmz)\n* [#25390](https://github.com/bitcoin/bitcoin/pull/25390) (sync: introduce a thread-safe generic container and use it to remove a bunch of \"GlobalMutex\"es by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1425658309",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T11:21:46Z",
      "updated_at": "2023-02-10T11:21:46Z",
      "source": {
        "issue": {
          "id": 1525989830,
          "node_id": "PR_kwDOABII585G_3G-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26859",
          "number": 26859,
          "state": "open",
          "state_reason": null,
          "title": "fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses",
          "body": "In the process of doing so, refactor `ConsumeNetAddr()` to generate the addresses from IPv4, IPv6, Tor, I2P and CJDNS networks in the same way - by preparing some random stream and deserializing from it. Similar code was already found in `RandAddr()`.\r\n\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26859",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26859",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26859.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26859.patch"
          },
          "created_at": "2023-01-09T17:14:28Z",
          "updated_at": "2023-09-15T14:13:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T23:04:10Z",
      "updated_at": "2023-02-10T23:04:10Z",
      "source": {
        "issue": {
          "id": 1398072802,
          "node_id": "PR_kwDOABII585AOrOs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26261",
          "number": 26261,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: cleanup `LookupIntern`, `Lookup` and `LookupHost`",
          "body": "Continuation of #26078.\r\n\r\nTo improve readability instead of returning a bool and passing stuff by reference, this PR changes:\r\n\r\n- `LookupHost` to return `std::vector<CNetAddr>`\r\n- `LookupHost` to return `std::optional<CNetAddr>`\r\n- `Lookup` to return `std::vector<CService>`\r\n- `Lookup` to return `std::optional<CService>`.\r\n- `LookupIntern` to return `std::vector<CNetAddr>`\r\n\r\nAs discussed in #26078, it would be better to avoid using `optional` in some cases, but for specific `Lookup` and `LookupHost` functions it's necessary to use `optional` to verify if they were able to catch some data from their overloaded function.\r\n\r\n\r\n\r\n\r\n",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26261",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26261.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26261.patch"
          },
          "closed_at": "2023-05-30T15:40:23Z",
          "created_at": "2022-10-05T16:35:08Z",
          "updated_at": "2023-05-30T15:40:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T00:36:31Z",
      "updated_at": "2023-02-11T00:36:31Z",
      "source": {
        "issue": {
          "id": 1306008117,
          "node_id": "PR_kwDOABII5847eDJ6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
          "number": 25619,
          "state": "closed",
          "state_reason": null,
          "title": "net: avoid overriding non-virtual ToString() in CService and use better naming",
          "body": "Before this PR we had the somewhat confusing combination of methods:\r\n\r\n`CNetAddr::ToStringIP()`\r\n`CNetAddr::ToString()` (duplicate of the above)\r\n`CService::ToStringIPPort()`\r\n`CService::ToString()` (duplicate of the above, overrides a non-virtual method from `CNetAddr`)\r\n`CService::ToStringPort()`\r\n\r\nAvoid [overriding non-virtual methods](https://github.com/bitcoin/bitcoin/pull/25349/#issuecomment-1185226396).\r\n\r\n\"IP\" stands for \"Internet Protocol\" and while sometimes \"IP addresses\" are called just \"IPs\", it is incorrect to call Tor or I2P addresses \"IPs\". Thus use \"Addr\" instead of \"IP\".\r\n\r\nChange the above to:\r\n\r\n`CNetAddr::ToStringAddr()`\r\n`CService::ToStringAddrPort()`\r\n\r\nThe changes touch a lot of files, but are mostly mechanical.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25619",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25619.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25619.patch"
          },
          "closed_at": "2023-02-17T18:34:58Z",
          "created_at": "2022-07-15T12:58:23Z",
          "updated_at": "2023-02-20T09:48:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T00:51:38Z",
      "updated_at": "2023-02-11T00:51:38Z",
      "source": {
        "issue": {
          "id": 1273517561,
          "node_id": "PR_kwDOABII5845xiLt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25390",
          "number": 25390,
          "state": "open",
          "state_reason": null,
          "title": "sync: introduce a thread-safe generic container and use it to remove a bunch of \"GlobalMutex\"es",
          "body": "Introduce a generic container that provides a thread-safe access to any object by using a mutex which is acquired every time the object accessed.\r\n\r\nFor example:\r\n\r\n```cpp\r\nSynced<std::unordered_map<int, int>> m{{3, 9}, {4, 16}};\r\n\r\n{\r\n    SYNCED_LOCK(m, m_locked);\r\n\r\n    // m_locked represents the internal object, i.e. std::unordered_map,\r\n    // while m_locked is in scope the internal mutex is locked.\r\n\r\n    auto it = m_locked->find(3);\r\n    if (it != m_locked->end()) {\r\n        std::cout << it->second << std::endl;\r\n    }\r\n\r\n    for (auto& [k, v] : *m_locked) {\r\n        std::cout << k << \", \" << v << std::endl;\r\n    }\r\n}\r\n\r\nWITH_SYNCED_LOCK(m, p, p->emplace(5, 25));\r\n```\r\n\r\nRemove the global mutexes `g_maplocalhost_mutex`, `g_deadline_timers_mutex`, `cs_dir_locks`, `g_loading_wallet_mutex`, `g_wallet_release_mutex` and use `Synced<T>` instead.\r\n\r\n## Benefits\r\n\r\n_copied from a [comment below](https://github.com/bitcoin/bitcoin/pull/25390#issuecomment-1169788319):_\r\n\r\nThe `Synced<T>` abstraction is similar to what is suggested in [this comment](https://github.com/bitcoin/bitcoin/pull/24931#discussion_r890636987) but it does so in a generic way to avoid code repetition. Its benefit is:\r\n\r\n1. It avoids code repetition at the implementation sites. See [PR#26151](https://github.com/bitcoin/bitcoin/pull/26151) for a live example. Namely this:\r\n\r\n<details>\r\n<summary>Lots of repetitions (92 lines)</summary>\r\n\r\n```cpp\r\nclass Foo\r\n{\r\npublic:\r\n    void PushBack(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.push_back(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Foo::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::vector<int> m_data;\r\n};\r\n\r\nclass Bar\r\n{\r\npublic:\r\n    void PushBack(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.push_back(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Bar::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::vector<std::string> m_data;\r\n};\r\n\r\nclass Baz\r\n{\r\npublic:\r\n    void Insert(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.insert(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Baz::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::set<std::string> m_data;\r\n};\r\n```\r\n</details>\r\n\r\nbecomes this:\r\n\r\n<details>\r\n<summary>Short (3 lines)</summary>\r\n\r\n```cpp\r\nSynced<std::vector<int>> Foo;\r\nSynced<std::vector<std::string>> Bar;\r\nSynced<std::set<std::string>> Baz;\r\n```\r\n</details>\r\n\r\n2. The mutex is properly encapsulated. With a global mutex and a global variable annotated with `GUARDED_BY()` it is indeed not possible to add new code that accesses the variable without protection (if using Clang and `-Wthread-safety-analysis` and `-Werror`), but it is possible to abuse the mutex and start using it to protect some more, possibly unrelated stuff (we already have this in the current code).\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 1392286103,
              "node_id": "MDU6TGFiZWwxMzkyMjg2MTAz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Conceptual%20Review",
              "name": "Needs Conceptual Review",
              "description": "",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 26,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25390",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25390",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25390.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25390.patch"
          },
          "created_at": "2022-06-16T12:46:53Z",
          "updated_at": "2023-10-16T19:36:13Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T01:58:48Z",
      "updated_at": "2023-02-11T01:58:48Z",
      "source": {
        "issue": {
          "id": 1099131945,
          "node_id": "PR_kwDOABII584wzA76",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24034",
          "number": 24034,
          "state": "open",
          "state_reason": null,
          "title": "p2p: delete anchors.dat after trying to connect to that peers",
          "body": "In the current scenario, `anchors.dat` is deleted right after reading it, however, if my node stops before trying to connect to the anchors peers, it will create an empty `anchors.dat`. This PR changes it to delete `anchors.dat` after trying to connect to the peers from it. So, if my node stops (**in a clean way**) before trying to connect to that peers, the `anchors.dat` file will be preserved and a dump won't happen.",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24034",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24034",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24034.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24034.patch"
          },
          "created_at": "2022-01-11T13:08:59Z",
          "updated_at": "2023-09-07T11:54:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1294785408,
      "node_id": "PRR_kwDOABII585NLNuA",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK to fixing this - however, I'm unsure about how the approach fits into the larger architecture:\r\n\r\nI think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable, accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nDid you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1294785408",
      "submitted_at": "2023-02-13T15:51:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296128737,
      "node_id": "PRR_kwDOABII585NQVrh",
      "url": null,
      "actor": null,
      "commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296128737",
      "submitted_at": "2023-02-13T17:25:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296130709,
      "node_id": "PRR_kwDOABII585NQWKV",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296130709",
      "submitted_at": "2023-02-13T17:26:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1428383348,
      "node_id": "IC_kwDOABII585VI2Z0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428383348",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T17:41:41Z",
      "updated_at": "2023-02-13T17:41:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable,\r\n\r\nI was thinking about the same, but `netbase` is already stateful - `proxyInfo`, `nameProxy`, `nConnectTimeout`, `fNameLookup`, `g_socks5_recv_timeout`, `interruptSocks5Recv` are global variables that keep state, which influence the output of the functions defined in `netbase`, making them context-dependent.\r\n\r\n`SetProxy()`, `GetProxy()` (already defined in `netbase`) are very similar to the `SetReachable()`, `IsReachable()` functions (which this PR moves into `netbase`). Thus I think the move is appropriate.\r\n\r\n> accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nI am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\n> Did you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.\r\n\r\n`banman` is using `CSubNet::Match()`. This would mean in that method we should match IPv6 vs CJDNS. I did not like the idea because `CSubNet` is used also elsewhere and it could influence other parts of the code. But in general it feels wrong to \"pretend\" that an address from network X belongs to a subnet from network Y. I even coded that, but eventually decided to avoid it:\r\n\r\n<details>\r\n<summary>CSubNet::Match() mix IPv6 and CJDNS</summary>\r\n\r\n```diff\r\n--- a/src/netaddress.cpp\r\n+++ b/src/netaddress.cpp\r\n@@ -1039,24 +1039,40 @@ CSubNet::CSubNet(const CNetAddr& addr) : CSubNet()\r\n /**\r\n  * @returns True if this subnet is valid, the specified address is valid, and\r\n  *          the specified address belongs in this subnet.\r\n  */\r\n bool CSubNet::Match(const CNetAddr &addr) const\r\n {\r\n-    if (!valid || !addr.IsValid() || network.m_net != addr.m_net)\r\n+    if (!valid || !addr.IsValid()) {\r\n         return false;\r\n+    }\r\n \r\n-    switch (network.m_net) {\r\n+    Network subnet_net = network.m_net;\r\n+    Network addr_net = addr.m_net;\r\n+\r\n+    if ((subnet_net == NET_IPV6 && addr_net == NET_CJDNS) ||\r\n+        (subnet_net == NET_CJDNS && addr_net == NET_IPV6)) {\r\n+        // Treat both as CJDNS.\r\n+        subnet_net = NET_CJDNS;\r\n+        addr_net = NET_CJDNS;\r\n+    }\r\n+\r\n+    if (subnet_net != addr_net) {\r\n+        return false;\r\n+    }\r\n+\r\n+    switch (subnet_net) {\r\n     case NET_IPV4:\r\n     case NET_IPV6:\r\n         break;\r\n     case NET_ONION:\r\n     case NET_I2P:\r\n-    case NET_CJDNS:\r\n     case NET_INTERNAL:\r\n         return addr == network;\r\n+    case NET_CJDNS:\r\n+        return addr.m_addr == network.m_addr;\r\n     case NET_UNROUTABLE:\r\n     case NET_MAX:\r\n         return false;\r\n     }\r\n \r\n     assert(network.m_addr.size() == addr.m_addr.size());\r\n```\r\n</details>\r\n\r\nNote also that the current PR also resolves two other issues, in addition to the banman one - listed as items in the OP.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428383348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1428473660,
      "node_id": "IC_kwDOABII585VJMc8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428473660",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:20Z",
      "updated_at": "2023-02-13T18:47:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\nYes, within `Node` it's still one of several global variables, so this is not a change wrt master.\r\nHowever, `vfLimited` wasn't accessed by the GUI because it wasn't part of `LookupSubnet()` before, while `g_reachable_nets` is. So I'm curious if this would work well together with multiprocess (see #10102, fyi @ryanofsky ).\r\nI think most of the data in `vfLimited` is determined during `init` and does not change later (so it might be initialised at the fork point?) - but `torcontrol` calling `SetReachable()` later could be an exception? ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428473660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8507750577,
      "node_id": "MEE_lADOABII585eJVUczwAAAAH7Gfix",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750577",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "subscribed",
      "id": 8507750584,
      "node_id": "SE_lADOABII585eJVUczwAAAAH7Gfi4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750584",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8516019340,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH7mCSM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8516019340",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T14:19:28Z"
    },
    {
      "event": "commented",
      "id": 1430090612,
      "node_id": "IC_kwDOABII585VPXN0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1430090612",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T17:09:19Z",
      "updated_at": "2023-02-14T17:09:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "`9b656a5...7a93d7b`: rebase and address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1430090612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1298409472,
      "node_id": "PRR_kwDOABII585NZCgA",
      "url": null,
      "actor": null,
      "commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK. (Edit: it looks like the fixed issues could use test coverage, if feasible.)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1298409472",
      "submitted_at": "2023-02-14T21:14:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T09:32:01Z",
      "updated_at": "2023-02-15T09:32:01Z",
      "source": {
        "issue": {
          "id": 541055269,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzU1NzgwNTc3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17783",
          "number": 17783,
          "state": "open",
          "state_reason": null,
          "title": "util: Fix -norpcwhitelist, -norpcallowip, and similar corner case behavior",
          "body": "**This is based on #16545 + #17580.** The non-base commits are:\r\n\r\n- [`a746ae052004` Fix nonsensical -norpcwhitelist, -norpcallowip and related behavior](https://github.com/bitcoin/bitcoin/pull/17783/commits/a746ae0520048f6290fb06347d4d303df4c1ccde)\r\n- [`f59bfafcc8f3` Fix nonsensical bitcoin-cli -norpcwallet behavior](https://github.com/bitcoin/bitcoin/pull/17783/commits/f59bfafcc8f3bf73d9e5c70669fff354f29b261b)\r\n\r\n---\r\n\r\nMake negating list options act the same as not specifying list options for `-norpcallowip`, `-norpcbind`, `-nobind`, `-nowhitebind`, `-noconnect`, `-noexternalip`, `-noonlynet`, `-nosignetchallenge`, `-nosignetseednode`, `-norpcwallet`. Instead of using `IsArgSet()` use `!GetArgs().empty()` so negation does not produce unexpected side effects, which are detailed in commit messages.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17783",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17783",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17783.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17783.patch"
          },
          "created_at": "2019-12-20T15:36:53Z",
          "updated_at": "2023-08-07T02:00:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8528316171,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH8U8cL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8528316171",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:33Z"
    },
    {
      "event": "commented",
      "id": 1431696802,
      "node_id": "IC_kwDOABII585VVfWi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431696802",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:47Z",
      "updated_at": "2023-02-15T17:05:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "`7a93d7b0f9...8991ed2c6e`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1431696802",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1300143653,
      "node_id": "PRR_kwDOABII585Nfp4l",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 8991ed2c6e38a35199725b6296a615733f948f87\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1300143653",
      "submitted_at": "2023-02-15T19:06:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1432702025,
      "node_id": "IC_kwDOABII585VZUxJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1432702025",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-16T08:29:57Z",
      "updated_at": "2023-02-16T08:29:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Just thinking aloud:\r\n\r\n1. Subnetting does not make sense for tor/i2p/cjdns\r\n2. `BanMan` entries are always subnets (`CSubNet` objects), even for single host bans\r\n\r\nIt follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\nWhat this means - store two ban maps in `BanMan` - one for single hosts and one for subnets (only for IPv[46] subnets). This way also lookup will be faster for single hosts - if a hash table is used for the single host bans, then lookup will be `O(1)`. Right now we iterate over all ban entries and check if `CSubNet::Match()` is `true` (which is `O(number of bans)`).\r\n\r\nHmm...",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1432702025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1435079192,
      "node_id": "IC_kwDOABII585ViZIY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435079192",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T18:34:23Z",
      "updated_at": "2023-02-17T18:34:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Subnetting does not make sense for tor/i2p/cjdns\r\n> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\n`CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\n \r\n",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1435079192",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "labeled",
      "id": 8550139093,
      "node_id": "LE_lADOABII585eJVUczwAAAAH9oMTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550139093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T19:08:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1437113256,
      "node_id": "IC_kwDOABII585VqJuo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1437113256",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T14:30:06Z",
      "updated_at": "2023-02-20T14:30:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> `CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\nWell, it works, but since it does something nonsensical (e.g. subnetting tor) it could be a source of confusion or ultimately, bugs. IMO it shouldn't be doing that. I think the existence and implementation of `CConnman::DisconnectNode(const CSubNet& subnet)` is ok - it will/should disconnect any IPv[46] address that matches the given IPv[46] subnet. But this one:\r\n\r\n```cpp\r\nbool CConnman::DisconnectNode(const CNetAddr& addr)\r\n{\r\n    return DisconnectNode(CSubNet(addr));\r\n}\r\n```\r\n\r\nwould better iterate `m_nodes` and check for equality between the given `addr` and `CNode::addr`.\r\n\r\nI will try to allow only IPv[46] `CSubNet`s and see if everything blows up in a spectacular way... :bomb: :confetti_ball: ",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1437113256",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1306226674,
      "node_id": "PRR_kwDOABII585N22_y",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem.\r\n\r\nNot sure if I agree that this is the root of the problem - I think conceptually it's fine to internally treat single addresses as a special case of a subnet (like `<ipv4>/32 or <ipv6>/128`), and just prevent nonsensical things during user input.\r\n\r\nIn my opinion, the root of the problem is that `fc...` addresses are sometimes interpreted as CJDNS, and sometimes as IPv6, depending on startup options. Since large parts of the networking code were designed before CJDNS support was introduced, this makes workarounds like `MaybeFlipIPv6toCJDNS()` and global availability of reachability necessary.\r\n\r\nHowever, I still feel strongly that having a global, non-constant variable shared by the GUI and node is something we should absolutely avoid. \r\nAnother possibility to achieve this would be to  pass a bool `cjdnsreachable` as a variable to `LookupSubNet()` and add `IsReachable()` to `node/interfaces.cpp`. With this, there could still be a global `g_reachable_nets` used for the call sites within `node`, but the information to the GUI would flow through the interface.\r\nA similar approach was chosen for the proxy, which is also state from `netbase`: The GUI code calls `getProxy` from `node/interfaces`, which then calls `GetProxy()` to retrieve the proxy info from `netbase`. The GUI doesn't use `GetProxy()` directly.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1306226674",
      "submitted_at": "2023-02-20T18:46:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602301507,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAvLRD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602301507",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T14:15:17Z"
    },
    {
      "event": "unlabeled",
      "id": 8602815884,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAIAxI2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602815884",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:04:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602989326,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAxzMO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602989326",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:19:28Z"
    },
    {
      "event": "commented",
      "id": 1443837012,
      "node_id": "IC_kwDOABII585WDzRU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443837012",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:04Z",
      "updated_at": "2023-02-24T15:29:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "`8991ed2c6e...c2a86ba667`: rebase due to conflicts and address suggestion\r\n\r\nInvalidates ACK from @jonatack \r\n\r\n@mzumsande, actually there are two problems - I am talking about Tor subnets and you are talking about a global variable used by the GUI. I will try to mimic the proxy in order to address the latter.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443837012",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8602994987,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAx0kr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602994987",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "subscribed",
      "id": 8602995007,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAx0k_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602995007",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "mentioned",
      "id": 8603100728,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAyOY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100728",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "subscribed",
      "id": 8603100746,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAyOZK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100746",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "commented",
      "id": 1443962823,
      "node_id": "IC_kwDOABII585WER_H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443962823",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T16:30:01Z",
      "updated_at": "2023-02-24T16:31:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I will try to mimic the proxy in order to address the latter.\r\n\r\nIn case you plan to do that, or the Tor subnets issue, in a follow-up:\r\n\r\nre-ACK c2a86ba6674008996552830877d66a1bf888fad1 per `git range-diff be2e748 8991ed2 c2a86ba6`\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443962823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1456152963,
      "node_id": "IC_kwDOABII585WyyGD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456152963",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z",
      "updated_at": "2023-03-06T13:38:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "@mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see https://github.com/bitcoin-core/gui/pull/717. If that gets merged then this PR will be simplified - no need to touch the GUI code from here.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1456152963",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8674419840,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIFCSSA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419840",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "subscribed",
      "id": 8674419859,
      "node_id": "SE_lADOABII585eJVUczwAAAAIFCSST",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419859",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:39:54Z",
      "updated_at": "2023-03-06T13:39:54Z",
      "source": {
        "issue": {
          "id": 1611429684,
          "node_id": "PR_kwDOEEET9c5LXn_f",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/717",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/717",
          "number": 717,
          "state": "closed",
          "state_reason": null,
          "title": "Use the stored CSubNet entry when unbanning",
          "body": "The previous code visualized the `CSubNet` object as string, then parsed that string back to `CSubNet`. This is sub-optimal given that the original `CSubNet` object can be used directly instead.\r\n\r\nThis avoids calling `LookupSubNet()` from the GUI.\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/717",
            "html_url": "https://github.com/bitcoin-core/gui/pull/717",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/717.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/717.patch"
          },
          "closed_at": "2023-03-09T13:49:37Z",
          "created_at": "2023-03-06T13:27:21Z",
          "updated_at": "2023-05-16T14:47:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1462108897,
      "node_id": "IC_kwDOABII585XJgLh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462108897",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z",
      "updated_at": "2023-03-09T13:54:56Z",
      "author_association": "MEMBER",
      "body": "> @mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see [bitcoin-core/gui#717](https://github.com/bitcoin-core/gui/pull/717). If that gets merged then this PR will be simplified - no need to touch the GUI code from here.\r\n\r\nhttps://github.com/bitcoin-core/gui/pull/717 has just been merged.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1462108897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8708419248,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIHD-6w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419248",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z"
    },
    {
      "event": "subscribed",
      "id": 8708419273,
      "node_id": "SE_lADOABII585eJVUczwAAAAIHD-7J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419273",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8758311522,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIKCTpi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758311522",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:39:06Z"
    },
    {
      "event": "commented",
      "id": 1470477392,
      "node_id": "IC_kwDOABII585XpbRQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1470477392",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z",
      "updated_at": "2023-03-15T17:59:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "`c2a86ba667...fcd4d34b96`: rebase even though it is not strictly necessary. Now (after https://github.com/bitcoin-core/gui/pull/717 is merged) the GUI does not call `LookupSubNet()`.\r\n\r\nInvalidates ACK from @jonatack\r\n\r\nI still think not using `CSubNet` for Tor, I2P and CJDNS (which are not sub-nettable) makes sense and should be done. That looks like a bigger change and can be done after this PR or independently of it. It would Introduce a class that holds a list of addresses:\r\n\r\n```cpp\r\nclass NetAddrList\r\n{\r\npublic:\r\n    bool Contains(const CNetAddr& addr) const;\r\n\r\n    void InsertAddr(const CNetAddr& addr);\r\n\r\n    void InsertSubnet(const CSubNet& subnet); // must be only IPv4 or IPv6\r\n\r\nprivate:\r\n    std::unordered_set<CSubNet> m_subnets;\r\n    std::unordered_set<CNetAddr> m_addresses;\r\n}\r\n```\r\n\r\nand use that in some (all?) places where `CSubNet` is used now. `LookupSubNet()` should be changed to check if the input contains `/`, then require it to be IP subnet - that is, return either `CSubNet` or `CNetAddr` or maybe have that as a method of the above `NetAddrList`: `void InsertString(const std::string& addr)` which would add an entry to `m_subnets` or `m_addresses`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1470477392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8758333270,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIKCY9W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333270",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z"
    },
    {
      "event": "subscribed",
      "id": 8758333294,
      "node_id": "SE_lADOABII585eJVUczwAAAAIKCY9u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333294",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T17:36:45Z",
      "updated_at": "2023-03-31T17:36:45Z",
      "source": {
        "issue": {
          "id": 1647804131,
          "node_id": "PR_kwDOABII585NRZKe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27374",
          "number": 27374,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: skip netgroup diversity of new connections for tor/i2p/cjdns",
          "body": "Follow up for #27264.\r\n\r\nIn order to make sure that our persistent outbound slots belong to different netgroups, distinct net groups of our peers are added to `setConnected`. Weâ€™d only open a persistent outbound connection to peers which have a different netgroup compared to those netgroups present in `setConnected`.\r\n\r\nCurrent `GetGroup()` logic assumes route-based diversification behaviour for tor/i2p/cjdns addresses (addresses are public key based and not route-based). Distinct netgroups possible (according to the current `GetGroup()` logic) for:\r\n1. tor => 030f, 031f, .. 03ff (16 possibilities)\r\n2. i2p => 040f, 041f, .. 04ff (16 possibilities)\r\n3. cjdns => 05fc0f, 05fc1f, ... 05fcff (16 possibilities)\r\n\r\n`setConnected` is used in `ThreadOpenConnections()` before making [outbound](https://github.com/bitcoin/bitcoin/blob/84f4ac39fda7ffa5dc84e92d92dd1eeeb5e20f8c/src/net.cpp#L1846) and [anchor](https://github.com/bitcoin/bitcoin/blob/84f4ac39fda7ffa5dc84e92d92dd1eeeb5e20f8c/src/net.cpp#L1805) connections to new peers so that they belong to distinct netgroups.\r\n\r\n**behaviour on master**\r\n\r\n- if we run a node only on tor/i2p/cjdns\r\n\t- we wouldn't be able to open more than 16 outbound connections(manual, block-relay-only anchor, outbound full relay, block-relay-only connections) because we run out of possible netgroups.\r\n\t- see https://github.com/bitcoin/bitcoin/pull/27264#issuecomment-1481322628\r\n\t- tested by changing `MAX_OUTBOUND_FULL_RELAY_CONNECTIONS` to 17 with `onlynet=onion` and observed how node wouldn't make more than 16 outbound connections.\r\n\r\n**behaviour on PR**\r\n\r\n- netgroup diversity checks are skipped for tor/i2p/cjdns addresses. \r\n- we don't insert tor/i2p/cjdns address in `setConnected` and `GetGroup` doesn't get called on tor/i2p/cjdns(see #27369)\r\n",
          "user": {
            "login": "stratospher",
            "id": 44024636,
            "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospher",
            "html_url": "https://github.com/stratospher",
            "followers_url": "https://api.github.com/users/stratospher/followers",
            "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospher/orgs",
            "repos_url": "https://api.github.com/users/stratospher/repos",
            "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stratospher/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/56",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56/labels",
            "id": 7733968,
            "node_id": "MI_kwDOABII584AdgLQ",
            "number": 56,
            "state": "closed",
            "title": "25.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 38,
            "created_at": "2022-03-03T18:51:29Z",
            "updated_at": "2023-05-25T13:24:42Z",
            "closed_at": "2023-05-25T13:24:42Z"
          },
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27374",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27374",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27374.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27374.patch"
          },
          "closed_at": "2023-04-13T22:22:15Z",
          "created_at": "2023-03-30T14:59:39Z",
          "updated_at": "2023-04-14T19:19:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1371196157,
      "node_id": "PRR_kwDOABII585Rusr9",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157",
      "submitted_at": "2023-04-04T15:00:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-13T01:33:28Z",
      "updated_at": "2023-04-13T01:33:28Z",
      "source": {
        "issue": {
          "id": 1652681372,
          "node_id": "PR_kwDOABII585NhcBe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27411",
          "number": 27411,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: Restrict self-advertisements with privacy networks to avoid fingerprinting",
          "body": "The current logic for self-advertisements works such that we detect as many local addresses as we can, and then, using the scoring matrix from `CNetAddr::GetReachabilityFrom()`, self-advertise with the address that fits best to our peer.\r\nIt is in general not hard for our peers to distinguish our self-advertisements from other addrs we send them, because we self-advertise every ~24h and because the first addr we send over a connection is likely our self-advertisement. \r\n\r\n`GetReachabilityFrom()` currently only takes into account actual reachability, but not whether we'd _want_ to announce our identity for one network to peers from other networks, which is not straightforward in connection with privacy networks. \r\n\r\nWhile the general approach is to prefer self-advertising with the address for the network our peer is on, there are several special situations in which we don't have one, and as a result could allow self-advertise other local addresses, for example:\r\n\r\nA) We run i2p and clearnet, use `-i2pacceptincoming=0` (so we have no local i2p address), and we have a local ipv4 address. In this case, we'd advertise the ipv4 address to our outbound i2p peers.\r\n\r\nB) Our `-discover` logic cannot detect any local clearnet addresses in our network environment, but we are actually reachable over clearnet. If we ran bitcoind clearnet-only, we'd always advertise the address our peer sees us with instead, and could get inbound peers this way. Now, if we also have an onion service running (but aren't using tor as a proxy for clearnet connections), we could advertise our onion address to clearnet peers, so that they would be able to connect our clearnet and onion identities. \r\n\r\nThis PR tries to avoid these situations by \r\n1.) never advertising our local Tor or I2P address to peers from other networks.\r\n2.) never advertising local addresses from non-anonymity networks to peers from Tor or I2P\r\n\r\nNote that this affects only our own self-advertisements, the rules to forward other people's addrs are not changed.\r\n\r\n[Edit] after Initial [discussion](https://github.com/bitcoin/bitcoin/pull/27411#issuecomment-1497176155): CJDNS is not being treated like Tor and I2P at least for now, because it has different privacy properties and for the practical reason that it has still very few bitcoin nodes.\r\n",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27411",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27411",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27411.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27411.patch"
          },
          "closed_at": "2023-07-13T17:51:24Z",
          "created_at": "2023-04-03T19:56:42Z",
          "updated_at": "2023-08-17T13:31:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-13T22:16:04Z",
      "updated_at": "2023-04-13T22:16:04Z",
      "source": {
        "issue": {
          "id": 1648191920,
          "node_id": "PR_kwDOABII585NSsIR",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27375",
          "number": 27375,
          "state": "open",
          "state_reason": null,
          "title": "net: support unix domain sockets for -proxy and -onion",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/27252\r\n\r\nUNIX domain sockets are a mechanism for inter-process communication that are faster than local TCP ports (because there is no need for TCP overhead) and potentially more secure because access is managed by the filesystem instead of serving an open port on the system.\r\n\r\nThere has been work on [unix domain sockets before](https://github.com/bitcoin/bitcoin/pull/9979) but for now I just wanted to start on this single use-case which is enabling unix sockets from the client side, specifically connecting to a local Tor proxy (Tor can listen on unix sockets and even enforces strict curent-user-only access permission before binding) configured by `-onion=` or `-proxy=`\r\n\r\nI copied the prefix `unix:` usage from Tor. With this patch built locally you can test with your own filesystem path (example):\r\n\r\n`tor --SocksPort unix:/Users/matthewzipkin/torsocket/x`\r\n\r\n`bitcoind -proxy=unix:/Users/matthewzipkin/torsocket/x`\r\n\r\nPrep work for this feature includes:\r\n- Moving where and how we create `sockaddr` and `Sock` to accommodate `AF_UNIX` without disturbing `CService`\r\n- Expanding `Proxy` class to represent either a `CService` or a UNIX socket (by its file path)\r\n\r\nFuture work:\r\n- Enable UNIX sockets for ZMQ (https://github.com/bitcoin/bitcoin/pull/27679)\r\n- Enable UNIX sockets for I2P SAM proxy (some code is included in this PR but not tested or exposed to user options yet)\r\n- Enable UNIX sockets on windows where supported\r\n- Update Network Proxies dialog in GUI to support UNIX sockets\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27375",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27375",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27375.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27375.patch"
          },
          "created_at": "2023-03-30T19:29:32Z",
          "updated_at": "2023-10-19T14:27:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1391138211,
      "node_id": "PRR_kwDOABII585S6xWj",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "ewiseg",
        "id": 110210038,
        "node_id": "U_kgDOBpGr9g",
        "avatar_url": "https://avatars.githubusercontent.com/u/110210038?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ewiseg",
        "html_url": "https://github.com/ewiseg",
        "followers_url": "https://api.github.com/users/ewiseg/followers",
        "following_url": "https://api.github.com/users/ewiseg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ewiseg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ewiseg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ewiseg/subscriptions",
        "organizations_url": "https://api.github.com/users/ewiseg/orgs",
        "repos_url": "https://api.github.com/users/ewiseg/repos",
        "events_url": "https://api.github.com/users/ewiseg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ewiseg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1391138211",
      "submitted_at": "2023-04-19T01:30:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T01:11:22Z",
      "updated_at": "2023-04-21T01:11:22Z",
      "source": {
        "issue": {
          "id": 1677432252,
          "node_id": "PR_kwDOABII585Ozh_T",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27505",
          "number": 27505,
          "state": "closed",
          "state_reason": null,
          "title": "net: use interruptible async getaddrinfo wrapper from libevent for DNS",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/16778\r\n\r\nBitcoin uses `getaddrinfo` to make DNS requests for DNS seed servers and for adding peers with `-addnode`, `-seednode` and `-connect`. Depending on the platform this can be clunky and a system issue could prevent name resolution from completing at all, blocking the thread and in some cases preventing a clean shutdown.\r\n\r\nAn attempt was made to switch to the asynchronous `getaddrinfo_a` in https://github.com/bitcoin/bitcoin/pull/4421 but that was reverted in https://github.com/bitcoin/bitcoin/pull/9229 after discovering that function has a segfault!\r\n\r\nTaking BlueMatt's suggestion in https://github.com/bitcoin/bitcoin/pull/10215#issue-221886328, this PR modifies our `g_dns_lookup` function to use `evdns_getaddrinfo()` from [libevent](https://libevent.org/libevent-book/Ref9_dns.html). This is an asynchronous function but I've implemented it in a polling loop so it still blocks -- but now will timeout after 2 seconds.\r\n\r\nTODO:\r\n- [ ] We could make the polling loop interruptible but I'm not sure the best approach to that, since these functions don't live in a class with a flag like `interruptNet` \r\n- [ ] Is it possible to add functional tests that mess with DNS? Probably not.\r\n- [ ] The unit test I added makes a live DNS request for `nic.com` that test will fail the platform has no DNS\r\n\r\nFuture work:\r\n- libevent has more low-level DNS functions as well, we could ultimately use those to (for example) request `TXT` records with onion addresses from our DNS seeders\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27505",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27505",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27505.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27505.patch"
          },
          "closed_at": "2023-05-02T18:29:36Z",
          "created_at": "2023-04-20T21:07:11Z",
          "updated_at": "2023-05-02T18:29:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-02T22:45:50Z",
      "updated_at": "2023-05-02T22:45:50Z",
      "source": {
        "issue": {
          "id": 1692901383,
          "node_id": "PR_kwDOABII585PnKTi",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27557",
          "number": 27557,
          "state": "open",
          "state_reason": null,
          "title": "net: call getaddrinfo() in detachable thread to prevent stalling",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/16778\r\nReplaces https://github.com/bitcoin/bitcoin/pull/27505\r\n\r\nThe library call `getaddrinfo()` has no internal timeout and depending on the user's system may wait indefinitely for a response when looking up a hostname in the DNS. By making that call in a separate thread, we can abandon it completely after some timeout (currently in this PR, 2 seconds).\r\n\r\nTODO:\r\n\r\n- [ ] We could make the polling loop interruptible but I'm not sure the best approach to that, since these functions don't live in a class with a flag like interruptNet\r\n\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27557",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27557",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27557.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27557.patch"
          },
          "created_at": "2023-05-02T18:28:32Z",
          "updated_at": "2023-10-05T20:51:13Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T01:40:19Z",
      "updated_at": "2023-05-17T01:40:19Z",
      "source": {
        "issue": {
          "id": 1712671682,
          "node_id": "PR_kwDOABII585QpmkI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27679",
          "number": 27679,
          "state": "open",
          "state_reason": null,
          "title": "ZMQ: Support UNIX domain sockets",
          "body": "This is a follow-up to https://github.com/bitcoin/bitcoin/pull/27375, allowing ZMQ notifications to be published to a UNIX domain socket, adding one more commit.\r\n\r\nFortunately, libzmq handles unix sockets already, all we really have to do to support it is allow the format in the actual option. libzmq uses the prefix `ipc://` as opposed to `unix:` which is used by Tor and by #27375 so, for now I'm testing with both being allowed. \r\n\r\nExample:\r\n\r\n`bitcoind -zmqpubhashblock=ipc:///tmp/subscriber_socket`",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27679",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27679",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27679.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27679.patch"
          },
          "created_at": "2023-05-16T20:08:15Z",
          "updated_at": "2023-07-27T21:16:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 9380262714,
      "node_id": "LE_lADOABII585eJVUczwAAAAIvG3M6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380262714",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T15:55:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9469098470,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAI0Zvnm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9469098470",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T08:10:51Z"
    },
    {
      "event": "commented",
      "id": 1582106400,
      "node_id": "IC_kwDOABII585eTQcg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1582106400",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T08:11:02Z",
      "updated_at": "2023-06-08T08:11:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "`fcd4d34b96...8b495486e2`: rebase due to conflicts",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1582106400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "unlabeled",
      "id": 9469950459,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAI0c_n7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9469950459",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T09:27:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1509591091,
      "node_id": "PRR_kwDOABII585Z-ogz",
      "url": null,
      "actor": null,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1509591091",
      "submitted_at": "2023-07-02T13:40:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "labeled",
      "id": 9814842053,
      "node_id": "LE_lADOABII585eJVUczwAAAAJJAprF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9814842053",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-13T19:25:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unsubscribed",
      "id": 10096260206,
      "node_id": "UE_lADOABII585eJVUczwAAAAJZyLRu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096260206",
      "actor": {
        "login": "dellroy979",
        "id": 135130941,
        "node_id": "U_kgDOCA3vPQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/135130941?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dellroy979",
        "html_url": "https://github.com/dellroy979",
        "followers_url": "https://api.github.com/users/dellroy979/followers",
        "following_url": "https://api.github.com/users/dellroy979/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dellroy979/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dellroy979/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dellroy979/subscriptions",
        "organizations_url": "https://api.github.com/users/dellroy979/orgs",
        "repos_url": "https://api.github.com/users/dellroy979/repos",
        "events_url": "https://api.github.com/users/dellroy979/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dellroy979/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T11:50:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10096289307,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAJZySYb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096289307",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T11:55:15Z"
    },
    {
      "event": "commented",
      "id": 1678810238,
      "node_id": "IC_kwDOABII585kEJx-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1678810238",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T11:56:24Z",
      "updated_at": "2023-08-15T11:56:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "`8b495486e2...be7ae7b1ec`: rebase due to conflicts and address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1678810238",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1678816243,
      "node_id": "IC_kwDOABII585kELPz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1678816243",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T12:02:02Z",
      "updated_at": "2023-08-15T12:02:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "@mzumsande, what's your take on this now that it does not touch the GUI?",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1678816243",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 10096333401,
      "node_id": "MEE_lADOABII585eJVUczwAAAAJZydJZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096333401",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T12:02:02Z"
    },
    {
      "event": "subscribed",
      "id": 10096333415,
      "node_id": "SE_lADOABII585eJVUczwAAAAJZydJn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096333415",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T12:02:02Z"
    },
    {
      "event": "unlabeled",
      "id": 10096353480,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAJZyiDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096353480",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T12:05:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10099792641,
      "node_id": "LE_lADOABII585eJVUczwAAAAJZ_psB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10099792641",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T17:51:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T19:32:44Z",
      "updated_at": "2023-08-15T19:32:44Z",
      "source": {
        "issue": {
          "id": 1843988210,
          "node_id": "PR_kwDOABII585Xk2ms",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28248",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28248/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28248/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28248/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28248",
          "number": 28248,
          "state": "open",
          "state_reason": null,
          "title": "p2p: peer connection bug fixes, logic and logging improvements",
          "body": "This pull proposes to fix a number of peer connection issues, along with the logging that uncovered them:\r\n\r\nFix detection of inbound peer connections in `GetAddedNodeInfo`.\r\n\r\nFix addnode CJDNS peers not detected in `GetAddedNodeInfo`, causing `ThreadOpenAddedConnections` to continually retry to connect to them and RPC `getaddednodeinfo` incorrectly showing them as not connected.\r\n\r\nFix `ThreadOpenConnections` not detecting inbound CJDNS connections and making automatic outbound connections to them.\r\n\r\nFix detection of already-connected peers when making outbound connections in `ConnectNode`.\r\n\r\nIn `CreateNodeFromAcceptedSocket`, don't accept inbound connections from peers already connected to us.\r\n\r\nDo not make automatic outbound connections in `ThreadOpenConnections` to addnode peers, in order not to allocate our limited outbound slots to them and to ensure addnode connections benefit from their intended protections. Our addnode logic usually connects the addnode peers before the automatic outbound logic does, but not always, as a connection race can occur (see the commit message for further details and mainnet examples). When an addnode peer is connected as an automatic outbound peer and is the only connection we have to a network, it can be protected by our new outbound network-specific eviction logic and persist in the \"wrong role\". Fix these issues by checking if the selected address is an addnode peer in our automatic outbound connection logic.\r\n\r\nUpdate the p2p logging with the improvements that allowed seeing/understanding/debugging the current behavior. Please see the commit messages for details.\r\n\r\nSimplify `MaybePickPreferredNetwork` to return `std::optional`, make it a const class method, and add Clang thread-safety analysis annotation and related assertions.\r\n",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28248",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28248",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28248.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28248.patch"
          },
          "created_at": "2023-08-09T20:46:20Z",
          "updated_at": "2023-10-18T08:41:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T20:08:59Z",
      "updated_at": "2023-08-15T20:08:59Z",
      "source": {
        "issue": {
          "id": 1837671308,
          "node_id": "PR_kwDOABII585XPvx_",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28222",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28222/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28222/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28222/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28222",
          "number": 28222,
          "state": "open",
          "state_reason": null,
          "title": "Use shared_ptr for CNode inside CConnman",
          "body": "Switch to using smart pointers to `CNode`s inside of `CConnman`.\r\n\r\nCurrently we are manually refcounting CNodes which is potentially error-prone and makes operations such as deleting them from multiple threads difficult without introducing new locks or other synchronisation operations (see https://github.com/bitcoin/bitcoin/pull/27912).\r\n\r\nSwitch to using `std::shared_ptr` references to `CNode`s inside of `m_nodes` and `m_nodes_disconnected` to give us better memory safety today, and in the future allow `AttemptToEvictConnection` (and optionally other sites) to safely synchronously disconnect nodes when needed.\r\n\r\nOpening as draft for now as I want to both gauge feedback on the approach, and see which PRs this may conflict with (#27213?) before moving it forwards.\r\n\r\nCC @vasild ",
          "user": {
            "login": "willcl-ark",
            "id": 6606587,
            "node_id": "MDQ6VXNlcjY2MDY1ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willcl-ark",
            "html_url": "https://github.com/willcl-ark",
            "followers_url": "https://api.github.com/users/willcl-ark/followers",
            "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
            "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
            "repos_url": "https://api.github.com/users/willcl-ark/repos",
            "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28222",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28222",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28222.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28222.patch"
          },
          "created_at": "2023-08-05T09:45:10Z",
          "updated_at": "2023-09-03T14:10:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T21:21:38Z",
      "updated_at": "2023-08-15T21:21:38Z",
      "source": {
        "issue": {
          "id": 1824626893,
          "node_id": "PR_kwDOABII585Wjy4M",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28170",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28170/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28170/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28170/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28170",
          "number": 28170,
          "state": "open",
          "state_reason": null,
          "title": "p2p: adaptive connections services flags",
          "body": "Derived from #28120 discussion.\r\n\r\nBy relocating the peer desirable services flags into the peer manager, we\r\nallow the connections acceptance process to handle post-IBD potential\r\nstalling scenarios.\r\n\r\nThe peer manager will be able to dynamically adjust the services flags\r\nbased on the node's proximity to the tip (back and forth). Allowing the node\r\nto recover from the following post-IBD scenario:\r\nSuppose the node has successfully synced the chain, but later experienced\r\ndropped connections and remained inactive for a duration longer than the limited\r\npeers threshold (the timeframe within which limited peers can provide blocks). In\r\nsuch cases, upon reconnecting to the network, the node might only establish\r\nconnections with limited peers, filling up all available outbound slots. Resulting\r\nin an inability to synchronize the chain (because limited peers will not provide\r\nblocks older than the `NODE_NETWORK_LIMITED_MIN_BLOCKS` threshold).",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28170",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28170",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28170.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28170.patch"
          },
          "created_at": "2023-07-27T15:34:45Z",
          "updated_at": "2023-10-09T18:26:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T22:28:38Z",
      "updated_at": "2023-08-15T22:28:38Z",
      "source": {
        "issue": {
          "id": 1805228255,
          "node_id": "PR_kwDOABII585VieNH",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28078",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28078/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28078/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28078/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28078",
          "number": 28078,
          "state": "closed",
          "state_reason": null,
          "title": "net, refactor: remove unneeded exports, use helpers over low-level code, use optional",
          "body": "and other improvements noticed while reviewing #27411.\r\n\r\nAddresses https://github.com/bitcoin/bitcoin/pull/27411#discussion_r1263969104 and https://github.com/bitcoin/bitcoin/pull/27411#discussion_r1263967598.\r\n\r\nSee commit messages for details.",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28078",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28078",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28078.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28078.patch"
          },
          "closed_at": "2023-09-21T15:26:38Z",
          "created_at": "2023-07-14T17:27:45Z",
          "updated_at": "2023-09-21T19:16:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T23:58:48Z",
      "updated_at": "2023-08-15T23:58:48Z",
      "source": {
        "issue": {
          "id": 1746501636,
          "node_id": "PR_kwDOABII585ScjM9",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27837",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27837/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27837/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27837/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27837",
          "number": 27837,
          "state": "open",
          "state_reason": null,
          "title": "net: introduce block tracker to retry to download blocks after failure",
          "body": "Built on top of #28120 and #28170. Coming from #27652.\r\n\r\nThe general idea is to keep track of the user requested blocks so, in\r\ncase of a bad behaving peer or a network disconnection, they can be\r\nfetched from another one automatically without any further user interaction.\r\n\r\nThis was requested by users because the `getblockfrompeer` RPC command\r\nlacks the functionality to notify them about block request failures or peer\r\ndisconnections (which is expected due to the asynchronous nature of the block\r\nrequests).\r\n\r\nCurrently, this new functionality is limited to blocks requested by the\r\nuser via the 'getblockfrompeer' RPC command.\r\n\r\nIn the future, this class could expand its scope and be utilized in the\r\nregular chain synchronization process. Or, even could be employed in\r\nspecial procedures like a prune node rescan that uses BIP158 block filters,\r\nor even into BIP157 itself.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27837",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27837",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27837.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27837.patch"
          },
          "created_at": "2023-06-07T19:01:56Z",
          "updated_at": "2023-10-18T19:14:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1681940885,
      "node_id": "IC_kwDOABII585kQGGV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681940885",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T09:26:02Z",
      "updated_at": "2023-08-17T09:26:02Z",
      "author_association": "MEMBER",
      "body": "Could rebase for green CI, if still relevant?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1681940885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10117230717,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAJbCLB9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10117230717",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T09:44:20Z"
    },
    {
      "event": "commented",
      "id": 1681971680,
      "node_id": "IC_kwDOABII585kQNng",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681971680",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T09:44:33Z",
      "updated_at": "2023-08-17T09:44:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "`be7ae7b1ec...e92b7dee6d`: rebase for CI",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1681971680",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "unlabeled",
      "id": 10119019170,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAJbI_qi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10119019170",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T12:41:51Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1595950768,
      "node_id": "PRR_kwDOABII585fIEaw",
      "url": null,
      "actor": null,
      "commit_id": "e92b7dee6dc45ba1e679ee94054043fd111055dc",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "> @mzumsande, what's your take on this now that it does not touch the GUI?\r\n\r\nSorry, I had forgotten about this PR. Looks fine to me now approach-wise. I will take a deeper look next week and try to test banning / whitelisting cjdns addresses.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1595950768",
      "submitted_at": "2023-08-25T17:50:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10210315445,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAJglQy1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10210315445",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-28T14:57:20Z"
    },
    {
      "event": "commented",
      "id": 1695851392,
      "node_id": "IC_kwDOABII585lFKOA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1695851392",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-28T14:57:44Z",
      "updated_at": "2023-08-28T14:57:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "`e92b7dee6d...6ff2241e47`: extend a commit message, see https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1305800610",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1695851392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1624923302,
      "node_id": "PRR_kwDOABII585g2lym",
      "url": null,
      "actor": null,
      "commit_id": "6ff2241e4757ed2f26244f266a44982a04029815",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK 6ff2241e4757ed2f26244f266a44982a04029815\r\n\r\nBy having two nodes connect to each other I verified that the following operations now work for CJDNS peers\r\n- whitelisting\r\n- banning, also over restarts\r\n- unbanning via GUI\r\n\r\nOne detail: If we ban a cjdns address or subnet while not running with `-cjdnsreachable` and then restart with `-cjdnsreachable`, the entries will be deleted. That is probably the correct behavior, because banning them in the first place didn't make any sense.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1624923302",
      "submitted_at": "2023-09-13T20:47:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "review_requested",
      "id": 10364510724,
      "node_id": "RRE_lADOABII585eJVUczwAAAAJpxeIE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10364510724",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T20:47:27Z",
      "requested_reviewer": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 10438462780,
      "node_id": "LE_lADOABII585eJVUczwAAAAJuLk08",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10438462780",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T17:25:04Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0ZDZmNzc5MDdhZmQ0NjFkOWIxNGVlMTBhYjMyMzM1ZjQ0NTQ3MzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64d6f77907afd461d9b14ee10ab32335f4454734",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64d6f77907afd461d9b14ee10ab32335f4454734",
      "tree": {
        "sha": "2f5a5ede805ecea6e50746c3beee4ea51d224482",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2f5a5ede805ecea6e50746c3beee4ea51d224482"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2f5a5ede805ecea6e50746c3beee4ea51d224482\nparent 78fd3c2672400fb958f2d25ddd40955c7deed4cd\nauthor Vasil Dimov <vd@FreeBSD.org> 1696511385 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1696511432 +0200\n\nnet: put CJDNS prefix byte in a constant\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUetckACgkQVN8G9ktV\ny79wYyAAhrTYM9mrLyJwN76QM9x1CT7AMLQ1MXY1sZAO1X8OGid+3oWBI1cFUL/s\nzRfI62FVuLH1MS4H9VMVtybH0Qp3S+YPgmxawLqZRrwRMx/yhETSo/hMmqfuoRu4\nCBgI/3AACh8tMkd7E6Ty96LLVBKs2H+f8hGefbbsd+l4oK+xKN6wzOTjlbkzw1yN\n4Ss9p9QWbKjg9XPD9DfnTGp6zzmMH0M77KFGkC2tKYkaZxaumxqgym+z81AV6/gN\nu5Pvyps1gSJxt10Fv3qWuxw1B7aFlI2uddp3qqjiMT5NT28riDuafzk3bJGo/9CJ\nKsSFAmUXO0HA+Eksc40LAoXKKGoFFTr+14j1L10tz0bnxOSvlkqnM8GQfYUclXGd\nxkFi3wzaB0NiuoZY4jAnMpR4h+9Q+xCjMrYv+wsoMG9HfYznzeA2LzgqoRhYdmyi\nr+ER4bVP2fMAGP4BBCfJi1O6cjFWgKTT9zOxCrXHepzdMHvO/RIby8BCAt0OpfgE\noBwFSH4y0M9P4WO+v9cZKpFhiaoDqc3shyG6qev9ksy8ZVF6ggoJXwR549Fbkzps\nDwxDBSQ0Doij0WYEwbHYkhvCetA3PkJFgs5lvxHpvlNOpBsW9Jhx6SKo/Cy44xS7\nsiqVuMewVTOGBtBevzFeQGU3Z0g3GFPgvDHrFWH9Je3UoZKIlS9h/iDyHj1iuYR/\nNZ+XBLPMz9izWkHttV+gsCENeJrC7VBuoIKZOPrg/P44WhMAN40aCbkDq+covr3s\naaG2euDyXFJjD6D3p7yoXNyaA9+1ZEx11c8LijYMwqcvZt9KLSd0QK6ea2km5F4O\nL0lsa6nGETSZs5nNQTxod7KKkGEwcV1/zNSA/CPwxEA8LlX39PLTeFzVY3D/SZF2\nkh8lLJEH9b1FLr5G4o6QZH0ZdonTMrdvziV9OohMyoV91X0gwFNjScSeGHoOk8HV\nAqSA1Uz1//CkhmHe28CwLcIr77ozH9NjQEP49AmNdBSDRQsnnaEZaZ7dYSf+MjSI\n3lcgFRdX64am372i5LkO3Lh4eKti4dJvkYb0qG+dfvo7Go6s/nDFQPtwSsxQKJxw\n7m8kpl8B6PKQnH78V2NEw/9EIjwnkv21nDLw6WiHowi9JpFopzFtPT2FtcBInhJD\nJtwMzCvGzsUYlYfAMIOofEOG41czpUCS+xMHzvdYmkZx5X9+dbo/276xvbrFWnH7\nHtsYHFN5lcfqpTnwu+vHgkOA4Didmkz0UNOF4x3UqIcHYQQsMqWzgouD5gLiBOwA\nHexw0cYFwedJHHPofJ1+zszS7ll+9IsSTVpc3J3Czb0IP0VECrQPga6YGKHKo/gj\n5ni+92g9q3eOjTD12DPJBLf/uLZ2hA==\n=DRru\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78fd3c2672400fb958f2d25ddd40955c7deed4cd",
          "sha": "78fd3c2672400fb958f2d25ddd40955c7deed4cd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/78fd3c2672400fb958f2d25ddd40955c7deed4cd"
        }
      ],
      "message": "net: put CJDNS prefix byte in a constant",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-05T13:10:32Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-05T13:09:45Z"
      },
      "sha": "64d6f77907afd461d9b14ee10ab32335f4454734"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM0MmRlZDNkOWJkYThiMjczNzgwYTRhODE0OTBiYmYxYjllOWMyNjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c42ded3d9bda8b273780a4a81490bbf1b9e9c261",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c42ded3d9bda8b273780a4a81490bbf1b9e9c261",
      "tree": {
        "sha": "0738aa13ac3d4055f5dc131e3815176148167e59",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0738aa13ac3d4055f5dc131e3815176148167e59"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0738aa13ac3d4055f5dc131e3815176148167e59\nparent 64d6f77907afd461d9b14ee10ab32335f4454734\nauthor Vasil Dimov <vd@FreeBSD.org> 1675947821 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1696511433 +0200\n\nfuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUetckACgkQVN8G9ktV\ny78SxCAAgIyHN/s+zZC7PdKCUWhBZyZWAkAOjAcww6xh8yb5IEFHhgUTvTLEQBl6\nIRr8UvnIOq01judeP/Wta55JICHsZG+mdgHY45ox9xQ40bdj4RAXlxFefpraC4c6\n8CXkkMKXmRSmtOHik1AYJ2XV8/Is1X2k2b1VXcfMcrKJ7nexcHpz9kXRatqjEkXT\n+HP0KGTElKO46M5Ot/TePtpdfoHNSrADWA1B6n8K6QKbGi7/auXsa7OdCw9jZItE\neOozPgWDnCcQuwtQ129GaQf7W0Cu91uE0rBMtuI9ObIppWqFi8e3JhFOg3FrbJ5d\nJPE3RxoJu2cS9FG1e4Jc5vJmUw8rtE1GhgAjCALZz09c0ETM889uQJPMYmYzEICB\n+xpwZqOg1AygI4NMV9l0n2xzVIfaPi2f6gw/4WHpx4t8yWEjyYWSgeFO2yGeBQZH\nBoB8z3cIblg/IHXPiDv5O2lJWLbdGHtg52E9UlD1qmLhsr8tNi5aDxtd59Dqvq87\nQqFWSGtWEwO6RouDYzpgol4xP6QhOm/2VwDA6y1jYFjVc5703azgj8oDhf926QEE\nn8oeTVKbNqZIFABYdGNo9bEcjHDRP11dIrtnD21vFy5HglDWmAwnumf8ewAIqaE/\nOUGYP/Pua/CSXwxnC/sGcQwzhOG6H2PnbvHqNHfrADxHFC8atrEWjsY/9jlIP6EL\nGoJXs4qmcdc2noEunlIEDoiuadH2pdCFEbQFIhuYzU2zLk4H2pnJGVB+Hje7VT1V\nGaopkuB/lCNjiYxjL0G9oSm/lJO0k006YaEKicOh7qEzA37MBue1dTHkX9WlKZzL\n32JS5KCSi7I/B55NdZwdXcOud9Cw67OEAsUQ+3I8gj/ACCmuxfRwwDXiBPJXRG94\nvxADUINhBhTsmKh3udWs8Os+uQAyImSwOeTMPlDZ2LKqrv2FryA8Vb7FTco9QM0h\n/CxxqaKApRCU0w0mO9G+u68hF2TTr5aPVOQxEZ90UlHXqGEp5b9bKrglRUm1La9z\nHku/oNUe3iKXVhxXXS4+Fw6mKW+pk+A0urPihcA7fWvgZY8nOXeytTx+Z4L+JdjK\nFCRqy16/IOaEWYEybKzvj5j3dPxOY5PJM1KQLi7A5YOCOCjoWfGXAS+NeL8fv1tZ\nkNr7ZXUV3vHLvHZ5OSQdaE33K/LEZV5ZW9wgLrysUkEWRpPREbk5I7EtvnknGRDW\nV53d3u8zZ/C+jh3QASL3hw+wLl7zFRsEYm/ib4orwlr2MPmfxZ6xiJUyXedGAUQ0\nLqPyhEZDXPlhCUPlNITpCotuRupZI3RlC90S34aKcnnAJBcIBGnxIU7PVL/o3ZDz\nvvKoUKNZ+pU6uNZQLuCcDeJXcTIguQ==\n=zfZk\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64d6f77907afd461d9b14ee10ab32335f4454734",
          "sha": "64d6f77907afd461d9b14ee10ab32335f4454734",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/64d6f77907afd461d9b14ee10ab32335f4454734"
        }
      ],
      "message": "fuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-05T13:10:33Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-09T13:03:41Z"
      },
      "sha": "c42ded3d9bda8b273780a4a81490bbf1b9e9c261"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZlMzA4NjUxYzQ0MWNiZjg3NjNjNjdjYzA5OWM1MzhjMzMzYzI4NzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e308651c441cbf8763c67cc099c538c333c2872",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6e308651c441cbf8763c67cc099c538c333c2872",
      "tree": {
        "sha": "7d4ddc4737c3a19fcb560fc33fe9bfbea56b7f35",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7d4ddc4737c3a19fcb560fc33fe9bfbea56b7f35"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7d4ddc4737c3a19fcb560fc33fe9bfbea56b7f35\nparent c42ded3d9bda8b273780a4a81490bbf1b9e9c261\nauthor Vasil Dimov <vd@FreeBSD.org> 1675773037 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1696511434 +0200\n\nnet: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.\n\n`NET_UNROUTABLE` and `NET_INTERNAL` are no longer ignored when adding\nor removing reachable networks. This was unnecessary.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUetcoACgkQVN8G9ktV\ny794WR//UkAD2eUo1ZOPW3H81XvI96ol9U25Ckb5BSszkjtosB70HY3+JNvaHSe+\nYn36yEOdafgMWqJe+FHRWXRd+d+HkaOgCRlMByd5/10XlWf6M/dazKjuGrntJlOX\nl1tjh01WXLi2NL3cA3qu1tKLt71INornMWwWk7F0+gDqZy0Kwpuuf2zo5WeMfVuC\nSiFvQiYT2GaSGx+xA/OouSI75KUcHhQDaLED51G9jrzPNDWOOUHksLXnptIHj/wr\nvKh67//m76cJ9go0GEQLpRbVCUrRtvzMeCCvR7bhmINupTDeH9XBygtz1XKyaooS\nLYw1OBcFBuRrXCK6WY2rEiBCv/hgXKgXc7uRixbrSDUBExS0fxjGsiPmnHibyHLB\nDVx1ZwOY2HV7HQoN+w/xhcy0OA5/ObUbkBzscd/97FgtCdsOC3sO/otBUWgOIlnn\nNKA3dRNUK8OvXDoSlhf28CdcdShcjjuBxVNOw7CelekNy8CRRkYgg+eukKYsnZX1\nkTHjIsGfXcrypaa8e/7FTmb0Z+raifOgGBrWzjFbYUq/K/ANCx6Tg1T12FFih5J7\n88eGOTG/3EsjfS7T1VhWkQfnDWhWnAvlDHthXIHqKaqLrcwM1Hle1m2zf77MyxLI\nbMKA7D41OXzljohkIUItjjPxcMKscKIkzjrHzfuik7z+O4wTkZw6vRxvNvSqLlf+\n2/1oOhoNP2RAsgxvy6RiZ5RKSH6kCVOYizFCKVQlc9h76iVR/Q6/UyxVeGJ2YRar\naUuSXABcFsAP6D2if3x/3N36igdZnsQvgZoUDNAfgoC53CtKZlMIl8seWttJufGJ\nIiGDL5rr37UzWHa1AnBM7pHo5QfGyxcfwW+YhU2ky6Kyq2dQVo1evfMZX1guXYDY\nnpp6+Nv0+04xFZb5OEqQwo6LDEJnDwzYHR8rXZwxjSSfQZOpTMjIrMIeXnwqKt/J\nSetNs4MIpMDr5jGLcTq6RCrRO/n02nFjzjrLy8gyNTl65y8IWbEs1FlCYJDxdyTk\nkVkbJpYOocN1PSHGH0Ma8rAKbhdIkc9uaTMJxtbrisOGUKGEgGayzJeQ91lt2w2p\ncaHUmmzOjlMk8GGgw7bU4+nonMWpfwACMVVBrinUIKt/qrWkHhcKAStsPXNatnIq\nI1TLiCR8qXsU+LLzsEr+n94gg4A99jylBTZB0Iequ8MCqzIzfKd3Uc2PKTIyxt4X\nNTHQLA2sqUEOuEutZP1u7GQ6xFMZeYOjoTUGcca5ahKRsH2+pICJ4PGg7nNrqbUJ\n5Wn5dHuixZuFAYiLy/1hHE4szs8xE7SEFRIao9jEr5D6s7UIH/KN056uAG3S1VXE\n54P+qlahij7pujim6C294SI5/DFa6g==\n=iR/i\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c42ded3d9bda8b273780a4a81490bbf1b9e9c261",
          "sha": "c42ded3d9bda8b273780a4a81490bbf1b9e9c261",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c42ded3d9bda8b273780a4a81490bbf1b9e9c261"
        }
      ],
      "message": "net: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.\n\n`NET_UNROUTABLE` and `NET_INTERNAL` are no longer ignored when adding\nor removing reachable networks. This was unnecessary.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-05T13:10:34Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T12:30:37Z"
      },
      "sha": "6e308651c441cbf8763c67cc099c538c333c2872"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzYWZhNjgwMjZmZmExMzEzYWU0YWJhMzY2NGRlNzc5MWQyM2IxYzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53afa68026ffa1313ae4aba3664de7791d23b1c8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/53afa68026ffa1313ae4aba3664de7791d23b1c8",
      "tree": {
        "sha": "273b7bbf1d5491e8e219c9946ec35ee2635b8dd0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/273b7bbf1d5491e8e219c9946ec35ee2635b8dd0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 273b7bbf1d5491e8e219c9946ec35ee2635b8dd0\nparent 6e308651c441cbf8763c67cc099c538c333c2872\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779201 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1696511434 +0200\n\nnet: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUetcsACgkQVN8G9ktV\ny7+86B/8C8+xwJbI0HhsECORQHjefX+Rp3ZqUBazj+rR/xVFewtZRAVT3kzHpEec\n/7q5lY8vnsyr8pAqfKlU9mVOMw6ZyEgbSIkIchHN3YoKb3eCY7WCoTEN+9Fw4iCB\n6w6/RmBuyaTtNchUt6ACf3KH8/8lp1pcCI34EszijN/IN4RvHvEmbFDnc3km4YOA\nXVHFP3AQ2ERoeoCVw17JXNhPwsaAJuEL4n9mKIbBp1XrCzGx9b3JWYfAwN0LkMrW\nBQNNdUTJBxrI/TCBOmS7vzgIF6bk3B7h9yhwgM35SS1LESutZHdaMAuaZhkss022\nLlE385sr8kw4L2Z6JFJ+73RJ4R9O/UPdT4rhiF50iUqEBwG9ytymJRTGAPy9NNu6\nY0zy62T1x9g5LIdABlnmIPXLDVg8VdWj95HCkqR7x0LUL26m01dvf80+LLIH76ZG\n+uTFQxr1Pz/tB1+3YwDrlSvgpofhGj5ygDPr9sEcjtyf3YjLc2i0K+cZYezvI8qR\nmFX6yD/Qs0hV3aT40XnkAXgX3usr0ecMd4e3ajRSyNyPXViXVGCigYu06beERypP\nmjCZ3ncd/9QQXC1GiqciLtW9Dk3fL435b9gEq+IAqh+GLHuYHYhlrqdddvtalUZ7\njUA8qZzDbxEeD+2LySYiPET+MS2xUCZumjcuzaqzVhsq2yXnPoJ2eZMzsuY6+9xH\n9omTERnrbIy4QbCZfMoYLYz/NIEosdFn3xA9Krtl3zCIkrD9Ykuh//8ILB31ujFg\n+gZ68fpdYqlsdHZU0FJBblIU380EVXwAZ9MZOiGtbf3S0zQTlVrByum3oDWAGEf5\n5WeoZaQZFuFa4iIFyhoaC89nk46KlrPDW1u/6fEshNWkww1fY5UryEstBcWD3jmw\no5qq890JZqgwpYFHEb6OOEjcW3vzAOFyAawT/I+5UsxzXSwyhBkDzPfPRvbRIKUj\nZiD0+tu42pfGBgtehClizi8lBFzUQygV/6maFrZEkVahwNc3Pblt1ukgaL99+8Ie\niV/u+rEyNjoH/W5WSe7yGpxxMbBln9bN+MGI6R81YrJbVFS4lTzbHYiIdqHetgVh\n9vJGsrQnRAREqvKzPe20umsFVGOw05CC321XcJ8q/yebo4M3OIYQmq8yzo7FefNl\ntRUxerrI326r1hijwrriY/K5EsaP6P5pGUoF3YKo1MO/1+On5sI6h1eKZKXsof4y\n6II1kSNkjlvnrTAlMhetHWVcyxKbLFIqBtzB8PrKpjrBWM2/sW4wrW6yzqBbk1t9\nj9y3sqcHOh3Uz2OWkPuBEjRh/Pe+fxPk5cyDF+oF2Srp2tYz3P7SvFFpwPe/5QFc\nXdC0sL8ve0OvfX3VAaeY/DH9M83/Jw==\n=nuYM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e308651c441cbf8763c67cc099c538c333c2872",
          "sha": "6e308651c441cbf8763c67cc099c538c333c2872",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6e308651c441cbf8763c67cc099c538c333c2872"
        }
      ],
      "message": "net: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-05T13:10:34Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:13:21Z"
      },
      "sha": "53afa68026ffa1313ae4aba3664de7791d23b1c8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10563703328,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAJ1pVIg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10563703328",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T13:15:14Z"
    },
    {
      "event": "commented",
      "id": 1748878503,
      "node_id": "IC_kwDOABII585oPcSn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1748878503",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T13:15:43Z",
      "updated_at": "2023-10-05T13:15:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "`6ff2241e47...2f3f793605`: rebase due to conflicts and address [suggestion](https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1324745126)",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1748878503",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "unlabeled",
      "id": 10564731442,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAJ1tQIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10564731442",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-05T14:31:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "milestoned",
      "id": 10632792785,
      "node_id": "MIE_lADOABII585eJVUczwAAAAJ5w4rR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10632792785",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-12T14:55:57Z",
      "milestone": {
        "title": "26.0"
      }
    },
    {
      "event": "reviewed",
      "id": 1677068515,
      "node_id": "PRR_kwDOABII585j9gjj",
      "url": null,
      "actor": null,
      "commit_id": "2f3f79360594d6e23c00993c2aef9edcfc3f3786",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 2f3f7936\r\n\r\nIn 0994d45 the commit message might be out of date regarding `unbanSelectedNode` after the merge of https://github.com/bitcoin-core/gui/pull/717.\r\n\r\nA couple questions and a [comment](https://github.com/bitcoin/bitcoin/pull/27071/files#r1358608701), feel free to ignore",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1677068515",
      "submitted_at": "2023-10-13T18:06:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "review_requested",
      "id": 10647290726,
      "node_id": "RRE_lADOABII585eJVUczwAAAAJ6oMNm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10647290726",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-13T18:06:48Z",
      "requested_reviewer": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 10647290843,
      "node_id": "RRE_lADOABII585eJVUczwAAAAJ6oMPb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10647290843",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-13T18:06:49Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0ODJjYjc4MGZlMDRjMWYxZDkwNTBlZGQxYjhlNTQ5ZTUyYzg2Y2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9482cb780fe04c1f1d9050edd1b8e549e52c86ce",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9482cb780fe04c1f1d9050edd1b8e549e52c86ce",
      "tree": {
        "sha": "8c537b1b3876b61fac0c462087f46f04ce9dd75d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c537b1b3876b61fac0c462087f46f04ce9dd75d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8c537b1b3876b61fac0c462087f46f04ce9dd75d\nparent 53afa68026ffa1313ae4aba3664de7791d23b1c8\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779417 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1697453869 +0200\n\nnetbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUtF3oACgkQVN8G9ktV\ny7+u5SAAgvCTGiiXQydwNaaAC08EREyLPvHN77ImvnKipODWH9OEj62ponfy+lZP\n6fmHTqN6lE0H1DQIQ96Y3Ygqy1TsIaeWiqzT+86yHWwivWFGYB0LWXeI5isqRkAG\nnlpsnFzelGfnL430liLeIuUxun8QA3uV0hR8rrnTO5ExTHTwx9EungRJ7bLtoiL/\nqGBacwjq3W8HZaRLYD2Ee+4LTFwiXi0/5LO/wJ0Z8iejYDhJruqc/WjKgd0onryD\nUWdSAj/kCb/ig3Xj0JQn9fjfeHkBT7Xb5v9sPum6AipO/M+P1iiYRrqILhY0F77s\nhP6G72EvwlUFdpe0WGfPm4mtVzg9QkAEHoXtImAjZWdednaagcEaZuHC3yGevsrX\nih/JFDRriOr5UIA9gCzlaxvKRjG4U6EGy0OpURMnHHCL/snHLzsxcJF85XGRYmyo\n4MndHbBhRPdcOVFvHcb7q9E7OdSJyJ1fd9f1lj5mYTOcAHPUb139pxUOExMNq7xc\nVkq/Su2jx3qtOq9h+B6WVJQBu7SExBrhuVHykgUAruieOhXr2eqH2HqOsAQr+crO\nSYRcb5NzI0OFReGq+8VnMMz5kXZ+pA9cLe8xlfucXCliDTLb3izghUQmXr764i1/\nAmhuQc4L2utSh2bJKoOaiDYGH4VP6QHXCLbYDnii60jI+fA3mel08yNejwU3FNzN\nlZeA2gX/Yg8YhXTrNBiPMp0lVCcUIcFQADI695KHmBkOin177GuXHv+Kw9Imu8AI\nHUCLzH+gHFPuLinXySndhjCHcc99b/eQakHx1LGxfLSI9Rhs+sRE50xpx7jrdPWJ\n7bhyLiXUQOzNVgZXJqJiRM8i1wTOwrSwisAJ4REPCcONgnucPqRgFNJeM3mh4aTp\nv7Wvt/KYK7nXj5eppGcJYLFp8n+wnCFbidiZRxHQLWY59H2W66/kq+y6nw2kpW9d\ns/mGve1b7wtdECRar9bZOpHSDjmEs6ZnXwbevpylibKCsd+XbRpH038Jg+Qt8oG+\n5xvrwFUvS/9PaNzUigTJr6HZRNbcuB1nthFzLakbe4vofoCnWABwzfeOlgAAsi3e\n9aXHlcwAy3A1GAsOhN6rwr0PVxHwEm6q5L9Kqco9oHT7ReupD4dfre1tqr6krFJX\nyX2SK7gdkGLXYQ/5OwJ8yc0/KVq1ikY5vevBsRsCRAuWcqs/A22EOmJjweJReWEY\ngTEdOAvL3D2fn4U23AqpkzDAjk6ripfB9VjDhSAZPfkWbjh80D9Hh8pD2jZBWPeQ\n/ssbz7pB0h18uE49BtC7eMOffNisS7AeM4/bSEEF3wRq1sbjRmYCAeLbL5wYOgDi\nTeXbErsgxyw0o93NIkABU4cwKMlZqQ==\n=I8zw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53afa68026ffa1313ae4aba3664de7791d23b1c8",
          "sha": "53afa68026ffa1313ae4aba3664de7791d23b1c8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/53afa68026ffa1313ae4aba3664de7791d23b1c8"
        }
      ],
      "message": "netbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-16T10:57:49Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:16:57Z"
      },
      "sha": "9482cb780fe04c1f1d9050edd1b8e549e52c86ce"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBlNmY2ZWJjMDY0YzVmYjQyNWZjMzY5OWVmZTc2MGVjNmNkNGI2YWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "tree": {
        "sha": "45af7b2789a3a5dbe51b8edc51981543252a1bc4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/45af7b2789a3a5dbe51b8edc51981543252a1bc4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 45af7b2789a3a5dbe51b8edc51981543252a1bc4\nparent 9482cb780fe04c1f1d9050edd1b8e549e52c86ce\nauthor Vasil Dimov <vd@FreeBSD.org> 1675783171 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1697453987 +0200\n\nnet: remove unused CConnman::FindNode(const CSubNet&)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmUtF6QACgkQVN8G9ktV\ny7/Lzh/+KCGmVSODFxw2VlJyAJPCxzO0GRoQgAGCwAzoUlPC8oUULUqBMQ/DUoy9\nx+Uc3zmoH0uFaDKrcbsKSEkwIhR2whXtVLBn0Cugs8XR8kmixE5XfYbIoiTEoY8t\nNjWadtGg62fbUxObwtfLGAnpzrilNVRYUxV/exkyuiWf8tIN/U4CJePcrb5uk1Ah\nq1v+zmNOzuW1VlBK3enh+DnRoE5XLU+g+csEb5n9Z8MjJULQk2aOz9lCtRK4u/vt\nsBzxhtxL4qe4YDUGmQ83iT16CMwXaqByxBtnawZtWJDsoknDvw3FNn1ekkdvLYA1\n47+8qoCHeCzurjs/dcORDzGhCOIw/RwAVp9sz/kB27WE592aQBnUeCSHQFnRt8Km\nSjSokCX3dOPJWK/Bk67dj8hP0+Stac7LxybGKdV9cgVro1WKdr+hX2Q6cryx2J2E\nAb3fTabLggKt3SJLc3pZ7Rv0j0cINv+D6PKPFqUJl7EVe7YGFD5mLMsccooDBbg/\n++267mz4qagpXEbclCmcPHjvXSSlFJ07rtFxjLRWA598x6NuNzanXaSI69RD+u9C\n6aeulBmvCs+gt3T4UL31tTnAwCFQMMJNSMfRNRV4QEOXBwjIAWKhs8kvzr8VfyrQ\nXegjJ8qMfFxFEixqT2aAd92edx2irpXXraWdWHJGHrTOQG2765WJFbmMgQHDPqpu\n3j/JIFlbRAoRAWxZTkXU/J+976mj7WUJye/rJ1oOzOpnDdoF2O4d5F/syGm5No2L\n793YeGgAK6lC/n8QbOupF4YhOPHQAlwgtiyfZejynZ3K7jpd5pGFS7oL0Jj7u4YJ\nGrLEeQ5UfK/Fn5P3KAdK0r86tSyVBi7vqcUXJqo17I5cB9zRH4zvyrsb18X8Sk/D\nU4oaOJMO05bgnZVrh2fpHK5ig9wPPcMHKehdKyBjPg+PgEDrut46sxmTE9s8HUcz\nHKu/mFG91JCCwufPqQsILoxUtDBcfJ7DN8/+UJyEPN0X7HAjU6YjIPUodJ+Vo2T2\nbquAX31Qsqo/jdGsBeHyI2NziGL/MA/5oE+Hx2SiuU1RTAlJpw3JUXM7s4zUZqa4\nuNl4IARf2JPpiKRX//qAFT5eShpFvS5j3L9hIIuHkUwf16ZXvM+msEFE2raxvIUi\nk3V75ZBfwVBu0ZgspT8Hz+NGJ6Tf8ydRRuSABaDI0QynvlUveEkhLVcgiDu3AYzx\no1gJ7ksh7If4KMyoUNNr9UV8Iw2gRMrdVv3vnHA65JR9HmqfmB1RmHhKg7VMpV4u\nshFwyRr/rc+zhs9+64EmTAM3gfpNLjnNe64UAjq3StrmgB5fBJmLph3uG6/mUJVj\nMN7SLA4KEL7RYuJY/9Ld8Oyqi9pgLg==\n=hj9E\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9482cb780fe04c1f1d9050edd1b8e549e52c86ce",
          "sha": "9482cb780fe04c1f1d9050edd1b8e549e52c86ce",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9482cb780fe04c1f1d9050edd1b8e549e52c86ce"
        }
      ],
      "message": "net: remove unused CConnman::FindNode(const CSubNet&)",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-10-16T10:59:47Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T15:19:31Z"
      },
      "sha": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10663752919,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAJ7m_TX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10663752919",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T11:00:59Z"
    },
    {
      "event": "commented",
      "id": 1764227938,
      "node_id": "IC_kwDOABII585pJ_ti",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1764227938",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T11:01:21Z",
      "updated_at": "2023-10-16T11:02:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "`2f3f793605...0e6f6ebc06`: address suggestions, thanks!\r\n\r\n> In https://github.com/bitcoin/bitcoin/commit/0994d4573b53b2763cba83d057b38f221486a983 the commit message might be out of date...\r\n\r\nUpdated!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1764227938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "labeled",
      "id": 10664747755,
      "node_id": "LE_lADOABII585eJVUczwAAAAJ7qyLr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10664747755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T12:33:21Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10668257239,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAJ74K_X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10668257239",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T16:59:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1680739374,
      "node_id": "PRR_kwDOABII585kLgwu",
      "url": null,
      "actor": null,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af\r\n\r\nonly rebase / minor changes since last ACK",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1680739374",
      "submitted_at": "2023-10-16T18:38:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "review_requested",
      "id": 10669338306,
      "node_id": "RRE_lADOABII585eJVUczwAAAAJ78S7C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10669338306",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T18:38:58Z",
      "requested_reviewer": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1765091098,
      "node_id": "IC_kwDOABII585pNSca",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1765091098",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T18:50:52Z",
      "updated_at": "2023-10-16T18:50:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1765091098",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "review_request_removed",
      "id": 10669459542,
      "node_id": "RRRE_lADOABII585eJVUczwAAAAJ78whW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10669459542",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T18:50:57Z",
      "requested_reviewer": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1771363317,
      "node_id": "IC_kwDOABII585plNv1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1771363317",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-19T16:46:58Z",
      "updated_at": "2023-10-19T16:46:58Z",
      "author_association": "MEMBER",
      "body": "ACK 0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1771363317",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "merged",
      "id": 10714703959,
      "node_id": "ME_lADOABII585eJVUczwAAAAJ-pWhX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10714703959",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0655e9dd92ea4a86d3e76d5689d59a71cff61357",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0655e9dd92ea4a86d3e76d5689d59a71cff61357",
      "created_at": "2023-10-19T16:49:02Z"
    },
    {
      "event": "closed",
      "id": 10714704005,
      "node_id": "CE_lADOABII585eJVUczwAAAAJ-pWiF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10714704005",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-19T16:49:02Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367",
      "pull_request_review_id": 1294785408,
      "id": 1103877367,
      "node_id": "PRRC_kwDOABII585By9T3",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this need a Mutex, considering it's being accessed from both Node and GUI?",
      "created_at": "2023-02-12T21:18:01Z",
      "updated_at": "2023-02-13T15:51:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1103877367",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668",
      "pull_request_review_id": 1294785408,
      "id": 1104641668,
      "node_id": "PRRC_kwDOABII585B136E",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now that `MaybeFlipIPv6toCJDNS` is available in `netbase`, would it make sense (maybe in follow-ups) to also use it in the `Lookup()` functions, not just `LookupSubNet`) and reduce the number of occurrences we have to call `MaybeFlipIPv6toCJDNS` from outside it?",
      "created_at": "2023-02-13T15:38:11Z",
      "updated_at": "2023-02-13T15:51:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104641668",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968",
      "pull_request_review_id": 1296108363,
      "id": 1104785968,
      "node_id": "PRRC_kwDOABII585B2bIw",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": 1103877367,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It has inside, `ReachableNets::m_mutex`.",
      "created_at": "2023-02-13T17:12:47Z",
      "updated_at": "2023-02-13T17:12:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104785968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546",
      "pull_request_review_id": 1296128737,
      "id": 1104803546,
      "node_id": "PRRC_kwDOABII585B2fba",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In d9b95cb1eedb9f165df93dcae0aba96ede40767a, I could check that all CJDNS address starts with [OxFC](https://github.com/cjdelisle/cjdns/blob/master/doc/Whitepaper.md#pulling-it-all-together), so, it switches the first byte to `0x55` to avoid generating it that look like CJDNS. But why specifically `0x55`?",
      "created_at": "2023-02-13T17:25:14Z",
      "updated_at": "2023-02-13T17:25:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104803546",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263",
      "pull_request_review_id": 1296130709,
      "id": 1104805263,
      "node_id": "PRRC_kwDOABII585B2f2P",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n            const bool reachable{g_reachable_nets.Contains(addr)};\r\n```",
      "created_at": "2023-02-13T17:26:28Z",
      "updated_at": "2023-02-13T17:26:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104805263",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123",
      "pull_request_review_id": 1296173130,
      "id": 1104836123,
      "node_id": "PRRC_kwDOABII585B2nYb",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": 1104641668,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, well. I feel like `MaybeFlipIPv6toCJDNS()` is warranted in some of the lower level `Lookup*()` functions. But they are called from so many places, the change would be very invasive. I have to gather some bravery in order to look into that. If that is to be done, maybe it should be preceded by some simplification of the `Lookup*()` family of functions. I get a headache every time I have to deal with:\r\n\r\n```cpp\r\nbool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nCService LookupNumeric(const std::string& name, uint16_t portDefault = 0, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function);\r\n```",
      "created_at": "2023-02-13T17:53:16Z",
      "updated_at": "2023-02-13T17:53:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104836123",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420",
      "pull_request_review_id": 1297697029,
      "id": 1105886420,
      "node_id": "PRRC_kwDOABII585B6nzU",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": 1104805263,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-14T14:19:38Z",
      "updated_at": "2023-02-14T14:19:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105886420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566",
      "pull_request_review_id": 1297698826,
      "id": 1105887566,
      "node_id": "PRRC_kwDOABII585B6oFO",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no reason for 0x55 specifically. I added a comment to clarify:\r\n\r\n`// Just an arbitrary number, anything != 0xFC would do.`",
      "created_at": "2023-02-14T14:20:31Z",
      "updated_at": "2023-02-14T14:20:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105887566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939",
      "pull_request_review_id": 1297987720,
      "id": 1106079939,
      "node_id": "PRRC_kwDOABII585B7XDD",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Got it, thank you!",
      "created_at": "2023-02-14T16:41:35Z",
      "updated_at": "2023-02-14T16:41:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106079939",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822",
      "pull_request_review_id": 1298409472,
      "id": 1106360822,
      "node_id": "PRRC_kwDOABII585B8bn2",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, while touching this it may be good to add the missing brackets to `if (net == NET_UNROUTABLE)`, feel free to ignore",
      "created_at": "2023-02-14T20:54:32Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106360822",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1313,
      "original_line": 1313,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444",
      "pull_request_review_id": 1298409472,
      "id": 1106373444,
      "node_id": "PRRC_kwDOABII585B8etE",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, it may be nice to hoist `0xfc` used here and in `src/test/fuzz/util/net.cpp#L40-41` to a constexpr/constant, as grepping the codebase for it returns many unrelated false positives.",
      "created_at": "2023-02-14T21:04:20Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106373444",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231",
      "pull_request_review_id": 1298409472,
      "id": 1106375231,
      "node_id": "PRRC_kwDOABII585B8fI_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc\r\n\r\nAdd `AssertLockNotHeld(m_mutex);` to the `RemoveAll()` and to both of the `Contains()` class methods?\r\n\r\nPerhaps also add `[[nodiscard]]` to the latter two declarations.",
      "created_at": "2023-02-14T21:05:54Z",
      "updated_at": "2023-02-14T21:35:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106375231",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226",
      "pull_request_review_id": 1298409472,
      "id": 1106381226,
      "node_id": "PRRC_kwDOABII585B8gmq",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 61,
      "original_position": 62,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc As BIP155 networks are added or removed over time, `m_reachable` could go out of sync with `enum Network` in `netaddress.h` ... perhaps construct it programmatically  from `enum Network` (now or in a follow-up)?",
      "created_at": "2023-02-14T21:10:13Z",
      "updated_at": "2023-02-15T00:52:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106381226",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761",
      "pull_request_review_id": 1299941186,
      "id": 1107408761,
      "node_id": "PRRC_kwDOABII585CAbd5",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106360822,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ignoring to minimize the size of the diff.",
      "created_at": "2023-02-15T17:06:28Z",
      "updated_at": "2023-02-15T17:06:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107408761",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1313,
      "original_line": 1313,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772",
      "pull_request_review_id": 1299943272,
      "id": 1107409772,
      "node_id": "PRRC_kwDOABII585CAbts",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106373444,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-15T17:07:22Z",
      "updated_at": "2023-02-15T17:07:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107409772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252",
      "pull_request_review_id": 1299963130,
      "id": 1107422252,
      "node_id": "PRRC_kwDOABII585CAews",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added `[[nodiscard]]` and one `AssertLockNotHeld()` where it is not immediately followed by `LOCK()`. I do not see the point in:\r\n\r\n```cpp\r\nAssertLockNotHeld(m); // the point of this is to crash if m is held\r\nLOCK(m); // but this will crash if m is held, so what is the point?\r\n```\r\n\r\nIf it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`, then `AssertLockNotHeld()` should be put inside `LOCK()`.\r\n\r\nThis is another story:\r\n\r\n```cpp\r\nAssertLockNotHeld(m);\r\nif (x) {\r\n    LOCK(m);\r\n    ...\r\n}\r\n```\r\n\r\nbecause if it gets executed with `x == false` and `AssertLockNotHeld()` is missing then it will not catch the problem (by crashing).",
      "created_at": "2023-02-15T17:13:42Z",
      "updated_at": "2023-02-15T17:13:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107422252",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391",
      "pull_request_review_id": 1300064718,
      "id": 1107491391,
      "node_id": "PRRC_kwDOABII585CAvo_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> LOCK(m); // but this will crash if m is held, so what is the point?\r\n\r\nAh, I see that double lock detection at runtime was added by you in 95975dd08d8f.\r\n\r\n```diff\r\n+++ b/src/netbase.h\r\n@@ -73,6 +73,7 @@ public:\r\n     void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\r\n     {\r\n         AssertLockNotHeld(m_mutex);\r\n+        LOCK(m_mutex);\r\n         if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\r\n             LOCK(m_mutex);\r\n```\r\n```\r\n2023-02-15T17:48:41Z SetNetworkActive: true\r\n2023-02-15T17:48:41Z DOUBLE LOCK DETECTED\r\n2023-02-15T17:48:41Z Lock order:\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:76 (in thread 'init')\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:78 (in thread 'init')\r\nAssertion failed: detected double lock for 'm_mutex' in netbase.h:78 (in thread 'init'), details in debug log.\r\n```\r\n",
      "created_at": "2023-02-15T17:53:06Z",
      "updated_at": "2023-02-15T17:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107491391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114",
      "pull_request_review_id": 1300080160,
      "id": 1107505114,
      "node_id": "PRRC_kwDOABII585CAy_a",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> If it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`\r\n\r\nI think the general idea is to have a runtime lock assertion corresponding to every thread safety annotation, where it makes sense (cf the developer notes).",
      "created_at": "2023-02-15T18:02:42Z",
      "updated_at": "2023-02-15T18:02:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107505114",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322",
      "pull_request_review_id": 1300143653,
      "id": 1107561322,
      "node_id": "PRRC_kwDOABII585CBAtq",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e1910f6743d73a extra newline at EOF\r\n\r\nUnrelated, would it be worth avoiding a `CService` copy in the most frequent case? (maybe returning `std::optional<CService>` if flipped to CJDNS could be a good idea too)\r\n\r\n```diff\r\n CService MaybeFlipIPv6toCJDNS(const CService& service)\r\n {\r\n+    if (service.m_net != NET_IPV6 || service.m_addr[0] != CJDNS_PREFIX || !g_reachable_nets.Contains(NET_CJDNS)) return service;\r\n     CService ret{service};\r\n-    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\r\n-        ret.m_net = NET_CJDNS;\r\n-    }\r\n+    ret.m_net = NET_CJDNS;\r\n     return ret;\r\n }\r\n-\r\n```\r\n",
      "created_at": "2023-02-15T18:46:25Z",
      "updated_at": "2023-02-16T17:19:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107561322",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412",
      "pull_request_review_id": 1300980766,
      "id": 1108164412,
      "node_id": "PRRC_kwDOABII585CDT88",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The double lock detection inside `LOCK()` is only if `DEBUG_LOCKORDER` is defined.\r\nEdit: and `AssertLockNotHeld()` is also only being done if `DEBUG_LOCKORDER` is defined.",
      "created_at": "2023-02-16T08:38:09Z",
      "updated_at": "2023-02-16T13:39:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1108164412",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265",
      "pull_request_review_id": 1303161230,
      "id": 1109626265,
      "node_id": "PRRC_kwDOABII585CI42Z",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Opened https://github.com/bitcoin/bitcoin/pull/27116 to amend the docs.",
      "created_at": "2023-02-17T10:55:49Z",
      "updated_at": "2023-02-17T10:55:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1109626265",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548",
      "pull_request_review_id": 1313734861,
      "id": 1117187548,
      "node_id": "PRRC_kwDOABII585Clu3c",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tested this and there is one copy in either case. I guess the compiler is smart enough to avoid unnecessary copies.",
      "created_at": "2023-02-24T15:28:50Z",
      "updated_at": "2023-02-24T15:28:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1117187548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568",
      "pull_request_review_id": 1315514513,
      "id": 1118693568,
      "node_id": "PRRC_kwDOABII585CrejA",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also ran both variants in nanobench and there is no difference.",
      "created_at": "2023-02-27T12:49:13Z",
      "updated_at": "2023-02-27T12:49:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1118693568",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249523602",
      "pull_request_review_id": 1509591091,
      "id": 1249523602,
      "node_id": "PRRC_kwDOABII585KejeS",
      "diff_hunk": "@@ -64,6 +65,63 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();",
      "path": "src/netbase.h",
      "position": 35,
      "original_position": 38,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": null,
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will remove `NET_UNROUTABLE ` and `NET_INTERNAL`, after which they cannot be re-added. Is that intentional (the function name implies it is intentional)? I ask because the other accessors guard against their removal and insertion.",
      "created_at": "2023-07-02T13:21:29Z",
      "updated_at": "2023-07-02T13:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1249523602",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249523602"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 91,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249529700",
      "pull_request_review_id": 1509591091,
      "id": 1249529700,
      "node_id": "PRRC_kwDOABII585Kek9k",
      "diff_hunk": "@@ -720,47 +720,47 @@ BOOST_AUTO_TEST_CASE(get_local_addr_for_peer_port)\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_Network)\n {\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, false);\n-    SetReachable(NET_IPV6, false);\n-    SetReachable(NET_ONION, false);\n-    SetReachable(NET_I2P, false);\n-    SetReachable(NET_CJDNS, false);\n-\n-    BOOST_CHECK(!IsReachable(NET_IPV4));\n-    BOOST_CHECK(!IsReachable(NET_IPV6));\n-    BOOST_CHECK(!IsReachable(NET_ONION));\n-    BOOST_CHECK(!IsReachable(NET_I2P));\n-    BOOST_CHECK(!IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, true);\n-    SetReachable(NET_IPV6, true);\n-    SetReachable(NET_ONION, true);\n-    SetReachable(NET_I2P, true);\n-    SetReachable(NET_CJDNS, true);\n-\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Remove(NET_IPV4);\n+    g_reachable_nets.Remove(NET_IPV6);\n+    g_reachable_nets.Remove(NET_ONION);\n+    g_reachable_nets.Remove(NET_I2P);\n+    g_reachable_nets.Remove(NET_CJDNS);\n+\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);\n+\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n }\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_NetworkCaseUnroutableAndInternal)\n {\n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE));\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_INTERNAL));\n \n-    SetReachable(NET_UNROUTABLE, false);\n-    SetReachable(NET_INTERNAL, false);\n+    g_reachable_nets.Remove(NET_UNROUTABLE);\n+    g_reachable_nets.Remove(NET_INTERNAL);",
      "path": "src/test/net_tests.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": null,
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps add test cases for `RemoveAll` as it relates to these two.",
      "created_at": "2023-07-02T13:33:19Z",
      "updated_at": "2023-07-02T13:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1249529700",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249529700"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 760,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294456468",
      "pull_request_review_id": 1578351968,
      "id": 1294456468,
      "node_id": "PRRC_kwDOABII585NJ9aU",
      "diff_hunk": "@@ -64,6 +65,63 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();",
      "path": "src/netbase.h",
      "position": 35,
      "original_position": 38,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": 1249523602,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good question. Yes, it should be like this to preserve the behavior from `master` wrt which networks are reachable if `-onlynet` is used. The relevant snippet from this PR:\r\n\r\n```diff\r\n     if (args.IsArgSet(\"-onlynet\")) {\r\n-        std::set<enum Network> nets;\r\n+        g_reachable_nets.RemoveAll();\r\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\r\n             enum Network net = ParseNetwork(snet);\r\n             if (net == NET_UNROUTABLE)\r\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\r\n-            nets.insert(net);\r\n-        }\r\n-        for (int n = 0; n < NET_MAX; n++) {\r\n-            enum Network net = (enum Network)n;\r\n-            assert(IsReachable(net));\r\n-            if (!nets.count(net))\r\n-                SetReachable(net, false);\r\n+            g_reachable_nets.Add(net);\r\n         }\r\n     }\r\n```\r\n\r\nBy default all networks are reachable (in `master` and in this PR), including the dummy `NET_UNROUTABLE` and `NET_INTERNAL`. If `-onlynet=X` is used (where `X` can be `ipv4`, `ipv6`, `tor`, `i2p`, `cjdns`) then just `X` is made reachable and others unreachable (`NET_UNROUTABLE` and `NET_INTERNAL` also become unreachable).\r\n\r\nAs for the `Add()` and `Remove()` methods - I wanted to preserve the behavior of the old `SetReachable()`:\r\n\r\n```diff\r\n-void SetReachable(enum Network net, bool reachable)\r\n-{\r\n-    if (net == NET_UNROUTABLE || net == NET_INTERNAL)\r\n-        return;\r\n```\r\n\r\nbut no caller is ever calling `SetReachable()` with `NET_UNROUTABLE` or `NET_INTERNAL`, so I have removed those checks from the new `Add()` and `Remove()` methods.\r\n\r\nThanks!",
      "created_at": "2023-08-15T11:04:42Z",
      "updated_at": "2023-08-15T11:04:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1294456468",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294456468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 91,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294456676",
      "pull_request_review_id": 1578352284,
      "id": 1294456676,
      "node_id": "PRRC_kwDOABII585NJ9dk",
      "diff_hunk": "@@ -720,47 +720,47 @@ BOOST_AUTO_TEST_CASE(get_local_addr_for_peer_port)\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_Network)\n {\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, false);\n-    SetReachable(NET_IPV6, false);\n-    SetReachable(NET_ONION, false);\n-    SetReachable(NET_I2P, false);\n-    SetReachable(NET_CJDNS, false);\n-\n-    BOOST_CHECK(!IsReachable(NET_IPV4));\n-    BOOST_CHECK(!IsReachable(NET_IPV6));\n-    BOOST_CHECK(!IsReachable(NET_ONION));\n-    BOOST_CHECK(!IsReachable(NET_I2P));\n-    BOOST_CHECK(!IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, true);\n-    SetReachable(NET_IPV6, true);\n-    SetReachable(NET_ONION, true);\n-    SetReachable(NET_I2P, true);\n-    SetReachable(NET_CJDNS, true);\n-\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Remove(NET_IPV4);\n+    g_reachable_nets.Remove(NET_IPV6);\n+    g_reachable_nets.Remove(NET_ONION);\n+    g_reachable_nets.Remove(NET_I2P);\n+    g_reachable_nets.Remove(NET_CJDNS);\n+\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);\n+\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n }\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_NetworkCaseUnroutableAndInternal)\n {\n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE));\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_INTERNAL));\n \n-    SetReachable(NET_UNROUTABLE, false);\n-    SetReachable(NET_INTERNAL, false);\n+    g_reachable_nets.Remove(NET_UNROUTABLE);\n+    g_reachable_nets.Remove(NET_INTERNAL);",
      "path": "src/test/net_tests.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": 1249529700,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, thanks for the suggestion!",
      "created_at": "2023-08-15T11:05:00Z",
      "updated_at": "2023-08-15T11:05:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1294456676",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294456676"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 760,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294501734",
      "pull_request_review_id": 1578420724,
      "id": 1294501734,
      "node_id": "PRRC_kwDOABII585NKIdm",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 61,
      "original_position": 62,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106381226,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no built in construct in the language to do that and I do not like `NET_MAX` which I perceive as a hack.",
      "created_at": "2023-08-15T11:58:50Z",
      "updated_at": "2023-08-15T11:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1294501734",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294501734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294503814",
      "pull_request_review_id": 1578422698,
      "id": 1294503814,
      "node_id": "PRRC_kwDOABII585NKI-G",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 46,
      "original_position": 48,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since https://github.com/bitcoin/bitcoin/pull/27116 is stalled I have added `AssertLockNotHeld()`, e.g.:\r\n\r\n```cpp\r\n        AssertLockNotHeld(m_mutex);\r\n        LOCK(m_mutex);\r\n        m_reachable.insert(net);\r\n```",
      "created_at": "2023-08-15T12:00:41Z",
      "updated_at": "2023-08-15T12:00:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1294503814",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294503814"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1305800610",
      "pull_request_review_id": 1595950768,
      "id": 1305800610,
      "node_id": "PRRC_kwDOABII585N1O-i",
      "diff_hunk": "@@ -325,25 +324,6 @@ void RemoveLocal(const CService& addr)\n     mapLocalHost.erase(addr);\n }\n \n-void SetReachable(enum Network net, bool reachable)\n-{\n-    if (net == NET_UNROUTABLE || net == NET_INTERNAL)",
      "path": "src/net.cpp",
      "position": 55,
      "original_position": 41,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "f935a5fd971884d95e52d8c165a7afbdeb302905",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not having this in `ReachableNets` means that `SetReachable` will no longer be ignored for these two networks, which is a small change in behavior (at least in theory, it seeems impossible that this function would be called with NET_UNROUTABLE or NET_INTERNAL outside of tests). That seems fine to me, but it could be mentioned in the commit message. \r\n[Edit]: Now I see this has been discussed [above](https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1294456468). Could still be mentioned in the commit message.",
      "created_at": "2023-08-25T15:20:37Z",
      "updated_at": "2023-08-25T17:58:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1305800610",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1305800610"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 332,
      "original_line": 332,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307541688",
      "pull_request_review_id": 1598478596,
      "id": 1307541688,
      "node_id": "PRRC_kwDOABII585N74C4",
      "diff_hunk": "@@ -325,25 +324,6 @@ void RemoveLocal(const CService& addr)\n     mapLocalHost.erase(addr);\n }\n \n-void SetReachable(enum Network net, bool reachable)\n-{\n-    if (net == NET_UNROUTABLE || net == NET_INTERNAL)",
      "path": "src/net.cpp",
      "position": 55,
      "original_position": 41,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "f935a5fd971884d95e52d8c165a7afbdeb302905",
      "in_reply_to_id": 1305800610,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-08-28T14:58:18Z",
      "updated_at": "2023-08-28T14:58:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1307541688",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307541688"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 332,
      "original_line": 332,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1324745126",
      "pull_request_review_id": 1624923302,
      "id": 1324745126,
      "node_id": "PRRC_kwDOABII585O9gGm",
      "diff_hunk": "@@ -720,47 +720,53 @@ BOOST_AUTO_TEST_CASE(get_local_addr_for_peer_port)\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_Network)\n {\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, false);\n-    SetReachable(NET_IPV6, false);\n-    SetReachable(NET_ONION, false);\n-    SetReachable(NET_I2P, false);\n-    SetReachable(NET_CJDNS, false);\n-\n-    BOOST_CHECK(!IsReachable(NET_IPV4));\n-    BOOST_CHECK(!IsReachable(NET_IPV6));\n-    BOOST_CHECK(!IsReachable(NET_ONION));\n-    BOOST_CHECK(!IsReachable(NET_I2P));\n-    BOOST_CHECK(!IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, true);\n-    SetReachable(NET_IPV6, true);\n-    SetReachable(NET_ONION, true);\n-    SetReachable(NET_I2P, true);\n-    SetReachable(NET_CJDNS, true);\n-\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Remove(NET_IPV4);\n+    g_reachable_nets.Remove(NET_IPV6);\n+    g_reachable_nets.Remove(NET_ONION);\n+    g_reachable_nets.Remove(NET_I2P);\n+    g_reachable_nets.Remove(NET_CJDNS);\n+\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);\n+\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n }\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_NetworkCaseUnroutableAndInternal)\n {\n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE));\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    // Should be reachable by default.\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_INTERNAL));\n \n-    SetReachable(NET_UNROUTABLE, false);\n-    SetReachable(NET_INTERNAL, false);\n+    g_reachable_nets.RemoveAll();\n \n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE)); // Ignored for both networks\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_INTERNAL));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);",
      "path": "src/test/net_tests.cpp",
      "position": 87,
      "original_position": 85,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "692aa7ed246b7175fc4579281f5c79460a96bdea",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now we could add `NET_UNROUTABLE` and `NET_INTERNAL` back at the end (so that this unit test doesn't change global state).",
      "created_at": "2023-09-13T16:00:51Z",
      "updated_at": "2023-09-13T20:47:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1324745126",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1324745126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 767,
      "original_line": 767,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347405388",
      "pull_request_review_id": 1659839245,
      "id": 1347405388,
      "node_id": "PRRC_kwDOABII585QT8ZM",
      "diff_hunk": "@@ -720,47 +720,53 @@ BOOST_AUTO_TEST_CASE(get_local_addr_for_peer_port)\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_Network)\n {\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, false);\n-    SetReachable(NET_IPV6, false);\n-    SetReachable(NET_ONION, false);\n-    SetReachable(NET_I2P, false);\n-    SetReachable(NET_CJDNS, false);\n-\n-    BOOST_CHECK(!IsReachable(NET_IPV4));\n-    BOOST_CHECK(!IsReachable(NET_IPV6));\n-    BOOST_CHECK(!IsReachable(NET_ONION));\n-    BOOST_CHECK(!IsReachable(NET_I2P));\n-    BOOST_CHECK(!IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, true);\n-    SetReachable(NET_IPV6, true);\n-    SetReachable(NET_ONION, true);\n-    SetReachable(NET_I2P, true);\n-    SetReachable(NET_CJDNS, true);\n-\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Remove(NET_IPV4);\n+    g_reachable_nets.Remove(NET_IPV6);\n+    g_reachable_nets.Remove(NET_ONION);\n+    g_reachable_nets.Remove(NET_I2P);\n+    g_reachable_nets.Remove(NET_CJDNS);\n+\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);\n+\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n }\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_NetworkCaseUnroutableAndInternal)\n {\n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE));\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    // Should be reachable by default.\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_INTERNAL));\n \n-    SetReachable(NET_UNROUTABLE, false);\n-    SetReachable(NET_INTERNAL, false);\n+    g_reachable_nets.RemoveAll();\n \n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE)); // Ignored for both networks\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_INTERNAL));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);",
      "path": "src/test/net_tests.cpp",
      "position": 87,
      "original_position": 85,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "692aa7ed246b7175fc4579281f5c79460a96bdea",
      "in_reply_to_id": 1324745126,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, thanks!",
      "created_at": "2023-10-05T13:16:18Z",
      "updated_at": "2023-10-05T13:16:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1347405388",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347405388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 767,
      "original_line": 767,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358608701",
      "pull_request_review_id": 1677025227,
      "id": 1358608701,
      "node_id": "PRRC_kwDOABII585Q-rk9",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 61,
      "original_position": 62,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106381226,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I agree with you about `NET_MAX` but using it to populate `m_reachable` may still be preferable to having a silent dependency where we need to keep `ReachableNets::m_reachable` in `netbase.h` manually in sync with the `Network` enumerators in `netaddress.h`.  If you prefer the latter approach, perhaps comment next to `ReachableNets::m_reachable` that it needs to be kept in sync.",
      "created_at": "2023-10-13T17:44:39Z",
      "updated_at": "2023-10-13T17:44:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1358608701",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358608701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358640537",
      "pull_request_review_id": 1677068515,
      "id": 1358640537,
      "node_id": "PRRC_kwDOABII585Q-zWZ",
      "diff_hunk": "@@ -730,7 +730,7 @@ static RPCHelpMan setban()\n     if (!isSubnet) {\n         const std::optional<CNetAddr> addr{LookupHost(request.params[0].get_str(), false)};\n         if (addr.has_value()) {\n-            netAddr = addr.value();\n+            netAddr = MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0});",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "2f3f79360594d6e23c00993c2aef9edcfc3f3786",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "0994d45 unsure, would it be clearer to be explicit about this conversion?\r\n```suggestion\r\n            netAddr = static_cast<CNetAddr>(MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0}));\r\n```",
      "created_at": "2023-10-13T18:03:18Z",
      "updated_at": "2023-10-13T18:06:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1358640537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358640537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358640837",
      "pull_request_review_id": 1677068515,
      "id": 1358640837,
      "node_id": "PRRC_kwDOABII585Q-zbF",
      "diff_hunk": "@@ -651,9 +653,10 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n \n     const size_t slash_pos{subnet_str.find_last_of('/')};\n     const std::string str_addr{subnet_str.substr(0, slash_pos)};\n-    const std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\n+    std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\n \n     if (addr.has_value()) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "2f3f79360594d6e23c00993c2aef9edcfc3f3786",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "0994d45 unsure, would it be clearer to be explicit about this conversion?\r\n\r\n```suggestion\r\n        addr = static_cast<CNetAddr>(MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0}));\r\n```",
      "created_at": "2023-10-13T18:03:40Z",
      "updated_at": "2023-10-13T18:06:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1358640837",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1358640837"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 659,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360441554",
      "pull_request_review_id": 1679622332,
      "id": 1360441554,
      "node_id": "PRRC_kwDOABII585RFrDS",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 61,
      "original_position": 62,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106381226,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What about something like the following as a followup, aiming to workaround the limitation in C++ in general:\r\n\r\n<details>\r\n<summary>C++ enum + a way to list all values + ToString() method, encapsulated</summary>\r\n\r\n```cpp\r\nnamespace Nets\r\n{\r\n    enum Net : uint8_t {\r\n        UNROUTABLE,\r\n        IPV4,\r\n        IPV6,\r\n        ONION,\r\n        I2P,\r\n        CJDNS,\r\n        INTERNAL\r\n    };\r\n\r\n    static constexpr std::array<Net, 7> all{UNROUTABLE, IPV4, IPV6, ONION, I2P, CJDNS, INTERNAL};\r\n\r\n    std::string ToString(Net net)\r\n    {\r\n        switch (net) {\r\n        case UNROUTABLE: return \"UNROUTABLE\";\r\n        case IPV4: return \"IPV4\";\r\n        case IPV6: return \"IPV6\";\r\n        case ONION: return \"ONION\";\r\n        case I2P: return \"I2P\";\r\n        case CJDNS: return \"CJDNS\";\r\n        case INTERNAL: return \"INTERNAL\";\r\n        }\r\n    }\r\n};\r\n\r\n...\r\n\r\nprintf(\"IPV6 = %d\\n\", Nets::IPV6);\r\n\r\nfor (const auto& net: Nets::all) {\r\n    std::cout << Nets::ToString(net) << std::endl;\r\n}\r\n```\r\n</details>",
      "created_at": "2023-10-16T10:16:37Z",
      "updated_at": "2023-10-16T10:16:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1360441554",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360441554"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360488037",
      "pull_request_review_id": 1679697532,
      "id": 1360488037,
      "node_id": "PRRC_kwDOABII585RF2Zl",
      "diff_hunk": "@@ -730,7 +730,7 @@ static RPCHelpMan setban()\n     if (!isSubnet) {\n         const std::optional<CNetAddr> addr{LookupHost(request.params[0].get_str(), false)};\n         if (addr.has_value()) {\n-            netAddr = addr.value();\n+            netAddr = MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0});",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "2f3f79360594d6e23c00993c2aef9edcfc3f3786",
      "in_reply_to_id": 1358640537,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-10-16T11:01:32Z",
      "updated_at": "2023-10-16T11:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1360488037",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360488037"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360488155",
      "pull_request_review_id": 1679697732,
      "id": 1360488155,
      "node_id": "PRRC_kwDOABII585RF2bb",
      "diff_hunk": "@@ -651,9 +653,10 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n \n     const size_t slash_pos{subnet_str.find_last_of('/')};\n     const std::string str_addr{subnet_str.substr(0, slash_pos)};\n-    const std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\n+    std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\n \n     if (addr.has_value()) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr.value(), /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "2f3f79360594d6e23c00993c2aef9edcfc3f3786",
      "in_reply_to_id": 1358640837,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-10-16T11:01:39Z",
      "updated_at": "2023-10-16T11:01:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1360488155",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1360488155"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 659,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1361135092",
      "pull_request_review_id": 1680745388,
      "id": 1361135092,
      "node_id": "PRRC_kwDOABII585RIUX0",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 61,
      "original_position": 62,
      "commit_id": "0e6f6ebc064c5fb425fc3699efe760ec6cd4b6af",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106381226,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd review it.",
      "created_at": "2023-10-16T18:43:04Z",
      "updated_at": "2023-10-16T18:43:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1361135092",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1361135092"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 117,
      "original_line": 117,
      "side": "RIGHT"
    }
  ]
}